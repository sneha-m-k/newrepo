
/* /web/static/src/js/services/session.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.session',function(require){"use strict";var Session=require('web.Session');var modules=odoo._modules;var session=new Session(undefined,undefined,{modules:modules,use_cors:false});session.is_bound=session.session_bind();return session;});;

/* /web/static/src/js/public/public_env.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define("web.public_env",function(require){"use strict";const commonEnv=require("web.commonEnv");return commonEnv;});;

/* /web/static/src/js/public/public_crash_manager.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.PublicCrashManager',function(require){"use strict";const core=require('web.core');const CrashManager=require('web.CrashManager').CrashManager;const PublicCrashManager=CrashManager.extend({_displayWarning(message,title,options){this.displayNotification(Object.assign({},options,{title,message,sticky:true,}));},});core.serviceRegistry.add('crash_manager',PublicCrashManager);return{CrashManager:PublicCrashManager,};});;

/* /web/static/src/js/public/public_notification.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.public.Notification',function(require){'use strict';var Notification=require('web.Notification');Notification.include({xmlDependencies:['/web/static/src/xml/notification.xml'],});});;

/* /web/static/src/js/public/public_root.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.public.root',function(require){'use strict';var ajax=require('web.ajax');var dom=require('web.dom');const env=require('web.public_env');var session=require('web.session');var utils=require('web.utils');var publicWidget=require('web.public.widget');var publicRootRegistry=new publicWidget.RootWidgetRegistry();function getLang(){var html=document.documentElement;return(html.getAttribute('lang')||'en_US').replace('-','_');}
var lang=utils.get_cookie('frontend_lang')||getLang();var localeDef=ajax.loadJS('/web/webclient/locale/'+lang.replace('-','_'));var PublicRoot=publicWidget.RootWidget.extend({events:_.extend({},publicWidget.RootWidget.prototype.events||{},{'submit .js_website_submit_form':'_onWebsiteFormSubmit','click .js_disable_on_click':'_onDisableOnClick',}),custom_events:_.extend({},publicWidget.RootWidget.prototype.custom_events||{},{call_service:'_onCallService',context_get:'_onContextGet',main_object_request:'_onMainObjectRequest',widgets_start_request:'_onWidgetsStartRequest',widgets_stop_request:'_onWidgetsStopRequest',}),init:function(){this._super.apply(this,arguments);this.env=env;this.publicWidgets=[];},willStart:function(){return Promise.all([this._super.apply(this,arguments),session.is_bound,localeDef]);},start:function(){var defs=[this._super.apply(this,arguments),this._startWidgets()];this.$(".o_image[data-mimetype^='image']").each(function(){var $img=$(this);if(/gif|jpe|jpg|png/.test($img.data('mimetype'))&&$img.data('src')){$img.css('background-image',"url('"+$img.data('src')+"')");}});if(window.location.hash.indexOf("scrollTop=")>-1){this.el.scrollTop=+window.location.hash.match(/scrollTop=([0-9]+)/)[1];}
if($.fn.placeholder){$('input, textarea').placeholder();}
return Promise.all(defs);},_getContext:function(context){return _.extend({'lang':getLang(),},context||{});},_getExtraContext:function(context){return this._getContext(context);},_getPublicWidgetsRegistry:function(options){return publicWidget.registry;},_getRegistry:function(){return publicRootRegistry;},_startWidgets:function($from,options){var self=this;if($from===undefined){$from=this.$('#wrapwrap');if(!$from.length){$from=this.$el;}}
if(options===undefined){options={};}
this._stopWidgets($from);var defs=_.map(this._getPublicWidgetsRegistry(options),function(PublicWidget){var selector=PublicWidget.prototype.selector||'';var $target=dom.cssFind($from,selector,true);var defs=_.map($target,function(el){var widget=new PublicWidget(self,options);self.publicWidgets.push(widget);return widget.attachTo($(el));});return Promise.all(defs);});return Promise.all(defs);},_stopWidgets:function($from){var removedWidgets=_.map(this.publicWidgets,function(widget){if(!$from||$from.filter(widget.el).length||$from.find(widget.el).length){widget.destroy();return widget;}
return null;});this.publicWidgets=_.difference(this.publicWidgets,removedWidgets);},_onCallService:function(ev){function _computeContext(context,noContextKeys){context=_.extend({},this._getContext(),context);if(noContextKeys){context=_.omit(context,noContextKeys);}
return JSON.parse(JSON.stringify(context));}
const payload=ev.data;let args=payload.args||[];if(payload.service==='ajax'&&payload.method==='rpc'){args=args.concat(ev.target);var route=args[0];if(_.str.startsWith(route,'/web/dataset/call_kw/')){var params=args[1];var options=args[2];var noContextKeys;if(options){noContextKeys=options.noContextKeys;args[2]=_.omit(options,'noContextKeys');}
params.kwargs.context=_computeContext.call(this,params.kwargs.context,noContextKeys);}}else if(payload.service==='ajax'&&payload.method==='loadLibs'){args[1]=_computeContext.call(this,args[1]);}
const service=this.env.services[payload.service];const result=service[payload.method].apply(service,args);payload.callback(result);},_onContextGet:function(ev){if(ev.data.extra){ev.data.callback(this._getExtraContext(ev.data.context));}else{ev.data.callback(this._getContext(ev.data.context));}},_onMainObjectRequest:function(ev){var repr=$('html').data('main-object');var m=repr.match(/(.+)\((\d+),(.*)\)/);ev.data.callback({model:m[1],id:m[2]|0,});},_onWidgetsStartRequest:function(ev){this._startWidgets(ev.data.$target,ev.data.options).then(ev.data.onSuccess).guardedCatch(ev.data.onFailure);},_onWidgetsStopRequest:function(ev){this._stopWidgets(ev.data.$target);},_onWebsiteFormSubmit:function(ev){var $buttons=$(ev.currentTarget).find('button[type="submit"], a.a-submit');_.each($buttons,function(btn){var $btn=$(btn);$btn.html('<i class="fa fa-spinner fa-spin"></i> '+$btn.text());$btn.prop('disabled',true);});},_onDisableOnClick:function(ev){$(ev.currentTarget).addClass('disabled');},});return{PublicRoot:PublicRoot,publicRootRegistry:publicRootRegistry,};});;

/* /website/static/src/js/content/website_root_instance.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('root.widget',function(require){'use strict';const AbstractService=require('web.AbstractService');const env=require('web.public_env');var lazyloader=require('web.public.lazyloader');var websiteRootData=require('website.root');owl.config.mode=env.isDebug()?"dev":"prod";owl.Component.env=env;AbstractService.prototype.deployServices(env);var websiteRoot=new websiteRootData.WebsiteRoot(null);return lazyloader.allScriptsLoaded.then(function(){return websiteRoot.attachTo(document.body).then(function(){return websiteRoot;});});});;

/* /web/static/src/js/public/public_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.public.widget',function(require){'use strict';var Class=require('web.Class');var dom=require('web.dom');var mixins=require('web.mixins');var session=require('web.session');var Widget=require('web.Widget');var RootWidget=Widget.extend({custom_events:_.extend({},Widget.prototype.custom_events||{},{'registry_update':'_onRegistryUpdate','get_session':'_onGetSession',}),init:function(){this._super.apply(this,arguments);this._widgets=[];this._listenToUpdates=false;this._getRegistry().setParent(this);},start:function(){var defs=[this._super.apply(this,arguments)];defs.push(this._attachComponents());this._listenToUpdates=true;return Promise.all(defs);},_attachComponent:function(childInfo,$from){var self=this;var $elements=dom.cssFind($from||this.$el,childInfo.selector);var defs=_.map($elements,function(element){var w=new childInfo.Widget(self);self._widgets.push(w);return w.attachTo(element);});return Promise.all(defs);},_attachComponents:function($from){var self=this;var childInfos=this._getRegistry().get();var defs=_.map(childInfos,function(childInfo){return self._attachComponent(childInfo,$from);});return Promise.all(defs);},_getRegistry:function(){},_onGetSession:function(event){if(event.data.callback){event.data.callback(session);}},_onRegistryUpdate:function(ev){ev.stopPropagation();if(this._listenToUpdates){this._attachComponent(ev.data);}},});var RootWidgetRegistry=Class.extend(mixins.EventDispatcherMixin,{init:function(){mixins.EventDispatcherMixin.init.call(this);this._registry=[];},add:function(Widget,selector){var registryInfo={Widget:Widget,selector:selector,};this._registry.push(registryInfo);this.trigger_up('registry_update',registryInfo);},get:function(){return this._registry;},});var PublicWidget=Widget.extend({selector:false,events:{},init:function(parent,options){this._super.apply(this,arguments);this.options=options||{};},destroy:function(){if(this.selector){var $oldel=this.$el;this.setElement(null);}
this._super.apply(this,arguments);if(this.selector){this.$el=$oldel;this.el=$oldel[0];this.$target=this.$el;this.target=this.el;}},setElement:function(){this._super.apply(this,arguments);if(this.selector){this.$target=this.$el;this.target=this.el;}},_delegateEvents:function(){var self=this;var originalEvents=this.events;var events={};_.each(this.events,function(method,event){if(typeof method!=='string'){events[event]=method;return;}
var methodOptions=method.split(' ');if(methodOptions.length<=1){events[event]=method;return;}
var isAsync=_.contains(methodOptions,'async');if(!isAsync){events[event]=method;return;}
method=self.proxy(methodOptions[methodOptions.length-1]);if(_.str.startsWith(event,'click')){method=dom.makeButtonHandler(method);}else{method=dom.makeAsyncHandler(method);}
events[event]=method;});this.events=events;this._super.apply(this,arguments);this.events=originalEvents;},_getContext:function(extra,extraContext){var context;this.trigger_up('context_get',{extra:extra||false,context:extraContext,callback:function(ctx){context=ctx;},});return context;},});var registry={};registry._fixAppleCollapse=PublicWidget.extend({selector:'div[data-toggle="collapse"]',events:{'click':function(){},},});return{RootWidget:RootWidget,RootWidgetRegistry:RootWidgetRegistry,Widget:PublicWidget,registry:registry,};});;

/* /web_editor/static/src/js/frontend/loader.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_editor.loader',function(require){'use strict';var Wysiwyg=require('web_editor.wysiwyg.root');function load(parent,textarea,options){var loading=textarea.nextElementSibling;if(loading&&!loading.classList.contains('o_wysiwyg_loading')){loading=null;}
if(!textarea.value.match(/\S/)){textarea.value='<p><br/></p>';}
var wysiwyg=new Wysiwyg(parent,options);return wysiwyg.attachTo(textarea).then(()=>{if(loading){loading.parentNode.removeChild(loading);}
return wysiwyg;});}
return{load:load,};});;

/* /portal/static/src/js/portal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.portal',function(require){'use strict';var publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{_t,qweb}=require('web.core');const ajax=require('web.ajax');publicWidget.registry.portalDetails=publicWidget.Widget.extend({selector:'.o_portal_details',events:{'change select[name="country_id"]':'_onCountryChange',},start:function(){var def=this._super.apply(this,arguments);this.$state=this.$('select[name="state_id"]');this.$stateOptions=this.$state.filter(':enabled').find('option:not(:first)');this._adaptAddressForm();return def;},_adaptAddressForm:function(){var $country=this.$('select[name="country_id"]');var countryID=($country.val()||0);this.$stateOptions.detach();var $displayedState=this.$stateOptions.filter('[data-country_id='+countryID+']');var nb=$displayedState.appendTo(this.$state).show().length;this.$state.parent().toggle(nb>=1);},_onCountryChange:function(){this._adaptAddressForm();},});publicWidget.registry.PortalHomeCounters=publicWidget.Widget.extend({selector:'.o_portal_my_home',start:function(){var def=this._super.apply(this,arguments);this._updateCounters();return def;},async _updateCounters(elem){const numberRpc=3;const needed=this.$('[data-placeholder_count]').map((i,o)=>$(o).data('placeholder_count')).toArray();const counterByRpc=Math.ceil(needed.length/numberRpc);const proms=[...Array(Math.min(numberRpc,needed.length)).keys()].map(async i=>{await this._rpc({route:"/my/counters",params:{counters:needed.slice(i*counterByRpc,(i+1)*counterByRpc)},}).then(data=>{Object.keys(data).map(k=>this.$("[data-placeholder_count='"+k+"']").text(data[k]));});});return Promise.all(proms);},});publicWidget.registry.portalSearchPanel=publicWidget.Widget.extend({selector:'.o_portal_search_panel',events:{'click .search-submit':'_onSearchSubmitClick','click .dropdown-item':'_onDropdownItemClick','keyup input[name="search"]':'_onSearchInputKeyup',},start:function(){var def=this._super.apply(this,arguments);this._adaptSearchLabel(this.$('.dropdown-item.active'));return def;},_adaptSearchLabel:function(elem){var $label=$(elem).clone();$label.find('span.nolabel').remove();this.$('input[name="search"]').attr('placeholder',$label.text().trim());},_search:function(){var search=$.deparam(window.location.search.substring(1));search['search_in']=this.$('.dropdown-item.active').attr('href').replace('#','');search['search']=this.$('input[name="search"]').val();window.location.search=$.param(search);},_onSearchSubmitClick:function(){this._search();},_onDropdownItemClick:function(ev){ev.preventDefault();var $item=$(ev.currentTarget);$item.closest('.dropdown-menu').find('.dropdown-item').removeClass('active');$item.addClass('active');this._adaptSearchLabel(ev.currentTarget);},_onSearchInputKeyup:function(ev){if(ev.keyCode===$.ui.keyCode.ENTER){this._search();}},});function handleCheckIdentity(rpc,wrapped){return wrapped.then((r)=>{if(!_.isMatch(r,{type:'ir.actions.act_window',res_model:'res.users.identitycheck'})){return r;}
const check_id=r.res_id;return ajax.loadXML('/portal/static/src/xml/portal_security.xml',qweb).then(()=>new Promise((resolve,reject)=>{const d=new Dialog(null,{title:_t("Security Control"),$content:qweb.render('portal.identitycheck'),buttons:[{text:_t("Confirm Password"),classes:'btn btn-primary',click(){const password_input=this.el.querySelector('[name=password]');if(!password_input.reportValidity()){password_input.classList.add('is-invalid');return;}
return rpc({model:'res.users.identitycheck',method:'write',args:[check_id,{password:password_input.value}]}).then(()=>rpc({model:'res.users.identitycheck',method:'run_check',args:[check_id]})).then((r)=>{this.close();resolve(r);},(err)=>{err.event.preventDefault();password_input.classList.add('is-invalid');password_input.setCustomValidity(_t("Check failed"));password_input.reportValidity();});}},{text:_t('Cancel'),close:true},{text:_t('Forgot password?'),classes:'btn btn-link',click(){window.location.href="/web/reset_password/";}}]}).on('close',null,()=>{reject();});d.opened(()=>{const pw=d.el.querySelector('[name="password"]');pw.focus();pw.addEventListener('input',()=>{pw.classList.remove('is-invalid');pw.setCustomValidity('');});d.el.addEventListener('submit',(e)=>{e.preventDefault();d.$footer.find('.btn-primary').click();});});d.open();}));});}
return{handleCheckIdentity,}});;

/* /portal/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.chatter',function(require){'use strict';var core=require('web.core');const dom=require('web.dom');var publicWidget=require('web.public.widget');var time=require('web.time');var portalComposer=require('portal.composer');var qweb=core.qweb;var _t=core._t;var PortalChatter=publicWidget.Widget.extend({template:'portal.Chatter',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml'],events:{'click .o_portal_chatter_pager_btn':'_onClickPager','click .o_portal_chatter_js_is_internal':'async _onClickUpdateIsInternal',},init:function(parent,options){var self=this;this.options={};this._super.apply(this,arguments);_.each(options,function(val,key){self.options[_.str.underscored(key)]=val;});this.options=_.defaults(this.options,{'allow_composer':true,'display_composer':false,'csrf_token':odoo.csrf_token,'message_count':0,'pager_step':10,'pager_scope':5,'pager_start':1,'is_user_public':true,'is_user_employee':false,'is_user_publisher':false,'hash':false,'pid':false,'domain':[],});this.set('messages',[]);this.set('message_count',this.options['message_count']);this.set('pager',{});this.set('domain',this.options['domain']);this._currentPage=this.options['pager_start'];},willStart:function(){return Promise.all([this._super.apply(this,arguments),this._chatterInit()]);},start:function(){this.on("change:messages",this,this._renderMessages);this.on("change:message_count",this,function(){this._renderMessageCount();this.set('pager',this._pager(this._currentPage));});this.on("change:pager",this,this._renderPager);this.on("change:domain",this,this._onChangeDomain);this.set('message_count',this.options['message_count']);this.set('messages',this.preprocessMessages(this.result['messages']));var defs=[];defs.push(this._super.apply(this,arguments));if(this.options['display_composer']){this._composer=new portalComposer.PortalComposer(this,this.options);defs.push(this._composer.replace(this.$('.o_portal_chatter_composer')));}
return Promise.all(defs);},messageFetch:function(domain){var self=this;return this._rpc({route:'/mail/chatter_fetch',params:self._messageFetchPrepareParams(),}).then(function(result){self.set('messages',self.preprocessMessages(result['messages']));self.set('message_count',result['message_count']);});},preprocessMessages:function(messages){_.each(messages,function(m){m['author_avatar_url']=_.str.sprintf('/web/image/%s/%s/author_avatar/50x50','mail.message',m.id);m['published_date_str']=_.str.sprintf(_t('Published on %s'),moment(time.str_to_datetime(m.date)).format('MMMM Do YYYY, h:mm:ss a'));});return messages;},_chatterInit:function(){var self=this;return this._rpc({route:'/mail/chatter_init',params:this._messageFetchPrepareParams()}).then(function(result){self.result=result;self.options=_.extend(self.options,self.result['options']||{});return result;});},_changeCurrentPage:function(page,domain){this._currentPage=page;var d=domain?domain:_.clone(this.get('domain'));this.set('domain',d);},_messageFetchPrepareParams:function(){var self=this;var data={'res_model':this.options['res_model'],'res_id':this.options['res_id'],'limit':this.options['pager_step'],'offset':(this._currentPage-1)*this.options['pager_step'],'allow_composer':this.options['allow_composer'],};if(self.options['token']){data['token']=self.options['token'];}
if(this.get('domain')){data['domain']=this.get('domain');}
return data;},_pager:function(page){page=page||1;var total=this.get('message_count');var scope=this.options['pager_scope'];var step=this.options['pager_step'];var pageCount=Math.ceil(parseFloat(total)/step);page=Math.max(1,Math.min(parseInt(page),pageCount));scope-=1;var pmin=Math.max(page-parseInt(Math.floor(scope/2)),1);var pmax=Math.min(pmin+scope,pageCount);if(pmax-scope>0){pmin=pmax-scope;}else{pmin=1;}
var pages=[];_.each(_.range(pmin,pmax+1),function(index){pages.push(index);});return{"page_count":pageCount,"offset":(page-1)*step,"page":page,"page_start":pmin,"page_previous":Math.max(pmin,page-1),"page_next":Math.min(pmax,page+1),"page_end":pmax,"pages":pages};},_renderMessages:function(){this.$('.o_portal_chatter_messages').html(qweb.render("portal.chatter_messages",{widget:this}));},_renderMessageCount:function(){this.$('.o_message_counter').replaceWith(qweb.render("portal.chatter_message_count",{widget:this}));},_renderPager:function(){this.$('.o_portal_chatter_pager').replaceWith(qweb.render("portal.pager",{widget:this}));},_onChangeDomain:function(){var self=this;this.messageFetch().then(function(){var p=self._currentPage;self.set('pager',self._pager(p));});},_onClickPager:function(ev){ev.preventDefault();var page=$(ev.currentTarget).data('page');this._changeCurrentPage(page);},_onClickUpdateIsInternal:function(ev){ev.preventDefault();var $elem=$(ev.currentTarget);return this._rpc({route:'/mail/update_is_internal',params:{message_id:$elem.data('message-id'),is_internal:!$elem.data('is-internal'),},}).then(function(result){$elem.data('is-internal',result);if(result===true){$elem.addClass('o_portal_message_internal_on');$elem.removeClass('o_portal_message_internal_off');}else{$elem.addClass('o_portal_message_internal_off');$elem.removeClass('o_portal_message_internal_on');}});},});publicWidget.registry.portalChatter=publicWidget.Widget.extend({selector:'.o_portal_chatter',async start(){const proms=[this._super.apply(this,arguments)];const chatter=new PortalChatter(this,this.$el.data());proms.push(chatter.appendTo(this.$el));await Promise.all(proms);if(window.location.hash===`#${this.el.id}`){dom.scrollTo(this.el,{duration:0});}},});return{PortalChatter:PortalChatter,};});;

/* /portal/static/src/js/portal_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.composer',function(require){'use strict';var ajax=require('web.ajax');var core=require('web.core');var publicWidget=require('web.public.widget');var qweb=core.qweb;var _t=core._t;var PortalComposer=publicWidget.Widget.extend({template:'portal.Composer',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml'],events:{'change .o_portal_chatter_file_input':'_onFileInputChange','click .o_portal_chatter_attachment_btn':'_onAttachmentButtonClick','click .o_portal_chatter_attachment_delete':'async _onAttachmentDeleteClick','click .o_portal_chatter_composer_btn':'async _onSubmitButtonClick',},init:function(parent,options){this._super.apply(this,arguments);this.options=_.defaults(options||{},{'allow_composer':true,'display_composer':false,'csrf_token':odoo.csrf_token,'token':false,'res_model':false,'res_id':false,});this.attachments=[];},start:function(){var self=this;this.$attachmentButton=this.$('.o_portal_chatter_attachment_btn');this.$fileInput=this.$('.o_portal_chatter_file_input');this.$sendButton=this.$('.o_portal_chatter_composer_btn');this.$attachments=this.$('.o_portal_chatter_composer_form .o_portal_chatter_attachments');this.$attachmentIds=this.$('.o_portal_chatter_attachment_ids');this.$attachmentTokens=this.$('.o_portal_chatter_attachment_tokens');return this._super.apply(this,arguments).then(function(){if(self.options.default_attachment_ids){self.attachments=self.options.default_attachment_ids||[];_.each(self.attachments,function(attachment){attachment.state='done';});self._updateAttachments();}
return Promise.resolve();});},_onAttachmentButtonClick:function(){this.$fileInput.click();},_onAttachmentDeleteClick:function(ev){var self=this;var attachmentId=$(ev.currentTarget).closest('.o_portal_chatter_attachment').data('id');var accessToken=_.find(this.attachments,{'id':attachmentId}).access_token;ev.preventDefault();ev.stopPropagation();this.$sendButton.prop('disabled',true);return this._rpc({route:'/portal/attachment/remove',params:{'attachment_id':attachmentId,'access_token':accessToken,},}).then(function(){self.attachments=_.reject(self.attachments,{'id':attachmentId});self._updateAttachments();self.$sendButton.prop('disabled',false);});},_onFileInputChange:function(){var self=this;this.$sendButton.prop('disabled',true);return Promise.all(_.map(this.$fileInput[0].files,function(file){return new Promise(function(resolve,reject){var data={'name':file.name,'file':file,'res_id':self.options.res_id,'res_model':self.options.res_model,'access_token':self.options.token,};ajax.post('/portal/attachment/add',data).then(function(attachment){attachment.state='pending';self.attachments.push(attachment);self._updateAttachments();resolve();}).guardedCatch(function(error){self.displayNotification({message:_.str.sprintf(_t("Could not save file <strong>%s</strong>"),_.escape(file.name)),type:'warning',sticky:true,});resolve();});});})).then(function(){self.$sendButton.prop('disabled',false);});},_onSubmitButtonClick:function(){return new Promise(function(resolve,reject){});},_updateAttachments:function(){this.$attachmentIds.val(_.pluck(this.attachments,'id'));this.$attachmentTokens.val(_.pluck(this.attachments,'access_token'));this.$attachments.html(qweb.render('portal.Chatter.Attachments',{attachments:this.attachments,showDelete:true,}));},});return{PortalComposer:PortalComposer,};});;

/* /portal/static/src/js/portal_signature.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.signature_form',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var NameAndSignature=require('web.name_and_signature').NameAndSignature;var qweb=core.qweb;var _t=core._t;var SignatureForm=publicWidget.Widget.extend({template:'portal.portal_signature',xmlDependencies:['/portal/static/src/xml/portal_signature.xml'],events:{'click .o_portal_sign_submit':'async _onClickSignSubmit',},custom_events:{'signature_changed':'_onChangeSignature',},init:function(parent,options){this._super.apply(this,arguments);this.csrf_token=odoo.csrf_token;this.callUrl=options.callUrl||'';this.rpcParams=options.rpcParams||{};this.sendLabel=options.sendLabel||_t("Accept & Sign");this.nameAndSignature=new NameAndSignature(this,options.nameAndSignatureOptions||{});},start:function(){var self=this;this.$confirm_btn=this.$('.o_portal_sign_submit');this.$controls=this.$('.o_portal_sign_controls');var subWidgetStart=this.nameAndSignature.replace(this.$('.o_web_sign_name_and_signature'));return Promise.all([subWidgetStart,this._super.apply(this,arguments)]).then(function(){self.nameAndSignature.resetSignature();});},focusName:function(){this.nameAndSignature.focusName();},resetSignature:function(){return this.nameAndSignature.resetSignature();},_onClickSignSubmit:function(ev){var self=this;ev.preventDefault();if(!this.nameAndSignature.validateSignature()){return;}
var name=this.nameAndSignature.getName();var signature=this.nameAndSignature.getSignatureImage()[1];return this._rpc({route:this.callUrl,params:_.extend(this.rpcParams,{'name':name,'signature':signature,}),}).then(function(data){if(data.error){self.$('.o_portal_sign_error_msg').remove();self.$controls.prepend(qweb.render('portal.portal_signature_error',{widget:data}));}else if(data.success){var $success=qweb.render('portal.portal_signature_success',{widget:data});self.$el.empty().append($success);}
if(data.force_refresh){if(data.redirect_url){window.location=data.redirect_url;}else{window.location.reload();}
return new Promise(function(){});}});},_onChangeSignature:function(){var isEmpty=this.nameAndSignature.isSignatureEmpty();this.$confirm_btn.prop('disabled',isEmpty);},});publicWidget.registry.SignatureForm=publicWidget.Widget.extend({selector:'.o_portal_signature_form',start:function(){var hasBeenReset=false;var callUrl=this.$el.data('call-url');var nameAndSignatureOptions={defaultName:this.$el.data('default-name'),mode:this.$el.data('mode'),displaySignatureRatio:this.$el.data('signature-ratio'),signatureType:this.$el.data('signature-type'),fontColor:this.$el.data('font-color')||'black',};var sendLabel=this.$el.data('send-label');var form=new SignatureForm(this,{callUrl:callUrl,nameAndSignatureOptions:nameAndSignatureOptions,sendLabel:sendLabel,});this.$el.closest('.modal').on('shown.bs.modal',function(ev){if(!hasBeenReset){hasBeenReset=true;form.resetSignature();}else{form.focusName();}});return Promise.all([this._super.apply(this,arguments),form.appendTo(this.$el)]);},});return{SignatureForm:SignatureForm,};});;

/* /portal/static/src/js/portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.PortalSidebar',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var time=require('web.time');var _t=core._t;var PortalSidebar=publicWidget.Widget.extend({start:function(){this._setDelayLabel();return this._super.apply(this,arguments);},_setDelayLabel:function(){var $sidebarTimeago=this.$el.find('.o_portal_sidebar_timeago');_.each($sidebarTimeago,function(el){var dateTime=moment(time.auto_str_to_date($(el).attr('datetime'))),today=moment().startOf('day'),diff=dateTime.diff(today,'days',true),displayStr;if(diff===0){displayStr=_t('Due today');}else if(diff>0){displayStr=_.str.sprintf(_t('Due in %d days'),Math.abs(diff));}else{displayStr=_.str.sprintf(_t('%d days overdue'),Math.abs(diff));}
$(el).text(displayStr);});},_printIframeContent:function(href){if($.browser.mozilla){window.open(href,'_blank');return;}
if(!this.printContent){this.printContent=$('<iframe id="print_iframe_content" src="'+href+'" style="display:none"></iframe>');this.$el.append(this.printContent);this.printContent.on('load',function(){$(this).get(0).contentWindow.print();});}else{this.printContent.get(0).contentWindow.print();}},});return PortalSidebar;});;

/* /auth_totp_portal/static/src/js/totp_frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('auth_totp_portal.button',function(require){'use strict';const{_t}=require('web.core');const publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{handleCheckIdentity}=require('portal.portal');function fromField(f,record){switch(f.getAttribute('name')){case'qrcode':const qrcode=document.createElement('img');qrcode.setAttribute('class','img img-fluid offset-1');qrcode.setAttribute('src','data:image/png;base64,'+record['qrcode']);return qrcode;case'url':const url=document.createElement('a');url.setAttribute('href',record['url']);url.textContent=f.getAttribute('text')||record['url'];return url;case'code':const code=document.createElement('input');code.setAttribute('name','code');code.setAttribute('class','form-control col-10 col-md-6');code.setAttribute('placeholder','6-digit code');code.required=true;code.maxLength=6;code.minLength=6;return code;default:return document.createTextNode(record[f.getAttribute('name')]||'');}}
function fixupViewBody(oldNode,record){let qrcode=null,code=null,node=null;switch(oldNode.nodeType){case 1:if(oldNode.tagName==='field'){node=fromField(oldNode,record);switch(oldNode.getAttribute('name')){case'qrcode':qrcode=node;break;case'code':code=node;break}
break;}
node=document.createElement(oldNode.tagName);for(let i=0;i<oldNode.attributes.length;++i){const attr=oldNode.attributes[i];node.setAttribute(attr.name,attr.value);}
for(let j=0;j<oldNode.childNodes.length;++j){const[ch,qr,co]=fixupViewBody(oldNode.childNodes[j],record);if(ch){node.appendChild(ch);}
if(qr){qrcode=qr;}
if(co){code=co;}}
break;case 3:case 4:node=document.createTextNode(oldNode.data);break;default:}
return[node,qrcode,code]}
class Button{constructor(parent,model,record_id,input_node,button_node){this._parent=parent;this.model=model;this.record_id=record_id;this.input=input_node;this.text=button_node.getAttribute('string');this.classes=button_node.getAttribute('class')||null;this.action=button_node.getAttribute('name');if(button_node.getAttribute('special')==='cancel'){this.close=true;this.click=null;}else{this.close=false;this.click=this._click.bind(this);}}
async _click(){if(!this.input.reportValidity()){this.input.classList.add('is-invalid');return;}
try{await this.callAction(this.record_id,{code:this.input.value});}catch(e){this.input.classList.add('is-invalid');this.input.setCustomValidity(e.message);this.input.reportValidity();return;}
this.input.classList.remove('is-invalid');window.location=window.location;}
async callAction(id,update){try{await this._parent._rpc({model:this.model,method:'write',args:[id,update]});await handleCheckIdentity(this._parent.proxy('_rpc'),this._parent._rpc({model:this.model,method:this.action,args:[id]}));}catch(e){e.event.preventDefault();throw new Error(!e.message?e.toString():!e.message.data?e.message.message:e.message.data.message||_t("Operation failed for unknown reason."));}}}
publicWidget.registry.TOTPButton=publicWidget.Widget.extend({selector:'#auth_totp_portal_enable',events:{click:'_onClick',},async _onClick(e){e.preventDefault();const w=await handleCheckIdentity(this.proxy('_rpc'),this._rpc({model:'res.users',method:'totp_enable_wizard',args:[this.getSession().user_id]}));if(!w){window.location=window.location;return;}
const{res_model:model,res_id:wizard_id}=w;const record=await this._rpc({model,method:'read',args:[wizard_id,[]]}).then(ar=>ar[0]);const doc=new DOMParser().parseFromString(document.getElementById('totp_wizard_view').textContent,'application/xhtml+xml');const xmlBody=doc.querySelector('sheet *');const[body,,codeInput]=fixupViewBody(xmlBody,record);codeInput.addEventListener('input',()=>codeInput.setCustomValidity(''));const buttons=[];for(const button of doc.querySelectorAll('footer button')){buttons.push(new Button(this,model,record.id,codeInput,button));}
const $content=document.createElement('form');$content.appendChild(body);$content.addEventListener('submit',(e)=>{e.preventDefault();dialog.$footer.find('.btn-primary').click();});var dialog=new Dialog(this,{$content,buttons}).open();}});publicWidget.registry.DisableTOTPButton=publicWidget.Widget.extend({selector:'#auth_totp_portal_disable',events:{click:'_onClick'},async _onClick(e){e.preventDefault();await handleCheckIdentity(this.proxy('_rpc'),this._rpc({model:'res.users',method:'totp_disable',args:[this.getSession().user_id]}))
window.location=window.location;}});});;

/* /website/static/src/js/set_view_track.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.set_view_track',function(require){"use strict";var CustomizeMenu=require('website.customizeMenu');var Widget=require('web.Widget');var TrackPage=Widget.extend({template:'website.track_page',xmlDependencies:['/website/static/src/xml/track_page.xml'],events:{'change #switch-track-page':'_onTrackChange',},start:function(){this.$input=this.$('#switch-track-page');this._isTracked().then((data)=>{if(data[0]['track']){this.track=true;this.$input.attr('checked','checked');}else{this.track=false;}});},_isTracked:function(val){var viewid=$('html').data('viewid');if(!viewid){return Promise.reject();}else{return this._rpc({model:'ir.ui.view',method:'read',args:[[viewid],['track']],});}},_onTrackChange:function(ev){var checkboxValue=this.$input.is(':checked');if(checkboxValue!==this.track){this.track=checkboxValue;this._trackPage(checkboxValue);}},_trackPage:function(val){var viewid=$('html').data('viewid');if(!viewid){return Promise.reject();}else{return this._rpc({model:'ir.ui.view',method:'write',args:[[viewid],{track:val}],});}},});CustomizeMenu.include({_loadCustomizeOptions:function(){var self=this;var def=this._super.apply(this,arguments);return def.then(function(){if(!self.__trackpageLoaded){self.__trackpageLoaded=true;self.trackPage=new TrackPage(self);self.trackPage.appendTo(self.$el.children('.dropdown-menu'));}});},});});;

/* /website/static/src/js/utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.utils',function(require){'use strict';var ajax=require('web.ajax');var core=require('web.core');var qweb=core.qweb;function loadAnchors(url){return new Promise(function(resolve,reject){if(url!==window.location.pathname&&url[0]!=='#'){$.get(window.location.origin+url).then(resolve,reject);}else{resolve(document.body.outerHTML);}}).then(function(response){return _.map($(response).find('[id][data-anchor=true]'),function(el){return'#'+el.id;});});}
function autocompleteWithPages(self,$input){$.widget("website.urlcomplete",$.ui.autocomplete,{_create:function(){this._super();this.widget().menu("option","items","> :not(.ui-autocomplete-category)");},_renderMenu:function(ul,items){const self=this;items.forEach(item=>{if(item.separator){self._renderSeparator(ul,item);}
else{self._renderItem(ul,item);}});},_renderSeparator:function(ul,item){return $("<li class='ui-autocomplete-category font-weight-bold text-capitalize m-2'>").append(`<div>${item.separator}</div>`).appendTo(ul);},_renderItem:function(ul,item){return $("<li>").data('ui-autocomplete-item',item).append(`<div>${item.label}</div>`).appendTo(ul);},});$input.urlcomplete({source:function(request,response){if(request.term[0]==='#'){loadAnchors(request.term).then(function(anchors){response(anchors);});}else{return self._rpc({route:'/website/get_suggested_links',params:{needle:request.term,limit:15,}}).then(function(res){let choices=res.matching_pages;res.others.forEach(other=>{if(other.values.length){choices=choices.concat([{separator:other.title}],other.values,);}});response(choices);});}},close:function(){self.trigger_up('website_url_chosen');},});}
function onceAllImagesLoaded($element,$excluded){var defs=_.map($element.find('img').addBack('img'),function(img){if(img.complete||$excluded&&($excluded.is(img)||$excluded.has(img).length)){return;}
var def=new Promise(function(resolve,reject){$(img).one('load',function(){resolve();});});return def;});return Promise.all(defs);}
function prompt(options,_qweb){if(typeof options==='string'){options={text:options};}
var xmlDef;if(_.isUndefined(_qweb)){_qweb='website.prompt';xmlDef=ajax.loadXML('/website/static/src/xml/website.xml',core.qweb);}
options=_.extend({window_title:'',field_name:'','default':'',init:function(){},},options||{});var type=_.intersection(Object.keys(options),['input','textarea','select']);type=type.length?type[0]:'input';options.field_type=type;options.field_name=options.field_name||options[type];var def=new Promise(function(resolve,reject){Promise.resolve(xmlDef).then(function(){var dialog=$(qweb.render(_qweb,options)).appendTo('body');options.$dialog=dialog;var field=dialog.find(options.field_type).first();field.val(options['default']);field.fillWith=function(data){if(field.is('select')){var select=field[0];data.forEach(function(item){select.options[select.options.length]=new window.Option(item[1],item[0]);});}else{field.val(data);}};var init=options.init(field,dialog);Promise.resolve(init).then(function(fill){if(fill){field.fillWith(fill);}
dialog.modal('show');field.focus();dialog.on('click','.btn-primary',function(){var backdrop=$('.modal-backdrop');resolve({val:field.val(),field:field,dialog:dialog});dialog.modal('hide').remove();backdrop.remove();});});dialog.on('hidden.bs.modal',function(){var backdrop=$('.modal-backdrop');reject();dialog.remove();backdrop.remove();});if(field.is('input[type="text"], select')){field.keypress(function(e){if(e.which===13){e.preventDefault();dialog.find('.btn-primary').trigger('click');}});}});});return def;}
function websiteDomain(self){var websiteID;self.trigger_up('context_get',{callback:function(ctx){websiteID=ctx['website_id'];},});return['|',['website_id','=',false],['website_id','=',websiteID]];}
function sendRequest(route,params){function _addInput(form,name,value){let param=document.createElement('input');param.setAttribute('type','hidden');param.setAttribute('name',name);param.setAttribute('value',value);form.appendChild(param);}
let form=document.createElement('form');form.setAttribute('action',route);form.setAttribute('method',params.method||'POST');if(core.csrf_token){_addInput(form,'csrf_token',core.csrf_token);}
for(const key in params){const value=params[key];if(Array.isArray(value)&&value.length){for(const val of value){_addInput(form,key,val);}}else{_addInput(form,key,value);}}
document.body.appendChild(form);form.submit();}
return{loadAnchors:loadAnchors,autocompleteWithPages:autocompleteWithPages,onceAllImagesLoaded:onceAllImagesLoaded,prompt:prompt,sendRequest:sendRequest,websiteDomain:websiteDomain,};});;

/* /website/static/src/js/content/website_root.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.root',function(require){'use strict';const ajax=require('web.ajax');const{_t}=require('web.core');var Dialog=require('web.Dialog');const KeyboardNavigationMixin=require('web.KeyboardNavigationMixin');const session=require('web.session');var publicRootData=require('web.public.root');require("web.zoomodoo");var websiteRootRegistry=publicRootData.publicRootRegistry;var WebsiteRoot=publicRootData.PublicRoot.extend(KeyboardNavigationMixin,{events:_.extend({},KeyboardNavigationMixin.events,publicRootData.PublicRoot.prototype.events||{},{'click .js_change_lang':'_onLangChangeClick','click .js_publish_management .js_publish_btn':'_onPublishBtnClick','click .js_multi_website_switch':'_onWebsiteSwitch','shown.bs.modal':'_onModalShown',}),custom_events:_.extend({},publicRootData.PublicRoot.prototype.custom_events||{},{'gmap_api_request':'_onGMapAPIRequest','gmap_api_key_request':'_onGMapAPIKeyRequest','ready_to_clean_for_save':'_onWidgetsStopRequest','seo_object_request':'_onSeoObjectRequest',}),init(){this.isFullscreen=false;KeyboardNavigationMixin.init.call(this,{autoAccessKeys:false,});return this._super(...arguments);},start:function(){KeyboardNavigationMixin.start.call(this);if(!this.$('.js_change_lang').length){var $links=this.$('.js_language_selector a:not([data-oe-id])');var m=$(_.min($links,function(l){return $(l).attr('href').length;})).attr('href');$links.each(function(){var $link=$(this);var t=$link.attr('href');var l=(t===m)?"default":t.split('/')[1];$link.data('lang',l).addClass('js_change_lang');});}
this.$('.zoomable img[data-zoom]').zoomOdoo();return this._super.apply(this,arguments);},destroy(){KeyboardNavigationMixin.destroy.call(this);return this._super(...arguments);},_getContext:function(context){var html=document.documentElement;return _.extend({'website_id':html.getAttribute('data-website-id')|0,},this._super.apply(this,arguments));},_getExtraContext:function(context){var html=document.documentElement;return _.extend({'editable':!!(html.dataset.editable||$('[data-oe-model]').length),'translatable':!!html.dataset.translatable,'edit_translations':!!html.dataset.edit_translations,},this._super.apply(this,arguments));},async _getGMapAPIKey(refetch){if(refetch||!this._gmapAPIKeyProm){this._gmapAPIKeyProm=new Promise(async resolve=>{const data=await this._rpc({route:'/website/google_maps_api_key',});resolve(JSON.parse(data).google_maps_api_key||'');});}
return this._gmapAPIKeyProm;},_getPublicWidgetsRegistry:function(options){var registry=this._super.apply(this,arguments);if(options.editableMode){return _.pick(registry,function(PublicWidget){return!PublicWidget.prototype.disabledInEditableMode;});}
return registry;},async _loadGMapAPI(editableMode,refetch){if(refetch||!this._gmapAPILoading){this._gmapAPILoading=new Promise(async resolve=>{const key=await this._getGMapAPIKey(refetch);window.odoo_gmap_api_post_load=(async function odoo_gmap_api_post_load(){await this._startWidgets(undefined,{editableMode:editableMode});resolve(key);}).bind(this);if(!key){if(!editableMode&&session.is_admin){this.displayNotification({type:'warning',sticky:true,message:$('<div/>').append($('<span/>',{text:_t("Cannot load google map.")}),$('<br/>'),$('<a/>',{href:"/web#action=website.action_website_configuration",text:_t("Check your configuration."),}),)[0].outerHTML,});}
resolve(false);this._gmapAPILoading=false;return;}
await ajax.loadJS(`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&callback=odoo_gmap_api_post_load&key=${key}`);});}
return this._gmapAPILoading;},_toggleFullscreen(state){this.isFullscreen=state;document.body.classList.add('o_fullscreen_transition');document.body.classList.toggle('o_fullscreen',this.isFullscreen);document.body.style.overflowX='hidden';let resizing=true;window.requestAnimationFrame(function resizeFunction(){window.dispatchEvent(new Event('resize'));if(resizing){window.requestAnimationFrame(resizeFunction);}});let stopResizing;const onTransitionEnd=ev=>{if(ev.target===document.body&&ev.propertyName==='padding-top'){stopResizing();}};stopResizing=()=>{resizing=false;document.body.style.overflowX='';document.body.removeEventListener('transitionend',onTransitionEnd);document.body.classList.remove('o_fullscreen_transition');};document.body.addEventListener('transitionend',onTransitionEnd);window.setTimeout(()=>stopResizing(),500);},_onWidgetsStartRequest:function(ev){ev.data.options=_.clone(ev.data.options||{});ev.data.options.editableMode=ev.data.editableMode;this._super.apply(this,arguments);},_onLangChangeClick:function(ev){ev.preventDefault();var $target=$(ev.currentTarget);var redirect={lang:$target.data('url_code'),url:encodeURIComponent($target.attr('href').replace(/[&?]edit_translations[^&?]+/,'')),hash:encodeURIComponent(window.location.hash)};window.location.href=_.str.sprintf("/website/lang/%(lang)s?r=%(url)s%(hash)s",redirect);},async _onGMapAPIRequest(ev){ev.stopPropagation();const apiKey=await this._loadGMapAPI(ev.data.editableMode,ev.data.refetch);ev.data.onSuccess(apiKey);},async _onGMapAPIKeyRequest(ev){ev.stopPropagation();const apiKey=await this._getGMapAPIKey(ev.data.refetch);ev.data.onSuccess(apiKey);},_onSeoObjectRequest:function(ev){var res=this._unslugHtmlDataObject('seo-object');ev.data.callback(res);},_unslugHtmlDataObject:function(dataAttr){var repr=$('html').data(dataAttr);var match=repr&&repr.match(/(.+)\((\d+),(.*)\)/);if(!match){return null;}
return{model:match[1],id:match[2]|0,};},_onPublishBtnClick:function(ev){ev.preventDefault();if(document.body.classList.contains('editor_enable')){return;}
var self=this;var $data=$(ev.currentTarget).parents(".js_publish_management:first");this._rpc({route:$data.data('controller')||'/website/publish',params:{id:+$data.data('id'),object:$data.data('object'),},}).then(function(result){$data.toggleClass("css_unpublished css_published");$data.find('input').prop("checked",result);$data.parents("[data-publish]").attr("data-publish",+result?'on':'off');if(result){self.displayNotification({type:'success',message:$data.data('description')?_.str.sprintf(_t("You've published your %s."),$data.data('description')):_t("Published with success."),});}}).guardedCatch(function(err,data){data=data||{statusText:err.message.message};return new Dialog(self,{title:data.data?data.data.arguments[0]:"",$content:$('<div/>',{html:(data.data?data.data.arguments[1]:data.statusText)
+'<br/>'
+_.str.sprintf(_t('It might be possible to edit the relevant items or fix the issue in <a href="%s">the classic Odoo interface</a>'),'/web#model='+$data.data('object')+'&id='+$data.data('id')),}),}).open();});},_onWebsiteSwitch:function(ev){var websiteId=ev.currentTarget.getAttribute('website-id');var websiteDomain=ev.currentTarget.getAttribute('domain');var url=window.location.href;if(websiteDomain&&window.location.hostname!==websiteDomain){var path=window.location.pathname+window.location.search+window.location.hash;url=websiteDomain+path;}
window.location.href=$.param.querystring(url,{'fw':websiteId});},_onModalShown:function(ev){$(ev.target).addClass('modal_shown');},_onKeyDown(ev){if(!session.user_id){return;}
if(ev.keyCode!==$.ui.keyCode.ESCAPE||!document.body.contains(ev.target)||ev.target.closest('.modal')){return KeyboardNavigationMixin._onKeyDown.apply(this,arguments);}
this._toggleFullscreen(!this.isFullscreen);},});return{WebsiteRoot:WebsiteRoot,websiteRootRegistry:websiteRootRegistry,};});;

/* /website/static/src/js/content/compatibility.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.compatibility',function(require){'use strict';require('web.dom_ready');var browser=_.findKey($.browser,function(v){return v===true;});if($.browser.mozilla&&+$.browser.version.replace(/^([0-9]+\.[0-9]+).*/,'\$1')<20){browser='msie';}
browser+=(','+$.browser.version);var mobileRegex=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;if(mobileRegex.test(window.navigator.userAgent.toLowerCase())){browser+=',mobile';}
document.documentElement.setAttribute('data-browser',browser);var htmlStyle=document.documentElement.style;var isFlexSupported=(('flexWrap'in htmlStyle)||('WebkitFlexWrap'in htmlStyle)||('msFlexWrap'in htmlStyle));if(!isFlexSupported){document.documentElement.setAttribute('data-no-flex','');}
return{browser:browser,isFlexSupported:isFlexSupported,};});;

/* /website/static/src/js/content/menu.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.menu',function(require){'use strict';const config=require('web.config');var dom=require('web.dom');var publicWidget=require('web.public.widget');var wUtils=require('website.utils');var animations=require('website.content.snippets.animation');const extraMenuUpdateCallbacks=[];const BaseAnimatedHeader=animations.Animation.extend({disabledInEditableMode:false,effects:[{startEvents:'scroll',update:'_updateHeaderOnScroll',},{startEvents:'resize',update:'_updateHeaderOnResize',}],init:function(){this._super(...arguments);this.fixedHeader=false;this.scrolledPoint=0;this.hasScrolled=false;},start:function(){this.$main=this.$el.next('main');this.isOverlayHeader=!!this.$el.closest('.o_header_overlay, .o_header_overlay_theme').length;this.$dropdowns=this.$el.find('.dropdown, .dropdown-menu');this.$navbarCollapses=this.$el.find('.navbar-collapse');this.$navbarCollapses.on('show.bs.collapse.BaseAnimatedHeader',function(){if(config.device.size_class<=config.device.SIZES.SM){$(document.body).addClass('overflow-hidden');}}).on('hide.bs.collapse.BaseAnimatedHeader',function(){$(document.body).removeClass('overflow-hidden');});this._transitionCount=0;this.$el.on('odoo-transitionstart.BaseAnimatedHeader',()=>this._adaptToHeaderChangeLoop(1));this.$el.on('transitionend.BaseAnimatedHeader',()=>this._adaptToHeaderChangeLoop(-1));return this._super(...arguments);},destroy:function(){this._toggleFixedHeader(false);this.$el.removeClass('o_header_affixed o_header_is_scrolled o_header_no_transition');this.$navbarCollapses.off('.BaseAnimatedHeader');this.$el.off('.BaseAnimatedHeader');this._super(...arguments);},_adaptFixedHeaderPosition(){dom.compensateScrollbar(this.el,this.fixedHeader,false,'right');},_adaptToHeaderChange:function(){this._updateMainPaddingTop();this.el.classList.toggle('o_top_fixed_element',this.fixedHeader&&this._isShown());for(const callback of extraMenuUpdateCallbacks){callback();}},_adaptToHeaderChangeLoop:function(addCount=0){this._adaptToHeaderChange();this._transitionCount+=addCount;this._transitionCount=Math.max(0,this._transitionCount);if(this._transitionCount>0){window.requestAnimationFrame(()=>this._adaptToHeaderChangeLoop());if(addCount!==0){clearTimeout(this._changeLoopTimer);this._changeLoopTimer=setTimeout(()=>{this._adaptToHeaderChangeLoop(-this._transitionCount);},500);}}else{clearTimeout(this._changeLoopTimer);}},_computeTopGap(){return 0;},_isShown(){return true;},_toggleFixedHeader:function(useFixed=true){this.fixedHeader=useFixed;this._adaptToHeaderChange();this.el.classList.toggle('o_header_affixed',useFixed);this._adaptFixedHeaderPosition();},_updateMainPaddingTop:function(){this.headerHeight=this.$el.outerHeight();this.topGap=this._computeTopGap();if(this.isOverlayHeader){return;}
this.$main.css('padding-top',this.fixedHeader?this.headerHeight:'');},_updateHeaderOnScroll:function(scroll){if(!this.hasScrolled){this.hasScrolled=true;if(scroll>0){this.$el.addClass('o_header_no_transition');}}else{this.$el.removeClass('o_header_no_transition');}
const headerIsScrolled=(scroll>this.scrolledPoint);if(this.headerIsScrolled!==headerIsScrolled){this.el.classList.toggle('o_header_is_scrolled',headerIsScrolled);this.$el.trigger('odoo-transitionstart');this.headerIsScrolled=headerIsScrolled;}
this.$dropdowns.removeClass('show');this.$navbarCollapses.removeClass('show').attr('aria-expanded',false);},_updateHeaderOnResize:function(){this._adaptFixedHeaderPosition();if(document.body.classList.contains('overflow-hidden')&&config.device.size_class>config.device.SIZES.SM){document.body.classList.remove('overflow-hidden');this.$el.find('.navbar-collapse').removeClass('show');}},});publicWidget.registry.StandardAffixedHeader=BaseAnimatedHeader.extend({selector:'header.o_header_standard:not(.o_header_sidebar)',init:function(){this._super(...arguments);this.fixedHeaderShow=false;this.scrolledPoint=300;},start:function(){this.headerHeight=this.$el.outerHeight();return this._super.apply(this,arguments);},_isShown(){return!this.fixedHeader||this.fixedHeaderShow;},_updateHeaderOnScroll:function(scroll){this._super(...arguments);const mainPosScrolled=(scroll>this.headerHeight+this.topGap);const reachPosScrolled=(scroll>this.scrolledPoint+this.topGap);if(this.fixedHeader!==mainPosScrolled){this.$el.css('transform',mainPosScrolled?'translate(0, -100%)':'');void this.$el[0].offsetWidth;this._toggleFixedHeader(mainPosScrolled);}
if(this.fixedHeaderShow!==reachPosScrolled){this.$el.css('transform',reachPosScrolled?`translate(0, -${this.topGap}px)`:'translate(0, -100%)');this.fixedHeaderShow=reachPosScrolled;this._adaptToHeaderChange();}},});publicWidget.registry.FixedHeader=BaseAnimatedHeader.extend({selector:'header.o_header_fixed',_updateHeaderOnScroll:function(scroll){this._super(...arguments);if(scroll>(this.scrolledPoint+this.topGap)){if(!this.$el.hasClass('o_header_affixed')){this.$el.css('transform',`translate(0, -${this.topGap}px)`);void this.$el[0].offsetWidth;this._toggleFixedHeader(true);}}else{this._toggleFixedHeader(false);void this.$el[0].offsetWidth;this.$el.css('transform','');}},});const BaseDisappearingHeader=publicWidget.registry.FixedHeader.extend({init:function(){this._super(...arguments);this.scrollingDownwards=true;this.hiddenHeader=false;this.position=0;this.atTop=true;this.checkPoint=0;this.scrollOffsetLimit=200;},destroy:function(){this._showHeader();this._super.apply(this,arguments);},_hideHeader:function(){this.$el.trigger('odoo-transitionstart');},_isShown(){return!this.fixedHeader||!this.hiddenHeader;},_showHeader:function(){this.$el.trigger('odoo-transitionstart');},_updateHeaderOnScroll:function(scroll){this._super(...arguments);const scrollingDownwards=(scroll>this.position);const atTop=(scroll<=0);if(scrollingDownwards!==this.scrollingDownwards){this.checkPoint=scroll;}
this.scrollingDownwards=scrollingDownwards;this.position=scroll;this.atTop=atTop;if(scrollingDownwards){if(!this.hiddenHeader&&scroll-this.checkPoint>(this.scrollOffsetLimit+this.topGap)){this.hiddenHeader=true;this._hideHeader();}}else{if(this.hiddenHeader&&scroll-this.checkPoint<-(this.scrollOffsetLimit+this.topGap)/2){this.hiddenHeader=false;this._showHeader();}}
if(atTop&&!this.atTop){this._showHeader();}},});publicWidget.registry.DisappearingHeader=BaseDisappearingHeader.extend({selector:'header.o_header_disappears',_hideHeader:function(){this._super(...arguments);this.$el.css('transform','translate(0, -100%)');},_showHeader:function(){this._super(...arguments);this.$el.css('transform',this.atTop?'':`translate(0, -${this.topGap}px)`);},});publicWidget.registry.FadeOutHeader=BaseDisappearingHeader.extend({selector:'header.o_header_fade_out',_hideHeader:function(){this._super(...arguments);this.$el.stop(false,true).fadeOut();},_showHeader:function(){this._super(...arguments);this.$el.css('transform',this.atTop?'':`translate(0, -${this.topGap}px)`);this.$el.stop(false,true).fadeIn();},});publicWidget.registry.autohideMenu=publicWidget.Widget.extend({selector:'header#top',disabledInEditableMode:false,async start(){await this._super(...arguments);this.$topMenu=this.$('#top_menu');this.noAutohide=this.$el.is('.o_no_autohide_menu');if(!this.noAutohide){await wUtils.onceAllImagesLoaded(this.$('.navbar'),this.$('.o_mega_menu, .o_offcanvas_logo_container, .dropdown-menu .o_lang_flag'));var $window=$(window);$window.on('load.autohideMenu',function(){$window.trigger('resize');});dom.initAutoMoreMenu(this.$topMenu,{unfoldable:'.divider, .divider ~ li, .o_no_autohide_item'});}
this.$topMenu.removeClass('o_menu_loading');this.$topMenu.trigger('menu_loaded');},destroy(){this._super(...arguments);if(!this.noAutohide){$(window).off('.autohideMenu');dom.destroyAutoMoreMenu(this.$topMenu);}},});publicWidget.registry.menuDirection=publicWidget.Widget.extend({selector:'header .navbar .nav',disabledInEditableMode:false,events:{'show.bs.dropdown':'_onDropdownShow',},start:function(){this.defaultAlignment=this.$el.is('.ml-auto, .ml-auto ~ *')?'right':'left';return this._super.apply(this,arguments);},_checkOpening:function(alignment,liOffset,liWidth,menuWidth,pageWidth){if(alignment==='left'){return(liOffset+menuWidth<=pageWidth);}else{return(liOffset+liWidth-menuWidth>=0);}},_onDropdownShow:function(ev){var $li=$(ev.target);var $menu=$li.children('.dropdown-menu');var liOffset=$li.offset().left;var liWidth=$li.outerWidth();var menuWidth=$menu.outerWidth();var pageWidth=$('#wrapwrap').outerWidth();$menu.removeClass('dropdown-menu-left dropdown-menu-right');var alignment=this.defaultAlignment;if($li.nextAll(':visible').length===0){alignment='right';}
for(var i=0;i<2;i++){if(!this._checkOpening(alignment,liOffset,liWidth,menuWidth,pageWidth)){alignment=(alignment==='left'?'right':'left');}}
$menu.addClass('dropdown-menu-'+alignment);},});publicWidget.registry.hoverableDropdown=animations.Animation.extend({selector:'header.o_hoverable_dropdown',disabledInEditableMode:false,effects:[{startEvents:'resize',update:'_dropdownHover',}],events:{'mouseenter .dropdown':'_onMouseEnter','mouseleave .dropdown':'_onMouseLeave',},start:function(){this.$dropdownMenus=this.$el.find('.dropdown-menu');this.$dropdownToggles=this.$el.find('.dropdown-toggle');this._dropdownHover();return this._super.apply(this,arguments);},_dropdownHover:function(){if(config.device.size_class>config.device.SIZES.SM){this.$dropdownMenus.css('margin-top','0');this.$dropdownMenus.css('top','unset');}else{this.$dropdownMenus.css('margin-top','');this.$dropdownMenus.css('top','');}},_onMouseEnter:function(ev){if(config.device.size_class<=config.device.SIZES.SM){return;}
const $dropdown=$(ev.currentTarget);$dropdown.addClass('show');$dropdown.find(this.$dropdownToggles).attr('aria-expanded','true');$dropdown.find(this.$dropdownMenus).addClass('show');},_onMouseLeave:function(ev){if(config.device.size_class<=config.device.SIZES.SM){return;}
const $dropdown=$(ev.currentTarget);$dropdown.removeClass('show');$dropdown.find(this.$dropdownToggles).attr('aria-expanded','false');$dropdown.find(this.$dropdownMenus).removeClass('show');},});publicWidget.registry.HeaderMainCollapse=publicWidget.Widget.extend({selector:'header#top',events:{'show.bs.collapse #top_menu_collapse':'_onCollapseShow','hidden.bs.collapse #top_menu_collapse':'_onCollapseHidden',},_onCollapseShow(){this.el.classList.add('o_top_menu_collapse_shown');},_onCollapseHidden(){this.el.classList.remove('o_top_menu_collapse_shown');},});return{extraMenuUpdateCallbacks:extraMenuUpdateCallbacks,};});;

/* /website/static/src/js/content/snippets.animation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.snippets.animation',function(require){'use strict';var Class=require('web.Class');var config=require('web.config');var core=require('web.core');const dom=require('web.dom');var mixins=require('web.mixins');var publicWidget=require('web.public.widget');var utils=require('web.utils');var qweb=core.qweb;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;if(!window.performance||!window.performance.now){window.performance={now:function(){return Date.now();}};}
publicWidget.Widget.include({disabledInEditableMode:true,edit_events:null,read_events:null,init:function(parent,options){this._super.apply(this,arguments);this.editableMode=this.options.editableMode||false;var extraEvents=this.editableMode?this.edit_events:this.read_events;if(extraEvents){this.events=_.extend({},this.events||{},extraEvents);}},});var AnimationEffect=Class.extend(mixins.ParentedMixin,{init:function(parent,updateCallback,startEvents,$startTarget,options){mixins.ParentedMixin.init.call(this);this.setParent(parent);options=options||{};this._minFrameTime=1000/(options.maxFPS||100);this._updateCallback=updateCallback;this.startEvents=startEvents||'scroll';this.$startTarget=$($startTarget?$startTarget:this.startEvents==='scroll'?$().getScrollingElement()[0]:window);if(options.getStateCallback){this._getStateCallback=options.getStateCallback;}else if(this.startEvents==='scroll'&&this.$startTarget[0]===$().getScrollingElement()[0]){const $scrollable=this.$startTarget;this._getStateCallback=function(){return $scrollable.scrollTop();};}else if(this.startEvents==='resize'&&this.$startTarget[0]===window){this._getStateCallback=function(){return{width:window.innerWidth,height:window.innerHeight,};};}else{this._getStateCallback=function(){return undefined;};}
this.endEvents=options.endEvents||false;this.$endTarget=options.$endTarget?$(options.$endTarget):this.$startTarget;this._updateCallback=this._updateCallback.bind(parent);this._getStateCallback=this._getStateCallback.bind(parent);this._uid='_animationEffect'+_.uniqueId();this.startEvents=_processEvents(this.startEvents,this._uid);if(this.endEvents){this.endEvents=_processEvents(this.endEvents,this._uid);}
function _processEvents(events,namespace){events=events.split(' ');return _.each(events,function(e,index){events[index]+=('.'+namespace);}).join(' ');}},destroy:function(){mixins.ParentedMixin.destroy.call(this);this.stop();},start:function(){this._paused=false;this._rafID=window.requestAnimationFrame((function(t){this._update(t);this._paused=true;}).bind(this));if(this.endEvents){this.$startTarget.on(this.startEvents,(function(e){if(this._paused){_.defer(this.play.bind(this,e));}}).bind(this));this.$endTarget.on(this.endEvents,(function(){if(!this._paused){_.defer(this.pause.bind(this));}}).bind(this));}else{var pauseTimer=null;this.$startTarget.on(this.startEvents,_.throttle((function(e){this.play(e);clearTimeout(pauseTimer);pauseTimer=_.delay((function(){this.pause();pauseTimer=null;}).bind(this),2000);}).bind(this),250,{trailing:false}));}},stop:function(){this.$startTarget.off(this.startEvents);if(this.endEvents){this.$endTarget.off(this.endEvents);}
this.pause();},play:function(e){this._newEvent=e;if(!this._paused){return;}
this._paused=false;this._rafID=window.requestAnimationFrame(this._update.bind(this));this._lastUpdateTimestamp=undefined;},pause:function(){if(this._paused){return;}
this._paused=true;window.cancelAnimationFrame(this._rafID);this._lastUpdateTimestamp=undefined;},_update:function(timestamp){if(this._paused){return;}
this._rafID=window.requestAnimationFrame(this._update.bind(this));var elapsedTime=0;if(this._lastUpdateTimestamp){elapsedTime=timestamp-this._lastUpdateTimestamp;if(elapsedTime<this._minFrameTime){return;}}
var animationState=this._getStateCallback(elapsedTime,this._newEvent);if(!this._newEvent&&animationState!==undefined&&_.isEqual(animationState,this._animationLastState)){return;}
this._animationLastState=animationState;this._updateCallback(this._animationLastState,elapsedTime,this._newEvent);this._lastUpdateTimestamp=timestamp;this._newEvent=undefined;},});var Animation=publicWidget.Widget.extend({maxFPS:100,effects:[],start:function(){this._prepareEffects();_.each(this._animationEffects,function(effect){effect.start();});return this._super.apply(this,arguments);},_prepareEffects:function(){this._animationEffects=[];var self=this;_.each(this.effects,function(desc){self._addEffect(self[desc.update],desc.startEvents,_findTarget(desc.startTarget),{getStateCallback:desc.getState&&self[desc.getState],endEvents:desc.endEvents||undefined,$endTarget:_findTarget(desc.endTarget),maxFPS:self.maxFPS,});function _findTarget(selector){if(selector){if(selector==='selector'){return self.$target;}
return self.$(selector);}
return undefined;}});},_addEffect:function(updateCallback,startEvents,$startTarget,options){this._animationEffects.push(new AnimationEffect(this,updateCallback,startEvents,$startTarget,options));},});var registry=publicWidget.registry;registry.slider=publicWidget.Widget.extend({selector:'.carousel',disabledInEditableMode:false,edit_events:{'content_changed':'_onContentChanged',},start:function(){this.$('img').on('load.slider',()=>this._computeHeights());this._computeHeights();this.$target.carousel(this.editableMode?'pause':undefined);$(window).on('resize.slider',_.debounce(()=>this._computeHeights(),250));return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);this.$('img').off('.slider');this.$target.carousel('pause');this.$target.removeData('bs.carousel');_.each(this.$('.carousel-item'),function(el){$(el).css('min-height','');});$(window).off('.slider');},_computeHeights:function(){var maxHeight=0;var $items=this.$('.carousel-item');$items.css('min-height','');_.each($items,function(el){var $item=$(el);var isActive=$item.hasClass('active');$item.addClass('active');var height=$item.outerHeight();if(height>maxHeight){maxHeight=height;}
$item.toggleClass('active',isActive);});$items.css('min-height',maxHeight);},_onContentChanged:function(ev){this._computeHeights();},});registry.Parallax=Animation.extend({selector:'.parallax',disabledInEditableMode:false,effects:[{startEvents:'scroll',update:'_onWindowScroll',}],start:function(){this._rebuild();$(window).on('resize.animation_parallax',_.debounce(this._rebuild.bind(this),500));return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);$(window).off('.animation_parallax');},_rebuild:function(){this.$bg=this.$('> .s_parallax_bg');this.speed=parseFloat(this.$target.attr('data-scroll-background-ratio')||0);var noParallaxSpeed=(this.speed===0||this.speed===1);if(noParallaxSpeed){this.$bg.css({transform:'',top:'',bottom:'',});return;}
this.viewport=document.body.clientHeight-$('#wrapwrap').position().top;this.visibleArea=[this.$target.offset().top];this.visibleArea.push(this.visibleArea[0]+this.$target.innerHeight()+this.viewport);this.ratio=this.speed*(this.viewport/10);const absoluteRatio=Math.abs(this.ratio);this.$bg.css({top:-absoluteRatio,bottom:-absoluteRatio,});},_onWindowScroll:function(scrollOffset){if(this.speed===0||this.speed===1){return;}
var vpEndOffset=scrollOffset+this.viewport;if(vpEndOffset>=this.visibleArea[0]&&vpEndOffset<=this.visibleArea[1]){this.$bg.css('transform','translateY('+_getNormalizedPosition.call(this,vpEndOffset)+'px)');}
function _getNormalizedPosition(pos){var r=(pos-this.visibleArea[1])/(this.visibleArea[0]-this.visibleArea[1]);return Math.round(this.ratio*(2*r-1));}},});registry.mediaVideo=publicWidget.Widget.extend({selector:'.media_iframe_video',start:function(){var def=this._super.apply(this,arguments);if(this.$target.children('iframe').length){return def;}
this.$target.empty();this.$target.append('<div class="css_editable_mode_display">&nbsp;</div>'+'<div class="media_iframe_video_size">&nbsp;</div>');this.$target.append($('<iframe/>',{src:_.escape(this.$target.data('oe-expression')||this.$target.data('src')),frameborder:'0',allowfullscreen:'allowfullscreen',sandbox:'allow-scripts allow-same-origin',}));return def;},});registry.backgroundVideo=publicWidget.Widget.extend({selector:'.o_background_video',xmlDependencies:['/website/static/src/xml/website.background.video.xml'],disabledInEditableMode:false,start:function(){var proms=[this._super(...arguments)];this.videoSrc=this.el.dataset.bgVideoSrc;this.iframeID=_.uniqueId('o_bg_video_iframe_');this.isYoutubeVideo=this.videoSrc.indexOf('youtube')>=0;this.isMobileEnv=config.device.size_class<=config.device.SIZES.LG&&config.device.touch;if(this.isYoutubeVideo&&this.isMobileEnv){this.videoSrc=this.videoSrc+"&enablejsapi=1";if(!window.YT){var oldOnYoutubeIframeAPIReady=window.onYouTubeIframeAPIReady;proms.push(new Promise(resolve=>{window.onYouTubeIframeAPIReady=()=>{if(oldOnYoutubeIframeAPIReady){oldOnYoutubeIframeAPIReady();}
return resolve();};}));$('<script/>',{src:'https://www.youtube.com/iframe_api',}).appendTo('head');}}
var throttledUpdate=_.throttle(()=>this._adjustIframe(),50);var $dropdownMenu=this.$el.closest('.dropdown-menu');if($dropdownMenu.length){this.$dropdownParent=$dropdownMenu.parent();this.$dropdownParent.on('shown.bs.dropdown.backgroundVideo',throttledUpdate);}
$(window).on('resize.'+this.iframeID,throttledUpdate);return Promise.all(proms).then(()=>this._appendBgVideo());},destroy:function(){this._super.apply(this,arguments);if(this.$dropdownParent){this.$dropdownParent.off('.backgroundVideo');}
$(window).off('resize.'+this.iframeID);if(this.$bgVideoContainer){this.$bgVideoContainer.remove();}},_adjustIframe:function(){if(!this.$iframe){return;}
this.$iframe.removeClass('show');var wrapperWidth=this.$target.innerWidth();var wrapperHeight=this.$target.innerHeight();var relativeRatio=(wrapperWidth/wrapperHeight)/(16/9);var style={};if(relativeRatio>=1.0){style['width']='100%';style['height']=(relativeRatio*100)+'%';style['left']='0';style['top']=(-(relativeRatio-1.0)/2*100)+'%';}else{style['width']=((1/relativeRatio)*100)+'%';style['height']='100%';style['left']=(-((1/relativeRatio)-1.0)/2*100)+'%';style['top']='0';}
this.$iframe.css(style);void this.$iframe[0].offsetWidth;this.$iframe.addClass('show');},_appendBgVideo:function(){var $oldContainer=this.$bgVideoContainer||this.$('> .o_bg_video_container');this.$bgVideoContainer=$(qweb.render('website.background.video',{videoSrc:this.videoSrc,iframeID:this.iframeID,}));this.$iframe=this.$bgVideoContainer.find('.o_bg_video_iframe');this.$iframe.one('load',()=>{this.$bgVideoContainer.find('.o_bg_video_loading').remove();});this.$bgVideoContainer.prependTo(this.$target);$oldContainer.remove();this._adjustIframe();if(this.isMobileEnv&&this.isYoutubeVideo){new window.YT.Player(this.iframeID,{events:{onReady:ev=>ev.target.playVideo(),}});}},});registry.socialShare=publicWidget.Widget.extend({selector:'.oe_social_share',xmlDependencies:['/website/static/src/xml/website.share.xml'],events:{'mouseenter':'_onMouseEnter',},_bindSocialEvent:function(){this.$('.oe_social_facebook').click($.proxy(this._renderSocial,this,'facebook'));this.$('.oe_social_twitter').click($.proxy(this._renderSocial,this,'twitter'));this.$('.oe_social_linkedin').click($.proxy(this._renderSocial,this,'linkedin'));},_render:function(){this.$el.popover({content:qweb.render('website.social_hover',{medias:this.socialList}),placement:'bottom',container:this.$el,html:true,trigger:'manual',animation:false,}).popover("show");this.$el.off('mouseleave.socialShare').on('mouseleave.socialShare',function(){var self=this;setTimeout(function(){if(!$(".popover:hover").length){$(self).popover('dispose');}},200);});},_renderSocial:function(social){var url=this.$el.data('urlshare')||document.URL.split(/[?#]/)[0];url=encodeURIComponent(url);var title=document.title.split(" | ")[0];var hashtags=' #'+document.title.split(" | ")[1].replace(' ','')+' '+this.hashtags;var socialNetworks={'facebook':'https://www.facebook.com/sharer/sharer.php?u='+url,'twitter':'https://twitter.com/intent/tweet?original_referer='+url+'&text='+encodeURIComponent(title+hashtags+' - ')+url,'linkedin':'https://www.linkedin.com/sharing/share-offsite/?url='+url,};if(!_.contains(_.keys(socialNetworks),social)){return;}
var wHeight=500;var wWidth=500;window.open(socialNetworks[social],'','menubar=no, toolbar=no, resizable=yes, scrollbar=yes, height='+wHeight+',width='+wWidth);},_onMouseEnter:function(){var social=this.$el.data('social');this.socialList=social?social.split(','):['facebook','twitter','linkedin'];this.hashtags=this.$el.data('hashtags')||'';this._render();this._bindSocialEvent();},});registry.anchorSlide=publicWidget.Widget.extend({selector:'a[href^="/"][href*="#"], a[href^="#"]',events:{'click':'_onAnimateClick',},async _scrollTo($el,scrollValue='true'){return dom.scrollTo($el[0],{duration:scrollValue==='true'?500:0,extraOffset:this._computeExtraOffset(),});},_computeExtraOffset(){return 0;},_onAnimateClick:function(ev){if(this.$target[0].pathname!==window.location.pathname){return;}
var hash=this.$target[0].hash;if(!utils.isValidAnchor(hash)){return;}
var $anchor=$(hash);const scrollValue=$anchor.attr('data-anchor');if(!$anchor.length||!scrollValue){return;}
ev.preventDefault();this._scrollTo($anchor,scrollValue);},});registry.FullScreenHeight=publicWidget.Widget.extend({selector:'.o_full_screen_height',disabledInEditableMode:false,start(){if(this.$el.outerHeight()>this._computeIdealHeight()){this._adaptSize();$(window).on('resize.FullScreenHeight',_.debounce(()=>this._adaptSize(),250));}
return this._super(...arguments);},destroy(){this._super(...arguments);$(window).off('.FullScreenHeight');this.el.style.setProperty('min-height','');},_adaptSize(){const height=this._computeIdealHeight();this.el.style.setProperty('min-height',`${height}px`,'important');},_computeIdealHeight(){const windowHeight=$(window).outerHeight();const firstContentEl=$('#wrapwrap > main > :first-child')[0];const mainTopPos=firstContentEl.getBoundingClientRect().top+dom.closestScrollable(firstContentEl.parentNode).scrollTop;return(windowHeight-mainTopPos);},});registry.ScrollButton=registry.anchorSlide.extend({selector:'.o_scroll_button',_onAnimateClick:function(ev){ev.preventDefault();const $nextSection=this.$el.closest('section').next('section');if($nextSection.length){this._scrollTo($nextSection);}},});registry.FooterSlideout=publicWidget.Widget.extend({selector:'#wrapwrap:has(.o_footer_slideout)',disabledInEditableMode:false,async start(){const $main=this.$('> main');const slideoutEffect=$main.outerHeight()>=$(window).outerHeight();this.el.classList.toggle('o_footer_effect_enable',slideoutEffect);this.__pixelEl=document.createElement('div');this.__pixelEl.style.width=`1px`;this.__pixelEl.style.height=`1px`;this.__pixelEl.style.marginTop=`-1px`;this.el.appendChild(this.__pixelEl);return this._super(...arguments);},destroy(){this._super(...arguments);this.el.classList.remove('o_footer_effect_enable');this.__pixelEl.remove();},});registry.HeaderHamburgerFull=publicWidget.Widget.extend({selector:'header:has(.o_header_hamburger_full_toggler):not(:has(.o_offcanvas_menu_toggler))',events:{'click .o_header_hamburger_full_toggler':'_onToggleClick',},_onToggleClick(){document.body.classList.add('overflow-hidden');setTimeout(()=>$(window).trigger('scroll'),100);},});return{Widget:publicWidget.Widget,Animation:Animation,registry:registry,Class:Animation,};});;

/* /website/static/src/js/menu/navbar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.navbar',function(require){'use strict';var core=require('web.core');var dom=require('web.dom');var publicWidget=require('web.public.widget');var concurrency=require('web.concurrency');var Widget=require('web.Widget');var websiteRootData=require('website.root');var websiteNavbarRegistry=new publicWidget.RootWidgetRegistry();var WebsiteNavbar=publicWidget.RootWidget.extend({xmlDependencies:['/website/static/src/xml/website.xml'],events:_.extend({},publicWidget.RootWidget.prototype.events||{},{'click [data-action]':'_onActionMenuClick','mouseover > ul > li.dropdown:not(.show)':'_onMenuHovered','click .o_mobile_menu_toggle':'_onMobileMenuToggleClick','mouseenter #oe_applications:not(:has(.dropdown-item))':'_onOeApplicationsHovered','show.bs.dropdown #oe_applications:not(:has(.dropdown-item))':'_onOeApplicationsShow',}),custom_events:_.extend({},publicWidget.RootWidget.prototype.custom_events||{},{'action_demand':'_onActionDemand','edit_mode':'_onEditMode','readonly_mode':'_onReadonlyMode','ready_to_save':'_onSave',}),init:function(){this._super.apply(this,arguments);var self=this;var initPromise=new Promise(function(resolve){self.resolveInit=resolve;});this._widgetDefs=[initPromise];},start:function(){var self=this;dom.initAutoMoreMenu(this.$('ul.o_menu_sections'),{maxWidth:function(){return self.$el.width()
-(self.$('.o_menu_systray').outerWidth(true)||0)
-(self.$('ul#oe_applications').outerWidth(true)||0)
-(self.$('.o_menu_toggle').outerWidth(true)||0)
-(self.$('.o_menu_brand').outerWidth(true)||0);},});return this._super.apply(this,arguments).then(function(){self.resolveInit();});},_attachComponent:function(){var def=this._super.apply(this,arguments);this._widgetDefs.push(def);return def;},_getRegistry:function(){return websiteNavbarRegistry;},_handleAction:function(actionName,params,_i){var self=this;return this._whenReadyForActions().then(function(){var defs=[];_.each(self._widgets,function(w){if(!w.handleAction){return;}
var def=w.handleAction(actionName,params);if(def!==null){defs.push(def);}});if(!defs.length){if(_i>50){console.warn(_.str.sprintf("Action '%s' was not able to be handled.",actionName));return Promise.reject();}
return concurrency.delay(100).then(function(){return self._handleAction(actionName,params,(_i||0)+1);});}
return Promise.all(defs).then(function(values){if(values.length===1){return values[0];}
return values;});});},async _loadAppMenus(){if(!this._loadAppMenusProm){this._loadAppMenusProm=this._rpc({model:'ir.ui.menu',method:'load_menus_root',args:[],});const result=await this._loadAppMenusProm;const menus=core.qweb.render('website.oe_applications_menu',{'menu_data':result,});this.$('#oe_applications .dropdown-menu').html(menus);}
return this._loadAppMenusProm;},_whenReadyForActions:function(){return Promise.all(this._widgetDefs);},_onOeApplicationsHovered:function(){this._loadAppMenus();},_onOeApplicationsShow:function(){this._loadAppMenus();},_onActionMenuClick:function(ev){var $button=$(ev.currentTarget);$button.prop('disabled',true);var always=function(){$button.prop('disabled',false);};this._handleAction($button.data('action')).then(always).guardedCatch(always);},_onActionDemand:function(ev){var def=this._handleAction(ev.data.actionName,ev.data.params);if(ev.data.onSuccess){def.then(ev.data.onSuccess);}
if(ev.data.onFailure){def.guardedCatch(ev.data.onFailure);}},_onEditMode:function(){this.$el.addClass('editing_mode');this.do_hide();},_onMenuHovered:function(ev){var $opened=this.$('> ul > li.dropdown.show');if($opened.length){$opened.find('.dropdown-toggle').dropdown('toggle');$(ev.currentTarget).find('.dropdown-toggle').dropdown('toggle');}},_onMobileMenuToggleClick:function(){this.$el.parent().toggleClass('o_mobile_menu_opened');},_onReadonlyMode:function(){this.$el.removeClass('editing_mode');this.do_show();},_onSave:function(ev){ev.data.defs.push(this._handleAction('on_save'));},});var WebsiteNavbarActionWidget=Widget.extend({actions:{},handleAction:function(actionName,params){var action=this[this.actions[actionName]];if(action){return Promise.resolve(action.apply(this,params||[]));}
return null;},});websiteRootData.websiteRootRegistry.add(WebsiteNavbar,'#oe_main_menu_navbar');return{WebsiteNavbar:WebsiteNavbar,websiteNavbarRegistry:websiteNavbarRegistry,WebsiteNavbarActionWidget:WebsiteNavbarActionWidget,};});;

/* /website/static/src/js/show_password.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.show_password',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.ShowPassword=publicWidget.Widget.extend({selector:'#showPass',events:{'mousedown':'_onShowText','touchstart':'_onShowText',},destroy:function(){this._super(...arguments);$('body').off(".ShowPassword");},_onShowPassword:function(){this.$el.closest('.input-group').find('#password').attr('type','password');},_onShowText:function(){$('body').one('mouseup.ShowPassword touchend.ShowPassword',this._onShowPassword.bind(this));this.$el.closest('.input-group').find('#password').attr('type','text');},});return publicWidget.registry.ShowPassword;});;

/* /website/static/src/js/post_link.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.post_link',function(require){'use strict';const publicWidget=require('web.public.widget');const wUtils=require('website.utils');publicWidget.registry.postLink=publicWidget.Widget.extend({selector:'.post_link',events:{'click':'_onClickPost',},_onClickPost:function(ev){ev.preventDefault();const url=this.el.dataset.post||this.el.href;let data={};for(let[key,value]of Object.entries(this.el.dataset)){if(key.startsWith('post_')){data[key.slice(5)]=value;}};wUtils.sendRequest(url,data);},});});;

/* /website/static/src/js/user_custom_javascript.js defined in bundle 'web.assets_frontend_lazy' */
;

/* /website/static/src/snippets/s_share/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_share',function(require){'use strict';const publicWidget=require('web.public.widget');const ShareWidget=publicWidget.Widget.extend({selector:'.s_share, .oe_share',start:function(){var urlRegex=/(\?(?:|.*&)(?:u|url|body)=)(.*?)(&|#|$)/;var titleRegex=/(\?(?:|.*&)(?:title|text|subject)=)(.*?)(&|#|$)/;var url=encodeURIComponent(window.location.href);var title=encodeURIComponent($('title').text());this.$('a').each(function(){var $a=$(this);$a.attr('href',function(i,href){return href.replace(urlRegex,function(match,a,b,c){return a+url+c;}).replace(titleRegex,function(match,a,b,c){return a+title+c;});});if($a.attr('target')&&$a.attr('target').match(/_blank/i)&&!$a.closest('.o_editable').length){$a.on('click',function(){window.open(this.href,'','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=550,width=600');return false;});}});return this._super.apply(this,arguments);},});publicWidget.registry.share=ShareWidget;return ShareWidget;});;

/* /website/static/src/snippets/s_facebook_page/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_facebook_page',function(require){'use strict';var publicWidget=require('web.public.widget');var utils=require('web.utils');const FacebookPageWidget=publicWidget.Widget.extend({selector:'.o_facebook_page',disabledInEditableMode:false,start:function(){var def=this._super.apply(this,arguments);var params=_.pick(this.$el.data(),'href','height','tabs','small_header','hide_cover','show_facepile');if(!params.href){return def;}
params.width=utils.confine(Math.floor(this.$el.width()),180,500);var src=$.param.querystring('https://www.facebook.com/plugins/page.php',params);this.$iframe=$('<iframe/>',{src:src,class:'o_temp_auto_element',width:params.width,height:params.height,css:{border:'none',overflow:'hidden',},scrolling:'no',frameborder:'0',allowTransparency:'true',});this.$el.append(this.$iframe);return def;},destroy:function(){this._super.apply(this,arguments);if(this.$iframe){this.$iframe.remove();}},});publicWidget.registry.facebookPage=FacebookPageWidget;return FacebookPageWidget;});;

/* /website/static/src/snippets/s_image_gallery/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_image_gallery',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var qweb=core.qweb;const GalleryWidget=publicWidget.Widget.extend({selector:'.s_image_gallery:not(.o_slideshow)',xmlDependencies:['/website/static/src/snippets/s_image_gallery/000.xml'],events:{'click img':'_onClickImg',},_onClickImg:function(ev){var self=this;var $cur=$(ev.currentTarget);var $images=$cur.closest('.s_image_gallery').find('img');var size=0.8;var dimensions={min_width:Math.round(window.innerWidth*size*0.9),min_height:Math.round(window.innerHeight*size),max_width:Math.round(window.innerWidth*size*0.9),max_height:Math.round(window.innerHeight*size),width:Math.round(window.innerWidth*size*0.9),height:Math.round(window.innerHeight*size)};var $img=($cur.is('img')===true)?$cur:$cur.closest('img');const milliseconds=$cur.closest('.s_image_gallery').data('interval')||false;var $modal=$(qweb.render('website.gallery.slideshow.lightbox',{images:$images.get(),index:$images.index($img),dim:dimensions,interval:milliseconds||0,id:_.uniqueId('slideshow_'),}));$modal.modal({keyboard:true,backdrop:true,});$modal.on('hidden.bs.modal',function(){$(this).hide();$(this).siblings().filter('.modal-backdrop').remove();$(this).remove();});$modal.find('.modal-content, .modal-body.o_slideshow').css('height','100%');$modal.appendTo(document.body);$modal.one('shown.bs.modal',function(){self.trigger_up('widgets_start_request',{editableMode:false,$target:$modal.find('.modal-body.o_slideshow'),});});},});const GallerySliderWidget=publicWidget.Widget.extend({selector:'.o_slideshow',xmlDependencies:['/website/static/src/snippets/s_image_gallery/000.xml'],disabledInEditableMode:false,start:function(){var self=this;this.$carousel=this.$target.is('.carousel')?this.$target:this.$target.find('.carousel');this.$indicator=this.$carousel.find('.carousel-indicators');this.$prev=this.$indicator.find('li.o_indicators_left').css('visibility','');this.$next=this.$indicator.find('li.o_indicators_right').css('visibility','');var $lis=this.$indicator.find('li[data-slide-to]');var nbPerPage=Math.floor(this.$indicator.width()/$lis.first().outerWidth(true))-3;var realNbPerPage=nbPerPage||1;var nbPages=Math.ceil($lis.length/realNbPerPage);var index;var page;update();function hide(){$lis.each(function(i){$(this).toggleClass('d-none',i<page*nbPerPage||i>=(page+1)*nbPerPage);});if(page<=0){self.$prev.detach();}else{self.$prev.removeClass('d-none');self.$prev.prependTo(self.$indicator);}
if(page>=nbPages-1){self.$next.detach();}else{self.$next.removeClass('d-none');self.$next.appendTo(self.$indicator);}}
function update(){index=$lis.index($lis.filter('.active'))||0;page=Math.floor(index/realNbPerPage);hide();}
this.$carousel.on('slide.bs.carousel.gallery_slider',function(){setTimeout(function(){var $item=self.$carousel.find('.carousel-inner .carousel-item-prev, .carousel-inner .carousel-item-next');var index=$item.index();$lis.removeClass('active').filter('[data-slide-to="'+index+'"]').addClass('active');},0);});this.$indicator.on('click.gallery_slider','> li:not([data-slide-to])',function(){page+=($(this).hasClass('o_indicators_left')?-1:1);page=Math.max(0,Math.min(nbPages-1,page));self.$carousel.carousel(page*realNbPerPage);if(!self.editableMode){hide();}});this.$carousel.on('slid.bs.carousel.gallery_slider',update);return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);if(!this.$indicator){return;}
this.$prev.prependTo(this.$indicator);this.$next.appendTo(this.$indicator);this.$carousel.off('.gallery_slider');this.$indicator.off('.gallery_slider');},});publicWidget.registry.gallery=GalleryWidget;publicWidget.registry.gallerySlider=GallerySliderWidget;return{GalleryWidget:GalleryWidget,GallerySliderWidget:GallerySliderWidget,};});;

/* /website/static/src/snippets/s_countdown/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_countdown',function(require){'use strict';const{ColorpickerWidget}=require('web.Colorpicker');const core=require('web.core');const publicWidget=require('web.public.widget');const weUtils=require('web_editor.utils');const qweb=core.qweb;const _t=core._t;const CountdownWidget=publicWidget.Widget.extend({selector:'.s_countdown',xmlDependencies:['/website/static/src/snippets/s_countdown/000.xml'],disabledInEditableMode:false,start:function(){this.$wrapper=this.$('.s_countdown_canvas_wrapper');this.hereBeforeTimerEnds=false;this.endAction=this.el.dataset.endAction;this.endTime=parseInt(this.el.dataset.endTime);this.size=parseInt(this.el.dataset.size);this.display=this.el.dataset.display;this.layout=this.el.dataset.layout;this.layoutBackground=this.el.dataset.layoutBackground;this.progressBarStyle=this.el.dataset.progressBarStyle;this.progressBarWeight=this.el.dataset.progressBarWeight;this.textColor=this._ensureCssColor(this.el.dataset.textColor);this.layoutBackgroundColor=this._ensureCssColor(this.el.dataset.layoutBackgroundColor);this.progressBarColor=this._ensureCssColor(this.el.dataset.progressBarColor);this.onlyOneUnit=this.display==='d';this.width=parseInt(this.size);if(this.layout==='boxes'){this.width/=1.75;}
this._initTimeDiff();this._render();this.setInterval=setInterval(this._render.bind(this),1000);return this._super(...arguments);},destroy:function(){this.$('.s_countdown_end_redirect_message').remove();this.$('canvas').remove();this.$('.s_countdown_end_message').addClass('d-none');this.$('.s_countdown_text_wrapper').remove();this.$('.s_countdown_canvas_wrapper').removeClass('d-none');clearInterval(this.setInterval);this._super(...arguments);},_ensureCssColor:function(color){if(ColorpickerWidget.isCSSColor(color)){return color;}
return weUtils.getCSSVariableValue(color);},_getDelta:function(){const currentTimestamp=Date.now()/1000;return this.endTime-currentTimestamp;},_handleEndCountdownAction:function(){if(this.endAction==='redirect'){const redirectUrl=this.el.dataset.redirectUrl||'/';if(this.hereBeforeTimerEnds){setTimeout(()=>window.location=redirectUrl,500);}else{if(!this.$('.s_countdown_end_redirect_message').length){const $container=this.$('> .container, > .container-fluid, > .o_container_small');$container.append($(qweb.render('website.s_countdown.end_redirect_message',{redirectUrl:redirectUrl,})));}}}else if(this.endAction==='message'){this.$('.s_countdown_end_message').removeClass('d-none');}},_initTimeDiff:function(){const delta=this._getDelta();this.diff=[];if(this._isUnitVisible('d')&&!(this.onlyOneUnit&&delta<86400)){this.diff.push({canvas:$('<canvas/>').appendTo(this.$wrapper)[0],total:15,label:_t("Days"),nbSeconds:86400,});}
if(this._isUnitVisible('h')||(this.onlyOneUnit&&delta<86400&&delta>3600)){this.diff.push({canvas:$('<canvas/>').appendTo(this.$wrapper)[0],total:24,label:_t("Hours"),nbSeconds:3600,});}
if(this._isUnitVisible('m')||(this.onlyOneUnit&&delta<3600&&delta>60)){this.diff.push({canvas:$('<canvas/>').appendTo(this.$wrapper)[0],total:60,label:_t("Minutes"),nbSeconds:60,});}
if(this._isUnitVisible('s')||(this.onlyOneUnit&&delta<60)){this.diff.push({canvas:$('<canvas/>').appendTo(this.$wrapper)[0],total:60,label:_t("Seconds"),nbSeconds:1,});}},_isUnitVisible:function(unit){return this.display.includes(unit);},_render:function(){if(this.onlyOneUnit&&this._getDelta()<this.diff[0].nbSeconds){this.$('canvas').remove();this._initTimeDiff();}
this._updateTimeDiff();const hideCountdown=this.isFinished&&!this.editableMode&&this.$el.hasClass('hide-countdown');if(this.layout==='text'){this.$('canvas').addClass('d-none');if(!this.$textWrapper){this.$textWrapper=$('<span/>').attr({class:'s_countdown_text_wrapper d-none',});this.$textWrapper.text(_t("Countdown ends in"));this.$textWrapper.append($('<span/>').attr({class:'s_countdown_text ml-1',}));this.$textWrapper.appendTo(this.$wrapper);}
this.$textWrapper.toggleClass('d-none',hideCountdown);const countdownText=this.diff.map(e=>e.nb+' '+e.label).join(', ');this.$('.s_countdown_text').text(countdownText.toLowerCase());}else{for(const val of this.diff){const canvas=val.canvas;const ctx=canvas.getContext("2d");ctx.canvas.width=this.width;ctx.canvas.height=this.size;this._clearCanvas(ctx);$(canvas).toggleClass('d-none',hideCountdown);if(hideCountdown){continue;}
if(this.layoutBackground!=='none'){this._drawBgShape(ctx,this.layoutBackground==='plain');}
this._drawText(canvas,val.nb,val.label,this.layoutBackground==='plain');if(this.progressBarStyle==='surrounded'){this._drawProgressBarBg(ctx,this.progressBarWeight==='thin');}
if(this.progressBarStyle!=='none'){this._drawProgressBar(ctx,val.nb,val.total,this.progressBarWeight==='thin');}
$(canvas).toggleClass('mx-2',this.layout==='boxes');}}
if(this.isFinished){clearInterval(this.setInterval);if(!this.editableMode){this._handleEndCountdownAction();}}},_updateTimeDiff:function(){let delta=this._getDelta();this.isFinished=delta<0;if(this.isFinished){for(const unitData of this.diff){unitData.nb=0;}
return;}
this.hereBeforeTimerEnds=true;for(const unitData of this.diff){unitData.nb=Math.floor(delta/unitData.nbSeconds);delta-=unitData.nb*unitData.nbSeconds;}},_clearCanvas:function(ctx){ctx.clearRect(0,0,this.size,this.size);},_drawText:function(canvas,textNb,textUnit,full=false){const ctx=canvas.getContext("2d");const nbSize=this.size/4;ctx.font=`${nbSize}px Arial`;ctx.fillStyle=this.textColor;ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(textNb,canvas.width/2,canvas.height/2);const unitSize=this.size/12;ctx.font=`${unitSize}px Arial`;ctx.fillText(textUnit,canvas.width/2,canvas.height/2+nbSize/1.5,this.width);if(this.layout==='boxes'&&this.layoutBackground!=='none'&&this.progressBarStyle==='none'){let barWidth=this.size/(this.progressBarWeight==='thin'?31:10);if(full){barWidth=0;}
ctx.beginPath();ctx.moveTo(barWidth,this.size/2);ctx.lineTo(this.width-barWidth,this.size/2);ctx.stroke();}},_drawBgShape:function(ctx,full=false){ctx.fillStyle=this.layoutBackgroundColor;ctx.beginPath();if(this.layout==='circle'){let rayon=this.size/2;if(this.progressBarWeight==='thin'){rayon-=full?this.size/29:this.size/15;}else{rayon-=full?0:this.size/10;}
ctx.arc(this.size/2,this.size/2,rayon,0,Math.PI*2);ctx.fill();}else if(this.layout==='boxes'){let barWidth=this.size/(this.progressBarWeight==='thin'?31:10);if(full){barWidth=0;}
ctx.fillStyle=this.layoutBackgroundColor;ctx.rect(barWidth,barWidth,this.width-barWidth*2,this.size-barWidth*2);ctx.fill();const gradient=ctx.createLinearGradient(0,this.width,0,0);gradient.addColorStop(0,'#ffffff24');gradient.addColorStop(1,this.layoutBackgroundColor);ctx.fillStyle=gradient;ctx.rect(barWidth,barWidth,this.width-barWidth*2,this.size-barWidth*2);ctx.fill();$(ctx.canvas).css({'border-radius':'8px'});}},_drawProgressBar:function(ctx,nbUnit,totalUnit,thinLine){ctx.strokeStyle=this.progressBarColor;ctx.lineWidth=thinLine?this.size/35:this.size/10;if(this.layout==='circle'){ctx.beginPath();ctx.arc(this.size/2,this.size/2,this.size/2-this.size/20,Math.PI/-2,(Math.PI*2)*(nbUnit/totalUnit)+(Math.PI/-2));ctx.stroke();}else if(this.layout==='boxes'){ctx.lineWidth*=2;let pc=nbUnit/totalUnit*100;const linesCoordFuncs=[(linePc)=>[0+ctx.lineWidth/2,0,(this.width-ctx.lineWidth/2)*linePc/25+ctx.lineWidth/2,0],(linePc)=>[this.width,0+ctx.lineWidth/2,this.width,(this.size-ctx.lineWidth/2)*linePc/25+ctx.lineWidth/2],(linePc)=>[this.width-((this.width-ctx.lineWidth/2)*linePc/25)-ctx.lineWidth/2,this.size,this.width-ctx.lineWidth/2,this.size],(linePc)=>[0,this.size-((this.size-ctx.lineWidth/2)*linePc/25)-ctx.lineWidth/2,0,this.size-ctx.lineWidth/2],];while(pc>0&&linesCoordFuncs.length){const linePc=Math.min(pc,25);const lineCoord=(linesCoordFuncs.shift())(linePc);ctx.beginPath();ctx.moveTo(lineCoord[0],lineCoord[1]);ctx.lineTo(lineCoord[2],lineCoord[3]);ctx.stroke();pc-=linePc;}}},_drawProgressBarBg:function(ctx,thinLine){ctx.strokeStyle=this.progressBarColor;ctx.globalAlpha=0.2;ctx.lineWidth=thinLine?this.size/35:this.size/10;if(this.layout==='circle'){ctx.beginPath();ctx.arc(this.size/2,this.size/2,this.size/2-this.size/20,0,Math.PI*2);ctx.stroke();}else if(this.layout==='boxes'){ctx.lineWidth*=2;const points=[[0+ctx.lineWidth/2,0,this.width,0],[this.width,0+ctx.lineWidth/2,this.width,this.size],[0,this.size,this.width-ctx.lineWidth/2,this.size],[0,0,0,this.size-ctx.lineWidth/2],];while(points.length){const point=points.shift();ctx.beginPath();ctx.moveTo(point[0],point[1]);ctx.lineTo(point[2],point[3]);ctx.stroke();}}
ctx.globalAlpha=1;},});publicWidget.registry.countdown=CountdownWidget;return CountdownWidget;});;

/* /website/static/src/snippets/s_popup/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_popup',function(require){'use strict';const config=require('web.config');const publicWidget=require('web.public.widget');const utils=require('web.utils');const PopupWidget=publicWidget.Widget.extend({selector:'.s_popup',events:{'click .js_close_popup':'_onCloseClick','hide.bs.modal':'_onHideModal',},start:function(){this._popupAlreadyShown=!!utils.get_cookie(this.$el.attr('id'));if(!this._popupAlreadyShown){this._bindPopup();}
return this._super(...arguments);},destroy:function(){this._super.apply(this,arguments);$(document).off('mouseleave.open_popup');clearTimeout(this.timeout);},_bindPopup:function(){const $main=this.$target.find('.modal');let display=$main.data('display');let delay=$main.data('showAfter');if(config.device.isMobile){if(display==='onExit'){display='afterDelay';delay=5000;}
this.$('.modal').removeClass('s_popup_middle').addClass('s_popup_bottom');}
if(display==='afterDelay'){this.timeout=setTimeout(()=>this._showPopup(),delay);}else{$(document).on('mouseleave.open_popup',()=>this._showPopup());}},_hidePopup:function(){this.$target.find('.modal').modal('hide');},_showPopup:function(){if(this._popupAlreadyShown){return;}
this.$target.find('.modal').modal('show');},_onCloseClick:function(){this._hidePopup();},_onHideModal:function(){const nbDays=this.$el.find('.modal').data('consentsDuration');utils.set_cookie(this.$el.attr('id'),true,nbDays*24*60*60);this._popupAlreadyShown=true;},});publicWidget.registry.popup=PopupWidget;const _baseSetScrollbar=$.fn.modal.Constructor.prototype._setScrollbar;$.fn.modal.Constructor.prototype._setScrollbar=function(){if(this._element.classList.contains('s_popup_no_backdrop')){return;}
return _baseSetScrollbar.apply(this,...arguments);};const _baseGetScrollbarWidth=$.fn.modal.Constructor.prototype._getScrollbarWidth;$.fn.modal.Constructor.prototype._getScrollbarWidth=function(){if(this._element.classList.contains('s_popup_no_backdrop')){return 0;}
return _baseGetScrollbarWidth.apply(this,...arguments);};return PopupWidget;});;

/* /website/static/src/snippets/s_table_of_content/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_table_of_content',function(require){'use strict';const publicWidget=require('web.public.widget');const{extraMenuUpdateCallbacks}=require('website.content.menu');const TableOfContent=publicWidget.Widget.extend({selector:'section .s_table_of_content_navbar_sticky',disabledInEditableMode:false,async start(){await this._super(...arguments);this._updateTableOfContentNavbarPosition();extraMenuUpdateCallbacks.push(this._updateTableOfContentNavbarPosition.bind(this));},destroy(){this.$target.css('top','');this.$target.find('.s_table_of_content_navbar').css('top','');this._super(...arguments);},_updateTableOfContentNavbarPosition(){let position=0;const $fixedElements=$('.o_top_fixed_element');_.each($fixedElements,el=>position+=$(el).outerHeight());const isHorizontalNavbar=this.$target.hasClass('s_table_of_content_horizontal_navbar');this.$target.css('top',isHorizontalNavbar?position:'');this.$target.find('.s_table_of_content_navbar').css('top',isHorizontalNavbar?'':position+20);const $mainNavBar=$('#oe_main_menu_navbar');position+=$mainNavBar.length?$mainNavBar.outerHeight():0;position+=isHorizontalNavbar?this.$target.outerHeight():0;$().getScrollingElement().scrollspy({target:'.s_table_of_content_navbar',method:'offset',offset:position+100});},});publicWidget.registry.anchorSlide.include({_computeExtraOffset(){let extraOffset=this._super(...arguments);if(this.$el.hasClass('table_of_content_link')){const tableOfContentNavbarEl=this.$el.closest('.s_table_of_content_navbar_sticky.s_table_of_content_horizontal_navbar');if(tableOfContentNavbarEl.length>0){extraOffset+=$(tableOfContentNavbarEl).outerHeight();}}
return extraOffset;},});publicWidget.registry.snippetTableOfContent=TableOfContent;return TableOfContent;});;

/* /website/static/src/snippets/s_chart/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_chart',function(require){'use strict';const publicWidget=require('web.public.widget');const weUtils=require('web_editor.utils');const ChartWidget=publicWidget.Widget.extend({selector:'.s_chart',disabledInEditableMode:false,jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,options){this._super.apply(this,arguments);this.style=window.getComputedStyle(document.documentElement);},start:function(){const data=JSON.parse(this.el.dataset.data);data.datasets.forEach(el=>{if(Array.isArray(el.backgroundColor)){el.backgroundColor=el.backgroundColor.map(el=>this._convertToCssColor(el));el.borderColor=el.borderColor.map(el=>this._convertToCssColor(el));}else{el.backgroundColor=this._convertToCssColor(el.backgroundColor);el.borderColor=this._convertToCssColor(el.borderColor);}
el.borderWidth=this.el.dataset.borderWidth;});const chartData={type:this.el.dataset.type,data:data,options:{legend:{display:this.el.dataset.legendPosition!=='none',position:this.el.dataset.legendPosition,},tooltips:{enabled:this.el.dataset.tooltipDisplay==='true',},title:{display:!!this.el.dataset.title,text:this.el.dataset.title,},},};if(this.el.dataset.type==='radar'){chartData.options.scale={ticks:{beginAtZero:true,}};}else if(['pie','doughnut'].includes(this.el.dataset.type)){chartData.options.tooltips.callbacks={label:(tooltipItem,data)=>{const label=data.datasets[tooltipItem.datasetIndex].label;const secondLabel=data.labels[tooltipItem.index];let final=label;if(label){if(secondLabel){final=label+' - '+secondLabel;}}else if(secondLabel){final=secondLabel;}
return final+':'+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];},};}else{chartData.options.scales={xAxes:[{stacked:this.el.dataset.stacked==='true',ticks:{beginAtZero:true},}],yAxes:[{stacked:this.el.dataset.stacked==='true',ticks:{beginAtZero:true},}],};}
if(this.editableMode){chartData.options.animation={duration:0,};}
const canvas=this.el.querySelector('canvas');this.chart=new window.Chart(canvas,chartData);return this._super.apply(this,arguments);},destroy:function(){if(this.chart){this.chart.destroy();this.el.querySelectorAll('.chartjs-size-monitor').forEach(el=>el.remove());}
this._super.apply(this,arguments);},_convertToCssColor:function(color){if(!color){return'transparent';}
return weUtils.getCSSVariableValue(color,this.style)||color;},});publicWidget.registry.chart=ChartWidget;return ChartWidget;});;

/* /website/static/src/snippets/s_google_map/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_google_map',function(require){'use strict';const publicWidget=require('web.public.widget');publicWidget.registry.GoogleMap=publicWidget.Widget.extend({selector:'.s_google_map',disabledInEditableMode:false,mapColors:{lightMonoMap:[{"featureType":"administrative.locality","elementType":"all","stylers":[{"hue":"#2c2e33"},{"saturation":7},{"lightness":19},{"visibility":"on"}]},{"featureType":"landscape","elementType":"all","stylers":[{"hue":"#ffffff"},{"saturation":-100},{"lightness":100},{"visibility":"simplified"}]},{"featureType":"poi","elementType":"all","stylers":[{"hue":"#ffffff"},{"saturation":-100},{"lightness":100},{"visibility":"off"}]},{"featureType":"road","elementType":"geometry","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":31},{"visibility":"simplified"}]},{"featureType":"road","elementType":"labels","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":31},{"visibility":"on"}]},{"featureType":"road.arterial","elementType":"labels","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":-2},{"visibility":"simplified"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"hue":"#e9ebed"},{"saturation":-90},{"lightness":-8},{"visibility":"simplified"}]},{"featureType":"transit","elementType":"all","stylers":[{"hue":"#e9ebed"},{"saturation":10},{"lightness":69},{"visibility":"on"}]},{"featureType":"water","elementType":"all","stylers":[{"hue":"#e9ebed"},{"saturation":-78},{"lightness":67},{"visibility":"simplified"}]}],lillaMap:[{elementType:"labels",stylers:[{saturation:-20}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:'road.highway',elementType:'labels',stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.sport_complex",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"transit.station",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"landscape",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"water",elementType:"geometry",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]}],blueMap:[{stylers:[{hue:"#00ffe6"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],retroMap:[{"featureType":"administrative","elementType":"all","stylers":[{"visibility":"on"},{"lightness":33}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2e5d4"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#c5dac6"}]},{"featureType":"poi.park","elementType":"labels","stylers":[{"visibility":"on"},{"lightness":20}]},{"featureType":"road","elementType":"all","stylers":[{"lightness":20}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#c5c6c6"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#e4d7c6"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#fbfaf7"}]},{"featureType":"water","elementType":"all","stylers":[{"visibility":"on"},{"color":"#acbcc9"}]}],flatMap:[{"stylers":[{"visibility":"off"}]},{"featureType":"road","stylers":[{"visibility":"on"},{"color":"#ffffff"}]},{"featureType":"road.arterial","stylers":[{"visibility":"on"},{"color":"#fee379"}]},{"featureType":"road.highway","stylers":[{"visibility":"on"},{"color":"#fee379"}]},{"featureType":"landscape","stylers":[{"visibility":"on"},{"color":"#f3f4f4"}]},{"featureType":"water","stylers":[{"visibility":"on"},{"color":"#7fc8ed"}]},{},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"color":"#83cead"}]},{"elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"weight":0.9},{"visibility":"off"}]}],cobaltMap:[{"featureType":"all","elementType":"all","stylers":[{"invert_lightness":true},{"saturation":10},{"lightness":30},{"gamma":0.5},{"hue":"#435158"}]}],cupertinoMap:[{"featureType":"water","elementType":"geometry","stylers":[{"color":"#a2daf2"}]},{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"color":"#f7f1df"}]},{"featureType":"landscape.natural","elementType":"geometry","stylers":[{"color":"#d0e3b4"}]},{"featureType":"landscape.natural.terrain","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#bde6ab"}]},{"featureType":"poi","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"geometry","stylers":[{"color":"#fbd3da"}]},{"featureType":"poi.business","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#ffe15f"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#efd151"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"black"}]},{"featureType":"transit.station.airport","elementType":"geometry.fill","stylers":[{"color":"#cfb2db"}]}],carMap:[{"featureType":"administrative","stylers":[{"visibility":"off"}]},{"featureType":"poi","stylers":[{"visibility":"simplified"}]},{"featureType":"road","stylers":[{"visibility":"simplified"}]},{"featureType":"water","stylers":[{"visibility":"simplified"}]},{"featureType":"transit","stylers":[{"visibility":"simplified"}]},{"featureType":"landscape","stylers":[{"visibility":"simplified"}]},{"featureType":"road.highway","stylers":[{"visibility":"off"}]},{"featureType":"road.local","stylers":[{"visibility":"on"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"visibility":"on"}]},{"featureType":"water","stylers":[{"color":"#84afa3"},{"lightness":52}]},{"stylers":[{"saturation":-77}]},{"featureType":"road"}],bwMap:[{stylers:[{hue:"#00ffe6"},{saturation:-100}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],},async start(){await this._super(...arguments);if(typeof google!=='object'||typeof google.maps!=='object'){await new Promise(resolve=>{this.trigger_up('gmap_api_request',{editableMode:this.editableMode,onSuccess:()=>resolve(),});});return;}
const std=[];new google.maps.StyledMapType(std,{name:"Std Map"});const myOptions={zoom:12,center:new google.maps.LatLng(50.854975,4.3753899),mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:false,zoomControl:false,mapTypeControl:false,streetViewControl:false,scrollwheel:false,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,'map_style']}};const mapC=this.$('.map_container');const map=new google.maps.Map(mapC.get(0),myOptions);const p=this.el.dataset.mapGps.substring(1).slice(0,-1).split(',');const gps=new google.maps.LatLng(p[0],p[1]);map.setCenter(gps);google.maps.event.addDomListener(window,'resize',()=>{map.setCenter(gps);});const markerOptions={map:map,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(p[0],p[1])};if(this.el.dataset.pinStyle==='flat'){markerOptions.icon='/website/static/src/img/snippets_thumbs/s_google_map_marker.png';}
new google.maps.Marker(markerOptions);map.setMapTypeId(google.maps.MapTypeId[this.el.dataset.mapType]);map.setZoom(parseInt(this.el.dataset.mapZoom));const mapColorAttr=this.el.dataset.mapColor;if(mapColorAttr){const mapColor=this.mapColors[mapColorAttr];map.mapTypes.set('map_style',new google.maps.StyledMapType(mapColor,{name:"Styled Map"}));map.setMapTypeId('map_style');}},});});;

/* /website/static/src/snippets/s_dynamic_snippet/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_dynamic_snippet',function(require){'use strict';const core=require('web.core');const config=require('web.config');const publicWidget=require('web.public.widget');const DynamicSnippet=publicWidget.Widget.extend({selector:'.s_dynamic_snippet',xmlDependencies:['/website/static/src/snippets/s_dynamic_snippet/000.xml'],read_events:{'click [data-url]':'_onCallToAction',},disabledInEditableMode:false,init:function(){this._super.apply(this,arguments);this.data=[];this.renderedContent='';this.isDesplayedAsMobile=config.device.isMobile;this.uniqueId=_.uniqueId('s_dynamic_snippet_');this.template_key='website.s_dynamic_snippet.grid';},willStart:function(){return this._super.apply(this,arguments).then(()=>Promise.all([this._fetchData(),this._manageWarningMessageVisibility()]));},start:function(){return this._super.apply(this,arguments).then(()=>{this._setupSizeChangedManagement(true);this._render();this._toggleVisibility(true);});},destroy:function(){this._toggleVisibility(false);this._setupSizeChangedManagement(false);this._clearContent();this._super.apply(this,arguments);},_clearContent:function(){const $dynamicSnippetTemplate=this.$el.find('.dynamic_snippet_template');if($dynamicSnippetTemplate){$dynamicSnippetTemplate.html('');}},_isConfigComplete:function(){return this.$el.get(0).dataset.filterId!==undefined&&this.$el.get(0).dataset.templateKey!==undefined;},_getSearchDomain:function(){return[];},_fetchData:function(){if(this._isConfigComplete()){return this._rpc({'route':'/website/snippet/filters','params':{'filter_id':parseInt(this.$el.get(0).dataset.filterId),'template_key':this.$el.get(0).dataset.templateKey,'limit':parseInt(this.$el.get(0).dataset.numberOfRecords),'search_domain':this._getSearchDomain()},}).then((data)=>{this.data=data;});}else{return new Promise((resolve)=>{this.data=[];resolve();});}},_manageWarningMessageVisibility:async function(){this.$el.find('.missing_option_warning').toggleClass('d-none',this._isConfigComplete());},_prepareContent:function(){if(this.$target[0].dataset.numberOfElements&&this.$target[0].dataset.numberOfElementsSmallDevices){this.renderedContent=core.qweb.render(this.template_key,this._getQWebRenderOptions());}else{this.renderedContent='';}},_getQWebRenderOptions:function(){return{chunkSize:parseInt(config.device.isMobile?this.$target[0].dataset.numberOfElementsSmallDevices:this.$target[0].dataset.numberOfElements),data:this.data,uniqueId:this.uniqueId};},_render:function(){if(this.data.length){this._prepareContent();}else{this.renderedContent='';}
this._renderContent();},_renderContent:function(){this.$el.find('.dynamic_snippet_template').html(this.renderedContent);},_setupSizeChangedManagement:function(enable){if(enable===true){config.device.bus.on('size_changed',this,this._onSizeChanged);}else{config.device.bus.off('size_changed',this,this._onSizeChanged);}},_toggleVisibility:function(visible){this.$el.toggleClass('d-none',!visible);},_onCallToAction:function(ev){window.location=$(ev.currentTarget).attr('data-url');},_onSizeChanged:function(size){if(this.isDesplayedAsMobile!==config.device.isMobile){this.isDesplayedAsMobile=config.device.isMobile;this._render();}},});publicWidget.registry.dynamic_snippet=DynamicSnippet;return DynamicSnippet;});;

/* /website/static/src/snippets/s_dynamic_snippet_carousel/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_dynamic_snippet_carousel',function(require){'use strict';const config=require('web.config');const core=require('web.core');const publicWidget=require('web.public.widget');const DynamicSnippet=require('website.s_dynamic_snippet');const DynamicSnippetCarousel=DynamicSnippet.extend({selector:'.s_dynamic_snippet_carousel',xmlDependencies:(DynamicSnippet.prototype.xmlDependencies||[]).concat(['/website/static/src/snippets/s_dynamic_snippet_carousel/000.xml']),init:function(){this._super.apply(this,arguments);this.template_key='website.s_dynamic_snippet.carousel';},_getQWebRenderParams:function(){return Object.assign(this._super.apply(this,arguments),{interval:parseInt(this.$target[0].dataset.carouselInterval),},);},});publicWidget.registry.dynamic_snippet_carousel=DynamicSnippetCarousel;return DynamicSnippetCarousel;});;

/* /website_enterprise/static/src/js/website_enterprise.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.home_menu',function(require){'use strict';var session=require('web.session');var websiteNavbarData=require('website.navbar');websiteNavbarData.WebsiteNavbar.include({events:_.extend({},websiteNavbarData.WebsiteNavbar.prototype.events||{},{'click .o_menu_toggle':'_onMenuToggleClick',}),_onMenuToggleClick:function(ev){ev.preventDefault();var $button=$(ev.currentTarget);if(!$button.hasClass('fa')){return;}
$button.removeClass('fa fa-th').append($('<span/>',{'class':'fa fa-spin fa-spinner'}));var url='/web#home';window.location.href=url;},});});;

/* /website_form/static/src/snippets/s_website_form/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_form.s_website_form',function(require){'use strict';var core=require('web.core');var time=require('web.time');const{ReCaptcha}=require('google_recaptcha.ReCaptchaV3');var ajax=require('web.ajax');var publicWidget=require('web.public.widget');var _t=core._t;var qweb=core.qweb;publicWidget.registry.s_website_form=publicWidget.Widget.extend({selector:'.s_website_form form, form.s_website_form',xmlDependencies:['/website_form/static/src/xml/website_form.xml'],events:{'click .s_website_form_send, .o_website_form_send':'send',},init:function(){this._super(...arguments);this._recaptcha=new ReCaptcha();this.__started=new Promise(resolve=>this.__startResolve=resolve);},willStart:function(){const res=this._super(...arguments);if(!this.$target[0].classList.contains('s_website_form_no_recaptcha')){this._recaptcha.loadLibs();}
return res;},start:function(){var self=this;var datepickers_options={minDate:moment({y:1}),maxDate:moment({y:9999,M:11,d:31}),calendarWeeks:true,icons:{time:'fa fa-clock-o',date:'fa fa-calendar',next:'fa fa-chevron-right',previous:'fa fa-chevron-left',up:'fa fa-chevron-up',down:'fa fa-chevron-down',},locale:moment.locale(),format:time.getLangDatetimeFormat(),};this.$target.find('.s_website_form_datetime, .o_website_form_datetime').datetimepicker(datepickers_options);datepickers_options.format=time.getLangDateFormat();this.$target.find('.s_website_form_date, .o_website_form_date').datetimepicker(datepickers_options);var $values=$('[data-for='+this.$target.attr('id')+']');if($values.length){var values=JSON.parse($values.data('values').replace('False','""').replace('None','""').replace(/'/g,'"'));var fields=_.pluck(this.$target.serializeArray(),'name');_.each(fields,function(field){if(_.has(values,field)){var $field=self.$target.find('input[name="'+field+'"], textarea[name="'+field+'"]');if(!$field.val()){$field.val(values[field]);}}});}
return this._super(...arguments).then(()=>this.__startResolve());},destroy:function(){this._super.apply(this,arguments);this.$target.find('button').off('click');this.$target.find('input[type="text"], input[type="email"], input[type="number"], input[type="tel"], input[type="url"], textarea').val('');this.$target.find('.o_has_error').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');this.$target.find('#s_website_form_result, #o_website_form_result').empty();this.$target.removeClass('d-none');this.$target.parent().find('.s_website_form_end_message').addClass('d-none');},send:async function(e){e.preventDefault();this.$target.find('.s_website_form_send, .o_website_form_send').addClass('disabled');var self=this;self.$target.find('#s_website_form_result, #o_website_form_result').empty();if(!self.check_error_fields({})){self.update_status('error',_t("Please fill in the form correctly."));return false;}
this.form_fields=this.$target.serializeArray();$.each(this.$target.find('input[type=file]'),function(outer_index,input){$.each($(input).prop('files'),function(index,file){self.form_fields.push({name:input.name+'['+outer_index+']['+index+']',value:file});});});var form_values={};_.each(this.form_fields,function(input){if(input.name in form_values){if(Array.isArray(form_values[input.name])){form_values[input.name].push(input.value);}else{form_values[input.name]=[form_values[input.name],input.value];}}else{if(input.value!==''){form_values[input.name]=input.value;}}});this.$target.find('.s_website_form_field:not(.s_website_form_custom)').find('.s_website_form_date, .s_website_form_datetime').each(function(){var date=$(this).datetimepicker('viewDate').clone().locale('en');var format='YYYY-MM-DD';if($(this).hasClass('s_website_form_datetime')){date=date.utc();format='YYYY-MM-DD HH:mm:ss';}
form_values[$(this).find('input').attr('name')]=date.format(format);});const tokenObj=await this._recaptcha.getToken('website_form');if(tokenObj.token){form_values['recaptcha_token_response']=tokenObj.token;}else if(tokenObj.error){self.update_status('error',tokenObj.error);return false;}
ajax.post(this.$target.attr('action')+(this.$target.data('force_action')||this.$target.data('model_name')),form_values).then(function(result_data){self.$target.find('.s_website_form_send, .o_website_form_send').removeClass('disabled');result_data=JSON.parse(result_data);if(!result_data.id){self.update_status('error',result_data.error?result_data.error:false);if(result_data.error_fields){self.check_error_fields(result_data.error_fields);}}else{let successMode=self.$target[0].dataset.successMode;let successPage=self.$target[0].dataset.successPage;if(!successMode){successPage=self.$target.attr('data-success_page');successMode=successPage?'redirect':'nothing';}
switch(successMode){case'redirect':$(window.location).attr('href',successPage);break;case'message':self.$target[0].classList.add('d-none');self.$target[0].parentElement.querySelector('.s_website_form_end_message').classList.remove('d-none');break;default:self.update_status('success');break;}
self.$target[0].reset();}}).guardedCatch(function(){self.update_status('error');});},check_error_fields:function(error_fields){var self=this;var form_valid=true;this.$target.find('.form-field, .s_website_form_field').each(function(k,field){var $field=$(field);var field_name=$field.find('.col-form-label').attr('for');var inputs=$field.find('.s_website_form_input, .o_website_form_input').not('#editable_select');var invalid_inputs=inputs.toArray().filter(function(input,k,inputs){if(input.required&&input.type==='checkbox'){var checkboxes=_.filter(inputs,function(input){return input.required&&input.type==='checkbox';});return!_.any(checkboxes,checkbox=>checkbox.checked);}else if($(input).hasClass('s_website_form_date')||$(input).hasClass('o_website_form_date')){if(!self.is_datetime_valid(input.value,'date')){return true;}}else if($(input).hasClass('s_website_form_datetime')||$(input).hasClass('o_website_form_datetime')){if(!self.is_datetime_valid(input.value,'datetime')){return true;}}
return!input.checkValidity();});$field.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');if(invalid_inputs.length||error_fields[field_name]){$field.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');if(_.isString(error_fields[field_name])){$field.popover({content:error_fields[field_name],trigger:'hover',container:'body',placement:'top'});$field.data("bs.popover").config.content=error_fields[field_name];$field.popover('show');}
form_valid=false;}});return form_valid;},is_datetime_valid:function(value,type_of_date){if(value===""){return true;}else{try{this.parse_date(value,type_of_date);return true;}catch(e){return false;}}},parse_date:function(value,type_of_date,value_if_empty){var date_pattern=time.getLangDateFormat(),time_pattern=time.getLangTimeFormat();var date_pattern_wo_zero=date_pattern.replace('MM','M').replace('DD','D'),time_pattern_wo_zero=time_pattern.replace('HH','H').replace('mm','m').replace('ss','s');switch(type_of_date){case'datetime':var datetime=moment(value,[date_pattern+' '+time_pattern,date_pattern_wo_zero+' '+time_pattern_wo_zero],true);if(datetime.isValid()){return time.datetime_to_str(datetime.toDate());}
throw new Error(_.str.sprintf(_t("'%s' is not a correct datetime"),value));case'date':var date=moment(value,[date_pattern,date_pattern_wo_zero],true);if(date.isValid()){return time.date_to_str(date.toDate());}
throw new Error(_.str.sprintf(_t("'%s' is not a correct date"),value));}
return value;},update_status:function(status,message){if(status!=='success'){this.$target.find('.s_website_form_send, .o_website_form_send').removeClass('disabled');}
var $result=this.$('#s_website_form_result, #o_website_form_result');if(status==='error'&&!message){message=_t("An error has occured, the form has not been sent.");}
this.__started.then(()=>$result.replaceWith(qweb.render(`website_form.status_${status}`,{message:message,})));},});});;

/* /website_mail/static/src/js/follow.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_mail.follow',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.follow=publicWidget.Widget.extend({selector:'#wrapwrap:has(.js_follow)',disabledInEditableMode:false,start:function(){var self=this;this.isUser=false;var $jsFollowEls=this.$el.find('.js_follow');var always=function(data){self.isUser=data[0].is_user;const $jsFollowToEnable=$jsFollowEls.filter(function(){const model=this.dataset.object;return model in data[1]&&data[1][model].includes(parseInt(this.dataset.id));});self._toggleSubscription(true,data[0].email,$jsFollowToEnable);self._toggleSubscription(false,data[0].email,$jsFollowEls.not($jsFollowToEnable));$jsFollowEls.removeClass('d-none');};const records={};for(const el of $jsFollowEls){const model=el.dataset.object;if(!(model in records)){records[model]=[];}
records[model].push(parseInt(el.dataset.id));}
this._rpc({route:'/website_mail/is_follower',params:{records:records,},}).then(always).guardedCatch(always);if(!this.editableMode){$('.js_follow > .input-group-append.d-none').removeClass('d-none');this.$target.find('.js_follow_btn, .js_unfollow_btn').on('click',function(event){event.preventDefault();self._onClick(event);});}
return this._super.apply(this,arguments);},_toggleSubscription:function(follow,email,$jsFollowEls){if(follow){this._updateSubscriptionDOM(follow,email,$jsFollowEls);}else{for(const el of $jsFollowEls){const follow=!email&&el.getAttribute('data-unsubscribe');this._updateSubscriptionDOM(follow,email,$(el));}}},_updateSubscriptionDOM:function(follow,email,$jsFollowEls){$jsFollowEls.find(".js_follow_btn").toggleClass('d-none',follow);$jsFollowEls.find(".js_unfollow_btn").toggleClass('d-none',!follow);$jsFollowEls.find('input.js_follow_email').val(email||"").attr("disabled",email&&(follow||this.isUser)?"disabled":false);$jsFollowEls.attr("data-follow",follow?'on':'off');},_onClick:function(ev){var self=this;var $jsFollow=$(ev.currentTarget).closest('.js_follow');var $email=$jsFollow.find(".js_follow_email");if($email.length&&!$email.val().match(/.+@.+/)){$jsFollow.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');return false;}
$jsFollow.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');var email=$email.length?$email.val():false;if(email||this.isUser){this._rpc({route:'/website_mail/follow',params:{'id':+$jsFollow.data('id'),'object':$jsFollow.data('object'),'message_is_follower':$jsFollow.attr("data-follow")||"off",'email':email,},}).then(function(follow){self._toggleSubscription(follow,email,$jsFollow);});}},});});;

/* /website_profile/static/src/js/website_profile.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_profile.website_profile',function(require){'use strict';var publicWidget=require('web.public.widget');var wysiwygLoader=require('web_editor.loader');publicWidget.registry.websiteProfile=publicWidget.Widget.extend({selector:'.o_wprofile_email_validation_container',read_events:{'click .send_validation_email':'_onSendValidationEmailClick','click .validated_email_close':'_onCloseValidatedEmailClick',},_onSendValidationEmailClick:function(ev){ev.preventDefault();var self=this;var $element=$(ev.currentTarget);this._rpc({route:'/profile/send_validation_email',params:{'redirect_url':$element.data('redirect_url')},}).then(function(data){if(data){self.$('button.validation_email_close').click();}});},_onCloseValidatedEmailClick:function(){this._rpc({route:'/profile/validate_email/close',});},});publicWidget.registry.websiteProfileEditor=publicWidget.Widget.extend({selector:'.o_wprofile_editor_form',read_events:{'click .o_forum_profile_pic_edit':'_onEditProfilePicClick','change .o_forum_file_upload':'_onFileUploadChange','click .o_forum_profile_pic_clear':'_onProfilePicClearClick','click .o_wprofile_submit_btn':'_onSubmitClick',},start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
var $textarea=this.$('textarea.o_wysiwyg_loader');var loadProm=wysiwygLoader.load(this,$textarea[0],{recordInfo:{context:this._getContext(),res_model:'res.users',res_id:parseInt(this.$('input[name=user_id]').val()),},}).then(wysiwyg=>{this._wysiwyg=wysiwyg;});return Promise.all([def,loadProm]);},_onEditProfilePicClick:function(ev){ev.preventDefault();$(ev.currentTarget).closest('form').find('.o_forum_file_upload').trigger('click');},_onFileUploadChange:function(ev){if(!ev.currentTarget.files.length){return;}
var $form=$(ev.currentTarget).closest('form');var reader=new window.FileReader();reader.readAsDataURL(ev.currentTarget.files[0]);reader.onload=function(ev){$form.find('.o_forum_avatar_img').attr('src',ev.target.result);};$form.find('#forum_clear_image').remove();},_onProfilePicClearClick:function(ev){var $form=$(ev.currentTarget).closest('form');$form.find('.o_forum_avatar_img').attr('src','/web/static/src/img/placeholder.png');$form.append($('<input/>',{name:'clear_image',id:'forum_clear_image',type:'hidden',}));},_onSubmitClick:function(){if(this._wysiwyg){this._wysiwyg.save();}},});return publicWidget.registry.websiteProfile;});;

/* /website_links/static/src/js/website_links.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.website_links',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var SelectBox=publicWidget.Widget.extend({events:{'change':'_onChange',},init:function(parent,obj,placeholder){this._super.apply(this,arguments);this.obj=obj;this.placeholder=placeholder;},willStart:function(){var self=this;var defs=[this._super.apply(this,arguments)];defs.push(this._rpc({model:this.obj,method:'search_read',params:{fields:['id','name'],},}).then(function(result){self.objects=_.map(result,function(val){return{id:val.id,text:val.name};});}));return Promise.all(defs);},start:function(){var self=this;this.$el.select2({placeholder:self.placeholder,allowClear:true,createSearchChoice:function(term){if(self._objectExists(term)){return null;}
return{id:term,text:_.str.sprintf("Create '%s'",term)};},createSearchChoicePosition:'bottom',multiple:false,data:self.objects,minimumInputLength:self.objects.length>100?3:0,});},_objectExists:function(query){return _.find(this.objects,function(val){return val.text.toLowerCase()===query.toLowerCase();})!==undefined;},_createObject:function(name){var self=this;var args={name:name};if(this.obj==="utm.campaign"){args.is_website=true;}
return this._rpc({model:this.obj,method:'create',args:[args],}).then(function(record){self.$el.attr('value',record);self.objects.push({'id':record,'text':name});});},_onChange:function(ev){if(!ev.added||!_.isString(ev.added.id)){return;}
this._createObject(ev.added.id);},});var RecentLinkBox=publicWidget.Widget.extend({template:'website_links.RecentLink',xmlDependencies:['/website_links/static/src/xml/recent_link.xml'],events:{'click .btn_shorten_url_clipboard':'_toggleCopyButton','click .o_website_links_edit_code':'_editCode','click .o_website_links_ok_edit':'_onLinksOkClick','click .o_website_links_cancel_edit':'_onLinksCancelClick','submit #o_website_links_edit_code_form':'_onSubmitCode',},init:function(parent,obj){this._super.apply(this,arguments);this.link_obj=obj;this.animating_copy=false;},start:function(){new ClipboardJS(this.$('.btn_shorten_url_clipboard').get(0));return this._super.apply(this,arguments);},_toggleCopyButton:function(){if(this.animating_copy){return;}
var self=this;this.animating_copy=true;var top=this.$('.o_website_links_short_url').position().top;this.$('.o_website_links_short_url').clone().css('position','absolute').css('left',15).css('top',top-2).css('z-index',2).removeClass('o_website_links_short_url').addClass('animated-link').insertAfter(this.$('.o_website_links_short_url')).animate({opacity:0,top:'-=20',},500,function(){self.$('.animated-link').remove();self.animating_copy=false;});},_notification:function(message){this.$('.notification').append('<strong>'+message+'</strong>');},_editCode:function(){var initCode=this.$('#o_website_links_code').html();this.$('#o_website_links_code').html('<form style="display:inline;" id="o_website_links_edit_code_form"><input type="hidden" id="init_code" value="'+initCode+'"/><input type="text" id="new_code" value="'+initCode+'"/></form>');this.$('.o_website_links_edit_code').hide();this.$('.copy-to-clipboard').hide();this.$('.o_website_links_edit_tools').show();},_cancelEdit:function(){this.$('.o_website_links_edit_code').show();this.$('.copy-to-clipboard').show();this.$('.o_website_links_edit_tools').hide();this.$('.o_website_links_code_error').hide();var oldCode=this.$('#o_website_links_edit_code_form #init_code').val();this.$('#o_website_links_code').html(oldCode);this.$('#code-error').remove();this.$('#o_website_links_code form').remove();},_submitCode:function(){var self=this;var initCode=this.$('#o_website_links_edit_code_form #init_code').val();var newCode=this.$('#o_website_links_edit_code_form #new_code').val();if(newCode===''){self.$('.o_website_links_code_error').html(_t("The code cannot be left empty"));self.$('.o_website_links_code_error').show();return;}
function showNewCode(newCode){self.$('.o_website_links_code_error').html('');self.$('.o_website_links_code_error').hide();self.$('#o_website_links_code form').remove();var host=self.$('#o_website_links_host').html();self.$('#o_website_links_code').html(newCode);self.$('.btn_shorten_url_clipboard').attr('data-clipboard-text',host+newCode);self.$('.o_website_links_edit_code').show();self.$('.copy-to-clipboard').show();self.$('.o_website_links_edit_tools').hide();}
if(initCode===newCode){showNewCode(newCode);}else{this._rpc({route:'/website_links/add_code',params:{init_code:initCode,new_code:newCode,},}).then(function(result){showNewCode(result[0].code);},function(){self.$('.o_website_links_code_error').show();self.$('.o_website_links_code_error').html(_t("This code is already taken"));});}},_onLinksOkClick:function(ev){ev.preventDefault();this._submitCode();},_onLinksCancelClick:function(ev){ev.preventDefault();this._cancelEdit();},_onSubmitCode:function(ev){ev.preventDefault();this._submitCode();},});var RecentLinks=publicWidget.Widget.extend({getRecentLinks:function(filter){var self=this;return this._rpc({route:'/website_links/recent_links',params:{filter:filter,limit:20,},}).then(function(result){_.each(result.reverse(),function(link){self._addLink(link);});self._updateNotification();},function(){var message=_t("Unable to get recent links");self.$el.append('<div class="alert alert-danger">'+message+'</div>');});},_addLink:function(link){var nbLinks=this.getChildren().length;var recentLinkBox=new RecentLinkBox(this,link);recentLinkBox.prependTo(this.$el);$('.link-tooltip').tooltip();if(nbLinks===0){this._updateNotification();}},removeLinks:function(){_.invoke(this.getChildren(),'destroy');},_updateNotification:function(){if(this.getChildren().length===0){var message=_t("You don't have any recent links.");$('.o_website_links_recent_links_notification').html('<div class="alert alert-info">'+message+'</div>');}else{$('.o_website_links_recent_links_notification').empty();}},});publicWidget.registry.websiteLinks=publicWidget.Widget.extend({selector:'.o_website_links_create_tracked_url',events:{'click #filter-newest-links':'_onFilterNewestLinksClick','click #filter-most-clicked-links':'_onFilterMostClickedLinksClick','click #filter-recently-used-links':'_onFilterRecentlyUsedLinksClick','click #generated_tracked_link a':'_onGeneratedTrackedLinkClick','keyup #url':'_onUrlKeyUp','click #btn_shorten_url':'_onShortenUrlButtonClick','submit #o_website_links_link_tracker_form':'_onFormSubmit',},start:function(){var defs=[this._super.apply(this,arguments)];var campaignSelect=new SelectBox(this,'utm.campaign',_t("e.g. Promotion of June, Winter Newsletter, .."));defs.push(campaignSelect.attachTo($('#campaign-select')));var mediumSelect=new SelectBox(this,'utm.medium',_t("e.g. Newsletter, Social Network, .."));defs.push(mediumSelect.attachTo($('#channel-select')));var sourceSelect=new SelectBox(this,'utm.source',_t("e.g. Search Engine, Website page, .."));defs.push(sourceSelect.attachTo($('#source-select')));this.recentLinks=new RecentLinks(this);defs.push(this.recentLinks.appendTo($('#o_website_links_recent_links')));this.recentLinks.getRecentLinks('newest');new ClipboardJS($('#btn_shorten_url').get(0));this.url_copy_animating=false;$('[data-toggle="tooltip"]').tooltip();return Promise.all(defs);},_onFilterNewestLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('newest');},_onFilterMostClickedLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('most-clicked');},_onFilterRecentlyUsedLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('recently-used');},_onGeneratedTrackedLinkClick:function(){$('#generated_tracked_link a').text(_t("Copied")).removeClass('btn-primary').addClass('btn-success');setTimeout(function(){$('#generated_tracked_link a').text(_t("Copy")).removeClass('btn-success').addClass('btn-primary');},5000);},_onUrlKeyUp:function(ev){if(!$('#btn_shorten_url').hasClass('btn-copy')||ev.which===13){return;}
$('#btn_shorten_url').removeClass('btn-success btn-copy').addClass('btn-primary').html('Get tracked link');$('#generated_tracked_link').css('display','none');$('.o_website_links_utm_forms').show();},_onShortenUrlButtonClick:function(){if(!$('#btn_shorten_url').hasClass('btn-copy')||this.url_copy_animating){return;}
var self=this;this.url_copy_animating=true;$('#generated_tracked_link').clone().css('position','absolute').css('left','78px').css('bottom','8px').css('z-index',2).removeClass('#generated_tracked_link').addClass('url-animated-link').appendTo($('#generated_tracked_link')).animate({opacity:0,bottom:'+=20',},500,function(){$('.url-animated-link').remove();self.url_copy_animating=false;});},_onFormSubmit:function(ev){var self=this;ev.preventDefault();if($('#btn_shorten_url').hasClass('btn-copy')){return;}
ev.stopPropagation();var campaignID=$('#campaign-select').attr('value');var mediumID=$('#channel-select').attr('value');var sourceID=$('#source-select').attr('value');var params={};params.url=$('#url').val();if(campaignID!==''){params.campaign_id=parseInt(campaignID);}
if(mediumID!==''){params.medium_id=parseInt(mediumID);}
if(sourceID!==''){params.source_id=parseInt(sourceID);}
$('#btn_shorten_url').text(_t("Generating link..."));this._rpc({route:'/website_links/new',params:params,}).then(function(result){if('error'in result){if(result.error==='empty_url'){$('.notification').html('<div class="alert alert-danger">The URL is empty.</div>');}else if(result.error==='url_not_found'){$('.notification').html('<div class="alert alert-danger">URL not found (404)</div>');}else{$('.notification').html('<div class="alert alert-danger">An error occur while trying to generate your link. Try again later.</div>');}}else{var link=result[0];$('#btn_shorten_url').removeClass('btn-primary').addClass('btn-success btn-copy').html('Copy');$('#btn_shorten_url').attr('data-clipboard-text',link.short_url);$('.notification').html('');$('#generated_tracked_link').html(link.short_url);$('#generated_tracked_link').css('display','inline');self.recentLinks._addLink(link);$('#campaign-select').select2('val','');$('#channel-select').select2('val','');$('#source-select').select2('val','');$('.o_website_links_utm_forms').hide();}});},});return{SelectBox:SelectBox,RecentLinkBox:RecentLinkBox,RecentLinks:RecentLinks,};});;

/* /website_links/static/src/js/website_links_code_editor.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.code_editor',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.websiteLinksCodeEditor=publicWidget.Widget.extend({selector:'#wrapwrap:has(.o_website_links_edit_code)',events:{'click .o_website_links_edit_code':'_onEditCodeClick','click .o_website_links_cancel_edit':'_onCancelEditClick','submit #edit-code-form':'_onEditCodeFormSubmit','click .o_website_links_ok_edit':'_onEditCodeFormSubmit',},_showNewCode:function(newCode){$('.o_website_links_code_error').html('');$('.o_website_links_code_error').hide();$('#o_website_links_code form').remove();var host=$('#short-url-host').html();$('#o_website_links_code').html(newCode);$('.copy-to-clipboard').attr('data-clipboard-text',host+newCode);$('.o_website_links_edit_code').show();$('.copy-to-clipboard').show();$('.o_website_links_edit_tools').hide();},_submitCode:function(){var initCode=$('#edit-code-form #init_code').val();var newCode=$('#edit-code-form #new_code').val();var self=this;if(newCode===''){self.$('.o_website_links_code_error').html(_t("The code cannot be left empty"));self.$('.o_website_links_code_error').show();return;}
this._showNewCode(newCode);if(initCode===newCode){this._showNewCode(newCode);}else{return this._rpc({route:'/website_links/add_code',params:{init_code:initCode,new_code:newCode,},}).then(function(result){self._showNewCode(result[0].code);},function(){$('.o_website_links_code_error').show();$('.o_website_links_code_error').html(_t("This code is already taken"));});}
return Promise.resolve();},_onEditCodeClick:function(){var initCode=$('#o_website_links_code').html();$('#o_website_links_code').html('<form style="display:inline;" id="edit-code-form"><input type="hidden" id="init_code" value="'+initCode+'"/><input type="text" id="new_code" value="'+initCode+'"/></form>');$('.o_website_links_edit_code').hide();$('.copy-to-clipboard').hide();$('.o_website_links_edit_tools').show();},_onCancelEditClick:function(ev){ev.preventDefault();$('.o_website_links_edit_code').show();$('.copy-to-clipboard').show();$('.o_website_links_edit_tools').hide();$('.o_website_links_code_error').hide();var oldCode=$('#edit-code-form #init_code').val();$('#o_website_links_code').html(oldCode);$('#code-error').remove();$('#o_website_links_code form').remove();},_onEditCodeFormSubmit:function(ev){ev.preventDefault();this._submitCode();},});});;

/* /website_links/static/src/js/website_links_charts.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.charts',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var BarChart=publicWidget.Widget.extend({jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,beginDate,endDate,dates){this._super.apply(this,arguments);this.beginDate=beginDate;this.endDate=endDate;this.number_of_days=this.endDate.diff(this.beginDate,'days')+2;this.dates=dates;},start:function(){var clicksArray=[];var beginDateCopy=this.beginDate;for(var i=0;i<this.number_of_days;i++){var dateKey=beginDateCopy.format('YYYY-MM-DD');clicksArray.push([dateKey,(dateKey in this.dates)?this.dates[dateKey]:0]);beginDateCopy.add(1,'days');}
var nbClicks=0;var data=[];var labels=[];clicksArray.forEach(function(pt){labels.push(pt[0]);nbClicks+=pt[1];data.push(pt[1]);});this.$('.title').html(nbClicks+_t(' clicks'));var config={type:'line',data:{labels:labels,datasets:[{data:data,fill:'start',label:_t('# of clicks'),backgroundColor:'#ebf2f7',borderColor:'#6aa1ca',}],},};var canvas=this.$('canvas')[0];var context=canvas.getContext('2d');new Chart(context,config);},});var PieChart=publicWidget.Widget.extend({jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,data){this._super.apply(this,arguments);this.data=data;},start:function(){var labels=[];var data=[];for(var i=0;i<this.data.length;i++){var countryName=this.data[i]['country_id']?this.data[i]['country_id'][1]:_t('Undefined');labels.push(countryName+' ('+this.data[i]['country_id_count']+')');data.push(this.data[i]['country_id_count']);}
this.$('.title').html(this.data.length+_t(' countries'));var config={type:'pie',data:{labels:labels,datasets:[{data:data,label:this.data.length>0?this.data[0].key:_t('No data'),}]},};var canvas=this.$('canvas')[0];var context=canvas.getContext('2d');new Chart(context,config);},});publicWidget.registry.websiteLinksCharts=publicWidget.Widget.extend({selector:'.o_website_links_chart',events:{'click .graph-tabs li a':'_onGraphTabClick','click .copy-to-clipboard':'_onCopyToClipboardClick',},start:function(){var self=this;this.charts={};var linkID=parseInt($('#link_id').val());this.links_domain=['link_id','=',linkID];var defs=[];defs.push(this._totalClicks());defs.push(this._clicksByDay());defs.push(this._clicksByCountry());defs.push(this._lastWeekClicksByCountry());defs.push(this._lastMonthClicksByCountry());defs.push(this._super.apply(this,arguments));new ClipboardJS($('.copy-to-clipboard')[0]);this.animating_copy=false;return Promise.all(defs).then(function(results){var _totalClicks=results[0];var _clicksByDay=results[1];var _clicksByCountry=results[2];var _lastWeekClicksByCountry=results[3];var _lastMonthClicksByCountry=results[4];if(!_totalClicks){$('#all_time_charts').prepend(_t("There is no data to show"));$('#last_month_charts').prepend(_t("There is no data to show"));$('#last_week_charts').prepend(_t("There is no data to show"));return;}
var formattedClicksByDay={};var beginDate;for(var i=0;i<_clicksByDay.length;i++){var date=moment(_clicksByDay[i]['create_date:day'],'DD MMMM YYYY');if(i===0){beginDate=date;}
formattedClicksByDay[date.format('YYYY-MM-DD')]=_clicksByDay[i]['create_date_count'];}
var now=moment();self.charts.all_time_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.all_time_bar.attachTo($('#all_time_clicks_chart'));beginDate=moment().subtract(30,'days');self.charts.last_month_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.last_month_bar.attachTo($('#last_month_clicks_chart'));beginDate=moment().subtract(7,'days');self.charts.last_week_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.last_week_bar.attachTo($('#last_week_clicks_chart'));self.charts.all_time_pie=new PieChart(self,_clicksByCountry);self.charts.all_time_pie.attachTo($('#all_time_countries_charts'));self.charts.last_month_pie=new PieChart(self,_lastMonthClicksByCountry);self.charts.last_month_pie.attachTo($('#last_month_countries_charts'));self.charts.last_week_pie=new PieChart(self,_lastWeekClicksByCountry);self.charts.last_week_pie.attachTo($('#last_week_countries_charts'));var rowWidth=$('#all_time_countries_charts').parent().width();var $chartCanvas=$('#all_time_countries_charts,last_month_countries_charts,last_week_countries_charts').find('canvas');$chartCanvas.height(Math.max(_clicksByCountry.length*(rowWidth>750?1:2),20)+'em');});},_totalClicks:function(){return this._rpc({model:'link.tracker.click',method:'search_count',args:[[this.links_domain]],});},_clicksByDay:function(){return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain],['create_date']],kwargs:{groupby:'create_date:day'},});},_clicksByCountry:function(){return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain],['country_id']],kwargs:{groupby:'country_id'},});},_lastWeekClicksByCountry:function(){var interval=moment().subtract(7,'days').format('YYYY-MM-DD');return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain,['create_date','>',interval]],['country_id']],kwargs:{groupby:'country_id'},});},_lastMonthClicksByCountry:function(){var interval=moment().subtract(30,'days').format('YYYY-MM-DD');return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain,['create_date','>',interval]],['country_id']],kwargs:{groupby:'country_id'},});},_onGraphTabClick:function(ev){ev.preventDefault();$('.graph-tabs li a').tab('show');},_onCopyToClipboardClick:function(ev){ev.preventDefault();if(this.animating_copy){return;}
this.animating_copy=true;$('.o_website_links_short_url').clone().css('position','absolute').css('left','15px').css('bottom','10px').css('z-index',2).removeClass('.o_website_links_short_url').addClass('animated-link').appendTo($('.o_website_links_short_url')).animate({opacity:0,bottom:'+=20',},500,function(){$('.animated-link').remove();this.animating_copy=false;});},});return{BarChart:BarChart,PieChart:PieChart,};});;

/* /website_mass_mailing/static/src/js/website_mass_mailing.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('mass_mailing.website_integration',function(require){"use strict";var config=require('web.config');var core=require('web.core');var Dialog=require('web.Dialog');var utils=require('web.utils');var publicWidget=require('web.public.widget');const{ReCaptcha}=require('google_recaptcha.ReCaptchaV3');var _t=core._t;publicWidget.registry.subscribe=publicWidget.Widget.extend({selector:".js_subscribe",disabledInEditableMode:false,read_events:{'click .js_subscribe_btn':'_onSubscribeClick',},init:function(){this._super(...arguments);this._recaptcha=new ReCaptcha();},willStart:function(){this._recaptcha.loadLibs();return this._super(...arguments);},start:function(){var self=this;var def=this._super.apply(this,arguments);this.$popup=this.$target.closest('.o_newsletter_modal');if(this.$popup.length){return def;}
var always=function(data){var isSubscriber=data.is_subscriber;self.$('.js_subscribe_btn').prop('disabled',isSubscriber);self.$('input.js_subscribe_email').val(data.email||"").prop('disabled',isSubscriber);self.$target.removeClass('d-none');self.$('.js_subscribe_btn').toggleClass('d-none',!!isSubscriber);self.$('.js_subscribed_btn').toggleClass('d-none',!isSubscriber);};return Promise.all([def,this._rpc({route:'/website_mass_mailing/is_subscriber',params:{'list_id':this.$target.data('list-id'),},}).then(always).guardedCatch(always)]);},_onSubscribeClick:async function(){var self=this;var $email=this.$(".js_subscribe_email:visible");if($email.length&&!$email.val().match(/.+@.+/)){this.$target.addClass('o_has_error').find('.form-control').addClass('is-invalid');return false;}
this.$target.removeClass('o_has_error').find('.form-control').removeClass('is-invalid');const tokenObj=await this._recaptcha.getToken('website_form');if(tokenObj.error){self.displayNotification({type:'danger',title:_t("Error"),message:tokenObj.error,sticky:true,});return false;}
this._rpc({route:'/website_mass_mailing/subscribe',params:{'list_id':this.$target.data('list-id'),'email':$email.length?$email.val():false,recaptcha_token_response:tokenObj.token,},}).then(function(result){let toastType=result.toast_type;if(toastType==='success'){self.$(".js_subscribe_btn").addClass('d-none');self.$(".js_subscribed_btn").removeClass('d-none');self.$('input.js_subscribe_email').prop('disabled',!!result);if(self.$popup.length){self.$popup.modal('hide');}}
self.displayNotification({type:toastType,title:_t(`${toastType === 'success' ? 'Success' : 'Error'}`),message:result.toast_content,sticky:true,});});},});publicWidget.registry.newsletter_popup=publicWidget.Widget.extend({selector:".o_newsletter_popup",disabledInEditableMode:false,start:function(){var self=this;var defs=[this._super.apply(this,arguments)];this.websiteID=this._getContext().website_id;this.listID=parseInt(this.$target.attr('data-list-id'));if(!this.listID||(utils.get_cookie(_.str.sprintf("newsletter-popup-%s-%s",this.listID,this.websiteID))&&!self.editableMode)){return Promise.all(defs);}
if(this.$target.data('content')&&this.editableMode){this._dialogInit(this.$target.data('content'));this.$target.removeData('quick-open');this.massMailingPopup.open();}else{defs.push(this._rpc({route:'/website_mass_mailing/get_content',params:{newsletter_id:self.listID,},}).then(function(data){self._dialogInit(data.popup_content,data.email||'');if(!self.editableMode&&!data.is_subscriber){if(config.device.isMobile){setTimeout(function(){self._showBanner();},5000);}else{$(document).on('mouseleave.open_popup_event',self._showBanner.bind(self));}}else{$(document).off('mouseleave.open_popup_event');}
if(self.$target.data('quick-open')){self.massMailingPopup.open();self.$target.removeData('quick-open');}}));}
return Promise.all(defs);},destroy:function(){if(this.massMailingPopup){this.massMailingPopup.close();}
this._super.apply(this,arguments);},_dialogInit:function(content,email){var self=this;this.massMailingPopup=new Dialog(this,{technical:false,$content:$('<div/>').html(content),$parentNode:this.$target,backdrop:!this.editableMode,dialogClass:'p-0'+(this.editableMode?' oe_structure oe_empty':''),renderFooter:false,size:'medium',});this.massMailingPopup.opened().then(function(){var $modal=self.massMailingPopup.$modal;$modal.find('header button.close').on('mouseup',function(ev){ev.stopPropagation();});$modal.addClass('o_newsletter_modal');$modal.find('.oe_structure').attr('data-editor-message',_t('DRAG BUILDING BLOCKS HERE'));$modal.find('.modal-dialog').addClass('modal-dialog-centered');$modal.find('.js_subscribe').data('list-id',self.listID).find('input.js_subscribe_email').val(email);self.trigger_up('widgets_start_request',{editableMode:self.editableMode,$target:$modal,});});this.massMailingPopup.on('closed',this,function(){var $modal=self.massMailingPopup.$modal;if($modal){self.$el.data('content',$modal.find('.modal-body').html());}});},_showBanner:function(){this.massMailingPopup.open();utils.set_cookie(_.str.sprintf("newsletter-popup-%s-%s",this.listID,this.websiteID),true);$(document).off('mouseleave.open_popup_event');},});});;

/* /website_calendar/static/src/js/website_calendar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_calendar.select_appointment_type',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.websiteCalendarSelect=publicWidget.Widget.extend({selector:'.o_website_calendar_appointment',events:{'change .o_website_appoinment_form select[id="calendarType"]':'_onAppointmentTypeChange'},init:function(){this._super.apply(this,arguments);this._onAppointmentTypeChange=_.debounce(this._onAppointmentTypeChange,250);},start:function(parent){var timezone=jstz.determine();$(".o_website_appoinment_form select[name='timezone']").val(timezone.name());return this._super.apply(this,arguments);},_onAppointmentTypeChange:function(ev){var appointmentID=$(ev.target).val();var previousSelectedEmployeeID=$(".o_website_appoinment_form select[name='employee_id']").val();var postURL='/calendar/'+appointmentID+'/appointment';$(".o_website_appoinment_form").attr('action',postURL);this._rpc({route:"/calendar/get_appointment_info",params:{appointment_id:appointmentID,prev_emp:previousSelectedEmployeeID,},}).then(function(data){if(data){$('.o_calendar_intro').html(data.message_intro);if(data.assignation_method==='chosen'){$(".o_website_appoinment_form div[name='employee_select']").replaceWith(data.employee_selection_html);}else{$(".o_website_appoinment_form div[name='employee_select']").addClass('o_hidden');$(".o_website_appoinment_form select[name='employee_id']").children().remove();}}});},});});odoo.define('website_calendar.appointment_form',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.websiteCalendarForm=publicWidget.Widget.extend({selector:'.o_website_calendar_form',events:{'change .appointment_submit_form select[name="country_id"]':'_onCountryChange',},_onCountryChange:function(ev){var countryCode=$(ev.target).find('option:selected').data('phone-code');$('.appointment_submit_form #phone_field').val(countryCode);},});});;

/* /website_blog/static/src/js/contentshare.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_blog.contentshare',function(require){'use strict';const dom=require('web.dom');$.fn.share=function(options){var option=$.extend($.fn.share.defaults,options);var selected_text="";$.extend($.fn.share,{init:function(shareable){var self=this;$.fn.share.defaults.shareable=shareable;$.fn.share.defaults.shareable.on('mouseup',function(){if($(this).parents('body.editor_enable').length===0){self.popOver();}});$.fn.share.defaults.shareable.on('mousedown',function(){self.destroy();});},getContent:function(){var $popover_content=$('<div class="h4 m-0"/>');if($('.o_wblog_title, .o_wblog_post_content_field').hasClass('js_comment')){selected_text=this.getSelection('string');var $btn_c=$('<a class="o_share_comment btn btn-link px-2" href="#"/>').append($('<i class="fa fa-lg fa-comment"/>'));$popover_content.append($btn_c);}
if($('.o_wblog_title, .o_wblog_post_content_field').hasClass('js_tweet')){var tweet='"%s" - %s';var baseLength=tweet.replace(/%s/g,'').length;var selectedText=this.getSelection('string').substring(0,option.maxLength-baseLength-23);var text=window.btoa(encodeURIComponent(_.str.sprintf(tweet,selectedText,window.location.href)));$popover_content.append(_.str.sprintf("<a onclick=\"window.open('%s' + atob('%s'), '_%s','location=yes,height=570,width=520,scrollbars=yes,status=yes')\"><i class=\"ml4 mr4 fa fa-twitter fa-lg\"/></a>",option.shareLink,text,option.target));}
return $popover_content;},commentEdition:function(){$(".o_portal_chatter_composer_form textarea").val('"'+selected_text+'" ').focus();const commentsEl=$('#o_wblog_post_comments')[0];if(commentsEl){dom.scrollTo(commentsEl).then(()=>{window.location.hash='blog_post_comment_quote';});}},getSelection:function(share){if(window.getSelection){var selection=window.getSelection();if(!selection||selection.rangeCount===0){return"";}
if(share==='string'){return String(selection.getRangeAt(0)).replace(/\s{2,}/g,' ');}else{return selection.getRangeAt(0);}}else if(document.selection){if(share==='string'){return document.selection.createRange().text.replace(/\s{2,}/g,' ');}else{return document.selection.createRange();}}},popOver:function(){this.destroy();if(this.getSelection('string').length<option.minLength){return;}
var data=this.getContent();var range=this.getSelection();var newNode=document.createElement("span");range.insertNode(newNode);newNode.className=option.className;var $pop=$(newNode);$pop.popover({trigger:'manual',placement:option.placement,html:true,content:function(){return data;}}).popover('show');$('.o_share_comment').on('click',this.commentEdition);},destroy:function(){var $span=$('span.'+option.className);$span.popover('hide');$span.remove();}});$.fn.share.init(this);};$.fn.share.defaults={shareLink:"http://twitter.com/intent/tweet?text=",minLength:5,maxLength:140,target:"blank",className:"share",placement:"top",};});;

/* /website_blog/static/src/js/website_blog.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_blog.website_blog',function(require){'use strict';const dom=require('web.dom');const publicWidget=require('web.public.widget');publicWidget.registry.websiteBlog=publicWidget.Widget.extend({selector:'.website_blog',events:{'click #o_wblog_next_container':'_onNextBlogClick','click #o_wblog_post_content_jump':'_onContentAnchorClick','click .o_twitter, .o_facebook, .o_linkedin, .o_google, .o_twitter_complete, .o_facebook_complete, .o_linkedin_complete, .o_google_complete':'_onShareArticle',},start:function(){$('.js_tweet, .js_comment').share({});return this._super.apply(this,arguments);},_onNextBlogClick:function(ev){ev.preventDefault();var self=this;var $el=$(ev.currentTarget);var nexInfo=$el.find('#o_wblog_next_post_info').data();$el.find('.o_record_cover_container').addClass(nexInfo.size+' '+nexInfo.text).end().find('.o_wblog_toggle').toggleClass('d-none');const placeholder=document.createElement('div');placeholder.style.minHeight='100vh';this.$('#o_wblog_next_container').append(placeholder);_.defer(function(){self._forumScrollAction($el,300,function(){window.location.href=nexInfo.url;});});},_onContentAnchorClick:function(ev){ev.preventDefault();ev.stopImmediatePropagation();var $el=$(ev.currentTarget.hash);this._forumScrollAction($el,500,function(){window.location.hash='blog_content';});},_onShareArticle:function(ev){ev.preventDefault();var url='';var $element=$(ev.currentTarget);var blogPostTitle=encodeURIComponent($('#o_wblog_post_name').html()||'');var articleURL=encodeURIComponent(window.location.href);if($element.hasClass('o_twitter')){url='https://twitter.com/intent/tweet?tw_p=tweetbutton&text=Amazing blog article : '+blogPostTitle+"! "+articleURL;}else if($element.hasClass('o_facebook')){url='https://www.facebook.com/sharer/sharer.php?u='+articleURL;}else if($element.hasClass('o_linkedin')){url='https://www.linkedin.com/sharing/share-offsite/?url='+articleURL;}
window.open(url,'','menubar=no, width=500, height=400');},_forumScrollAction:function($el,duration,callback){dom.scrollTo($el[0],{duration:duration}).then(()=>callback());},});});;

/* /website_blog/static/src/snippets/s_latest_posts/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_blog.s_latest_posts_frontend',function(require){'use strict';var core=require('web.core');var wUtils=require('website.utils');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.js_get_posts=publicWidget.Widget.extend({selector:'.js_get_posts',disabledInEditableMode:false,start:function(){var self=this;const data=self.$target[0].dataset;const limit=parseInt(data.postsLimit)||4;const blogID=parseInt(data.filterByBlogId);if(data.template&&data.template.endsWith('.s_latest_posts_big_orizontal_template')){data.template='website_blog.s_latest_posts_horizontal_template';}
const template=data.template||'website_blog.s_latest_posts_list_template';const loading=data.loading==='true';const order=data.order||'published_date desc';this.$target.empty();this.$target.attr('contenteditable','False');var domain=[];if(blogID){domain.push(['blog_id','=',blogID]);}
if(order.includes('visits')){domain.push(['visits','!=',false]);}
var prom=new Promise(function(resolve){self._rpc({route:'/blog/render_latest_posts',params:{template:template,domain:domain,limit:limit,order:order,},}).then(function(posts){var $posts=$(posts).filter('.s_latest_posts_post');if(!$posts.length){self.$target.append($('<div/>',{class:'col-md-6 offset-md-3'}).append($('<div/>',{class:'alert alert-warning alert-dismissible text-center',text:_t("No blog post was found. Make sure your posts are published."),})));resolve();}
if(loading){self._showLoading($posts);}else{self.$target.html($posts);}
resolve();}).guardedCatch(function(){if(self.editableMode){self.$target.append($('<p/>',{class:'text-danger',text:_t("An error occured with this latest posts block. If the problem persists, please consider deleting it and adding a new one"),}));}
resolve();});});return Promise.all([this._super.apply(this,arguments),prom]);},destroy:function(){this.$target.empty();this._super.apply(this,arguments);},_showLoading:function($posts){var self=this;_.each($posts,function(post,i){var $post=$(post);var $progress=$post.find('.s_latest_posts_loader');var bgUrl=$post.find('.o_record_cover_image').css('background-image').replace('url(','').replace(')','').replace(/\"/gi,"")||'none';$post.appendTo(self.$target);if(bgUrl==='none'){$post.addClass('s_latest_posts_loader_no_cover');$progress.remove();return;}
$progress.find('> div').removeClass('d-none').css('animation-delay',i*200+'ms');var $dummyImg=$('<img/>',{src:bgUrl});var timer=setTimeout(function(){$post.find('.o_record_cover_image').addClass('bg-200');$progress.remove();},10000);wUtils.onceAllImagesLoaded($dummyImg).then(function(){$progress.fadeOut(500,function(){$progress.removeClass('d-flex');});$dummyImg.remove();clearTimeout(timer);});});},});});;

/* /mail/static/src/js/utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('mail.utils',function(require){"use strict";var core=require('web.core');var _t=core._t;function parseAndTransform(htmlString,transformFunction){var openToken="OPEN"+Date.now();var string=htmlString.replace(/&lt;/g,openToken);var children;try{children=$('<div>').html(string).contents();}catch(e){children=$('<div>').html('<pre>'+string+'</pre>').contents();}
return _parseAndTransform(children,transformFunction).replace(new RegExp(openToken,"g"),"&lt;");}
function _parseAndTransform(nodes,transformFunction){return _.map(nodes,function(node){return transformFunction(node,function(){return _parseAndTransform(node.childNodes,transformFunction);});}).join("");}
var urlRegexp=/\b(?:https?:\/\/\d{1,3}(?:\.\d{1,3}){3}|(?:https?:\/\/|(?:www\.))[-a-z0-9@:%._+~#=]{2,256}\.[a-z]{2,13})\b(?:[-a-z0-9@:%_+.~#?&'$//=;]*)/gi;function linkify(text,attrs){attrs=attrs||{};if(attrs.target===undefined){attrs.target='_blank';}
if(attrs.target==='_blank'){attrs.rel='noreferrer noopener';}
attrs=_.map(attrs,function(value,key){return key+'="'+_.escape(value)+'"';}).join(' ');return text.replace(urlRegexp,function(url){var href=(!/^https?:\/\//i.test(url))?"http://"+url:url;return'<a '+attrs+' href="'+href+'">'+url+'</a>';});}
function addLink(node,transformChildren){if(node.nodeType===3){const linkified=linkify(node.data);if(linkified!==node.data){const div=document.createElement('div');div.innerHTML=linkified;for(const childNode of[...div.childNodes]){node.parentNode.insertBefore(childNode,node);}
node.parentNode.removeChild(node);return linkified;}
return node.textContent;}
if(node.tagName==="A")return node.outerHTML;transformChildren();return node.outerHTML;}
function htmlToTextContentInline(htmlString){const fragment=document.createDocumentFragment();const div=document.createElement('div');fragment.appendChild(div);htmlString=htmlString.replace(/<br\s*\/?>/gi,' ');try{div.innerHTML=htmlString;}catch(e){div.innerHTML=`<pre>${htmlString}</pre>`;}
return div.textContent.trim().replace(/[\n\r]/g,'').replace(/\s\s+/g,' ');}
function stripHTML(node,transformChildren){if(node.nodeType===3)return node.data;if(node.tagName==="BR")return"\n";return transformChildren();}
function inline(node,transform_children){if(node.nodeType===3)return node.data;if(node.nodeType===8)return"";if(node.tagName==="BR")return" ";if(node.tagName.match(/^(A|P|DIV|PRE|BLOCKQUOTE)$/))return transform_children();node.innerHTML=transform_children();return node.outerHTML;}
function parseEmail(text){if(text){var result=text.match(/(.*)<(.*@.*)>/);if(result){return[_.str.trim(result[1]),_.str.trim(result[2])];}
result=text.match(/(.*@.*)/);if(result){return[_.str.trim(result[1]),_.str.trim(result[1])];}
return[text,false];}}
function escapeAndCompactTextContent(content){let value=_.escape(content).trim();value=value.replace(/(\r|\n){2,}/g,'<br/><br/>');value=value.replace(/(\r|\n)/g,'<br/>');value=value.replace(/ /g,'&nbsp;').replace(/([^>])&nbsp;([^<])/g,'$1 $2');return value;}
function getTextToHTML(text){return text.replace(/((?:https?|ftp):\/\/[\S]+)/g,'<a href="$1">$1</a> ').replace(/[\n\r]/g,'<br/>');}
function timeFromNow(date){if(moment().diff(date,'seconds')<45){return _t("now");}
return date.fromNow();}
return{addLink:addLink,getTextToHTML:getTextToHTML,htmlToTextContentInline,inline:inline,linkify:linkify,parseAndTransform:parseAndTransform,parseEmail:parseEmail,stripHTML:stripHTML,timeFromNow:timeFromNow,escapeAndCompactTextContent,};});;

/* /website_livechat/static/src/bugfix/public_bugfix.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_livechat/static/src/bugfix/bugfix.js',function(require){'use strict';});;

/* /im_livechat/static/src/legacy/public_livechat.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('im_livechat.legacy.im_livechat.im_livechat',function(require){"use strict";require('bus.BusService');var concurrency=require('web.concurrency');var config=require('web.config');var core=require('web.core');var session=require('web.session');var time=require('web.time');var utils=require('web.utils');var Widget=require('web.Widget');var WebsiteLivechat=require('im_livechat.legacy.im_livechat.model.WebsiteLivechat');var WebsiteLivechatMessage=require('im_livechat.legacy.im_livechat.model.WebsiteLivechatMessage');var WebsiteLivechatWindow=require('im_livechat.legacy.im_livechat.WebsiteLivechatWindow');var _t=core._t;var QWeb=core.qweb;var LIVECHAT_COOKIE_HISTORY='im_livechat_history';var HISTORY_LIMIT=15;var RATING_TO_EMOJI={"10":"","5":"","1":""};var page=window.location.href.replace(/^.*\/\/[^/]+/,'');var pageHistory=utils.get_cookie(LIVECHAT_COOKIE_HISTORY);var urlHistory=[];if(pageHistory){urlHistory=JSON.parse(pageHistory)||[];}
if(!_.contains(urlHistory,page)){urlHistory.push(page);while(urlHistory.length>HISTORY_LIMIT){urlHistory.shift();}
utils.set_cookie(LIVECHAT_COOKIE_HISTORY,JSON.stringify(urlHistory),60*60*24);}
var LivechatButton=Widget.extend({className:'openerp o_livechat_button d-print-none',custom_events:{'close_chat_window':'_onCloseChatWindow','post_message_chat_window':'_onPostMessageChatWindow','save_chat_window':'_onSaveChatWindow','updated_typing_partners':'_onUpdatedTypingPartners','updated_unread_counter':'_onUpdatedUnreadCounter',},events:{'click':'_openChat'},init:function(parent,serverURL,options){this._super(parent);this.options=_.defaults(options||{},{input_placeholder:_t("Ask something ..."),default_username:_t("Visitor"),button_text:_t("Chat with one of our collaborators"),default_message:_t("How may I help you?"),});this._history=null;this._livechat=null;this._chatWindow=null;this._messages=[];this._serverURL=serverURL;},willStart:function(){var self=this;var cookie=utils.get_cookie('im_livechat_session');var ready;if(!cookie){ready=session.rpc('/im_livechat/init',{channel_id:this.options.channel_id}).then(function(result){if(!result.available_for_me){return Promise.reject();}
self._rule=result.rule;});}else{var channel=JSON.parse(cookie);ready=session.rpc('/mail/chat_history',{uuid:channel.uuid,limit:100}).then(function(history){self._history=history;});}
return ready.then(this._loadQWebTemplate.bind(this));},start:function(){this.$el.text(this.options.button_text);if(this._history){_.each(this._history.reverse(),this._addMessage.bind(this));this._openChat();}else if(!config.device.isMobile&&this._rule.action==='auto_popup'){var autoPopupCookie=utils.get_cookie('im_livechat_auto_popup');if(!autoPopupCookie||JSON.parse(autoPopupCookie)){this._autoPopupTimeout=setTimeout(this._openChat.bind(this),this._rule.auto_popup_timer*1000);}}
this.call('bus_service','onNotification',this,this._onNotification);if(this.options.button_background_color){this.$el.css('background-color',this.options.button_background_color);}
if(this.options.button_text_color){this.$el.css('color',this.options.button_text_color);}
var pwaBannerHeight=$('.o_pwa_install_banner').outerHeight(true);if(pwaBannerHeight){this.$el.css('bottom',pwaBannerHeight+'px');}
return this._super();},_addMessage:function(data,options){options=_.extend({},this.options,options,{serverURL:this._serverURL,});var message=new WebsiteLivechatMessage(this,data,options);var hasAlreadyMessage=_.some(this._messages,function(msg){return message.getID()===msg.getID();});if(hasAlreadyMessage){return;}
if(this._livechat){this._livechat.addMessage(message);}
if(options&&options.prepend){this._messages.unshift(message);}else{this._messages.push(message);}},_askFeedback:function(){this._chatWindow.$('.o_thread_composer input').prop('disabled',true);var feedback=new Feedback(this,this._livechat);this._chatWindow.replaceContentWith(feedback);feedback.on('send_message',this,this._sendMessage);feedback.on('feedback_sent',this,this._closeChat);},_closeChat:function(){this._chatWindow.destroy();utils.set_cookie('im_livechat_session',"",-1);},_handleNotification:function(notification){const[livechatUUID,notificationData]=notification;if(this._livechat&&(livechatUUID===this._livechat.getUUID())){if(notificationData._type==='history_command'){const cookie=utils.get_cookie(LIVECHAT_COOKIE_HISTORY);const history=cookie?JSON.parse(cookie):[];session.rpc('/im_livechat/history',{pid:this._livechat.getOperatorPID()[0],channel_uuid:this._livechat.getUUID(),page_history:history,});}else if(notificationData.info==='typing_status'){const partnerID=notificationData.partner_id;if(partnerID===this.options.current_partner_id){return;}
if(notificationData.is_typing){this._livechat.registerTyping({partnerID});}else{this._livechat.unregisterTyping({partnerID});}}else if('body'in notificationData){if(this._messages.some(message=>message.getID()===notificationData.id)){return;}
this._addMessage(notificationData);if(this._chatWindow.isFolded()||!this._chatWindow.isAtBottom()){this._livechat.incrementUnreadCounter();}
this._renderMessages();}}},_loadQWebTemplate:function(){return session.rpc('/im_livechat/load_templates').then(function(templates){_.each(templates,function(template){QWeb.add_template(template);});});},_openChat:_.debounce(function(){if(this._openingChat){return;}
var self=this;var cookie=utils.get_cookie('im_livechat_session');var def;this._openingChat=true;clearTimeout(this._autoPopupTimeout);if(cookie){def=Promise.resolve(JSON.parse(cookie));}else{this._messages=[];def=session.rpc('/im_livechat/get_session',{channel_id:this.options.channel_id,anonymous_name:this.options.default_username,previous_operator_id:this._get_previous_operator_id(),},{shadow:true});}
def.then(function(livechatData){if(!livechatData||!livechatData.operator_pid){try{self.displayNotification({message:_t("No available collaborator, please try again later."),sticky:true,});}catch(err){console.warn(_t("No available collaborator, please try again later."));}}else{self._livechat=new WebsiteLivechat({parent:self,data:livechatData});return self._openChatWindow().then(function(){if(!self._history){self._sendWelcomeMessage();}
self._renderMessages();self.call('bus_service','addChannel',self._livechat.getUUID());self.call('bus_service','startPolling');utils.set_cookie('im_livechat_session',utils.unaccent(JSON.stringify(self._livechat.toData())),60*60);utils.set_cookie('im_livechat_auto_popup',JSON.stringify(false),60*60);if(livechatData.operator_pid[0]){var operatorPidId=livechatData.operator_pid[0];var oneWeek=7*24*60*60;utils.set_cookie('im_livechat_previous_operator_pid',operatorPidId,oneWeek);}});}}).then(function(){self._openingChat=false;}).guardedCatch(function(){self._openingChat=false;});},200,true),_get_previous_operator_id:function(){var cookie=utils.get_cookie('im_livechat_previous_operator_pid');if(cookie){return cookie;}
return null;},_openChatWindow:function(){var self=this;var options={displayStars:false,headerBackgroundColor:this.options.header_background_color,placeholder:this.options.input_placeholder||"",titleColor:this.options.title_color,};this._chatWindow=new WebsiteLivechatWindow(this,this._livechat,options);return this._chatWindow.appendTo($('body')).then(function(){var cssProps={bottom:0};cssProps[_t.database.parameters.direction==='rtl'?'left':'right']=0;self._chatWindow.$el.css(cssProps);self.$el.hide();});},_renderMessages:function(){var shouldScroll=!this._chatWindow.isFolded()&&this._chatWindow.isAtBottom();this._livechat.setMessages(this._messages);this._chatWindow.render();if(shouldScroll){this._chatWindow.scrollToBottom();}},_sendMessage:function(message){var self=this;this._livechat._notifyMyselfTyping({typing:false});return session.rpc('/mail/chat_post',{uuid:this._livechat.getUUID(),message_content:message.content}).then(function(messageId){if(!messageId){try{self.displayNotification({message:_t("Session expired... Please refresh and try again."),sticky:true,});}catch(err){console.warn(_t("Session expired... Please refresh and try again."));}
self._closeChat();}
self._chatWindow.scrollToBottom();});},_sendWelcomeMessage:function(){if(this.options.default_message){this._addMessage({id:'_welcome',attachment_ids:[],author_id:this._livechat.getOperatorPID(),body:this.options.default_message,channel_ids:[this._livechat.getID()],date:time.datetime_to_str(new Date()),},{prepend:true});}},_onCloseChatWindow:function(ev){ev.stopPropagation();var isComposerDisabled=this._chatWindow.$('.o_thread_composer input').prop('disabled');var shouldAskFeedback=!isComposerDisabled&&_.find(this._messages,function(message){return message.getID()!=='_welcome';});if(shouldAskFeedback){this._chatWindow.toggleFold(false);this._askFeedback();}else{this._closeChat();}},_onNotification:function(notifications){var self=this;_.each(notifications,function(notification){self._handleNotification(notification);});},_onPostMessageChatWindow:function(ev){ev.stopPropagation();var self=this;var messageData=ev.data.messageData;this._sendMessage(messageData).guardedCatch(function(reason){reason.event.preventDefault();return self._sendMessage(messageData);});},_onSaveChatWindow:function(ev){ev.stopPropagation();utils.set_cookie('im_livechat_session',utils.unaccent(JSON.stringify(this._livechat.toData())),60*60);},_onUpdatedTypingPartners(ev){ev.stopPropagation();this._chatWindow.renderHeader();},_onUpdatedUnreadCounter:function(ev){ev.stopPropagation();this._chatWindow.renderHeader();},});var Feedback=Widget.extend({template:'im_livechat.legacy.im_livechat.FeedBack',events:{'click .o_livechat_rating_choices img':'_onClickSmiley','click .o_livechat_no_feedback span':'_onClickNoFeedback','click .o_rating_submit_button':'_onClickSend','click .o_email_chat_button':'_onEmailChat','click .o_livechat_email_error .alert-link':'_onTryAgain',},init:function(parent,livechat){this._super(parent);this._livechat=livechat;this.server_origin=session.origin;this.rating=undefined;this.dp=new concurrency.DropPrevious();},_sendFeedback:function(reason){var self=this;var args={uuid:this._livechat.getUUID(),rate:this.rating,reason:reason,};this.dp.add(session.rpc('/im_livechat/feedback',args)).then(function(){var emoji=RATING_TO_EMOJI[self.rating]||"??";var content=_.str.sprintf(_t("Rating: %s"),emoji);if(reason){content+=" \n"+reason;}
self.trigger('send_message',{content:content,isFeedback:true});});},_showThanksMessage:function(){this.$('.o_livechat_rating_box').empty().append($('<div />',{text:_t('Thank you for your feedback'),class:'text-muted'}));},_onClickNoFeedback:function(){this.trigger('feedback_sent');},_onClickSend:function(){this.$('.o_livechat_rating_reason').hide();this._showThanksMessage();if(_.isNumber(this.rating)){this._sendFeedback(this.$('textarea').val());}},_onClickSmiley:function(ev){this.rating=parseInt($(ev.currentTarget).data('value'));this.$('.o_livechat_rating_choices img').removeClass('selected');this.$('.o_livechat_rating_choices img[data-value="'+this.rating+'"]').addClass('selected');if(this.rating!==5){this.$('.o_livechat_rating_reason').show();}else{this.$('.o_livechat_rating_reason').hide();this._showThanksMessage();this._sendFeedback();}},_onEmailChat:function(){var self=this;var $email=this.$('#o_email');if(utils.is_email($email.val())){$email.removeAttr('title').removeClass('is-invalid').prop('disabled',true);this.$('.o_email_chat_button').prop('disabled',true);this._rpc({route:'/im_livechat/email_livechat_transcript',params:{uuid:this._livechat.getUUID(),email:$email.val(),}}).then(function(){self.$('.o_livechat_email').html($('<strong />',{text:_t('Conversation Sent')}));}).guardedCatch(function(){self.$('.o_livechat_email').hide();self.$('.o_livechat_email_error').show();});}else{$email.addClass('is-invalid').prop('title',_t('Invalid email address'));}},_onTryAgain:function(){this.$('#o_email').prop('disabled',false);this.$('.o_email_chat_button').prop('disabled',false);this.$('.o_livechat_email_error').hide();this.$('.o_livechat_email').show();},});return{LivechatButton:LivechatButton,Feedback:Feedback,};});odoo.define('im_livechat.legacy.im_livechat.model.WebsiteLivechat',function(require){"use strict";var AbstractThread=require('im_livechat.legacy.mail.model.AbstractThread');var ThreadTypingMixin=require('im_livechat.legacy.mail.model.ThreadTypingMixin');var session=require('web.session');var WebsiteLivechat=AbstractThread.extend(ThreadTypingMixin,{init:function(params){this._super.apply(this,arguments);ThreadTypingMixin.init.call(this,arguments);this._members=[];this._operatorPID=params.data.operator_pid;this._uuid=params.data.uuid;if(params.data.message_unread_counter!==undefined){this._unreadCounter=params.data.message_unread_counter;}
if(_.isBoolean(params.data.folded)){this._folded=params.data.folded;}else{this._folded=params.data.state==='folded';}
this._members.push({id:this._operatorPID[0],name:this._operatorPID[1]});},getMessages:function(){return this._messages;},getOperatorPID:function(){return this._operatorPID;},getUUID:function(){return this._uuid;},incrementUnreadCounter:function(){this._incrementUnreadCounter();},setMessages:function(messages){this._messages=messages;},toData:function(){return{folded:this.isFolded(),id:this.getID(),message_unread_counter:this.getUnreadCounter(),operator_pid:this.getOperatorPID(),name:this.getName(),uuid:this.getUUID(),};},_isTypingMyselfInfo:function(params){return params.isWebsiteUser;},_notifyMyselfTyping:function(params){return session.rpc('/im_livechat/notify_typing',{uuid:this.getUUID(),is_typing:params.typing,},{shadow:true});},_warnUpdatedTypingPartners:function(){this.trigger_up('updated_typing_partners');},_warnUpdatedUnreadCounter:function(){this.trigger_up('updated_unread_counter');},_onTypingMessageAdded:function(message){var operatorID=this.getOperatorPID()[0];if(message.hasAuthor()&&message.getAuthorID()===operatorID){this.unregisterTyping({partnerID:operatorID});}},});return WebsiteLivechat;});odoo.define('im_livechat.legacy.im_livechat.model.WebsiteLivechatMessage',function(require){"use strict";var AbstractMessage=require('im_livechat.legacy.mail.model.AbstractMessage');var WebsiteLivechatMessage=AbstractMessage.extend({init:function(parent,data,options){this._super.apply(this,arguments);this._defaultUsername=options.default_username;this._serverURL=options.serverURL;},getAvatarSource:function(){var source=this._serverURL;if(this.hasAuthor()){source+='/web/partner_image/'+this.getAuthorID();}else{source+='/mail/static/src/img/smiley/avatar.jpg';}
return source;},getDisplayedAuthor:function(){return this._super.apply(this,arguments)||this._defaultUsername;},});return WebsiteLivechatMessage;});odoo.define('im_livechat.legacy.im_livechat.WebsiteLivechatWindow',function(require){"use strict";var AbstractThreadWindow=require('im_livechat.legacy.mail.AbstractThreadWindow');var LivechatWindow=AbstractThreadWindow.extend({events:_.extend(AbstractThreadWindow.prototype.events,{'input .o_composer_text_field':'_onInput',}),init(parent,thread,options={}){this._super.apply(this,arguments);this._thread=thread;},async start(){await this._super(...arguments);if(this.options.headerBackgroundColor){this.$('.o_thread_window_header').css('background-color',this.options.headerBackgroundColor);}
if(this.options.titleColor){this.$('.o_thread_window_header').css('color',this.options.titleColor);}},close:function(){this.trigger_up('close_chat_window');},replaceContentWith:function($element){$element.replace(this._threadWidget.$el);},toggleFold:function(){this._super.apply(this,arguments);this.trigger_up('save_chat_window');this.updateVisualFoldState();},_postMessage:function(messageData){this.trigger_up('post_message_chat_window',{messageData:messageData});this._super.apply(this,arguments);},_onInput:function(){if(this.hasThread()&&this._thread.hasTypingNotification()){var isTyping=this.$input.val().length>0;this._thread.setMyselfTyping({typing:isTyping});}},});return LivechatWindow;});odoo.define('im_livechat.legacy.mail.model.AbstractThread',function(require){"use strict";var Class=require('web.Class');var Mixins=require('web.mixins');var AbstractThread=Class.extend(Mixins.EventDispatcherMixin,{init:function(params){Mixins.EventDispatcherMixin.init.call(this,arguments);this.setParent(params.parent);this._folded=false;this._id=params.data.id;this._name=params.data.name;this._status=params.data.status||'';this._unreadCounter=0;},addMessage:function(message){this._addMessage.apply(this,arguments);this.trigger('message_added',message);},fold:function(folded){this._folded=folded;},getID:function(){return this._id;},getMessages:function(){},getName:function(){return this._name;},getStatus:function(){return this._status;},getTitle:function(){return this.getName();},getType:function(){},getUnreadCounter:function(){return this._unreadCounter;},hasMessages:function(){return!_.isEmpty(this.getMessages());},hasSeenFeature:function(){return false;},isFolded:function(){return this._folded;},markAsRead:function(){if(this._unreadCounter>0){return this._markAsRead();}
return Promise.resolve();},postMessage:function(){return this._postMessage.apply(this,arguments).then(this.trigger.bind(this,'message_posted'));},resetUnreadCounter:function(){this._unreadCounter=0;this._warnUpdatedUnreadCounter();},_addMessage:function(message){},_incrementUnreadCounter:function(){this._unreadCounter++;},_markAsRead:function(){this.resetUnreadCounter();return Promise.resolve();},_postMessage:function(){return Promise.resolve();},_warnUpdatedUnreadCounter:function(){},});return AbstractThread;});odoo.define('im_livechat.legacy.mail.model.ThreadTypingMixin',function(require){"use strict";var CCThrottleFunction=require('im_livechat.legacy.mail.model.CCThrottleFunction');var Timer=require('im_livechat.legacy.mail.model.Timer');var Timers=require('im_livechat.legacy.mail.model.Timers');var core=require('web.core');var _t=core._t;var ThreadTypingMixin={_DEFAULT_TYPING_PARTNER_ID:'_default',_DEFAULT_TYPING_PARTNER_NAME:'Someone',init:function(){this._lastNotifiedMyselfTyping=false;this._myselfLongTypingTimer=new Timer({duration:50*1000,onTimeout:this._onMyselfLongTypingTimeout.bind(this),});this._myselfTypingInactivityTimer=new Timer({duration:5*1000,onTimeout:this._onMyselfTypingInactivityTimeout.bind(this),});this._othersTypingTimers=new Timers({duration:60*1000,onTimeout:this._onOthersTypingTimeout.bind(this),});this._throttleNotifyMyselfTyping=CCThrottleFunction({duration:2.5*1000,func:this._onNotifyMyselfTyping.bind(this),});this._typingPartnerIDs=[];this.on('message_added',this,this._onTypingMessageAdded);this.on('message_posted',this,this._onTypingMessagePosted);},getTypingMembersToText:function(){var typingPartnerIDs=this._typingPartnerIDs;var typingMembers=_.filter(this._members,function(member){return _.contains(typingPartnerIDs,member.id);});var sortedTypingMembers=_.sortBy(typingMembers,function(member){return _.indexOf(typingPartnerIDs,member.id);});var displayableTypingMembers=sortedTypingMembers.slice(0,3);if(displayableTypingMembers.length===0){return'';}else if(displayableTypingMembers.length===1){return _.str.sprintf(_t("%s is typing..."),displayableTypingMembers[0].name);}else if(displayableTypingMembers.length===2){return _.str.sprintf(_t("%s and %s are typing..."),displayableTypingMembers[0].name,displayableTypingMembers[1].name);}else{return _.str.sprintf(_t("%s, %s and more are typing..."),displayableTypingMembers[0].name,displayableTypingMembers[1].name);}},hasTypingNotification:function(){return true;},isSomeoneTyping:function(){return!(_.isEmpty(this._typingPartnerIDs));},registerTyping:function(params){if(this._isTypingMyselfInfo(params)){return;}
var partnerID=params.partnerID;this._othersTypingTimers.registerTimer({timeoutCallbackArguments:[partnerID],timerID:partnerID,});if(_.contains(this._typingPartnerIDs,partnerID)){return;}
this._typingPartnerIDs.push(partnerID);this._warnUpdatedTypingPartners();},setMyselfTyping:function(params){var typing=params.typing;if(this._lastNotifiedMyselfTyping===typing){this._throttleNotifyMyselfTyping.cancel();}else{this._throttleNotifyMyselfTyping(params);}
if(typing){this._myselfTypingInactivityTimer.reset();}else{this._myselfTypingInactivityTimer.clear();}},unregisterTyping:function(params){var partnerID=params.partnerID;this._othersTypingTimers.unregisterTimer({timerID:partnerID});if(!_.contains(this._typingPartnerIDs,partnerID)){return;}
this._typingPartnerIDs=_.reject(this._typingPartnerIDs,function(id){return id===partnerID;});this._warnUpdatedTypingPartners();},_isTypingMyselfInfo:function(params){return false;},_notifyMyselfTyping:function(params){return Promise.resolve();},_warnUpdatedTypingPartners:function(){},_onMyselfLongTypingTimeout:function(){this._throttleNotifyMyselfTyping.clear();this._throttleNotifyMyselfTyping({typing:true});},_onMyselfTypingInactivityTimeout:function(){this._throttleNotifyMyselfTyping.clear();this._throttleNotifyMyselfTyping({typing:false});},_onNotifyMyselfTyping:function(params){var typing=params.typing;this._lastNotifiedMyselfTyping=typing;this._notifyMyselfTyping(params);if(typing){this._myselfLongTypingTimer.reset();}else{this._myselfLongTypingTimer.clear();}},_onOthersTypingTimeout:function(partnerID){this.unregisterTyping({partnerID:partnerID});},_onTypingMessageAdded:function(message){var partnerID=message.hasAuthor()?message.getAuthorID():this._DEFAULT_TYPING_PARTNER_ID;this.unregisterTyping({partnerID:partnerID});},_onTypingMessagePosted:function(){this._lastNotifiedMyselfTyping=false;this._throttleNotifyMyselfTyping.clear();this._myselfLongTypingTimer.clear();this._myselfTypingInactivityTimer.clear();},};return ThreadTypingMixin;});odoo.define('im_livechat.legacy.mail.model.AbstractMessage',function(require){"use strict";var mailUtils=require('mail.utils');var Class=require('web.Class');var core=require('web.core');var session=require('web.session');var time=require('web.time');var _t=core._t;var AbstractMessage=Class.extend({init:function(parent,data){this._attachmentIDs=data.attachment_ids||[];this._body=data.body||"";this._date=data.date?moment(time.str_to_datetime(data.date)):moment();this._id=data.id;this._isDiscussion=data.is_discussion;this._isNotification=data.is_notification;this._serverAuthorID=data.author_id;this._type=data.message_type||undefined;this._processAttachmentURL();this._attachmentIDs.forEach(function(attachment){attachment.filename=attachment.filename||attachment.name||_t("unnamed");});},getAttachments:function(){return this._attachmentIDs;},getAuthorID:function(){if(!this.hasAuthor()){return-1;}
return this._serverAuthorID[0];},getAuthorImStatus:function(){return undefined;},getAvatarSource:function(){if(this.hasAuthor()){return'/web/image/res.partner/'+this.getAuthorID()+'/image_128';}},getBody:function(){return this._body;},getDate:function(){return this._date;},getDateDay:function(){var date=this.getDate().format('YYYY-MM-DD');if(date===moment().format('YYYY-MM-DD')){return _t("Today");}else if(date===moment().subtract(1,'days').format('YYYY-MM-DD')){return _t("Yesterday");}
return this.getDate().format('LL');},getDisplayedAuthor:function(){return this.hasAuthor()?this._getAuthorName():null;},getID:function(){return this._id;},getImageAttachments:function(){return _.filter(this.getAttachments(),function(attachment){return attachment.mimetype&&attachment.mimetype.split('/')[0]==='image';});},getNonImageAttachments:function(){return _.difference(this.getAttachments(),this.getImageAttachments());},getNotificationIcon(){if(!this.hasNotificationsError()){return'fa fa-envelope-o';}
return'fa fa-envelope';},getNotifications(){return[];},getNotificationText(){return'';},getTimeElapsed:function(){return mailUtils.timeFromNow(this.getDate());},getType:function(){return this._type;},hasAttachments:function(){return this.getAttachments().length>0;},hasAuthor:function(){return!!(this._serverAuthorID&&this._serverAuthorID[0]);},hasEmailFrom:function(){return false;},hasImageAttachments:function(){return _.some(this.getAttachments(),function(attachment){return attachment.mimetype&&attachment.mimetype.split('/')[0]==='image';});},hasNonImageAttachments:function(){return _.some(this.getAttachments(),function(attachment){return!(attachment.mimetype&&attachment.mimetype.split('/')[0]==='image');});},hasNotifications(){return this.getNotifications().length>0;},hasNotificationsError(){return this.getNotifications().some(notif=>notif.notification_status==='exception'||notif.notification_status==='bounce');},originatesFromChannel:function(){return false;},hasSubject:function(){return false;},isEmpty:function(){return!this.hasTrackingValues()&&!this.hasAttachments()&&!this.getBody();},hasSubtypeDescription:function(){return false;},hasTrackingValues:function(){return false;},isDiscussion:function(){return this._isDiscussion;},isLinkedToDocumentThread:function(){return false;},isNeedaction:function(){return false;},isNote:function(){return this._isNote;},isNotification:function(){return this._isNotification;},isStarred:function(){return false;},isSystemNotification:function(){return false;},needsModeration:function(){return false;},removeAttachments:function(attachmentIDs){this._attachmentIDs=_.reject(this._attachmentIDs,function(attachment){return _.contains(attachmentIDs,attachment.id);});},shouldRedirectToAuthor:function(){return!this._isMyselfAuthor();},_getAuthorName:function(){if(!this.hasAuthor()){return"";}
return this._serverAuthorID[1];},_isMyselfAuthor:function(){return this.hasAuthor()&&(this.getAuthorID()===session.partner_id);},_processAttachmentURL:function(){_.each(this.getAttachments(),function(attachment){attachment.url='/web/content/'+attachment.id+'?download=true';});},});return AbstractMessage;});odoo.define('im_livechat.legacy.mail.AbstractThreadWindow',function(require){"use strict";var ThreadWidget=require('im_livechat.legacy.mail.widget.Thread');var config=require('web.config');var core=require('web.core');var Widget=require('web.Widget');var QWeb=core.qweb;var _t=core._t;var AbstractThreadWindow=Widget.extend({template:'im_livechat.legacy.mail.AbstractThreadWindow',custom_events:{document_viewer_closed:'_onDocumentViewerClose',},events:{'click .o_thread_window_close':'_onClickClose','click .o_thread_window_title':'_onClickFold','click .o_composer_text_field':'_onComposerClick','click .o_mail_thread':'_onThreadWindowClicked','keydown .o_composer_text_field':'_onKeydown','keypress .o_composer_text_field':'_onKeypress',},FOLD_ANIMATION_DURATION:200,HEIGHT_OPEN:'400px',HEIGHT_FOLDED:'34px',init:function(parent,thread,options){this._super(parent);this.options=_.defaults(options||{},{autofocus:true,displayStars:true,displayReplyIcons:false,displayNotificationIcons:false,placeholder:_t("Say something"),});this._hidden=false;this._thread=thread||null;this._debouncedOnScroll=_.debounce(this._onScroll.bind(this),100);if(!this.hasThread()){this._folded=false;}},start:function(){var self=this;this.$input=this.$('.o_composer_text_field');this.$header=this.$('.o_thread_window_header');var options={displayMarkAsRead:false,displayStars:this.options.displayStars,};if(this._thread&&this._thread._type==='document_thread'){options.displayDocumentLinks=false;}
this._threadWidget=new ThreadWidget(this,options);this.$el.css({transition:'height '+this.FOLD_ANIMATION_DURATION+'ms linear'});if(this.isFolded()){this.$el.css('height',this.HEIGHT_FOLDED);}else if(this.options.autofocus){this._focusInput();}
if(!config.device.isMobile){var margin_dir=_t.database.parameters.direction==="rtl"?"margin-left":"margin-right";this.$el.css(margin_dir,$.position.scrollbarWidth());}
var def=this._threadWidget.replace(this.$('.o_thread_window_content')).then(function(){self._threadWidget.$el.on('scroll',self,self._debouncedOnScroll);});return Promise.all([this._super(),def]);},do_hide:function(){this._hidden=true;this._super.apply(this,arguments);},do_show:function(){this._hidden=false;this._super.apply(this,arguments);},do_toggle:function(display){this._hidden=_.isBoolean(display)?!display:!this._hidden;this._super.apply(this,arguments);},close:function(){},getID:function(){return this._getThreadID();},getThread:function(){if(!this.hasThread()){return undefined;}
return this._thread;},getThreadStatus:function(){if(!this.hasThread()){return undefined;}
return this._thread.getStatus();},getTitle:function(){if(!this.hasThread()){return _t("Undefined");}
return this._thread.getTitle();},getUnreadCounter:function(){if(!this.hasThread()){return 0;}
return this._thread.getUnreadCounter();},hasThread:function(){return!!this._thread;},isAtBottom:function(){return this._threadWidget.isAtBottom();},isFolded:function(){if(!this.hasThread()){return this._folded;}
return this._thread.isFolded();},isMobile:function(){return config.device.isMobile;},isHidden:function(){return this._hidden;},needsComposer:function(){return this.hasThread();},render:function(){this.renderHeader();if(this.hasThread()){this._threadWidget.render(this._thread,{displayLoadMore:false});}},renderHeader:function(){var options=this._getHeaderRenderingOptions();this.$header.html(QWeb.render('im_livechat.legacy.mail.AbstractThreadWindow.HeaderContent',options));},scrollToBottom:function(){this._threadWidget.scrollToBottom();},toggleFold:function(folded){if(!_.isBoolean(folded)){folded=!this.isFolded();}
this._updateThreadFoldState(folded);},updateVisualFoldState:function(){if(!this.isFolded()){this._threadWidget.scrollToBottom();if(this.options.autofocus){this._focusInput();}}
var height=this.isFolded()?this.HEIGHT_FOLDED:this.HEIGHT_OPEN;this.$el.css({height:height});},_focusInput:function(){if(config.device.touch&&config.device.size_class<=config.device.SIZES.SM){return;}
this.$input.focus();},_getHeaderRenderingOptions:function(){return{status:this.getThreadStatus(),thread:this.getThread(),title:this.getTitle(),unreadCounter:this.getUnreadCounter(),widget:this,};},_getThreadID:function(){if(!this.hasThread()){return'_blank';}
return this._thread.getID();},_hasFocus:function(){return this.$input.is(':focus');},_postMessage:function(messageData){var self=this;if(!this.hasThread()){return;}
this._thread.postMessage(messageData).then(function(){self._threadWidget.scrollToBottom();});},_updateThreadFoldState:function(folded){if(this.hasThread()){this._thread.fold(folded);}else{this._folded=folded;this.updateVisualFoldState();}},_onClickClose:function(ev){ev.stopPropagation();ev.preventDefault();if(this.hasThread()&&this._thread.getUnreadCounter()>0&&!this.isFolded()){this._thread.markAsRead();}
this.close();},_onClickFold:function(){if(!config.device.isMobile){this.toggleFold();}},_onComposerClick:function(ev){if($(ev.target).closest('a, button').length){return;}
this._focusInput();},_onDocumentViewerClose:function(){this._focusInput();},_onKeydown:function(ev){ev.stopPropagation();if(ev.which===13){var content=_.str.trim(this.$input.val());var messageData={content:content,attachment_ids:[],partner_ids:[],};this.$input.val('');if(content){this._postMessage(messageData);}}},_onKeypress:function(ev){ev.stopPropagation();},_onScroll:function(){if(this.hasThread()&&this.isAtBottom()){this._thread.markAsRead();}},_onThreadWindowClicked:function(){var selectObj=window.getSelection();if(selectObj.anchorOffset===selectObj.focusOffset){this.$input.focus();}},});return AbstractThreadWindow;});odoo.define('im_livechat.legacy.mail.model.CCThrottleFunctionObject',function(require){"use strict";var Class=require('web.Class');var CCThrottleFunctionObject=Class.extend({init:function(params){this._arguments=undefined;this._cooldownTimeout=undefined;this._duration=params.duration;this._func=params.func;this._shouldCallFunctionAfterCD=false;},cancel:function(){this._arguments=undefined;this._shouldCallFunctionAfterCD=false;},clear:function(){if(this._cooldownTimeout){clearTimeout(this._cooldownTimeout);this._onCooldownTimeout();}},do:function(){this._arguments=Array.prototype.slice.call(arguments);if(this._cooldownTimeout===undefined){this._callFunction();}else{this._shouldCallFunctionAfterCD=true;}},_callFunction:function(){this._func.apply(null,this._arguments);this._cooldown();},_cooldown:function(){this.cancel();this._cooldownTimeout=setTimeout(this._onCooldownTimeout.bind(this),this._duration);},_onCooldownTimeout:function(){if(this._shouldCallFunctionAfterCD){this._callFunction();}else{this._cooldownTimeout=undefined;}},});return CCThrottleFunctionObject;});odoo.define('im_livechat.legacy.mail.model.CCThrottleFunction',function(require){"use strict";var CCThrottleFunctionObject=require('im_livechat.legacy.mail.model.CCThrottleFunctionObject');var CCThrottleFunction=function(params){var duration=params.duration;var func=params.func;var throttleFunctionObject=new CCThrottleFunctionObject({duration:duration,func:func,});var callable=function(){return throttleFunctionObject.do.apply(throttleFunctionObject,arguments);};callable.cancel=function(){throttleFunctionObject.cancel();};callable.clear=function(){throttleFunctionObject.clear();};return callable;};return CCThrottleFunction;});odoo.define('im_livechat.legacy.mail.model.Timer',function(require){"use strict";var Class=require('web.Class');var Timer=Class.extend({init:function(params){this._duration=params.duration;this._timeout=undefined;this._timeoutCallback=params.onTimeout;},clear:function(){clearTimeout(this._timeout);},reset:function(){this.clear();this.start();},start:function(){this._timeout=setTimeout(this._onTimeout.bind(this),this._duration);},_onTimeout:function(){this._timeoutCallback();},});return Timer;});odoo.define('im_livechat.legacy.mail.model.Timers',function(require){"use strict";var Timer=require('im_livechat.legacy.mail.model.Timer');var Class=require('web.Class');var Timers=Class.extend({init:function(params){this._duration=params.duration;this._timeoutCallback=params.onTimeout;this._timers={};},registerTimer:function(params){var timerID=params.timerID;if(this._timers[timerID]){this._timers[timerID].clear();}
var timerParams={duration:this._duration,onTimeout:this._timeoutCallback,};if('timeoutCallbackArguments'in params){timerParams.onTimeout=this._timeoutCallback.bind.apply(this._timeoutCallback,[null].concat(params.timeoutCallbackArguments));}else{timerParams.onTimeout=this._timeoutCallback;}
this._timers[timerID]=new Timer(timerParams);this._timers[timerID].start();},unregisterTimer:function(params){var timerID=params.timerID;if(this._timers[timerID]){this._timers[timerID].clear();delete this._timers[timerID];}},});return Timers;});odoo.define('im_livechat.legacy.mail.widget.Thread',function(require){"use strict";var DocumentViewer=require('im_livechat.legacy.mail.DocumentViewer');var mailUtils=require('mail.utils');var core=require('web.core');var time=require('web.time');var Widget=require('web.Widget');var QWeb=core.qweb;var _lt=core._lt;var ORDER={ASC:1,DESC:-1,};var READ_MORE=_lt("read more");var READ_LESS=_lt("read less");var ThreadWidget=Widget.extend({className:'o_mail_thread',events:{'click a':'_onClickRedirect','click img':'_onClickRedirect','click strong':'_onClickRedirect','click .o_thread_show_more':'_onClickShowMore','click .o_attachment_download':'_onAttachmentDownload','click .o_attachment_view':'_onAttachmentView','click .o_attachment_delete_cross':'_onDeleteAttachment','click .o_thread_message_needaction':'_onClickMessageNeedaction','click .o_thread_message_star':'_onClickMessageStar','click .o_thread_message_reply':'_onClickMessageReply','click .oe_mail_expand':'_onClickMailExpand','click .o_thread_message':'_onClickMessage','click':'_onClick','click .o_thread_message_notification_error':'_onClickMessageNotificationError','click .o_thread_message_moderation':'_onClickMessageModeration','change .moderation_checkbox':'_onChangeModerationCheckbox',},init:function(parent,options){this._super.apply(this,arguments);this.attachments=[];this._enabledOptions=_.defaults(options||{},{displayOrder:ORDER.ASC,displayMarkAsRead:true,displayModerationCommands:false,displayStars:true,displayDocumentLinks:true,displayAvatars:true,squashCloseMessages:true,displayNotificationIcons:true,displayReplyIcons:false,loadMoreOnScroll:false,hasMessageAttachmentDeletable:false,});this._disabledOptions={displayOrder:this._enabledOptions.displayOrder,displayMarkAsRead:false,displayModerationCommands:false,displayStars:false,displayDocumentLinks:false,displayAvatars:this._enabledOptions.displayAvatars,squashCloseMessages:false,displayNotificationIcons:false,displayReplyIcons:false,loadMoreOnScroll:this._enabledOptions.loadMoreOnScroll,hasMessageAttachmentDeletable:false,};this._selectedMessageID=null;this._currentThreadID=null;this._messageMailPopover=null;this._messageSeenPopover=null;this._openedSeenPopoverIDs=[];},destroy:function(){clearInterval(this._updateTimestampsInterval);if(this._messageMailPopover){this._messageMailPopover.popover('hide');}
if(this._messageSeenPopover){this._messageSeenPopover.popover('hide');}
this._destroyOpenSeenPopoverIDs();this._super();},render:function(thread,options){var self=this;var shouldScrollToBottomAfterRendering=false;if(this._currentThreadID===thread.getID()&&this.isAtBottom()){shouldScrollToBottomAfterRendering=true;}
this._currentThreadID=thread.getID();var messages=_.clone(thread.getMessages({domain:options.domain||[]}));var modeOptions=options.isCreateMode?this._disabledOptions:this._enabledOptions;this.attachments=_.uniq(_.flatten(_.map(messages,function(message){return message.getAttachments();})));options=_.extend({},modeOptions,options,{selectedMessageID:this._selectedMessageID,});var displayAuthorMessages={};var prevMessage;_.each(messages,function(message){if(!prevMessage||(Math.abs(message.getDate().diff(prevMessage.getDate()))>60000)||prevMessage.getType()!=='comment'||message.getType()!=='comment'||(prevMessage.getAuthorID()!==message.getAuthorID())||((prevMessage.isLinkedToDocumentThread()&&message.isLinkedToDocumentThread())&&(prevMessage.getDocumentModel()!==message.getDocumentModel()||prevMessage.getDocumentID()!==message.getDocumentID()))){displayAuthorMessages[message.getID()]=true;}else{displayAuthorMessages[message.getID()]=!options.squashCloseMessages;}
prevMessage=message;});if(modeOptions.displayOrder===ORDER.DESC){messages.reverse();}
this.$el.html(QWeb.render('im_livechat.legacy.mail.widget.Thread',{thread:thread,displayAuthorMessages:displayAuthorMessages,options:options,ORDER:ORDER,dateFormat:time.getLangDatetimeFormat(),}));_.each(messages,function(message){var $message=self.$('.o_thread_message[data-message-id="'+message.getID()+'"]');$message.find('.o_mail_timestamp').data('date',message.getDate());self._insertReadMore($message);});if(shouldScrollToBottomAfterRendering){this.scrollToBottom();}
if(!this._updateTimestampsInterval){this.updateTimestampsInterval=setInterval(function(){self._updateTimestamps();},1000*60);}
this._renderMessageNotificationPopover(messages);if(thread.hasSeenFeature()){this._renderMessageSeenPopover(thread,messages);}},renderLoading:function(){this.$el.html(QWeb.render('im_livechat.legacy.mail.widget.ThreadLoading'));},getScrolltop:function(){return this.$el.scrollTop();},isAtBottom:function(){var fullHeight=this.el.scrollHeight;var topHiddenHeight=this.$el.scrollTop();var visibleHeight=this.$el.outerHeight();var bottomHiddenHeight=fullHeight-topHiddenHeight-visibleHeight;return bottomHiddenHeight<5;},removeMessageAndRender:function(messageID,thread,options){var self=this;this._currentThreadID=thread.getID();return new Promise(function(resolve,reject){self.$('.o_thread_message[data-message-id="'+messageID+'"]').fadeOut({done:function(){if(self._currentThreadID===thread.getID()){self.render(thread,options);}
resolve();},duration:200,});});},scrollToBottom:function(){this.$el.scrollTop(this.el.scrollHeight);},scrollToMessage:function(options){var $target=this.$('.o_thread_message[data-message-id="'+options.messageID+'"]');if(options.onlyIfNecessary){var delta=$target.parent().height()-$target.height();var offset=delta<0?0:delta-($target.offset().top-$target.offsetParent().offset().top);offset=-Math.min(offset,0);this.$el.scrollTo("+="+offset+"px",options.duration);}else if($target.length){this.$el.scrollTo($target);}},scrollToPosition:function(position){if(position){this.$el.scrollTop(position);}else{this.scrollToBottom();}},toggleModerationCheckboxes:function(checked){this.$('.moderation_checkbox').prop('checked',checked);},unselectMessage:function(){this.$('.o_thread_message').removeClass('o_thread_selected_message');this._selectedMessageID=null;},_destroyOpenSeenPopoverIDs:function(){_.each(this._openedSeenPopoverIDs,function(popoverID){$('#'+popoverID).remove();});this._openedSeenPopoverIDs=[];},_insertReadMore:function($element){var self=this;var groups=[];var readMoreNodes;var $children=$element.contents().filter(function(){return this.nodeType===1||this.nodeType===3&&this.nodeValue.trim();});_.each($children,function(child){var $child=$(child);if(child.nodeType===3&&$child.prevAll('[id*="stopSpelling"]').length>0){$child=$('<span>',{text:child.textContent,'data-o-mail-quote':'1',});child.parentNode.replaceChild($child[0],child);}
if($child.attr('data-o-mail-quote')||($child.get(0).nodeName==='BR'&&$child.prev('[data-o-mail-quote="1"]').length>0)){if(!readMoreNodes){readMoreNodes=[];groups.push(readMoreNodes);}
$child.hide();readMoreNodes.push($child);}else{readMoreNodes=undefined;self._insertReadMore($child);}});_.each(groups,function(group){var $readMore=$('<a>',{class:'o_mail_read_more',href:'#',text:READ_MORE,}).insertBefore(group[0]);var isReadMore=true;$readMore.click(function(e){e.preventDefault();isReadMore=!isReadMore;_.each(group,function($child){$child.hide();$child.toggle(!isReadMore);});$readMore.text(isReadMore?READ_MORE:READ_LESS);});});},_onDeleteAttachment:function(ev){ev.stopPropagation();var $target=$(ev.currentTarget);this.trigger_up('delete_attachment',{attachmentId:$target.data('id'),attachmentName:$target.data('name')});},_redirect:_.debounce(function(options){if('channelID'in options){this.trigger('redirect_to_channel',options.channelID);}else{this.trigger('redirect',options.model,options.id);}},500,true),_renderMessageNotificationPopover(messages){if(this._messageMailPopover){this._messageMailPopover.popover('hide');}
if(!this.$('.o_thread_tooltip').length){return;}
this._messageMailPopover=this.$('.o_thread_tooltip').popover({html:true,boundary:'viewport',placement:'auto',trigger:'hover',offset:'0, 1',content:function(){var messageID=$(this).data('message-id');var message=_.find(messages,function(message){return message.getID()===messageID;});return QWeb.render('im_livechat.legacy.mail.widget.Thread.Message.MailTooltip',{notifications:message.getNotifications(),});},});},_renderMessageSeenPopover:function(thread,messages){var self=this;this._destroyOpenSeenPopoverIDs();if(this._messageSeenPopover){this._messageSeenPopover.popover('hide');}
if(!this.$('.o_thread_message_core .o_mail_thread_message_seen_icon').length){return;}
this._messageSeenPopover=this.$('.o_thread_message_core .o_mail_thread_message_seen_icon').popover({html:true,boundary:'viewport',placement:'auto',trigger:'hover',offset:'0, 1',content:function(){var $this=$(this);self._openedSeenPopoverIDs.push($this.attr('aria-describedby'));var messageID=$this.data('message-id');var message=_.find(messages,function(message){return message.getID()===messageID;});return QWeb.render('im_livechat.legacy.mail.widget.Thread.Message.SeenIconPopoverContent',{thread:thread,message:message,});},});},_updateTimestamps:function(){var isAtBottom=this.isAtBottom();this.$('.o_mail_timestamp').each(function(){var date=$(this).data('date');$(this).html(mailUtils.timeFromNow(date));});if(isAtBottom&&!this.isAtBottom()){this.scrollToBottom();}},_onAttachmentDownload:function(event){event.stopPropagation();},_onAttachmentView:function(event){event.stopPropagation();var activeAttachmentID=$(event.currentTarget).data('id');if(activeAttachmentID){var attachmentViewer=new DocumentViewer(this,this.attachments,activeAttachmentID);attachmentViewer.appendTo($('body'));}},_onChangeModerationCheckbox:function(ev){this.trigger_up('update_moderation_buttons');},_onClick:function(){if(this._selectedMessageID){this.unselectMessage();this.trigger('unselect_message');}},_onClickMailExpand:function(ev){ev.preventDefault();},_onClickMessage:function(ev){$(ev.currentTarget).toggleClass('o_thread_selected_message');},_onClickMessageNeedaction:function(ev){var messageID=$(ev.currentTarget).data('message-id');this.trigger('mark_as_read',messageID);},_onClickMessageNotificationError(ev){const messageID=$(ev.currentTarget).data('message-id');this.do_action('mail.mail_resend_message_action',{additional_context:{mail_message_to_resend:messageID,}});},_onClickMessageReply:function(ev){this._selectedMessageID=$(ev.currentTarget).data('message-id');this.$('.o_thread_message').removeClass('o_thread_selected_message');this.$('.o_thread_message[data-message-id="'+this._selectedMessageID+'"]').addClass('o_thread_selected_message');this.trigger('select_message',this._selectedMessageID);ev.stopPropagation();},_onClickMessageStar:function(ev){var messageID=$(ev.currentTarget).data('message-id');this.trigger('toggle_star_status',messageID);},_onClickMessageModeration:function(ev){var $button=$(ev.currentTarget);var messageID=$button.data('message-id');var decision=$button.data('decision');this.trigger_up('message_moderation',{messageID:messageID,decision:decision,});},_onClickRedirect:function(ev){if($(ev.target).data('oe-field')!==undefined){return;}
var id=$(ev.target).data('oe-id');if(id){ev.preventDefault();var model=$(ev.target).data('oe-model');var options;if(model&&(model!=='mail.channel')){options={model:model,id:id};}else{options={channelID:id};}
this._redirect(options);}},_onClickShowMore:function(){this.trigger('load_more_messages');},});ThreadWidget.ORDER=ORDER;return ThreadWidget;});odoo.define('im_livechat.legacy.mail.DocumentViewer',function(require){"use strict";var core=require('web.core');var Widget=require('web.Widget');var QWeb=core.qweb;var SCROLL_ZOOM_STEP=0.1;var ZOOM_STEP=0.5;var DocumentViewer=Widget.extend({template:"im_livechat.legacy.mail.DocumentViewer",events:{'click .o_download_btn':'_onDownload','click .o_viewer_img':'_onImageClicked','click .o_viewer_video':'_onVideoClicked','click .move_next':'_onNext','click .move_previous':'_onPrevious','click .o_rotate':'_onRotate','click .o_zoom_in':'_onZoomIn','click .o_zoom_out':'_onZoomOut','click .o_zoom_reset':'_onZoomReset','click .o_close_btn, .o_viewer_img_wrapper':'_onClose','click .o_print_btn':'_onPrint','DOMMouseScroll .o_viewer_content':'_onScroll','mousewheel .o_viewer_content':'_onScroll','keydown':'_onKeydown','keyup':'_onKeyUp','mousedown .o_viewer_img':'_onStartDrag','mousemove .o_viewer_content':'_onDrag','mouseup .o_viewer_content':'_onEndDrag'},init:function(parent,attachments,activeAttachmentID){this._super.apply(this,arguments);this.attachment=_.filter(attachments,function(attachment){var match=attachment.type==='url'?attachment.url.match("(youtu|.png|.jpg|.gif)"):attachment.mimetype.match("(image|video|application/pdf|text)");if(match){attachment.fileType=match[1];if(match[1].match("(.png|.jpg|.gif)")){attachment.fileType='image';}
if(match[1]==='youtu'){var youtube_array=attachment.url.split('/');var youtube_token=youtube_array[youtube_array.length-1];if(youtube_token.indexOf('watch')!==-1){youtube_token=youtube_token.split('v=')[1];var amp=youtube_token.indexOf('&');if(amp!==-1){youtube_token=youtube_token.substring(0,amp);}}
attachment.youtube=youtube_token;}
return true;}});this.activeAttachment=_.findWhere(attachments,{id:activeAttachmentID});this.modelName='ir.attachment';this._reset();},start:function(){this.$el.modal('show');this.$el.on('hidden.bs.modal',_.bind(this._onDestroy,this));this.$('.o_viewer_img').on("load",_.bind(this._onImageLoaded,this));this.$('[data-toggle="tooltip"]').tooltip({delay:0});return this._super.apply(this,arguments);},destroy:function(){if(this.isDestroyed()){return;}
this.trigger_up('document_viewer_closed');this.$el.modal('hide');this.$el.remove();this._super.apply(this,arguments);},_next:function(){var index=_.findIndex(this.attachment,this.activeAttachment);index=(index+1)%this.attachment.length;this.activeAttachment=this.attachment[index];this._updateContent();},_previous:function(){var index=_.findIndex(this.attachment,this.activeAttachment);index=index===0?this.attachment.length-1:index-1;this.activeAttachment=this.attachment[index];this._updateContent();},_reset:function(){this.scale=1;this.dragStartX=this.dragstopX=0;this.dragStartY=this.dragstopY=0;},_updateContent:function(){this.$('.o_viewer_content').html(QWeb.render('im_livechat.legacy.mail.DocumentViewer.Content',{widget:this}));this.$('.o_viewer_img').on("load",_.bind(this._onImageLoaded,this));this.$('[data-toggle="tooltip"]').tooltip({delay:0});this._reset();},_getTransform:function(scale,angle){return'scale3d('+scale+', '+scale+', 1) rotate('+angle+'deg)';},_rotate:function(angle){this._reset();var new_angle=(this.angle||0)+angle;this.$('.o_viewer_img').css('transform',this._getTransform(this.scale,new_angle));this.$('.o_viewer_img').css('max-width',new_angle%180!==0?$(document).height():'100%');this.$('.o_viewer_img').css('max-height',new_angle%180!==0?$(document).width():'100%');this.angle=new_angle;},_zoom:function(scale){if(scale>0.5){this.$('.o_viewer_img').css('transform',this._getTransform(scale,this.angle||0));this.scale=scale;}
this.$('.o_zoom_reset').add('.o_zoom_out').toggleClass('disabled',scale===1);},_onClose:function(e){e.preventDefault();this.destroy();},_onDestroy:function(){this.destroy();},_onDownload:function(e){e.preventDefault();window.location='/web/content/'+this.modelName+'/'+this.activeAttachment.id+'/'+'datas'+'?download=true';},_onDrag:function(e){e.preventDefault();if(this.enableDrag){var $image=this.$('.o_viewer_img');var $zoomer=this.$('.o_viewer_zoomer');var top=$image.prop('offsetHeight')*this.scale>$zoomer.height()?e.clientY-this.dragStartY:0;var left=$image.prop('offsetWidth')*this.scale>$zoomer.width()?e.clientX-this.dragStartX:0;$zoomer.css("transform","translate3d("+left+"px, "+top+"px, 0)");$image.css('cursor','move');}},_onEndDrag:function(e){e.preventDefault();if(this.enableDrag){this.enableDrag=false;this.dragstopX=e.clientX-this.dragStartX;this.dragstopY=e.clientY-this.dragStartY;this.$('.o_viewer_img').css('cursor','');}},_onImageClicked:function(e){e.stopPropagation();},_onImageLoaded:function(){this.$('.o_loading_img').hide();},_onKeydown:function(e){switch(e.which){case $.ui.keyCode.RIGHT:e.preventDefault();this._next();break;case $.ui.keyCode.LEFT:e.preventDefault();this._previous();break;}},_onKeyUp:function(e){switch(e.which){case $.ui.keyCode.ESCAPE:e.preventDefault();this._onClose(e);break;}},_onNext:function(e){e.preventDefault();this._next();},_onPrevious:function(e){e.preventDefault();this._previous();},_onPrint:function(e){e.preventDefault();var src=this.$('.o_viewer_img').prop('src');var script=QWeb.render('im_livechat.legacy.mail.PrintImage',{src:src});var printWindow=window.open('about:blank',"_new");printWindow.document.open();printWindow.document.write(script);printWindow.document.close();},_onScroll:function(e){var scale;if(e.originalEvent.wheelDelta>0||e.originalEvent.detail<0){scale=this.scale+SCROLL_ZOOM_STEP;this._zoom(scale);}else{scale=this.scale-SCROLL_ZOOM_STEP;this._zoom(scale);}},_onStartDrag:function(e){e.preventDefault();this.enableDrag=true;this.dragStartX=e.clientX-(this.dragstopX||0);this.dragStartY=e.clientY-(this.dragstopY||0);},_onVideoClicked:function(e){e.stopPropagation();var videoElement=e.target;if(videoElement.paused){videoElement.play();}else{videoElement.pause();}},_onRotate:function(e){e.preventDefault();this._rotate(90);},_onZoomIn:function(e){e.preventDefault();var scale=this.scale+ZOOM_STEP;this._zoom(scale);},_onZoomOut:function(e){e.preventDefault();var scale=this.scale-ZOOM_STEP;this._zoom(scale);},_onZoomReset:function(e){e.preventDefault();this.$('.o_viewer_zoomer').css("transform","");this._zoom(1);},});return DocumentViewer;});;

/* /website_livechat/static/src/legacy/public_livechat.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_livechat.legacy.website_livechat.livechat_request',function(require){"use strict";var utils=require('web.utils');var session=require('web.session');var LivechatButton=require('im_livechat.legacy.im_livechat.im_livechat').LivechatButton;LivechatButton.include({willStart:function(){if(this.options.chat_request_session){utils.set_cookie('im_livechat_session',JSON.stringify(this.options.chat_request_session),60*60);}
return this._super();},_onCloseChatWindow:function(ev){this._super(ev);var cookie=utils.get_cookie('im_livechat_session');if(cookie){var channel=JSON.parse(cookie);session.rpc('/im_livechat/visitor_leave_session',{uuid:channel.uuid});utils.set_cookie('im_livechat_session',"",-1);}},});return{LivechatButton:LivechatButton,};});;

/* /website_slides/static/src/js/slides.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.slides',function(require){'use strict';var publicWidget=require('web.public.widget');var time=require('web.time');publicWidget.registry.websiteSlides=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(parent){var defs=[this._super.apply(this,arguments)];_.each($("timeago.timeago"),function(el){var datetime=$(el).attr('datetime');var datetimeObj=time.str_to_datetime(datetime);var displayStr='';if(datetimeObj&&new Date().getTime()-datetimeObj.getTime()>7*24*60*60*1000){displayStr=moment(datetimeObj).format('ll');}else{displayStr=moment(datetimeObj).fromNow();}
$(el).text(displayStr);});return Promise.all(defs);},});return publicWidget.registry.websiteSlides;});odoo.define('website_slides.slides_embed',function(require){'use strict';var publicWidget=require('web.public.widget');require('website_slides.slides');var SlideSocialEmbed=publicWidget.Widget.extend({events:{'change input':'_onChangePage',},init:function(parent,maxPage){this._super.apply(this,arguments);this.max_page=maxPage||false;},_updateEmbeddedCode:function(page){var $embedInput=this.$('.slide_embed_code');var newCode=$embedInput.val().replace(/(page=).*?([^\d]+)/,'$1'+page+'$2');$embedInput.val(newCode);},_onChangePage:function(ev){ev.preventDefault();var input=this.$('input');var page=parseInt(input.val());if(this.max_page&&!(page>0&&page<=this.max_page)){page=1;}
this._updateEmbeddedCode(page);},});publicWidget.registry.websiteSlidesEmbed=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(parent){var defs=[this._super.apply(this,arguments)];$('iframe.o_wslides_iframe_viewer').on('ready',this._onIframeViewerReady.bind(this));return Promise.all(defs);},_onIframeViewerReady:function(ev){var $iframe=$(ev.currentTarget);var maxPage=$iframe.contents().find('#page_count').val();new SlideSocialEmbed(this,maxPage).attachTo($('.oe_slide_js_embed_code_widget'));},});});;

/* /website_slides/static/src/js/slides_share.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.slides_share',function(require){'use strict';var publicWidget=require('web.public.widget');require('website_slides.slides');var ShareMail=publicWidget.Widget.extend({events:{'click button':'_sendMail',},_sendMail:function(){var self=this;var input=this.$('input');var slideID=this.$('button').data('slide-id');if(input.val()&&input[0].checkValidity()){this.$el.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');this._rpc({route:'/slides/slide/send_share_email',params:{slide_id:slideID,email:input.val(),},}).then(function(){self.$el.html($('<div class="alert alert-info" role="alert"><strong>Thank you!</strong> Mail has been sent.</div>'));});}else{this.$el.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');input.focus();}},});publicWidget.registry.websiteSlidesShare=publicWidget.Widget.extend({selector:'#wrapwrap',events:{'click a.o_wslides_js_social_share':'_onSlidesSocialShare','click .o_clipboard_button':'_onShareLinkCopy',},start:function(parent){var defs=[this._super.apply(this,arguments)];defs.push(new ShareMail(this).attachTo($('.oe_slide_js_share_email')));return Promise.all(defs);},_onSlidesSocialShare:function(ev){ev.preventDefault();var popUpURL=$(ev.currentTarget).attr('href');var popUp=window.open(popUpURL,'Share Dialog','width=626,height=436');$(window).on('focus',function(){if(popUp.closed){$(window).off('focus');}});},_onShareLinkCopy:function(ev){ev.preventDefault();var $clipboardBtn=$(ev.currentTarget);$clipboardBtn.tooltip({title:"Copied !",trigger:"manual",placement:"bottom"});var self=this;var clipboard=new ClipboardJS('#'+$clipboardBtn[0].id,{target:function(){var share_link_el=self.$('#wslides_share_link_id_'+$clipboardBtn[0].id.split('id_')[1]);return share_link_el[0];},container:this.el});clipboard.on('success',function(){clipboard.destroy();$clipboardBtn.tooltip('show');_.delay(function(){$clipboardBtn.tooltip("hide");},800);});clipboard.on('error',function(e){console.log(e);clipboard.destroy();})},});});;

/* /website_slides/static/src/js/slides_upload.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.upload_modal',function(require){'use strict';var core=require('web.core');var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');var utils=require('web.utils');var QWeb=core.qweb;var _t=core._t;var SlideUploadDialog=Dialog.extend({template:'website.slide.upload.modal',events:_.extend({},Dialog.prototype.events,{'click .o_wslides_js_upload_install_button':'_onClickInstallModule','click .o_wslides_select_type':'_onClickSlideTypeIcon','change input#upload':'_onChangeSlideUpload','change input#url':'_onChangeSlideUrl',}),init:function(parent,options){options=_.defaults(options||{},{title:_t("Upload a document"),size:'medium',});this._super(parent,options);this._setup();this.channelID=parseInt(options.channelId,10);this.defaultCategoryID=parseInt(options.categoryId,10);this.canUpload=options.canUpload==='True';this.canPublish=options.canPublish==='True';this.modulesToInstall=options.modulesToInstall?JSON.parse(options.modulesToInstall.replace(/'/g,'"')):null;this.modulesToInstallStatus=null;this.set('state','_select');this.on('change:state',this,this._onChangeType);this.set('can_submit_form',false);this.on('change:can_submit_form',this,this._onChangeCanSubmitForm);this.file={};this.isValidUrl=true;},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._resetModalButton();});},_alertDisplay:function(message){this._alertRemove();$('<div/>',{"class":'alert alert-warning',id:'upload-alert',role:'alert'}).text(message).insertBefore(this.$('form'));},_alertRemove:function(){this.$('#upload-alert').remove();},_bindSelect2Dropdown:function(){var self=this;this.$('#category_id').select2(this._select2Wrapper(_t('Section'),false,function(){return self._rpc({route:'/slides/category/search_read',params:{fields:['name'],domain:[['channel_id','=',self.channelID]],}});}));this.$('#tag_ids').select2(this._select2Wrapper(_t('Tags'),true,function(){return self._rpc({route:'/slides/tag/search_read',params:{fields:['name'],domain:[],}});}));},_fetchUrlPreview:function(url){return this._rpc({route:'/slides/prepare_preview/',params:{'url':url,'channel_id':this.channelID},});},_formSetFieldValue:function(fieldId,value){this.$('form').find('#'+fieldId).val(value);},_formGetFieldValue:function(fieldId){return this.$('#'+fieldId).val();},_formValidate:function(){var form=this.$("form");form.addClass('was-validated');return form[0].checkValidity()&&this.isValidUrl;},_formValidateGetValues:function(forcePublished){var canvas=this.$('#data_canvas')[0];var values=_.extend({'channel_id':this.channelID,'name':this._formGetFieldValue('name'),'url':this._formGetFieldValue('url'),'description':this._formGetFieldValue('description'),'duration':this._formGetFieldValue('duration'),'is_published':forcePublished,},this._getSelect2DropdownValues());if(_.contains(this.slide_type_data),this.get('state')){values['slide_type']=this.get('state');}
if(this.file.type==='application/pdf'){_.extend(values,{'image_1920':canvas.toDataURL().split(',')[1],'slide_type':canvas.height>canvas.width?'document':'presentation','mime_type':this.file.type,'datas':this.file.data});}else if(values['slide_type']==='webpage'){_.extend(values,{'mime_type':'text/html','image_1920':this.file.type==='image/svg+xml'?this._svgToPng():this.file.data,});}else if(/^image\/.*/.test(this.file.type)){if(values['slide_type']==='presentation'){_.extend(values,{'slide_type':'infographic','mime_type':this.file.type==='image/svg+xml'?'image/png':this.file.type,'datas':this.file.type==='image/svg+xml'?this._svgToPng():this.file.data});}else{_.extend(values,{'image_1920':this.file.type==='image/svg+xml'?this._svgToPng():this.file.data,});}}
return values;},_fileReset:function(){var control=this.$('#upload');control.replaceWith(control=control.clone(true));this.file.name=false;},_getModalButtons:function(){var btnList=[];var state=this.get('state');if(state==='_select'){btnList.push({text:_t("Cancel"),classes:'o_w_slide_cancel',close:true});}else if(state==='_import'){if(!this.modulesToInstallStatus.installing){btnList.push({text:this.modulesToInstallStatus.failed?_t("Retry"):_t("Install"),classes:'btn-primary',click:this._onClickInstallModuleConfirm.bind(this)});}
btnList.push({text:_t("Discard"),classes:'o_w_slide_go_back',click:this._onClickGoBack.bind(this)});}else if(state!=='_upload'){if(this.canUpload){if(this.canPublish){btnList.push({text:_t("Save & Publish"),classes:'btn-primary o_w_slide_upload o_w_slide_upload_published',click:this._onClickFormSubmit.bind(this)});btnList.push({text:_t("Save"),classes:'o_w_slide_upload',click:this._onClickFormSubmit.bind(this)});}else{btnList.push({text:_t("Save"),classes:'btn-primary o_w_slide_upload',click:this._onClickFormSubmit.bind(this)});}}
btnList.push({text:_t("Discard"),classes:'o_w_slide_go_back',click:this._onClickGoBack.bind(this)});}
return btnList;},_getSelect2DropdownValues:function(){var result={};var self=this;var tagValues=[];_.each(this.$('#tag_ids').select2('data'),function(val){if(val.create){tagValues.push([0,0,{'name':val.text}]);}else{tagValues.push([4,val.id]);}});if(tagValues){result['tag_ids']=tagValues;}
if(!self.defaultCategoryID){var categoryValue=this.$('#category_id').select2('data');if(categoryValue&&categoryValue.create){result['category_id']=[0,{'name':categoryValue.text}];}else if(categoryValue){result['category_id']=[categoryValue.id];this.categoryID=categoryValue.id;}}else{result['category_id']=[self.defaultCategoryID];this.categoryID=self.defaultCategoryID;}
return result;},_resetModalButton:function(){this.set_buttons(this._getModalButtons());},_select2Wrapper:function(tag,multi,fetchFNC,nameKey){nameKey=nameKey||'name';var values={width:'100%',placeholder:tag,allowClear:true,formatNoMatches:false,selection_data:false,fetch_rpc_fnc:fetchFNC,formatSelection:function(data){if(data.tag){data.text=data.tag;}
return data.text;},createSearchChoice:function(term,data){var addedTags=$(this.opts.element).select2('data');if(_.filter(_.union(addedTags,data),function(tag){return tag.text.toLowerCase().localeCompare(term.toLowerCase())===0;}).length===0){if(this.opts.can_create){return{id:_.uniqueId('tag_'),create:true,tag:term,text:_.str.sprintf(_t("Create new %s '%s'"),tag,term),};}else{return undefined;}}},fill_data:function(query,data){var self=this,tags={results:[]};_.each(data,function(obj){if(self.matcher(query.term,obj[nameKey])){tags.results.push({id:obj.id,text:obj[nameKey]});}});query.callback(tags);},query:function(query){var self=this;if(!this.selection_data){this.fetch_rpc_fnc().then(function(data){self.can_create=data.can_create;self.fill_data(query,data.read_results);self.selection_data=data.read_results;});}else{this.fill_data(query,this.selection_data);}}};if(multi){values['multiple']=true;}
return values;},_setup:function(){this.slide_type_data={presentation:{icon:'fa-file-pdf-o',label:_t('Presentation'),template:'website.slide.upload.modal.presentation',},webpage:{icon:'fa-file-text',label:_t('Web Page'),template:'website.slide.upload.modal.webpage',},video:{icon:'fa-video-camera',label:_t('Video'),template:'website.slide.upload.modal.video',},quiz:{icon:'fa-question-circle',label:_t('Quiz'),template:'website.slide.upload.quiz'}};},_showPreviewColumn:function(){this.$('.o_slide_tutorial').addClass('d-none');this.$('.o_slide_preview').removeClass('d-none');},_hidePreviewColumn:function(){this.$('.o_slide_tutorial').removeClass('d-none');this.$('.o_slide_preview').addClass('d-none');},_svgToPng:function(){var img=this.$el.find('img#slide-image')[0];var canvas=document.createElement('canvas');canvas.width=img.width;canvas.height=img.height;canvas.getContext('2d').drawImage(img,0,0);return canvas.toDataURL('image/png').split(',')[1];},_onChangeType:function(){var currentType=this.get('state');var tmpl;this.$modal.find('.modal-dialog').removeClass('modal-lg');if(currentType==='_select'){tmpl='website.slide.upload.modal.select';}else if(currentType==='_upload'){tmpl='website.slide.upload.modal.uploading';}else if(currentType==='_import'){tmpl='website.slide.upload.modal.import';}else{tmpl=this.slide_type_data[currentType]['template'];this.$modal.find('.modal-dialog').addClass('modal-lg');}
this.$('.o_w_slide_upload_modal_container').empty();this.$('.o_w_slide_upload_modal_container').append(QWeb.render(tmpl,{widget:this}));this._resetModalButton();if(currentType==='_import'){this.set_title(_t("New Certification"));}else{this.set_title(_t("Upload a document"));}},_onChangeCanSubmitForm:function(ev){if(this.get('can_submit_form')){this.$('.o_w_slide_upload').button('reset');}else{this.$('.o_w_slide_upload').button('loading');}},_onChangeSlideUpload:function(ev){var self=this;this._alertRemove();var $input=$(ev.currentTarget);var preventOnchange=$input.data('preventOnchange');var $preview=self.$('#slide-image');var file=ev.target.files[0];if(!file){this.$('#slide-image').attr('src','/website_slides/static/src/img/document.png');this._hidePreviewColumn();return;}
var isImage=/^image\/.*/.test(file.type);var loaded=false;this.file.name=file.name;this.file.type=file.type;if(!(isImage||this.file.type==='application/pdf')){this._alertDisplay(_t("Invalid file type. Please select pdf or image file"));this._fileReset();this._hidePreviewColumn();return;}
if(file.size/1024/1024>25){this._alertDisplay(_t("File is too big. File size cannot exceed 25MB"));this._fileReset();this._hidePreviewColumn();return;}
utils.getDataURLFromFile(file).then(function(buffer){if(isImage){$preview.attr('src',buffer);}
buffer=buffer.split(',')[1];self.file.data=buffer;self._showPreviewColumn();});if(file.type==='application/pdf'){var ArrayReader=new FileReader();this.set('can_submit_form',false);ArrayReader.readAsArrayBuffer(file);ArrayReader.onload=function(evt){var buffer=evt.target.result;var passwordNeeded=function(){self._alertDisplay(_t("You can not upload password protected file."));self._fileReset();self.set('can_submit_form',true);};Util=window.pdfjsLib.Util;window.pdfjsLib.getDocument(new Uint8Array(buffer),null,passwordNeeded).then(function getPdf(pdf){self._formSetFieldValue('duration',(pdf._pdfInfo.numPages||0)*5);pdf.getPage(1).then(function getFirstPage(page){var scale=1;var viewport=page.getViewport(scale);var canvas=document.getElementById('data_canvas');var context=canvas.getContext('2d');canvas.height=viewport.height;canvas.width=viewport.width;page.render({canvasContext:context,viewport:viewport}).then(function(){var imageData=self.$('#data_canvas')[0].toDataURL();$preview.attr('src',imageData);if(loaded){self.set('can_submit_form',true);}
loaded=true;self._showPreviewColumn();});});});};}
if(!preventOnchange){var input=file.name;var inputVal=input.substr(0,input.lastIndexOf('.'))||input;if(this._formGetFieldValue('name')===""){this._formSetFieldValue('name',inputVal);}}},_onChangeSlideUrl:function(ev){var self=this;var url=$(ev.target).val();this._alertRemove();this.isValidUrl=false;this.set('can_submit_form',false);this._fetchUrlPreview(url).then(function(data){self.set('can_submit_form',true);if(data.error){self._alertDisplay(data.error);}else{if(data.completion_time){self._formSetFieldValue('duration',Math.round(data.completion_time*60));}
self.$('#slide-image').attr('src',data.url_src);self._formSetFieldValue('name',data.title);self._formSetFieldValue('description',data.description);self.isValidUrl=true;self._showPreviewColumn();}});},_onClickInstallModule:function(ev){var $btn=$(ev.currentTarget);var moduleId=$btn.data('moduleId');if(this.modulesToInstallStatus){this.set('state','_import');if(this.modulesToInstallStatus.installing){this.$('#o_wslides_install_module_text').text(_.str.sprintf(_t('Already installing "%s".'),this.modulesToInstallStatus.name));}else if(this.modulesToInstallStatus.failed){this.$('#o_wslides_install_module_text').text(_.str.sprintf(_t('Failed to install "%s".'),this.modulesToInstallStatus.name));}}else{this.modulesToInstallStatus=_.extend({},_.find(this.modulesToInstall,function(item){return item.id===moduleId;}));this.set('state','_import');this.$('#o_wslides_install_module_text').text(_.str.sprintf(_t('Do you want to install the "%s" app?'),this.modulesToInstallStatus.name));}},_onClickInstallModuleConfirm:function(){var self=this;var $el=this.$('#o_wslides_install_module_text');$el.text(_.str.sprintf(_t('Installing "%s".'),this.modulesToInstallStatus.name));this.modulesToInstallStatus.installing=true;this._resetModalButton();this._rpc({model:'ir.module.module',method:'button_immediate_install',args:[[this.modulesToInstallStatus.id]],}).then(function(){window.location.href=window.location.origin+window.location.pathname+'?enable_slide_upload';},function(){$el.text(_.str.sprintf(_t('Failed to install "%s".'),self.modulesToInstallStatus.name));self.modulesToInstallStatus.installing=false;self.modulesToInstallStatus.failed=true;self._resetModalButton();});},_onClickGoBack:function(){this.set('state','_select');this.isValidUrl=true;if(this.modulesToInstallStatus&&!this.modulesToInstallStatus.installing){this.modulesToInstallStatus=null;}},_onClickFormSubmit:function(ev){var self=this;var $btn=$(ev.currentTarget);if(this._formValidate()){var values=this._formValidateGetValues($btn.hasClass('o_w_slide_upload_published'));var oldType=this.get('state');this.set('state','_upload');return this._rpc({route:'/slides/add_slide',params:values,}).then(function(data){self._onFormSubmitDone(data,oldType);});}},_onFormSubmitDone:function(data,oldType){if(data.error){this.set('state',oldType);this._alertDisplay(data.error);}else{window.location=data.url;}},_onClickSlideTypeIcon:function(ev){var $elem=this.$(ev.currentTarget);var slideType=$elem.data('slideType');this.set('state',slideType);this._bindSelect2Dropdown();},});publicWidget.registry.websiteSlidesUpload=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_upload',xmlDependencies:['/website_slides/static/src/xml/website_slides_upload.xml'],events:{'click':'_onUploadClick',},start:function(){if(this.$el.attr('data-open-modal')){this.$el.removeAttr('data-open-modal');this._openDialog(this.$el);}
return this._super.apply(this,arguments);},_openDialog:function($element){var data=$element.data();return new SlideUploadDialog(this,data).open();},_onUploadClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget));},});return{SlideUploadDialog:SlideUploadDialog,websiteSlidesUpload:publicWidget.registry.websiteSlidesUpload};});;

/* /website_slides/static/src/js/slides_category_add.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.category.add',function(require){'use strict';var publicWidget=require('web.public.widget');var Dialog=require('web.Dialog');var core=require('web.core');var _t=core._t;var CategoryAddDialog=Dialog.extend({template:'slides.category.add',init:function(parent,options){options=_.defaults(options||{},{title:_t('Add a section'),size:'medium',buttons:[{text:_t('Save'),classes:'btn-primary',click:this._onClickFormSubmit.bind(this)},{text:_t('Discard'),close:true}]});this.channelId=options.channelId;this._super(parent,options);},_formValidate:function($form){$form.addClass('was-validated');return $form[0].checkValidity();},_onClickFormSubmit:function(ev){var $form=this.$('#slide_category_add_form');if(this._formValidate($form)){$form.submit();}},});publicWidget.registry.websiteSlidesCategoryAdd=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_section_add',xmlDependencies:['/website_slides/static/src/xml/slide_management.xml'],events:{'click':'_onAddSectionClick',},_openDialog:function(channelId){new CategoryAddDialog(this,{channelId:channelId}).open();},_onAddSectionClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget).attr('channel_id'));},});return{categoryAddDialog:CategoryAddDialog,websiteSlidesCategoryAdd:publicWidget.registry.websiteSlidesCategoryAdd};});;

/* /website_slides/static/src/js/slides_slide_archive.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.slide.archive',function(require){'use strict';var publicWidget=require('web.public.widget');var Dialog=require('web.Dialog');var core=require('web.core');var _t=core._t;var SlideArchiveDialog=Dialog.extend({template:'slides.slide.archive',init:function(parent,options){options=_.defaults(options||{},{title:_t('Archive Slide'),size:'medium',buttons:[{text:_t('Archive'),classes:'btn-primary',click:this._onClickArchive.bind(this)},{text:_t('Cancel'),close:true}]});this.$slideTarget=options.slideTarget;this.slideId=this.$slideTarget.data('slideId');this._super(parent,options);},_checkForEmptySections:function(){$('.o_wslides_slide_list_category').each(function(){var $categoryHeader=$(this).find('.o_wslides_slide_list_category_header');var categorySlideCount=$(this).find('.o_wslides_slides_list_slide:not(.o_not_editable)').length;var $emptyFlagContainer=$categoryHeader.find('.o_wslides_slides_list_drag').first();var $emptyFlag=$emptyFlagContainer.find('small');if(categorySlideCount===0&&$emptyFlag.length===0){$emptyFlagContainer.append($('<small>',{'class':"ml-1 text-muted font-weight-bold",text:_t("(empty)")}));}});},_onClickArchive:function(){var self=this;this._rpc({route:'/slides/slide/archive',params:{slide_id:this.slideId},}).then(function(isArchived){if(isArchived){self.$slideTarget.closest('.o_wslides_slides_list_slide').remove();self._checkForEmptySections();}
self.close();});}});publicWidget.registry.websiteSlidesSlideArchive=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_archive',xmlDependencies:['/website_slides/static/src/xml/slide_management.xml'],events:{'click':'_onArchiveSlideClick',},_openDialog:function($slideTarget){new SlideArchiveDialog(this,{slideTarget:$slideTarget}).open();},_onArchiveSlideClick:function(ev){ev.preventDefault();var $slideTarget=$(ev.currentTarget);this._openDialog($slideTarget);},});return{slideArchiveDialog:SlideArchiveDialog,websiteSlidesSlideArchive:publicWidget.registry.websiteSlidesSlideArchive};});;

/* /website_slides/static/src/js/slides_slide_toggle_is_preview.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.slide.preview',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.websiteSlidesSlideToggleIsPreview=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_toggle_is_preview',xmlDependencies:['/website_slides/static/src/xml/slide_management.xml'],events:{'click':'_onPreviewSlideClick',},_toggleSlidePreview:function($slideTarget){this._rpc({route:'/slides/slide/toggle_is_preview',params:{slide_id:$slideTarget.data('slideId')},}).then(function(isPreview){if(isPreview){$slideTarget.removeClass('badge-light badge-hide border');$slideTarget.addClass('badge-success');}else{$slideTarget.removeClass('badge-success');$slideTarget.addClass('badge-light badge-hide border');}});},_onPreviewSlideClick:function(ev){ev.preventDefault();this._toggleSlidePreview($(ev.currentTarget));},});return{websiteSlidesSlideToggleIsPreview:publicWidget.registry.websiteSlidesSlideToggleIsPreview};});;

/* /website_slides/static/src/js/slides_slide_like.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.slides.slide.like',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');require('website_slides.slides');var _t=core._t;var SlideLikeWidget=publicWidget.Widget.extend({events:{'click .o_wslides_js_slide_like_up':'_onClickUp','click .o_wslides_js_slide_like_down':'_onClickDown',},_popoverAlert:function($el,message){$el.popover({trigger:'focus',placement:'bottom',container:'body',html:true,content:function(){return message;}}).popover('show');},_onClick:function(slideId,voteType){var self=this;this._rpc({route:'/slides/slide/like',params:{slide_id:slideId,upvote:voteType==='like',},}).then(function(data){if(!data.error){self.$el.find('span.o_wslides_js_slide_like_up span').text(data.likes);self.$el.find('span.o_wslides_js_slide_like_down span').text(data.dislikes);}else{if(data.error==='public_user'){var message=_t('Please <a href="/web/login?redirect=%s">login</a> to vote this lesson');var signupAllowed=data.error_signup_allowed||false;if(signupAllowed){message=_t('Please <a href="/web/signup?redirect=%s">create an account</a> to vote this lesson');}
self._popoverAlert(self.$el,_.str.sprintf(message,(document.URL)));}else if(data.error==='vote_done'){self._popoverAlert(self.$el,_t('You have already voted for this lesson'));}else if(data.error==='slide_access'){self._popoverAlert(self.$el,_t('You don\'t have access to this lesson'));}else if(data.error==='channel_membership_required'){self._popoverAlert(self.$el,_t('You must be member of this course to vote'));}else if(data.error==='channel_comment_disabled'){self._popoverAlert(self.$el,_t('Votes and comments are disabled for this course'));}else if(data.error==='channel_karma_required'){self._popoverAlert(self.$el,_t('You don\'t have enough karma to vote'));}else{self._popoverAlert(self.$el,_t('Unknown error'));}}});},_onClickUp:function(ev){var slideId=$(ev.currentTarget).data('slide-id');return this._onClick(slideId,'like');},_onClickDown:function(ev){var slideId=$(ev.currentTarget).data('slide-id');return this._onClick(slideId,'dislike');},});publicWidget.registry.websiteSlidesSlideLike=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(){var self=this;var defs=[this._super.apply(this,arguments)];$('.o_wslides_js_slide_like').each(function(){defs.push(new SlideLikeWidget(self).attachTo($(this)));});return Promise.all(defs);},});return{slideLikeWidget:SlideLikeWidget,websiteSlidesSlideLike:publicWidget.registry.websiteSlidesSlideLike};});;

/* /website_slides/static/src/js/slides_course_slides_list.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.course.slides.list',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var _t=core._t;publicWidget.registry.websiteSlidesCourseSlidesList=publicWidget.Widget.extend({selector:'.o_wslides_slides_list',xmlDependencies:['/website_slides/static/src/xml/website_slides_upload.xml'],start:function(){this._super.apply(this,arguments);this.channelId=this.$el.data('channelId');this._updateHref();this._bindSortable();},_bindSortable:function(){this.$('ul.o_wslides_js_slides_list_container').sortable({handle:'.o_wslides_slides_list_drag',stop:this._reorderSlides.bind(this),items:'.o_wslides_slide_list_category',placeholder:'o_wslides_slides_list_slide_hilight position-relative mb-1'});this.$('.o_wslides_js_slides_list_container ul').sortable({handle:'.o_wslides_slides_list_drag',connectWith:'.o_wslides_js_slides_list_container ul',stop:this._reorderSlides.bind(this),items:'.o_wslides_slides_list_slide:not(.o_wslides_js_slides_list_empty)',placeholder:'o_wslides_slides_list_slide_hilight position-relative mb-1'});},_checkForEmptySections:function(){this.$('.o_wslides_slide_list_category').each(function(){var $categoryHeader=$(this).find('.o_wslides_slide_list_category_header');var categorySlideCount=$(this).find('.o_wslides_slides_list_slide:not(.o_not_editable)').length;var $emptyFlagContainer=$categoryHeader.find('.o_wslides_slides_list_drag').first();var $emptyFlag=$emptyFlagContainer.find('small');if(categorySlideCount===0&&$emptyFlag.length===0){$emptyFlagContainer.append($('<small>',{'class':"ml-1 text-muted font-weight-bold",text:_t("(empty)")}));}else if(categorySlideCount>0&&$emptyFlag.length>0){$emptyFlag.remove();}});},_getSlides:function(){var categories=[];this.$('.o_wslides_js_list_item').each(function(){categories.push(parseInt($(this).data('slideId')));});return categories;},_reorderSlides:function(){var self=this;self._rpc({route:'/web/dataset/resequence',params:{model:"slide.slide",ids:self._getSlides()}}).then(function(res){self._checkForEmptySections();});},_updateHref:function(){this.$(".o_wslides_js_slides_list_slide_link").each(function(){var href=$(this).attr('href');var operator=href.indexOf('?')!==-1?'&':'?';$(this).attr('href',href+operator+"fullscreen=1");});}});return publicWidget.registry.websiteSlidesCourseSlidesList;});;

/* /website_slides/static/src/js/slides_course_fullscreen_player.js defined in bundle 'web.assets_frontend_lazy' */
var onYouTubeIframeAPIReady=undefined;odoo.define('website_slides.fullscreen',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var config=require('web.config');var QWeb=core.qweb;var _t=core._t;var session=require('web.session');var Quiz=require('website_slides.quiz').Quiz;var Dialog=require('web.Dialog');require('website_slides.course.join.widget');var findSlide=function(slideList,matcher){var slideMatch=_.matcher(matcher);return _.find(slideList,slideMatch);};var VideoPlayer=publicWidget.Widget.extend({template:'website.slides.fullscreen.video',youtubeUrl:'https://www.youtube.com/iframe_api',init:function(parent,slide){this.slide=slide;return this._super.apply(this,arguments);},start:function(){var self=this;return Promise.all([this._super.apply(this,arguments),this._loadYoutubeAPI()]).then(function(){self._setupYoutubePlayer();});},_loadYoutubeAPI:function(){var self=this;var prom=new Promise(function(resolve,reject){if($(document).find('script[src="'+self.youtubeUrl+'"]').length===0){var $youtubeElement=$('<script/>',{src:self.youtubeUrl});$(document.head).append($youtubeElement);onYouTubeIframeAPIReady=function(){resolve();};}else{resolve();}});return prom;},_setupYoutubePlayer:function(){this.player=new YT.Player('youtube-player'+this.slide.id,{host:'https://www.youtube.com',playerVars:{'autoplay':1,'origin':window.location.origin},events:{'onStateChange':this._onPlayerStateChange.bind(this)}});},_onPlayerStateChange:function(event){var self=this;if(self.slide.completed){return;}
if(event.data!==YT.PlayerState.ENDED){if(!event.target.getCurrentTime){return;}
if(self.tid){clearInterval(self.tid);}
self.currentVideoTime=event.target.getCurrentTime();self.totalVideoTime=event.target.getDuration();self.tid=setInterval(function(){self.currentVideoTime+=1;if(self.totalVideoTime&&self.currentVideoTime>self.totalVideoTime-30){clearInterval(self.tid);if(!self.slide.hasQuestion&&!self.slide.completed){self.trigger_up('slide_to_complete',self.slide);}}},1000);}else{if(self.tid){clearInterval(self.tid);}
this.player=undefined;if(this.slide.hasNext){this.trigger_up('slide_go_next');}}},});var Sidebar=publicWidget.Widget.extend({events:{"click .o_wslides_fs_sidebar_list_item":'_onClickTab',},init:function(parent,slideList,defaultSlide){var result=this._super.apply(this,arguments);this.slideEntries=slideList;this.set('slideEntry',defaultSlide);return result;},start:function(){var self=this;this.on('change:slideEntry',this,this._onChangeCurrentSlide);return this._super.apply(this,arguments).then(function(){$(document).keydown(self._onKeyDown.bind(self));});},destroy:function(){$(document).unbind('keydown',this._onKeyDown.bind(this));return this._super.apply(this,arguments);},goNext:function(){var currentIndex=this._getCurrentIndex();if(currentIndex<this.slideEntries.length-1){this.set('slideEntry',this.slideEntries[currentIndex+1]);}},goPrevious:function(){var currentIndex=this._getCurrentIndex();if(currentIndex>=1){this.set('slideEntry',this.slideEntries[currentIndex-1]);}},setSlideCompleted:function(slideId){var $elem=this.$('.fa-circle-thin[data-slide-id="'+slideId+'"]');$elem.removeClass('fa-circle-thin').addClass('fa-check text-success o_wslides_slide_completed');},updateProgressbar:function(channelCompletion){var completion=Math.min(100,channelCompletion);this.$('.progress-bar').css('width',completion+"%");this.$('.o_wslides_progress_percentage').text(completion);},_getCurrentIndex:function(){var slide=this.get('slideEntry');var currentIndex=_.findIndex(this.slideEntries,function(entry){return entry.id===slide.id&&entry.isQuiz===slide.isQuiz;});return currentIndex;},_onClickMiniQuiz:function(ev){var slideID=parseInt($(ev.currentTarget).data().slide_id);this.set('slideEntry',{slideID:slideID,isMiniQuiz:true});this.trigger_up('change_slide',this.get('slideEntry'));},_onClickTab:function(ev){ev.stopPropagation();var $elem=$(ev.currentTarget);if($elem.data('canAccess')==='True'){var isQuiz=$elem.data('isQuiz');var slideID=parseInt($elem.data('id'));var slide=findSlide(this.slideEntries,{id:slideID,isQuiz:isQuiz});this.set('slideEntry',slide);}},_onChangeCurrentSlide:function(){var slide=this.get('slideEntry');this.$('.o_wslides_fs_sidebar_list_item.active').removeClass('active');var selector='.o_wslides_fs_sidebar_list_item[data-id='+slide.id+'][data-is-quiz!="1"]';this.$(selector).addClass('active');this.trigger_up('change_slide',this.get('slideEntry'));},_onKeyDown:function(ev){switch(ev.key){case"ArrowLeft":this.goPrevious();break;case"ArrowRight":this.goNext();break;}},});var ShareDialog=Dialog.extend({template:'website.slide.share.modal',events:{'click .o_wslides_js_share_email button':'_onShareByEmailClick','click a.o_wslides_js_social_share':'_onSlidesSocialShare','click .o_clipboard_button':'_onShareLinkCopy',},init:function(parent,options,slide){options=_.defaults(options||{},{title:"Share",buttons:[{text:"Cancel",close:true}],size:'medium',});this._super(parent,options);this.slide=slide;this.session=session;},_onShareByEmailClick:function(){var form=this.$('.o_wslides_js_share_email');var input=form.find('input');var slideID=form.find('button').data('slide-id');if(input.val()&&input[0].checkValidity()){form.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');this._rpc({route:'/slides/slide/send_share_email',params:{slide_id:slideID,email:input.val(),fullscreen:true},}).then(function(){form.html('<div class="alert alert-info" role="alert">'+_t('<strong>Thank you!</strong> Mail has been sent.')+'</div>');});}else{form.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');input.focus();}},_onSlidesSocialShare:function(ev){ev.preventDefault();var popUpURL=$(ev.currentTarget).attr('href');window.open(popUpURL,'Share Dialog','width=626,height=436');},_onShareLinkCopy:function(ev){ev.preventDefault();var $clipboardBtn=this.$('.o_clipboard_button');$clipboardBtn.tooltip({title:"Copied !",trigger:"manual",placement:"bottom"});var self=this;var clipboard=new ClipboardJS('.o_clipboard_button',{target:function(){return self.$('.o_wslides_js_share_link')[0];},container:this.el});clipboard.on('success',function(){clipboard.destroy();$clipboardBtn.tooltip('show');_.delay(function(){$clipboardBtn.tooltip("hide");},800);});clipboard.on('error',function(e){clipboard.destroy();})},});var ShareButton=publicWidget.Widget.extend({events:{"click .o_wslides_fs_share":'_onClickShareSlide'},init:function(el,slide){var result=this._super.apply(this,arguments);this.slide=slide;return result;},_openDialog:function(){return new ShareDialog(this,{},this.slide).open();},_onClickShareSlide:function(ev){ev.preventDefault();this._openDialog();},_onChangeSlide:function(currentSlide){this.slide=currentSlide;}});var Fullscreen=publicWidget.Widget.extend({events:{"click .o_wslides_fs_toggle_sidebar":'_onClickToggleSidebar',},custom_events:{'change_slide':'_onChangeSlideRequest','slide_to_complete':'_onSlideToComplete','slide_completed':'_onSlideCompleted','slide_go_next':'_onSlideGoToNext',},init:function(parent,slides,defaultSlideId,channelData){var result=this._super.apply(this,arguments);this.initialSlideID=defaultSlideId;this.slides=this._preprocessSlideData(slides);this.channel=channelData;var slide;var urlParams=$.deparam.querystring();if(defaultSlideId){slide=findSlide(this.slides,{id:defaultSlideId,isQuiz:urlParams.quiz==="1"});}else{slide=this.slides[0];}
this.set('slide',slide);this.sidebar=new Sidebar(this,this.slides,slide);this.shareButton=new ShareButton(this,slide);return result;},start:function(){var self=this;this.on('change:slide',this,this._onChangeSlide);this._toggleSidebar();return this._super.apply(this,arguments).then(function(){return self._onChangeSlide();});},attachTo:function(){var defs=[this._super.apply(this,arguments)];defs.push(this.sidebar.attachTo(this.$('.o_wslides_fs_sidebar')));defs.push(this.shareButton.attachTo(this.$('.o_wslides_slide_fs_header')));return $.when.apply($,defs);},_fetchHtmlContent:function(){var self=this;var currentSlide=this.get('slide');return self._rpc({route:"/slides/slide/get_html_content",params:{'slide_id':currentSlide.id}}).then(function(data){if(data.html_content){currentSlide.htmlContent=data.html_content;}});},_fetchSlideContent:function(){var slide=this.get('slide');if(slide.type==='webpage'&&!slide.isQuiz){return this._fetchHtmlContent();}
return Promise.resolve();},_markAsCompleted:function(slideId,completion){var slide=findSlide(this.slides,{id:slideId});slide.completed=true;this.sidebar.setSlideCompleted(slide.id);this.sidebar.updateProgressbar(completion);},_preprocessSlideData:function(slidesDataList){slidesDataList.forEach(function(slideData,index){slideData.hasNext=index<slidesDataList.length-1;if(slideData.type==='video'){slideData.embedCode=$(slideData.embedCode).attr('src')||"";var separator=slideData.embedCode.indexOf("?")!==-1?"&":"?";var scheme=slideData.embedCode.indexOf('//')===0?'https:':'';var params={rel:0,enablejsapi:1,origin:window.location.origin};if(slideData.embedCode.indexOf("//drive.google.com")===-1){params.autoplay=1;}
slideData.embedUrl=slideData.embedCode?scheme+slideData.embedCode+separator+$.param(params):"";}else if(slideData.type==='infographic'){slideData.embedUrl=_.str.sprintf('/web/image/slide.slide/%s/image_1024',slideData.id);}else if(_.contains(['document','presentation'],slideData.type)){slideData.embedUrl=$(slideData.embedCode).attr('src');}
slideData.isQuiz=!!slideData.isQuiz;slideData.hasQuestion=!!slideData.hasQuestion;slideData._autoSetDone=_.contains(['infographic','presentation','document','webpage'],slideData.type)&&!slideData.hasQuestion;});return slidesDataList;},_pushUrlState:function(){var urlParts=window.location.pathname.split('/');urlParts[urlParts.length-1]=this.get('slide').slug;var url=urlParts.join('/');this.$('.o_wslides_fs_exit_fullscreen').attr('href',url);var params={'fullscreen':1};if(this.get('slide').isQuiz){params.quiz=1;}
var fullscreenUrl=_.str.sprintf('%s?%s',url,$.param(params));history.pushState(null,'',fullscreenUrl);},_renderSlide:function(){var slide=this.get('slide');var $content=this.$('.o_wslides_fs_content');$content.empty();if(slide.type==='quiz'||slide.isQuiz){$content.addClass('bg-white');var QuizWidget=new Quiz(this,slide,this.channel);return QuizWidget.appendTo($content);}
if(_.contains(['document','presentation','infographic'],slide.type)){$content.html(QWeb.render('website.slides.fullscreen.content',{widget:this}));}else if(slide.type==='video'){this.videoPlayer=new VideoPlayer(this,slide);return this.videoPlayer.appendTo($content);}else if(slide.type==='webpage'){var $wpContainer=$('<div>').addClass('o_wslide_fs_webpage_content bg-white block w-100 overflow-auto');$(slide.htmlContent).appendTo($wpContainer);$content.append($wpContainer);this.trigger_up('widgets_start_request',{$target:$content,});}
return Promise.resolve();},_setCompleted:function(slideId){var self=this;var slide=findSlide(this.slides,{id:slideId});if(!slide.completed){return this._rpc({route:'/slides/slide/set_completed',params:{slide_id:slide.id,}}).then(function(data){self._markAsCompleted(slideId,data.channel_completion);return Promise.resolve();});}
return Promise.resolve();},_onChangeSlide:function(){var self=this;var slide=this.get('slide');self._pushUrlState();return this._fetchSlideContent().then(function(){var websiteName=document.title.split(" | ")[1];document.title=(websiteName)?slide.name+' | '+websiteName:slide.name;if(config.device.size_class<config.device.SIZES.MD){self._toggleSidebar();}
return self._renderSlide();}).then(function(){if(slide._autoSetDone&&!session.is_website_user){if(['document','presentation'].includes(slide.type)){self.el.querySelector('iframe.o_wslides_iframe_viewer').addEventListener('load',()=>self._setCompleted(slide.id));}else{return self._setCompleted(slide.id);}}});},_onChangeSlideRequest:function(ev){var slideData=ev.data;var newSlide=findSlide(this.slides,{id:slideData.id,isQuiz:slideData.isQuiz||false,});this.set('slide',newSlide);this.shareButton._onChangeSlide(newSlide);},_onSlideCompleted:function(ev){var slide=ev.data.slide;var completion=ev.data.completion;this._markAsCompleted(slide.id,completion);},_onSlideToComplete:function(ev){if(!session.is_website_user){var slideId=ev.data.id;this._setCompleted(slideId);}},_onSlideGoToNext:function(ev){this.sidebar.goNext();},_onClickToggleSidebar:function(ev){ev.preventDefault();this._toggleSidebar();},_toggleSidebar:function(){this.$('.o_wslides_fs_sidebar').toggleClass('o_wslides_fs_sidebar_hidden');this.$('.o_wslides_fs_toggle_sidebar').toggleClass('active');},});publicWidget.registry.websiteSlidesFullscreenPlayer=publicWidget.Widget.extend({selector:'.o_wslides_fs_main',xmlDependencies:['/website_slides/static/src/xml/website_slides_fullscreen.xml','/website_slides/static/src/xml/website_slides_share.xml'],start:function(){var proms=[this._super.apply(this,arguments)];var fullscreen=new Fullscreen(this,this._getSlides(),this._getCurrentSlideID(),this._extractChannelData());proms.push(fullscreen.attachTo(".o_wslides_fs_main"));return Promise.all(proms);},_extractChannelData:function(){return this.$el.data();},_getCurrentSlideID:function(){return parseInt(this.$('.o_wslides_fs_sidebar_list_item.active').data('id'));},_getSlides:function(){var $slides=this.$('.o_wslides_fs_sidebar_list_item[data-can-access="True"]');var slideList=[];$slides.each(function(){var slideData=$(this).data();slideList.push(slideData);});return slideList;},});return Fullscreen;});;

/* /website_slides/static/src/js/slides_course_join.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.course.join.widget',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var CourseJoinWidget=publicWidget.Widget.extend({template:'slide.course.join',xmlDependencies:['/website_slides/static/src/xml/slide_course_join.xml'],events:{'click .o_wslides_js_course_join_link':'_onClickJoin',},init:function(parent,options){this._super.apply(this,arguments);this.channel=options.channel;this.isMember=options.isMember;this.publicUser=options.publicUser;this.joinMessage=options.joinMessage||_t('Join Course'),this.beforeJoin=options.beforeJoin||Promise.resolve();this.afterJoin=options.afterJoin||function(){document.location.reload();};},_onClickJoin:function(ev){ev.preventDefault();if(this.channel.channelEnroll!=='invite'){if(this.publicUser){this.beforeJoin().then(this._redirectToLogin.bind(this));}else if(!this.isMember&&this.channel.channelEnroll==='public'){this.joinChannel(this.channel.channelId);}}},_redirectToLogin:function(){var url;if(this.channel.channelEnroll==='public'){url=window.location.pathname;if(document.location.href.indexOf("fullscreen")!==-1){url+='?fullscreen=1';}}else{url=`/slides/${this.channel.channelId}`;}
document.location=_.str.sprintf('/web/login?redirect=%s',encodeURIComponent(url));},_popoverAlert:function($el,message){$el.popover({trigger:'focus',placement:'bottom',container:'body',html:true,content:function(){return message;}}).popover('show');},joinChannel:function(channelId){var self=this;this._rpc({route:'/slides/channel/join',params:{channel_id:channelId,},}).then(function(data){if(!data.error){self.afterJoin();}else{if(data.error==='public_user'){var message=_t('Please <a href="/web/login?redirect=%s">login</a> to join this course');var signupAllowed=data.error_signup_allowed||false;if(signupAllowed){message=_t('Please <a href="/web/signup?redirect=%s">create an account</a> to join this course');}
self._popoverAlert(self.$el,_.str.sprintf(message,(document.URL)));}else if(data.error==='join_done'){self._popoverAlert(self.$el,_t('You have already joined this channel'));}else{self._popoverAlert(self.$el,_t('Unknown error'));}}});},});publicWidget.registry.websiteSlidesCourseJoin=publicWidget.Widget.extend({selector:'.o_wslides_js_course_join_link',start:function(){var self=this;var proms=[this._super.apply(this,arguments)];var data=self.$el.data();var options={channel:{channelEnroll:data.channelEnroll,channelId:data.channelId}};$('.o_wslides_js_course_join').each(function(){proms.push(new CourseJoinWidget(self,options).attachTo($(this)));});return Promise.all(proms);},});return{courseJoinWidget:CourseJoinWidget,websiteSlidesCourseJoin:publicWidget.registry.websiteSlidesCourseJoin};});;

/* /website_slides/static/src/js/slides_course_enroll_email.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.course.enroll',function(require){'use strict';var core=require('web.core');var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');var _t=core._t;var SlideEnrollDialog=Dialog.extend({template:'slide.course.join.request',init:function(parent,options,modalOptions){modalOptions=_.defaults(modalOptions||{},{title:_t('Request Access.'),size:'medium',buttons:[{text:_t('Yes'),classes:'btn-primary',click:this._onSendRequest.bind(this)},{text:_t('Cancel'),close:true}]});this.$element=options.$element;this.channelId=options.channelId;this._super(parent,modalOptions);},_onSendRequest:function(){var self=this;this._rpc({model:'slide.channel',method:'action_request_access',args:[self.channelId]}).then(function(result){if(result.error){self.$element.replaceWith('<div class="alert alert-danger" role="alert"><strong>'+result.error+'</strong></div>');}else if(result.done){self.$element.replaceWith('<div class="alert alert-success" role="alert"><strong>'+_t('Request sent !')+'</strong></div>');}else{self.$element.replaceWith('<div class="alert alert-danger" role="alert"><strong>'+_t('Unknown error, try again.')+'</strong></div>');}
self.close();});}});publicWidget.registry.websiteSlidesEnroll=publicWidget.Widget.extend({selector:'.o_wslides_js_channel_enroll',xmlDependencies:['/website_slides/static/src/xml/slide_course_join.xml'],events:{'click':'_onSendRequestClick',},_openDialog:function(channelId){new SlideEnrollDialog(this,{channelId:channelId,$element:this.$el}).open();},_onSendRequestClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget).data('channelId'));}});return{slideEnrollDialog:SlideEnrollDialog,websiteSlidesEnroll:publicWidget.registry.websiteSlidesEnroll};});;

/* /website_slides/static/src/js/slides_course_quiz.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.quiz',function(require){'use strict';var publicWidget=require('web.public.widget');var Dialog=require('web.Dialog');var core=require('web.core');var session=require('web.session');var CourseJoinWidget=require('website_slides.course.join.widget').courseJoinWidget;var QuestionFormWidget=require('website_slides.quiz.question.form');var SlideQuizFinishModal=require('website_slides.quiz.finish');var SlideEnrollDialog=require('website_slides.course.enroll').slideEnrollDialog;var QWeb=core.qweb;var _t=core._t;var Quiz=publicWidget.Widget.extend({template:'slide.slide.quiz',xmlDependencies:['/website_slides/static/src/xml/slide_quiz.xml','/website_slides/static/src/xml/slide_course_join.xml'],events:{"click .o_wslides_quiz_answer":'_onAnswerClick',"click .o_wslides_js_lesson_quiz_submit":'_submitQuiz',"click .o_wslides_quiz_modal_btn":'_onClickNext',"click .o_wslides_quiz_continue":'_onClickNext',"click .o_wslides_js_lesson_quiz_reset":'_onClickReset','click .o_wslides_js_quiz_add':'_onCreateQuizClick','click .o_wslides_js_quiz_edit_question':'_onEditQuestionClick','click .o_wslides_js_quiz_delete_question':'_onDeleteQuestionClick','click .o_wslides_js_channel_enroll':'_onSendRequestToResponsibleClick',},custom_events:{display_created_question:'_displayCreatedQuestion',display_updated_question:'_displayUpdatedQuestion',reset_display:'_resetDisplay',delete_question:'_deleteQuestion',},init:function(parent,slide_data,channel_data,quiz_data){this._super.apply(this,arguments);this.slide=_.defaults(slide_data,{id:0,name:'',hasNext:false,completed:false,isMember:false,});this.quiz=quiz_data||false;if(this.quiz){this.quiz.questionsCount=quiz_data.questions.length;}
this.isMember=slide_data.isMember||false;this.publicUser=session.is_website_user;this.userId=session.user_id;this.redirectURL=encodeURIComponent(document.URL);this.channel=channel_data;},willStart:function(){var defs=[this._super.apply(this,arguments)];if(!this.quiz){defs.push(this._fetchQuiz());}
return Promise.all(defs);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._renderValidationInfo();self._bindSortable();self._checkLocationHref();if(!self.isMember){self._renderJoinWidget();}else if(self.slide.sessionAnswers){self._applySessionAnswers();self._submitQuiz();}});},_alertShow:function(alertCode){var message=_t('There was an error validating this quiz.');if(alertCode==='slide_quiz_incomplete'){message=_t('All questions must be answered !');}else if(alertCode==='slide_quiz_done'){message=_t('This quiz is already done. Retaking it is not possible.');}else if(alertCode==='public_user'){message=_t('You must be logged to submit the quiz.');}
this.displayNotification({type:'warning',message:message,sticky:true});},_bindSortable:function(){this.$el.sortable({handle:'.o_wslides_js_quiz_sequence_handler',items:'.o_wslides_js_lesson_quiz_question',stop:this._reorderQuestions.bind(this),placeholder:'o_wslides_js_quiz_sequence_highlight position-relative my-3'});},_getQuestionsIds:function(){return this.$('.o_wslides_js_lesson_quiz_question').map(function(){return $(this).data('question-id');}).get();},_modifyQuestionsSequence:function(){this.$('.o_wslides_js_lesson_quiz_question').each(function(index,question){$(question).find('span.o_wslides_quiz_question_sequence').text(index+1);});},_reorderQuestions:function(){this._rpc({route:'/web/dataset/resequence',params:{model:"slide.question",ids:this._getQuestionsIds()}}).then(this._modifyQuestionsSequence.bind(this))},_fetchQuiz:function(){var self=this;return self._rpc({route:'/slides/slide/quiz/get',params:{'slide_id':self.slide.id,}}).then(function(quiz_data){self.quiz={questions:quiz_data.slide_questions||[],questionsCount:quiz_data.slide_questions.length,quizAttemptsCount:quiz_data.quiz_attempts_count||0,quizKarmaGain:quiz_data.quiz_karma_gain||0,quizKarmaWon:quiz_data.quiz_karma_won||0,};});},_hideEditOptions:function(){this.$('.o_wslides_js_lesson_quiz_question .o_wslides_js_quiz_edit_del,'+' .o_wslides_js_lesson_quiz_question .o_wslides_js_quiz_sequence_handler').addClass('d-none');},_disableAnswers:function(){var self=this;this.$('.o_wslides_js_lesson_quiz_question').addClass('completed-disabled');this.$('input[type=radio]').each(function(){$(this).prop('disabled',self.slide.completed);});},_renderAnswersHighlightingAndComments:function(){var self=this;this.$('.o_wslides_js_lesson_quiz_question').each(function(){var $question=$(this);var questionId=$question.data('questionId');var isCorrect=self.quiz.answers[questionId].is_correct;$question.find('a.o_wslides_quiz_answer').each(function(){var $answer=$(this);$answer.find('i.fa').addClass('d-none');if($answer.find('input[type=radio]')[0].checked){if(isCorrect){$answer.removeClass('list-group-item-danger').addClass('list-group-item-success');$answer.find('i.fa-check-circle').removeClass('d-none');}else{$answer.removeClass('list-group-item-success').addClass('list-group-item-danger');$answer.find('i.fa-times-circle').removeClass('d-none');$answer.find('label input').prop('checked',false);}}else{$answer.removeClass('list-group-item-danger list-group-item-success');$answer.find('i.fa-circle').removeClass('d-none');}});var comment=self.quiz.answers[questionId].comment;if(comment){$question.find('.o_wslides_quiz_answer_info').removeClass('d-none');$question.find('.o_wslides_quiz_answer_comment').text(comment);}});},_applySessionAnswers:function(){if(!this.slide.sessionAnswers||this.slide.sessionAnswers.length===0){return;}
var self=this;this.$('.o_wslides_js_lesson_quiz_question').each(function(){var $question=$(this);$question.find('a.o_wslides_quiz_answer').each(function(){var $answer=$(this);if(!$answer.find('input[type=radio]')[0].checked&&_.contains(self.slide.sessionAnswers,$answer.data('answerId'))){$answer.find('input[type=radio]').prop('checked',true);}});});this.slide.sessionAnswers=false;},_renderValidationInfo:function(){var $validationElem=this.$('.o_wslides_js_lesson_quiz_validation');$validationElem.html(QWeb.render('slide.slide.quiz.validation',{'widget':this}));},_renderJoinWidget:function(){var $widgetLocation=this.$(".o_wslides_join_course_widget");if($widgetLocation.length!==0){var courseJoinWidget=new CourseJoinWidget(this,{isQuiz:true,channel:this.channel,isMember:this.isMember,publicUser:this.publicUser,beforeJoin:this._saveQuizAnswersToSession.bind(this),afterJoin:this._afterJoin.bind(this),joinMessage:_t('Join & Submit'),});courseJoinWidget.appendTo($widgetLocation);if(!this.publicUser&&courseJoinWidget.channel.channelEnroll==='public'&&this.slide.sessionAnswers){courseJoinWidget.joinChannel(this.channel.channelId);}}},_getQuizAnswers:function(){return this.$('input[type=radio]:checked').map(function(index,element){return parseInt($(element).val());}).get();},_submitQuiz:function(){var self=this;return this._rpc({route:'/slides/slide/quiz/submit',params:{slide_id:self.slide.id,answer_ids:this._getQuizAnswers(),}}).then(function(data){if(data.error){self._alertShow(data.error);}else{self.quiz=_.extend(self.quiz,data);if(data.completed){self._disableAnswers();new SlideQuizFinishModal(self,{quiz:self.quiz,hasNext:self.slide.hasNext,userId:self.userId}).open();self.slide.completed=true;self.trigger_up('slide_completed',{slide:self.slide,completion:data.channel_completion});}
self._hideEditOptions();self._renderAnswersHighlightingAndComments();self._renderValidationInfo();}});},_getQuestionDetails:function($elem){var answers=[];$elem.find('.o_wslides_quiz_answer').each(function(){answers.push({'id':$(this).data('answerId'),'text_value':$(this).data('text'),'is_correct':$(this).data('isCorrect'),'comment':$(this).data('comment')});});return{'id':$elem.data('questionId'),'sequence':parseInt($elem.find('.o_wslides_quiz_question_sequence').text()),'text':$elem.data('title'),'answers':answers,};},_checkLocationHref:function(){if(window.location.href.includes('quiz_quick_create')){this._onCreateQuizClick();}},_onAnswerClick:function(ev){ev.preventDefault();if(!this.slide.completed){$(ev.currentTarget).find('input[type=radio]').prop('checked',true);}},_onClickNext:function(ev){if(this.slide.hasNext){this.trigger_up('slide_go_next');}},_onClickReset:function(){this._rpc({route:'/slides/slide/quiz/reset',params:{slide_id:this.slide.id}}).then(function(){window.location.reload();});},_saveQuizAnswersToSession:function(){var quizAnswers=this._getQuizAnswers();if(quizAnswers.length===this.quiz.questions.length){return this._rpc({route:'/slides/slide/quiz/save_to_session',params:{'quiz_answers':{'slide_id':this.slide.id,'slide_answers':quizAnswers},}});}else{this._alertShow('slide_quiz_incomplete');return Promise.reject('The quiz is incomplete');}},_afterJoin:function(){this.isMember=true;this._renderValidationInfo();this._applySessionAnswers();this._submitQuiz();},_onCreateQuizClick:function(){var $elem=this.$('.o_wslides_js_lesson_quiz_new_question');this.$('.o_wslides_js_quiz_add').addClass('d-none');new QuestionFormWidget(this,{slideId:this.slide.id,sequence:this.quiz.questionsCount+1}).appendTo($elem);},_onEditQuestionClick:function(ev){var $editedQuestion=$(ev.currentTarget).closest('.o_wslides_js_lesson_quiz_question');var question=this._getQuestionDetails($editedQuestion);new QuestionFormWidget(this,{editedQuestion:$editedQuestion,question:question,slideId:this.slide.id,sequence:question.sequence,update:true}).insertAfter($editedQuestion);$editedQuestion.hide();},_onDeleteQuestionClick:function(ev){var question=$(ev.currentTarget).closest('.o_wslides_js_lesson_quiz_question');new ConfirmationDialog(this,{questionId:question.data('questionId'),questionTitle:question.data('title')}).open();},_onSendRequestToResponsibleClick:function(ev){ev.preventDefault();var channelId=$(ev.currentTarget).data('channelId');new SlideEnrollDialog(this,{channelId:channelId,$element:$(ev.currentTarget).closest('.alert.alert-info')}).open();},_displayCreatedQuestion:function(event){var $lastQuestion=this.$('.o_wslides_js_lesson_quiz_question:last');if($lastQuestion.length!==0){$lastQuestion.after(event.data.newQuestionRenderedTemplate);}else{this.$el.prepend(event.data.newQuestionRenderedTemplate);}
this.quiz.questionsCount++;event.data.questionFormWidget.destroy();this.$('.o_wslides_js_quiz_add_question').removeClass('d-none');},_displayUpdatedQuestion:function(event){var questionFormWidget=event.data.questionFormWidget;event.data.$editedQuestion.replaceWith(event.data.newQuestionRenderedTemplate);questionFormWidget.destroy();},_resetDisplay:function(event){var questionFormWidget=event.data.questionFormWidget;if(questionFormWidget.update){questionFormWidget.$editedQuestion.show();}else{if(this.quiz.questionsCount>0){this.$('.o_wslides_js_quiz_add_question').removeClass('d-none');}else{this.$('.o_wslides_js_quiz_add_quiz').removeClass('d-none');}}
questionFormWidget.destroy();},_deleteQuestion:function(event){var questionId=event.data.questionId;this.$('.o_wslides_js_lesson_quiz_question[data-question-id='+questionId+']').remove();this.quiz.questionsCount--;this._reorderQuestions();var $newQuestionSequence=this.$('.o_wslides_js_lesson_quiz_new_question .o_wslides_quiz_question_sequence');$newQuestionSequence.text(parseInt($newQuestionSequence.text())-1);if(this.quiz.questionsCount===0&&!this.$('.o_wsildes_quiz_question_input').length){this.$('.o_wslides_js_quiz_add_quiz').removeClass('d-none');this.$('.o_wslides_js_quiz_add_question').addClass('d-none');this.$('.o_wslides_js_lesson_quiz_validation').addClass('d-none');}},});var ConfirmationDialog=Dialog.extend({template:'slide.quiz.confirm.deletion',xmlDependencies:Dialog.prototype.xmlDependencies.concat(['/website_slides/static/src/xml/slide_quiz_create.xml']),init:function(parent,options){options=_.defaults(options||{},{title:_t('Delete Question'),buttons:[{text:_t('Yes'),classes:'btn-primary',click:this._onConfirmClick},{text:_t('No'),close:true}],size:'medium'});this.questionId=options.questionId;this.questionTitle=options.questionTitle;this._super.apply(this,arguments);},_onConfirmClick:function(){var self=this;this._rpc({model:'slide.question',method:'unlink',args:[this.questionId],}).then(function(){self.trigger_up('delete_question',{questionId:self.questionId});self.close();});}});publicWidget.registry.websiteSlidesQuizNoFullscreen=publicWidget.Widget.extend({selector:'.o_wslides_lesson_main',custom_events:{slide_go_next:'_onQuizNextSlide',slide_completed:'_onQuizCompleted',},start:function(){var self=this;this.quizWidgets=[];var defs=[this._super.apply(this,arguments)];this.$('.o_wslides_js_lesson_quiz').each(function(){var slideData=$(this).data();var channelData=self._extractChannelData(slideData);slideData.quizData={questions:self._extractQuestionsAndAnswers(),sessionAnswers:slideData.sessionAnswers||[],quizKarmaMax:slideData.quizKarmaMax,quizKarmaWon:slideData.quizKarmaWon,quizKarmaGain:slideData.quizKarmaGain,quizAttemptsCount:slideData.quizAttemptsCount,};defs.push(new Quiz(self,slideData,channelData,slideData.quizData).attachTo($(this)));});return Promise.all(defs);},_onQuizCompleted:function(ev){var slide=ev.data.slide;var completion=ev.data.completion;this.$('#o_wslides_lesson_aside_slide_check_'+slide.id).addClass('text-success fa-check').removeClass('text-600 fa-circle-o');$('.o_wslides_lesson_header .progress-bar').css('width',completion+"%");$('.o_wslides_lesson_header .progress span').text(_.str.sprintf("%s %%",completion));},_onQuizNextSlide:function(){var url=this.$('.o_wslides_js_lesson_quiz').data('next-slide-url');window.location.replace(url);},_extractChannelData:function(slideData){return{channelId:slideData.channelId,channelEnroll:slideData.channelEnroll,channelRequestedAccess:slideData.channelRequestedAccess||false,signupAllowed:slideData.signupAllowed};},_extractQuestionsAndAnswers:function(){var questions=[];this.$('.o_wslides_js_lesson_quiz_question').each(function(){var $question=$(this);var answers=[];$question.find('.o_wslides_quiz_answer').each(function(){var $answer=$(this);answers.push({id:$answer.data('answerId'),text:$answer.data('text'),});});questions.push({id:$question.data('questionId'),title:$question.data('title'),answer_ids:answers,});});return questions;},});return{Quiz:Quiz,ConfirmationDialog:ConfirmationDialog,websiteSlidesQuizNoFullscreen:publicWidget.registry.websiteSlidesQuizNoFullscreen};});;

/* /website_slides/static/src/js/slides_course_quiz_question_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.quiz.question.form',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var QWeb=core.qweb;var _t=core._t;var QuestionFormWidget=publicWidget.Widget.extend({template:'slide.quiz.question.input',xmlDependencies:['/website_slides/static/src/xml/slide_quiz_create.xml'],events:{'click .o_wslides_js_quiz_validate_question':'_validateQuestion','click .o_wslides_js_quiz_cancel_question':'_cancelValidation','click .o_wslides_js_quiz_comment_answer':'_toggleAnswerLineComment','click .o_wslides_js_quiz_add_answer':'_addAnswerLine','click .o_wslides_js_quiz_remove_answer':'_removeAnswerLine','click .o_wslides_js_quiz_remove_answer_comment':'_removeAnswerLineComment','change .o_wslides_js_quiz_answer_comment > input[type=text]':'_onCommentChanged'},init:function(parent,options){this.$editedQuestion=options.editedQuestion;this.question=options.question||{};this.update=options.update;this.sequence=options.sequence;this.slideId=options.slideId;this._super.apply(this,arguments);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.$('.o_wslides_quiz_question input').focus();});},_onCommentChanged:function(event){var input=event.currentTarget;var commentIcon=$(input).closest('.o_wslides_js_quiz_answer').find('.o_wslides_js_quiz_comment_answer');if(input.value.trim()!==''){commentIcon.addClass('text-primary');commentIcon.removeClass('text-muted');}else{commentIcon.addClass('text-muted');commentIcon.removeClass('text-primary');}},_toggleAnswerLineComment:function(ev){var commentLine=$(ev.currentTarget).closest('.o_wslides_js_quiz_answer').find('.o_wslides_js_quiz_answer_comment').toggleClass('d-none');commentLine.find('input[type=text]').focus();},_addAnswerLine:function(ev){$(ev.currentTarget).closest('.o_wslides_js_quiz_answer').after(QWeb.render('slide.quiz.answer.line'));},_removeAnswerLine:function(ev){if(this.$('.o_wslides_js_quiz_answer').length>1){$(ev.currentTarget).closest('.o_wslides_js_quiz_answer').remove();}},_removeAnswerLineComment:function(ev){var commentLine=$(ev.currentTarget).closest('.o_wslides_js_quiz_answer_comment').addClass('d-none');commentLine.find('input[type=text]').val('').change();},_validateQuestion:function(ev){this._createOrUpdateQuestion({update:$(ev.currentTarget).hasClass('o_wslides_js_quiz_update'),});},_cancelValidation:function(){this.trigger_up('reset_display',{questionFormWidget:this,});},_createOrUpdateQuestion:function(options){var self=this;var $form=this.$('form');if(this._isValidForm($form)){var values=this._serializeForm($form);this._rpc({route:'/slides/slide/quiz/question_add_or_update',params:values}).then(function(renderedQuestion){if(options.update){self.trigger_up('display_updated_question',{newQuestionRenderedTemplate:renderedQuestion,$editedQuestion:self.$editedQuestion,questionFormWidget:self,});}else{self.trigger_up('display_created_question',{newQuestionRenderedTemplate:renderedQuestion,questionFormWidget:self});}});}else{this.displayNotification({type:'warning',message:_t('Please fill up the question'),sticky:true});this.$('.o_wslides_quiz_question input').focus();}},_isValidForm:function($form){return $form.find('.o_wslides_quiz_question input[type=text]').val().trim()!=="";},_serializeForm:function($form){var answers=[];var sequence=1;$form.find('.o_wslides_js_quiz_answer').each(function(){var value=$(this).find('.o_wslides_js_quiz_answer_value').val();if(value.trim()!==""){var answer={'sequence':sequence++,'text_value':value,'is_correct':$(this).find('input[type=radio]').prop('checked')===true,'comment':$(this).find('.o_wslides_js_quiz_answer_comment > input[type=text]').val().trim()};answers.push(answer);}});return{'existing_question_id':this.$el.data('id'),'sequence':this.sequence,'question':$form.find('.o_wslides_quiz_question input[type=text]').val(),'slide_id':this.slideId,'answer_ids':answers};},});return QuestionFormWidget;});;

/* /website_slides/static/src/js/slides_course_quiz_finish.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.quiz.finish',function(require){'use strict';var Dialog=require('web.Dialog');var core=require('web.core');var _t=core._t;var SlideQuizFinishModal=Dialog.extend({template:'slide.slide.quiz.finish',events:{"click .o_wslides_quiz_modal_btn":'_onClickNext',},init:function(parent,options){var self=this;this.quiz=options.quiz;this.hasNext=options.hasNext;this.userId=options.userId;options=_.defaults(options||{},{size:'medium',dialogClass:'d-flex p-0',technical:false,renderHeader:false,renderFooter:false});this._super.apply(this,arguments);this.opened(function(){self._animateProgressBar();self._animateText();})},start:function(){var self=this;this._super.apply(this,arguments).then(function(){self.$modal.addClass('o_wslides_quiz_modal pt-5');self.$modal.find('.modal-dialog').addClass('mt-5');self.$modal.find('.modal-content').addClass('shadow-lg');});},_onClickNext:function(){this.trigger_up('slide_go_next');this.destroy();},_animateProgressBar:function(){var self=this;this.$('[data-toggle="tooltip"]').tooltip({trigger:'manual',container:'.progress-bar-tooltip',}).tooltip('show');this.$('.tooltip-inner').prop('karma',this.quiz.rankProgress.previous_rank.karma).animate({karma:this.quiz.rankProgress.new_rank.karma},{duration:this.quiz.rankProgress.level_up?1700:800,step:function(newKarma){self.$('.tooltip-inner').text(Math.ceil(newKarma));self.$('[data-toggle="tooltip"]').tooltip('update');}});var $progressBar=this.$('.progress-bar');if(this.quiz.rankProgress.level_up){this.$('.o_wslides_quiz_modal_title').text(_t('Level up!'));$progressBar.css('width','100%');_.delay(function(){self.$('.o_wslides_quiz_modal_rank_lower_bound').text(self.quiz.rankProgress.new_rank.lower_bound);self.$('.o_wslides_quiz_modal_rank_upper_bound').text(self.quiz.rankProgress.new_rank.upper_bound||"");_.delay(function(){$progressBar.addClass('no-transition').width('0%');},1);_.delay(function(){$progressBar.removeClass('no-transition').width(self.quiz.rankProgress.new_rank.progress+'%');},100);},800);}else{$progressBar.css('width',this.quiz.rankProgress.new_rank.progress+'%');}},_animateText:function(){var self=this;_.delay(function(){self.$('h4.o_wslides_quiz_modal_xp_gained').addClass('show in');self.$('.o_wslides_quiz_modal_dismiss').removeClass('d-none');},800);if(this.quiz.rankProgress.level_up){_.delay(function(){self.$('.o_wslides_quiz_modal_rank_motivational').addClass('fade');_.delay(function(){self.$('.o_wslides_quiz_modal_rank_motivational').html(self.quiz.rankProgress.last_rank?self.quiz.rankProgress.description:self.quiz.rankProgress.new_rank.motivational);self.$('.o_wslides_quiz_modal_rank_motivational').addClass('show in');},800);},800);}},});return SlideQuizFinishModal;});;

/* /website_slides/static/src/js/slides_course_tag_add.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.channel_tag.add',function(require){'use strict';var core=require('web.core');var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');var _t=core._t;var TagCourseDialog=Dialog.extend({template:'website.slides.tag.add',events:_.extend({},Dialog.prototype.events,{'change input#tag_id':'_onChangeTag',}),init:function(parent,options){options=_.defaults(options||{},{title:_t("Add a tag"),size:'medium',buttons:[{text:_t("Add"),classes:'btn-primary',click:this._onClickFormSubmit.bind(this)},{text:_t("Discard"),click:this._onClickClose.bind(this)}]});this.channelID=parseInt(options.channelId,10);this.tagIds=options.channelTagIds||[];this.defaultTag=options.defaultTag;this._super(parent,options);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._bindSelect2Dropdown();self._hideTagGroup();if(self.defaultTag){self._setDefaultSelection();}});},_bindSelect2Dropdown:function(){var self=this;this.$('#tag_id').select2(this._select2Wrapper(_t('Tag'),function(){return self._rpc({route:'/slides/channel/tag/search_read',params:{fields:['name'],domain:[['id','not in',self.tagIds]],}});}));this.$('#tag_group_id').select2(this._select2Wrapper(_t('Tag Group (required for new tags)'),function(){return self._rpc({route:'/slides/channel/tag/group/search_read',params:{fields:['name'],domain:[],}});}));},_select2Wrapper:function(tag,fetchFNC,nameKey){nameKey=nameKey||'name';var values={width:'100%',placeholder:tag,allowClear:true,formatNoMatches:false,selection_data:false,fetch_rpc_fnc:fetchFNC,formatSelection:function(data){if(data.tag){data.text=data.tag;}
return data.text;},createSearchChoice:function(term,data){var addedTags=$(this.opts.element).select2('data');if(_.filter(_.union(addedTags,data),function(tag){return tag.text.toLowerCase().localeCompare(term.toLowerCase())===0;}).length===0){if(this.opts.can_create){return{id:_.uniqueId('tag_'),create:true,tag:term,text:_.str.sprintf(_t("Create new %s '%s'"),tag,term),};}else{return undefined;}}},fill_data:function(query,data){var that=this,tags={results:[]};_.each(data,function(obj){if(that.matcher(query.term,obj[nameKey])){tags.results.push({id:obj.id,text:obj[nameKey]});}});query.callback(tags);},query:function(query){var that=this;if(!this.selection_data){this.fetch_rpc_fnc().then(function(data){that.can_create=data.can_create;that.fill_data(query,data.read_results);that.selection_data=data.read_results;});}else{this.fill_data(query,this.selection_data);}}};return values;},_setDefaultSelection:function(){this.$('#tag_id').select2('data',{id:_.uniqueId('tag_'),text:this.defaultTag,create:true},true);this.$('#tag_id').select2('readonly',true);},_getSelect2DropdownValues:function(){var result={};var tag=this.$('#tag_id').select2('data');if(tag){if(tag.create){var group=this.$('#tag_group_id').select2('data');if(group){result['tag_id']=[0,{'name':tag.text}]
if(group.create){result['group_id']=[0,{'name':group.text}];}else{result['group_id']=[group.id];}}}else{result['tag_id']=[tag.id];}}
return result;},_formValidate:function($form){$form.addClass('was-validated');var result=$form[0].checkValidity();var $tagInput=this.$('#tag_id');if($tagInput.length!==0){var $tagSelect2Container=$tagInput.closest('.form-group').find('.select2-container');$tagSelect2Container.removeClass('is-invalid is-valid');if($tagInput.is(':invalid')){$tagSelect2Container.addClass('is-invalid');}else if($tagInput.is(':valid')){$tagSelect2Container.addClass('is-valid');var $tagGroupInput=this.$('#tag_group_id');if($tagGroupInput.length!==0){var $tagGroupSelect2Container=$tagGroupInput.closest('.form-group').find('.select2-container');if($tagGroupInput.is(':invalid')){$tagGroupSelect2Container.addClass('is-invalid');}else if($tagGroupInput.is(':valid')){$tagGroupSelect2Container.addClass('is-valid');}}}}
return result;},_alertDisplay:function(message){this._alertRemove();$('<div/>',{"class":'alert alert-warning',role:'alert'}).text(message).insertBefore(this.$('form'));},_alertRemove:function(){this.$('.alert-warning').remove();},_hideTagGroup:function(){var $tag_group_id=this.$('#tag_group_id');var $tagGroupSelect2Container=$tag_group_id.closest('.form-group');$tagGroupSelect2Container.hide();$tag_group_id.removeAttr("required");$tag_group_id.select2("val","");},_showTagGroup:function(){var $tag_group_id=this.$('#tag_group_id');var $tagGroupSelect2Container=$tag_group_id.closest('.form-group');$tagGroupSelect2Container.show();$tag_group_id.attr("required","required");},_onClickFormSubmit:function(){if(this.defaultTag&&!this.channelID){this._createNewTag();}else{this._addTagToChannel();}},_addTagToChannel:function(){var self=this;var $form=this.$('#slides_channel_tag_add_form');if(this._formValidate($form)){var values=this._getSelect2DropdownValues();return this._rpc({route:'/slides/channel/tag/add',params:{'channel_id':this.channelID,'tag_id':values.tag_id,'group_id':values.group_id},}).then(function(data){if(data.error){self._alertDisplay(data.error);}else{window.location=data.url;}});}},_createNewTag:function(){var self=this;var $form=this.$('#slides_channel_tag_add_form');this.$('#tag_id').select2('readonly',false);var valid=this._formValidate($form);this.$('#tag_id').select2('readonly',true);if(valid){var values=this._getSelect2DropdownValues();return this._rpc({route:'/slide_channel_tag/add',params:{'tag_id':values.tag_id,'group_id':values.group_id},}).then(function(data){self.trigger_up('tag_refresh',{tag_id:data.tag_id});self.close();});}},_onClickClose:function(){if(this.defaultTag&&!this.channelID){this.trigger_up('tag_remove_new');}
this.close();},_onChangeTag:function(ev){var self=this;var tag=$(ev.currentTarget).select2('data');if(tag&&tag.create){self._showTagGroup();}else{self._hideTagGroup();}},});publicWidget.registry.websiteSlidesTag=publicWidget.Widget.extend({selector:'.o_wslides_js_channel_tag_add',xmlDependencies:['/website_slides/static/src/xml/website_slides_channel_tag.xml'],events:{'click':'_onAddTagClick',},_openDialog:function($element){var data=$element.data();return new TagCourseDialog(this,data).open();},_onAddTagClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget));},});return{TagCourseDialog:TagCourseDialog,websiteSlidesTag:publicWidget.registry.websiteSlidesTag};});;

/* /website_slides/static/src/js/slides_course_unsubscribe.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.unsubscribe_modal',function(require){'use strict';var core=require('web.core');var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');var utils=require('web.utils');var QWeb=core.qweb;var _t=core._t;var SlideUnsubscribeDialog=Dialog.extend({template:'slides.course.unsubscribe.modal',_texts:{titleSubscribe:_t("Subscribe"),titleUnsubscribe:_t("Notifications"),titleLeaveCourse:_t("Leave the course")},init:function(parent,options){options=_.defaults(options||{},{title:options.isFollower==='True'?this._texts.titleSubscribe:this._texts.titleUnsubscribe,size:'medium',});this._super(parent,options);this.set('state','_subscription');this.on('change:state',this,this._onChangeType);this.channelID=parseInt(options.channelId,10);this.isFollower=options.isFollower==='True';this.enroll=options.enroll;},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.$('input#subscribed').prop('checked',self.isFollower);self._resetModal();});},getSubscriptionState:function(){return this.$('input#subscribed').prop('checked');},_getModalButtons:function(){var btnList=[];var state=this.get('state');if(state==='_subscription'){btnList.push({text:_t("Save"),classes:"btn-primary",click:this._onClickSubscriptionSubmit.bind(this)});btnList.push({text:_t("Discard"),close:true});btnList.push({text:_t("or Leave the course"),classes:"btn-danger ml-auto",click:this._onClickLeaveCourse.bind(this)});}else if(state==='_leave'){btnList.push({text:_t("Leave the course"),classes:"btn-danger",click:this._onClickLeaveCourseSubmit.bind(this)});btnList.push({text:_t("Discard"),click:this._onClickLeaveCourseCancel.bind(this)});}
return btnList;},_resetModal:function(){var state=this.get('state');if(state==='_subscription'){this.set_title(this.isFollower?this._texts.titleUnsubscribe:this._texts.titleSubscribe);this.$('input#subscribed').prop('checked',this.isFollower);}
else if(state==='_leave'){this.set_title(this._texts.titleLeaveCourse);}
this.set_buttons(this._getModalButtons());},_onClickLeaveCourse:function(){this.set('state','_leave');},_onClickLeaveCourseCancel:function(){this.set('state','_subscription');},_onClickLeaveCourseSubmit:function(){this._rpc({route:'/slides/channel/leave',params:{channel_id:this.channelID},}).then(function(){window.location.reload();});},_onClickSubscriptionSubmit:function(){if(this.isFollower===this.getSubscriptionState()){this.destroy();return;}
this._rpc({route:this.getSubscriptionState()?'/slides/channel/subscribe':'/slides/channel/unsubscribe',params:{channel_id:this.channelID},}).then(function(){window.location.reload();});},_onChangeType:function(){var currentType=this.get('state');var tmpl;if(currentType==='_subscription'){tmpl='slides.course.unsubscribe.modal.subscription';}else if(currentType==='_leave'){tmpl='slides.course.unsubscribe.modal.leave';}
this.$('.o_w_slide_unsubscribe_modal_container').empty();this.$('.o_w_slide_unsubscribe_modal_container').append(QWeb.render(tmpl,{widget:this}));this._resetModal();},});publicWidget.registry.websiteSlidesUnsubscribe=publicWidget.Widget.extend({selector:'.o_wslides_js_channel_unsubscribe',xmlDependencies:['/website_slides/static/src/xml/website_slides_unsubscribe.xml'],events:{'click':'_onUnsubscribeClick',},_openDialog:function($element){var data=$element.data();return new SlideUnsubscribeDialog(this,data).open();},_onUnsubscribeClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget));},});return{SlideUnsubscribeDialog:SlideUnsubscribeDialog,websiteSlidesUnsubscribe:publicWidget.registry.websiteSlidesUnsubscribe};});;

/* /website_slides/static/src/js/tours/slides_tour.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.slides_tour',function(require){"use strict";var core=require('web.core');var _t=core._t;var tour=require('web_tour.tour');tour.register('slides_tour',{url:'/slides',},[{trigger:'#new-content-menu > a',content:_t("Welcome on your course's home page. It's still empty for now. Click on \"<b>New</b>\" to write your first course."),position:'bottom',},{trigger:'a[data-action="new_slide_channel"]',content:_t("Select <b>Course</b> to create it and manage it."),position:'bottom',width:210,},{trigger:'input[name="name"]',content:_t("Give your course an engaging <b>Title</b>."),position:'bottom',width:280,run:'text My New Course',},{trigger:'textarea[name="description"]',content:_t("Give your course a helpful <b>Description</b>."),position:'bottom',width:300,run:'text This course is for advanced users.',},{trigger:'button.btn-primary',content:_t("Click on the <b>Create</b> button to create your first course."),},{trigger:'.o_wslides_js_slide_section_add',content:_t("Congratulation, your course is created, but there isn't any content yet. First, let's add a <b>Section</b> to give your course a structure."),position:'bottom',},{trigger:'input[name="name"]',content:_t("A good course has structure and a table of content. Your first section will be the <b>Introduction</b>."),position:'bottom',},{trigger:'button.btn-primary',content:_t("Click on <b>Save</b> to apply changes."),position:'bottom',width:260,},{trigger:'a.btn-primary.o_wslides_js_slide_upload',content:_t("Your first section is created, now it's time to add lessons to your course. Click on <b>Add Content</b> to upload a document, create a web page or link a video."),position:'bottom',},{trigger:'a[data-slide-type="presentation"]',content:_t("First, let's add a <b>Presentation</b>. It can be a .pdf or an image."),position:'bottom',},{trigger:'input#upload',content:_t("Choose a <b>File</b> on your computer."),},{trigger:'input#name',content:_t("The <b>Title</b> of your lesson is autocompleted but you can change it if you want.</br>A <b>Preview</b> of your file is available on the right side of the screen."),},{trigger:'input#duration',content:_t("The <b>Duration</b> of the lesson is based on the number of pages of your document. You can change this number if your attendees will need more time to assimilate the content."),},{trigger:'button.o_w_slide_upload_published',content:_t("<b>Save & Publish</b> your lesson to make it available to your attendees."),position:'bottom',width:285,},{trigger:'span.badge-info:contains("New")',content:_t("Congratulation! Your first lesson is available. Let's see the options available here. The tag \"<b>New</b>\" indicate that this lesson has less than 7 days."),position:'bottom',},{trigger:'a[name="o_wslides_list_slide_add_quizz"]',extra_trigger:'.o_wslides_slides_list_slide:hover',content:_t("If you want to be sure that attendees have understood and memorized the content, you can add a Quiz on the lesson. Click on <b>Add Quiz</b>."),},{trigger:'input[name="question-name"]',content:_t("Enter your <b>Question</b>. Be clear and concise."),position:'left',width:330,},{trigger:'input.o_wslides_js_quiz_answer_value',content:_t("Enter at least two possible <b>Answers</b>."),position:'left',width:290,},{trigger:'a.o_wslides_js_quiz_is_correct',content:_t("Mark the correct answer by checking the <b>correct</b> mark."),position:'right',width:230,},{trigger:'i.o_wslides_js_quiz_comment_answer:last',content:_t("You can add <b>comments</b> on answers. This will be visible with the results if the user select this answer."),position:'right',},{trigger:'a.o_wslides_js_quiz_validate_question',content:_t("<b>Save</b> your question."),position:'left',width:170,},{trigger:'li.breadcrumb-item:nth-child(2)',content:_t("Click on your <b>Course</b> to go back to the table of content."),position:'top',},{trigger:'label.js_publish_btn',content:_t("Once you're done, don't forget to <b>Publish</b> your course."),position:'bottom',},{trigger:'a.o_wslides_js_slides_list_slide_link',content:_t("Congratulation you've created your first course.<br/>Click on the title of this content to see it in fullscreen mode."),position:'bottom',}]);});;

/* /portal_rating/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('rating.portal.chatter',function(require){'use strict';var core=require('web.core');var portalChatter=require('portal.chatter');var utils=require('web.utils');var time=require('web.time');var _t=core._t;var PortalChatter=portalChatter.PortalChatter;var qweb=core.qweb;PortalChatter.include({events:_.extend({},PortalChatter.prototype.events,{'click .o_website_rating_select':'_onClickStarDomain','click .o_website_rating_select_text':'_onClickStarDomainReset','click .o_wrating_js_publisher_comment_btn':'_onClickPublisherComment','click .o_wrating_js_publisher_comment_edit':'_onClickPublisherComment','click .o_wrating_js_publisher_comment_delete':'_onClickPublisherCommentDelete','click .o_wrating_js_publisher_comment_submit':'_onClickPublisherCommentSubmit','click .o_wrating_js_publisher_comment_cancel':'_onClickPublisherCommentCancel',}),xmlDependencies:(PortalChatter.prototype.xmlDependencies||[]).concat(['/portal_rating/static/src/xml/portal_tools.xml','/portal_rating/static/src/xml/portal_chatter.xml']),init:function(parent,options){this._super.apply(this,arguments);if(!_.contains(this.options,'display_rating')){this.options=_.defaults(this.options,{'display_rating':false,'rating_default_value':0.0,});}
this.set('rating_card_values',{});this.set('rating_value',false);this.on("change:rating_value",this,this._onChangeRatingDomain);},preprocessMessages:function(messages){var self=this;messages=this._super.apply(this,arguments);if(this.options['display_rating']){_.each(messages,function(m,i){m.rating_value=self.roundToHalf(m['rating_value']);m.rating=self._preprocessCommentData(m.rating,i);});}
this.messages=messages;return messages;},roundToHalf:function(value){var converted=parseFloat(value);var decimal=(converted-parseInt(converted,10));decimal=Math.round(decimal*10);if(decimal===5){return(parseInt(converted,10)+0.5);}
if((decimal<3)||(decimal>7)){return Math.round(converted);}else{return(parseInt(converted,10)+0.5);}},_chatterInit:function(){var self=this;return this._super.apply(this,arguments).then(function(result){if(!result['rating_stats']){return;}
var ratingData={'avg':Math.round(result['rating_stats']['avg']*100)/100,'percent':[],};_.each(_.keys(result['rating_stats']['percent']).reverse(),function(rating){if(rating%2===0){ratingData['percent'].push({'num':rating,'percent':utils.round_precision(result['rating_stats']['percent'][rating],0.01),});}});self.set('rating_card_values',ratingData);});},_messageFetchPrepareParams:function(){var params=this._super.apply(this,arguments);if(this.options['display_rating']){params['rating_include']=true;}
return params;},_newPublisherCommentData:function(messageIndex){return{mes_index:messageIndex,publisher_id:this.options.partner_id,publisher_avatar:_.str.sprintf('/web/image/%s/%s/image_128/50x50','res.partner',this.options.partner_id),publisher_name:_t("Write your comment"),publisher_datetime:'',publisher_comment:'',};},_preprocessCommentData:function(rawRating,messageIndex){var ratingData={id:rawRating.id,mes_index:messageIndex,publisher_datetime:rawRating.publisher_datetime?moment(time.str_to_datetime(rawRating.publisher_datetime)).format('MMMM Do YYYY, h:mm:ss a'):"",publisher_comment:rawRating.publisher_comment?rawRating.publisher_comment:'',};if(rawRating.publisher_id&&rawRating.publisher_id.length>=2){ratingData.publisher_id=rawRating.publisher_id[0];ratingData.publisher_name=rawRating.publisher_id[1];ratingData.publisher_avatar=_.str.sprintf('/web/image/%s/%s/image_128/50x50','res.partner',ratingData.publisher_id);}
var commentData=_.extend(this._newPublisherCommentData(messageIndex),ratingData);return commentData;},_getCommentContainer:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_wrating_publisher_comment").first();},_getCommentButton:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_wrating_js_publisher_comment_btn").first();},_getCommentTextarea:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_portal_rating_comment_input").first();},_focusTextComment:function($source){this._getCommentTextarea($source).focus();},_onClickStarDomain:function(ev){var $tr=this.$(ev.currentTarget);var num=$tr.data('star');if($tr.css('opacity')==='1'){this.set('rating_value',num);this.$('.o_website_rating_select').css({'opacity':0.5,});this.$('.o_website_rating_select_text[data-star="'+num+'"]').css({'visibility':'visible','opacity':1,});this.$('.o_website_rating_select[data-star="'+num+'"]').css({'opacity':1,});}},_onClickStarDomainReset:function(ev){ev.stopPropagation();ev.preventDefault();this.set('rating_value',false);this.$('.o_website_rating_select_text').css('visibility','hidden');this.$('.o_website_rating_select').css({'opacity':1,});},_onClickPublisherComment:function(ev){var $source=this.$(ev.currentTarget);if(this._getCommentTextarea($source).length===1){this._getCommentContainer($source).empty();return;}
var messageIndex=$source.data("mes_index");var data={is_publisher:this.options['is_user_publisher']};data.rating=this._newPublisherCommentData(messageIndex);var oldRating=this.messages[messageIndex].rating;data.rating.publisher_comment=oldRating.publisher_comment?oldRating.publisher_comment:'';this._getCommentContainer($source).html($(qweb.render("portal_rating.chatter_rating_publisher_form",data)));this._focusTextComment($source);},_onClickPublisherCommentDelete:function(ev){var self=this;var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var ratingId=this.messages[messageIndex].rating.id;this._rpc({route:'/website/rating/comment',params:{"rating_id":ratingId,"publisher_comment":''}}).then(function(res){self.messages[messageIndex].rating=self._preprocessCommentData(res,messageIndex);self._getCommentButton($source).removeClass("d-none");self._getCommentContainer($source).empty();});},_onClickPublisherCommentSubmit:function(ev){var self=this;var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var comment=this._getCommentTextarea($source).val();var ratingId=this.messages[messageIndex].rating.id;this._rpc({route:'/website/rating/comment',params:{"rating_id":ratingId,"publisher_comment":comment}}).then(function(res){self.messages[messageIndex].rating=self._preprocessCommentData(res,messageIndex);if(self.messages[messageIndex].rating.publisher_comment!==''){self._getCommentButton($source).addClass('d-none');self._getCommentContainer($source).html($(qweb.render("portal_rating.chatter_rating_publisher_comment",{rating:self.messages[messageIndex].rating,is_publisher:self.options.is_user_publisher})));}else{self._getCommentButton($source).removeClass("d-none");self._getCommentContainer($source).empty();}});},_onClickPublisherCommentCancel:function(ev){var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var comment=this.messages[messageIndex].rating.publisher_comment;if(comment){var data={rating:this.messages[messageIndex].rating,is_publisher:this.options.is_user_publisher};this._getCommentContainer($source).html($(qweb.render("portal_rating.chatter_rating_publisher_comment",data)));}else{this._getCommentContainer($source).empty();}},_onChangeRatingDomain:function(){var domain=[];if(this.get('rating_value')){domain=[['rating_value','=',this.get('rating_value')]];}
this._changeCurrentPage(1,domain);},});});;

/* /portal_rating/static/src/js/portal_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('rating.portal.composer',function(require){'use strict';var core=require('web.core');var portalComposer=require('portal.composer');var _t=core._t;var PortalComposer=portalComposer.PortalComposer;PortalComposer.include({events:_.extend({},PortalComposer.prototype.events,{'click .stars i':'_onClickStar','mouseleave .stars':'_onMouseleaveStarBlock','mousemove .stars i':'_onMoveStar','mouseleave .stars i':'_onMoveLeaveStar',}),init:function(parent,options){this._super.apply(this,arguments);if(options.default_rating_value){options.default_rating_value=parseFloat(options.default_rating_value);}
this.options=_.defaults(this.options,{'default_message':false,'default_message_id':false,'default_rating_value':0.0,'force_submit_url':false,});this.labels={'0':"",'1':_t("I hate it"),'2':_t("I don't like it"),'3':_t("It's okay"),'4':_t("I like it"),'5':_t("I love it"),};this.user_click=false;this.set("star_value",this.options.default_rating_value);this.on("change:star_value",this,this._onChangeStarValue);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.$input=self.$('input[name="rating_value"]');self.$star_list=self.$('.stars').find('i');self.set("star_value",self.options.default_rating_value);self.$input.val(self.options.default_rating_value);});},_onChangeStarValue:function(){var val=this.get("star_value");var index=Math.floor(val);var decimal=val-index;this.$star_list.removeClass('fa-star fa-star-half-o').addClass('fa-star-o');this.$('.stars').find("i:lt("+index+")").removeClass('fa-star-o fa-star-half-o').addClass('fa-star');if(decimal){this.$('.stars').find("i:eq("+index+")").removeClass('fa-star-o fa-star fa-star-half-o').addClass('fa-star-half-o');}
this.$('.rate_text .badge').text(this.labels[index]);},_onClickStar:function(ev){var index=this.$('.stars i').index(ev.currentTarget);this.set("star_value",index+1);this.user_click=true;this.$input.val(this.get("star_value"));},_onMouseleaveStarBlock:function(){this.$('.rate_text').hide();},_onMoveStar:function(ev){var index=this.$('.stars i').index(ev.currentTarget);this.$('.rate_text').show();this.set("star_value",index+1);},_onMoveLeaveStar:function(){if(!this.user_click){this.set("star_value",parseInt(this.$input.val()));}
this.user_click=false;},});});;

/* /portal_rating/static/src/js/portal_rating_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.rating.composer',function(require){'use strict';var publicWidget=require('web.public.widget');var session=require('web.session');var portalComposer=require('portal.composer');var PortalComposer=portalComposer.PortalComposer;var RatingPopupComposer=publicWidget.Widget.extend({template:'portal_rating.PopupComposer',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml','/portal_rating/static/src/xml/portal_tools.xml','/portal_rating/static/src/xml/portal_rating_composer.xml',],init:function(parent,options){this._super.apply(this,arguments);this.rating_avg=Math.round(options['ratingAvg']*100)/100||0.0;this.rating_total=options['ratingTotal']||0.0;this.options=_.defaults({},options,{'token':false,'res_model':false,'res_id':false,'pid':0,'display_composer':options['disable_composer']?false:!session.is_website_user,'display_rating':true,'csrf_token':odoo.csrf_token,'user_id':session.user_id,});},start:function(){var defs=[];defs.push(this._super.apply(this,arguments));this._composer=new PortalComposer(this,this.options);defs.push(this._composer.replace(this.$('.o_portal_chatter_composer')));return Promise.all(defs);},});publicWidget.registry.RatingPopupComposer=publicWidget.Widget.extend({selector:'.o_rating_popup_composer',start:function(){var ratingPopupData=this.$el.data();var ratingPopup=new RatingPopupComposer(this,ratingPopupData);return Promise.all([this._super.apply(this,arguments),ratingPopup.appendTo(this.$el)]);},});});;

/* /web_tour/static/src/js/public/tour_manager.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_tour.public.TourManager',function(require){'use strict';var TourManager=require('web_tour.TourManager');var lazyloader=require('web.public.lazyloader');TourManager.include({_waitBeforeTourStart:function(){return this._super.apply(this,arguments).then(function(){return lazyloader.allScriptsLoaded;}).then(function(){return new Promise(function(resolve){setTimeout(resolve);});});},});});;

/* /bus/static/src/js/longpolling_bus.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('bus.Longpolling',function(require){"use strict";var Bus=require('web.Bus');var ServicesMixin=require('web.ServicesMixin');var LongpollingBus=Bus.extend(ServicesMixin,{PARTNERS_PRESENCE_CHECK_PERIOD:30000,ERROR_RETRY_DELAY:10000,POLL_ROUTE:'/longpolling/poll',_isActive:null,_lastNotificationID:0,_isOdooFocused:true,_pollRetryTimeout:null,init:function(parent,params){this._super.apply(this,arguments);this._id=_.uniqueId('bus');this._longPollingBusId=this._id;this._options={};this._channels=[];this._lastPresenceTime=new Date().getTime();$(window).on("focus."+this._longPollingBusId,this._onFocusChange.bind(this,{focus:true}));$(window).on("blur."+this._longPollingBusId,this._onFocusChange.bind(this,{focus:false}));$(window).on("unload."+this._longPollingBusId,this._onFocusChange.bind(this,{focus:false}));$(window).on("click."+this._longPollingBusId,this._onPresence.bind(this));$(window).on("keydown."+this._longPollingBusId,this._onPresence.bind(this));$(window).on("keyup."+this._longPollingBusId,this._onPresence.bind(this));},destroy:function(){this.stopPolling();$(window).off("focus."+this._longPollingBusId);$(window).off("blur."+this._longPollingBusId);$(window).off("unload."+this._longPollingBusId);$(window).off("click."+this._longPollingBusId);$(window).off("keydown."+this._longPollingBusId);$(window).off("keyup."+this._longPollingBusId);this._super();},addChannel:function(channel){if(this._channels.indexOf(channel)===-1){this._channels.push(channel);if(this._pollRpc){this._pollRpc.abort();}else{this.startPolling();}}},deleteChannel:function(channel){var index=this._channels.indexOf(channel);if(index!==-1){this._channels.splice(index,1);if(this._pollRpc){this._pollRpc.abort();}}},isOdooFocused:function(){return this._isOdooFocused;},startPolling:function(){if(this._isActive===null){this._poll=this._poll.bind(this);}
if(!this._isActive){this._isActive=true;this._poll();}},stopPolling:function(){this._isActive=false;this._channels=[];clearTimeout(this._pollRetryTimeout);if(this._pollRpc){this._pollRpc.abort();}},updateOption:function(key,value){this._options[key]=value;},_getLastPresence:function(){return this._lastPresenceTime;},_poll:function(){var self=this;if(!this._isActive){return;}
var now=new Date().getTime();var options=_.extend({},this._options,{bus_inactivity:now-this._getLastPresence(),});var data={channels:this._channels,last:this._lastNotificationID,options:options};this._pollRpc=this._makePoll(data);this._pollRpc.then(function(result){self._pollRpc=false;self._onPoll(result);self._poll();}).guardedCatch(function(result){self._pollRpc=false;result.event.preventDefault();if(result.message==="XmlHttpRequestError abort"){self._poll();}else{self._pollRetryTimeout=setTimeout(self._poll,self.ERROR_RETRY_DELAY+(Math.floor((Math.random()*20)+1)*1000));}});},_makePoll:function(data){return this._rpc({route:this.POLL_ROUTE,params:data},{shadow:true,timeout:60000});},_onFocusChange:function(params){this._isOdooFocused=params.focus;if(params.focus){this._lastPresenceTime=new Date().getTime();this.trigger('window_focus',this._isOdooFocused);}},_onPoll:function(notifications){var self=this;var notifs=_.map(notifications,function(notif){if(notif.id>self._lastNotificationID){self._lastNotificationID=notif.id;}
return[notif.channel,notif.message];});this.trigger("notification",notifs);return notifs;},_onPresence:function(){this._lastPresenceTime=new Date().getTime();},});return LongpollingBus;});;

/* /bus/static/src/js/crosstab_bus.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('bus.CrossTab',function(require){"use strict";var Longpolling=require('bus.Longpolling');var session=require('web.session');var CrossTabBus=Longpolling.extend({TAB_HEARTBEAT_PERIOD:10000,MASTER_TAB_HEARTBEAT_PERIOD:1500,HEARTBEAT_OUT_OF_DATE_PERIOD:5000,HEARTBEAT_KILL_OLD_PERIOD:15000,LOCAL_STORAGE_PREFIX:'bus',_isMasterTab:false,_isRegistered:false,init:function(){this._super.apply(this,arguments);var now=new Date().getTime();this._sanitizedOrigin=session.origin.replace(/:\/{0,2}/g,'_');this._id=_.uniqueId(this.LOCAL_STORAGE_PREFIX)+':'+now;if(this._callLocalStorage('getItem','last_ts',0)+50000<now){this._callLocalStorage('removeItem','last');}
this._lastNotificationID=this._callLocalStorage('getItem','last',0);this.call('local_storage','onStorage',this,this._onStorage);},destroy:function(){this._super();clearTimeout(this._heartbeatTimeout);},addChannel:function(){this._super.apply(this,arguments);this._callLocalStorage('setItem','channels',this._channels);},deleteChannel:function(){this._super.apply(this,arguments);this._callLocalStorage('setItem','channels',this._channels);},getTabId:function(){return this._id;},isMasterTab:function(){return this._isMasterTab;},startPolling:function(){if(this._isActive===null){this._heartbeat=this._heartbeat.bind(this);}
if(!this._isRegistered){this._isRegistered=true;var peers=this._callLocalStorage('getItem','peers',{});peers[this._id]=new Date().getTime();this._callLocalStorage('setItem','peers',peers);this._registerWindowUnload();if(!this._callLocalStorage('getItem','master')){this._startElection();}
this._heartbeat();if(this._isMasterTab){this._callLocalStorage('setItem','channels',this._channels);this._callLocalStorage('setItem','options',this._options);}else{this._channels=this._callLocalStorage('getItem','channels',this._channels);this._options=this._callLocalStorage('getItem','options',this._options);}
return;}
if(this._isMasterTab){this._super.apply(this,arguments);}},updateOption:function(){this._super.apply(this,arguments);this._callLocalStorage('setItem','options',this._options);},_callLocalStorage:function(method,key,param){return this.call('local_storage',method,this._generateKey(key),param);},_generateKey:function(key){return this.LOCAL_STORAGE_PREFIX+'.'+this._sanitizedOrigin+'.'+key;},_getLastPresence:function(){return this._callLocalStorage('getItem','lastPresence')||this._super();},_heartbeat:function(){var now=new Date().getTime();var heartbeatValue=parseInt(this._callLocalStorage('getItem','heartbeat',0));var peers=this._callLocalStorage('getItem','peers',{});if((heartbeatValue+this.HEARTBEAT_OUT_OF_DATE_PERIOD)<now){this._startElection();heartbeatValue=parseInt(this._callLocalStorage('getItem','heartbeat',0));}
if(this._isMasterTab){var cleanedPeers={};for(var peerName in peers){if(peers[peerName]+this.HEARTBEAT_KILL_OLD_PERIOD>now){cleanedPeers[peerName]=peers[peerName];}}
if(heartbeatValue!==this.lastHeartbeat){this._isMasterTab=false;this.lastHeartbeat=0;peers[this._id]=now;this._callLocalStorage('setItem','peers',peers);this.stopPolling();this.trigger('no_longer_master');}else{this.lastHeartbeat=now;this._callLocalStorage('setItem','heartbeat',now);this._callLocalStorage('setItem','peers',cleanedPeers);}}else{peers[this._id]=now;this._callLocalStorage('setItem','peers',peers);}
var hbPeriod=this._isMasterTab?this.MASTER_TAB_HEARTBEAT_PERIOD:this.TAB_HEARTBEAT_PERIOD;if(this._lastPresenceTime+hbPeriod>now){this._callLocalStorage('setItem','lastPresence',this._lastPresenceTime);}
this._heartbeatTimeout=setTimeout(this._heartbeat.bind(this),hbPeriod);},_registerWindowUnload:function(){$(window).on('unload.'+this._id,this._onUnload.bind(this));},_startElection:function(){if(this._isMasterTab){return;}
var now=new Date().getTime();var peers=this._callLocalStorage('getItem','peers',{});var heartbeatKillOld=now-this.HEARTBEAT_KILL_OLD_PERIOD;var newMaster;for(var peerName in peers){if(peers[peerName]<heartbeatKillOld){continue;}
newMaster=peerName;break;}
if(newMaster===this._id){this.lastHeartbeat=now;this._callLocalStorage('setItem','heartbeat',this.lastHeartbeat);this._callLocalStorage('setItem','master',true);this._isMasterTab=true;this.startPolling();this.trigger('become_master');delete peers[newMaster];this._callLocalStorage('setItem','peers',peers);}},_onFocusChange:function(params){this._super.apply(this,arguments);this._callLocalStorage('setItem','focus',params.focus);},_onPoll:function(notifications){var notifs=this._super(notifications);if(this._isMasterTab&&notifs.length){this._callLocalStorage('setItem','last',this._lastNotificationID);this._callLocalStorage('setItem','last_ts',new Date().getTime());this._callLocalStorage('setItem','notification',notifs);}},_onStorage:function(e){var value=JSON.parse(e.newValue);var key=e.key;if(this._isRegistered&&key===this._generateKey('master')&&!value){this._startElection();}
if(key===this._generateKey('last')){this._lastNotificationID=value||0;}
else if(key===this._generateKey('notification')){if(!this._isMasterTab){this.trigger("notification",value);}}
else if(key===this._generateKey('channels')){var channels=value;_.each(_.difference(this._channels,channels),this.deleteChannel.bind(this));_.each(_.difference(channels,this._channels),this.addChannel.bind(this));}
else if(key===this._generateKey('options')){this._options=value;}
else if(key===this._generateKey('focus')){this._isOdooFocused=value;this.trigger('window_focus',this._isOdooFocused);}},_onUnload:function(){var peers=this._callLocalStorage('getItem','peers')||{};delete peers[this._id];this._callLocalStorage('setItem','peers',peers);if(this._isMasterTab){this._callLocalStorage('removeItem','master');}},});return CrossTabBus;});;

/* /bus/static/src/js/services/bus_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('bus.BusService',function(require){"use strict";var CrossTab=require('bus.CrossTab');var core=require('web.core');var ServicesMixin=require('web.ServicesMixin');const session=require('web.session');var BusService=CrossTab.extend(ServicesMixin,{dependencies:['local_storage'],_audio:null,init:function(env){this.env=env;this._super();},_trigger_up:function(ev){if(ev.name==='call_service'){const payload=ev.data;let args=payload.args||[];if(payload.service==='ajax'&&payload.method==='rpc'){args=args.concat(ev.target);}
const service=this.env.services[payload.service];const result=service[payload.method].apply(service,args);payload.callback(result);}},start:function(){},sendNotification:function(title,content,callback){if(window.Notification&&Notification.permission==="granted"){if(this.isMasterTab()){try{this._sendNativeNotification(title,content,callback);}catch(error){if(error.message.indexOf('ServiceWorkerRegistration')>-1){this.do_notify(title,content);this._beep();}else{throw error;}}}}else{this.do_notify(title,content);if(this.isMasterTab()){this._beep();}}},onNotification:function(){this.on.apply(this,["notification"].concat(Array.prototype.slice.call(arguments)));},_beep:function(){if(typeof(Audio)!=="undefined"){if(!this._audio){this._audio=new Audio();var ext=this._audio.canPlayType("audio/ogg; codecs=vorbis")?".ogg":".mp3";this._audio.src=session.url("/mail/static/src/audio/ting"+ext);}
Promise.resolve(this._audio.play()).catch(_.noop);}},_sendNativeNotification:function(title,content,callback){var notification=new Notification(_.unescape(title),{body:_.unescape(content),icon:"/mail/static/src/img/odoobot_transparent.png"});notification.onclick=function(){window.focus();if(this.cancel){this.cancel();}else if(this.close){this.close();}
if(callback){callback();}};},});core.serviceRegistry.add('bus_service',BusService);return BusService;});;

/* /google_recaptcha/static/src/js/recaptcha.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('google_recaptcha.ReCaptchaV3',function(require){"use strict";const ajax=require('web.ajax');const Class=require('web.Class');const core=require('web.core');const _t=core._t;const ReCaptcha=Class.extend({init:function(){this._publicKey=odoo.reCaptchaPublicKey;},loadLibs:function(){if(this._publicKey){this._recaptchaReady=ajax.loadJS(`https://www.recaptcha.net/recaptcha/api.js?render=${this._publicKey}`).then(()=>new Promise(resolve=>window.grecaptcha.ready(()=>resolve())));return this._recaptchaReady.then(()=>!!document.querySelector('.grecaptcha-badge'));}
return false;},getToken:async function(action){if(!this._publicKey){return{message:_t("No recaptcha public key set."),};}
await this._recaptchaReady;try{return{token:await window.grecaptcha.execute(this._publicKey,{action:action})};}catch(e){return{error:_t("The recaptcha public key is invalid."),};}},});return{ReCaptcha:ReCaptcha,};});;

/* /web_unsplash/static/src/js/unsplash_beacon.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_unsplash.beacon',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.UnsplashBeacon=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(){var unsplashImages=_.map(this.$('img[src*="/unsplash/"]'),function(img){return img.src.split('/unsplash/')[1].split('/')[0];});if(unsplashImages.length){this._rpc({route:'/web_unsplash/get_app_id',}).then(function(appID){if(!appID){return;}
$.get('https://views.unsplash.com/v',{'photo_id':unsplashImages.join(','),'app_id':appID,});});}
return this._super.apply(this,arguments);},});});;

/* /auth_signup/static/src/js/signup.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('auth_signup.signup',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.SignUpForm=publicWidget.Widget.extend({selector:'.oe_signup_form',events:{'submit':'_onSubmit',},_onSubmit:function(){var $btn=this.$('.oe_login_buttons > button[type="submit"]');$btn.attr('disabled','disabled');$btn.prepend('<i class="fa fa-refresh fa-spin"/> ');},});});;

/* /account/static/src/js/account_portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('account.AccountPortalSidebar',function(require){'use strict';const dom=require('web.dom');var publicWidget=require('web.public.widget');var PortalSidebar=require('portal.PortalSidebar');var utils=require('web.utils');publicWidget.registry.AccountPortalSidebar=PortalSidebar.extend({selector:'.o_portal_invoice_sidebar',events:{'click .o_portal_invoice_print':'_onPrintInvoice',},start:function(){var def=this._super.apply(this,arguments);var $invoiceHtml=this.$el.find('iframe#invoice_html');var updateIframeSize=this._updateIframeSize.bind(this,$invoiceHtml);$(window).on('resize',updateIframeSize);var iframeDoc=$invoiceHtml[0].contentDocument||$invoiceHtml[0].contentWindow.document;if(iframeDoc.readyState==='complete'){updateIframeSize();}else{$invoiceHtml.on('load',updateIframeSize);}
return def;},_updateIframeSize:function($el){var $wrapwrap=$el.contents().find('div#wrapwrap');$el.height(0);$el.height($wrapwrap[0].scrollHeight);if(!utils.isValidAnchor(window.location.hash)){return;}
var $target=$(window.location.hash);if(!$target.length){return;}
dom.scrollTo($target[0],{duration:0});},_onPrintInvoice:function(ev){ev.preventDefault();var href=$(ev.currentTarget).attr('href');this._printIframeContent(href);},});});;

/* /payment/static/lib/jquery.payment/jquery.payment.js defined in bundle 'web.assets_frontend_lazy' */
(function(){var $,cardFromNumber,cardFromType,cards,defaultFormat,formatBackCardNumber,formatBackExpiry,formatCardNumber,formatExpiry,formatForwardExpiry,formatForwardSlashAndSpace,hasTextSelected,luhnCheck,reFormatCVC,reFormatCardNumber,reFormatExpiry,reFormatNumeric,replaceFullWidthChars,restrictCVC,restrictCardNumber,restrictExpiry,restrictNumeric,safeVal,setCardType,__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i;}return-1;};$=window.jQuery||window.Zepto||window.$;$.payment={};$.payment.fn={};$.fn.payment=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return $.payment.fn[method].apply(this,args);};defaultFormat=/(\d{1,4})/g;$.payment.cards=cards=[{type:'maestro',patterns:[5018,502,503,506,56,58,639,6220,67],format:defaultFormat,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:true},{type:'forbrugsforeningen',patterns:[600],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'dankort',patterns:[5019],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'visa',patterns:[4],format:defaultFormat,length:[13,16],cvcLength:[3],luhn:true},{type:'mastercard',patterns:[51,52,53,54,55,22,23,24,25,26,27],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'amex',patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:true},{type:'dinersclub',patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:true},{type:'discover',patterns:[60,64,65,622],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'unionpay',patterns:[62,88],format:defaultFormat,length:[16,17,18,19],cvcLength:[3],luhn:false},{type:'jcb',patterns:[35],format:defaultFormat,length:[16],cvcLength:[3],luhn:true}];cardFromNumber=function(num){var card,p,pattern,_i,_j,_len,_len1,_ref;num=(num+'').replace(/\D/g,'');for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_ref=card.patterns;for(_j=0,_len1=_ref.length;_j<_len1;_j++){pattern=_ref[_j];p=pattern+'';if(num.substr(0,p.length)===p){return card;}}}};cardFromType=function(type){var card,_i,_len;for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];if(card.type===type){return card;}}};luhnCheck=function(num){var digit,digits,odd,sum,_i,_len;odd=true;sum=0;digits=(num+'').split('').reverse();for(_i=0,_len=digits.length;_i<_len;_i++){digit=digits[_i];digit=parseInt(digit,10);if((odd=!odd)){digit*=2;}
if(digit>9){digit-=9;}
sum+=digit;}
return sum%10===0;};hasTextSelected=function($target){var _ref;if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==$target.prop('selectionEnd')){return true;}
if((typeof document!=="undefined"&&document!==null?(_ref=document.selection)!=null?_ref.createRange:void 0:void 0)!=null){if(document.selection.createRange().text){return true;}}
return false;};safeVal=function(value,$target){var currPair,cursor,digit,error,last,prevPair;try{cursor=$target.prop('selectionStart');}catch(_error){error=_error;cursor=null;}
last=$target.val();$target.val(value);if(cursor!==null&&$target.is(":focus")){if(cursor===last.length){cursor=value.length;}
if(last!==value){prevPair=last.slice(cursor-1,+cursor+1||9e9);currPair=value.slice(cursor-1,+cursor+1||9e9);digit=value[cursor];if(/\d/.test(digit)&&prevPair===(""+digit+" ")&&currPair===(" "+digit)){cursor=cursor+1;}}
$target.prop('selectionStart',cursor);return $target.prop('selectionEnd',cursor);}};replaceFullWidthChars=function(str){var chars,chr,fullWidth,halfWidth,idx,value,_i,_len;if(str==null){str='';}
fullWidth='\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19';halfWidth='0123456789';value='';chars=str.split('');for(_i=0,_len=chars.length;_i<_len;_i++){chr=chars[_i];idx=fullWidth.indexOf(chr);if(idx>-1){chr=halfWidth[idx];}
value+=chr;}
return value;};reFormatNumeric=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'');return safeVal(value,$target);});};reFormatCardNumber=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatCardNumber(value);return safeVal(value,$target);});};formatCardNumber=function(e){var $target,card,digit,length,re,upperLength,value;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);value=$target.val();card=cardFromNumber(value+digit);length=(value.replace(/\D/g,'')+digit).length;upperLength=16;if(card){upperLength=card.length[card.length.length-1];}
if(length>=upperLength){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(card&&card.type==='amex'){re=/^(\d{4}|\d{4}\s\d{6})$/;}else{re=/(?:^|\s)(\d{4})$/;}
if(re.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value+' '+digit);});}else if(re.test(value+digit)){e.preventDefault();return setTimeout(function(){return $target.val(value+digit+' ');});}};formatBackCardNumber=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(/\d\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s$/,''));});}else if(/\s\d?$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d$/,''));});}};reFormatExpiry=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatExpiry(value);return safeVal(value,$target);});};formatExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);val=$target.val()+digit;if(/^\d$/.test(val)&&(val!=='0'&&val!=='1')){e.preventDefault();return setTimeout(function(){return $target.val("0"+val+" / ");});}else if(/^\d\d$/.test(val)){e.preventDefault();return setTimeout(function(){var m1,m2;m1=parseInt(val[0],10);m2=parseInt(val[1],10);if(m2>2&&m1!==0){return $target.val("0"+m1+" / "+m2);}else{return $target.val(""+val+" / ");}});}};formatForwardExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);val=$target.val();if(/^\d\d$/.test(val)){return $target.val(""+val+" / ");}};formatForwardSlashAndSpace=function(e){var $target,val,which;which=String.fromCharCode(e.which);if(!(which==='/'||which===' ')){return;}
$target=$(e.currentTarget);val=$target.val();if(/^\d$/.test(val)&&val!=='0'){return $target.val("0"+val+" / ");}};formatBackExpiry=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(/\d\s\/\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s\/\s$/,''));});}};reFormatCVC=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'').slice(0,4);return safeVal(value,$target);});};restrictNumeric=function(e){var input;if(e.metaKey||e.ctrlKey){return true;}
if(e.which===32){return false;}
if(e.which===0){return true;}
if(e.which<33){return true;}
input=String.fromCharCode(e.which);return!!/[\d\s]/.test(input);};restrictCardNumber=function(e){var $target,card,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
value=($target.val()+digit).replace(/\D/g,'');card=cardFromNumber(value);if(card){return value.length<=card.length[card.length.length-1];}else{return value.length<=16;}};restrictExpiry=function(e){var $target,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
value=$target.val()+digit;value=value.replace(/\D/g,'');if(value.length>6){return false;}};restrictCVC=function(e){var $target,digit,val;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
val=$target.val()+digit;return val.length<=4;};setCardType=function(e){var $target,allTypes,card,cardType,val;$target=$(e.currentTarget);val=$target.val();cardType=$.payment.cardType(val)||'unknown';if(!$target.hasClass(cardType)){allTypes=(function(){var _i,_len,_results;_results=[];for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_results.push(card.type);}
return _results;})();$target.removeClass('unknown');$target.removeClass(allTypes.join(' '));$target.addClass(cardType);$target.toggleClass('identified',cardType!=='unknown');return $target.trigger('payment.cardType',cardType);}};$.payment.fn.formatCardCVC=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCVC);this.on('paste',reFormatCVC);this.on('change',reFormatCVC);this.on('input',reFormatCVC);return this;};$.payment.fn.formatCardExpiry=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictExpiry);this.on('keypress',formatExpiry);this.on('keypress',formatForwardSlashAndSpace);this.on('keypress',formatForwardExpiry);this.on('keydown',formatBackExpiry);this.on('change',reFormatExpiry);this.on('input',reFormatExpiry);return this;};$.payment.fn.formatCardNumber=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCardNumber);this.on('keypress',formatCardNumber);this.on('keydown',formatBackCardNumber);this.on('keyup',setCardType);this.on('paste',reFormatCardNumber);this.on('change',reFormatCardNumber);this.on('input',reFormatCardNumber);this.on('input',setCardType);return this;};$.payment.fn.restrictNumeric=function(){this.on('keypress',restrictNumeric);this.on('paste',reFormatNumeric);this.on('change',reFormatNumeric);this.on('input',reFormatNumeric);return this;};$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val());};$.payment.cardExpiryVal=function(value){var month,prefix,year,_ref;_ref=value.split(/[\s\/]+/,2),month=_ref[0],year=_ref[1];if((year!=null?year.length:void 0)===2&&/^\d+$/.test(year)){prefix=(new Date).getFullYear();prefix=prefix.toString().slice(0,2);year=prefix+year;}
month=parseInt(month,10);year=parseInt(year,10);return{month:month,year:year};};$.payment.validateCardNumber=function(num){var card,_ref;num=(num+'').replace(/\s+|-/g,'');if(!/^\d+$/.test(num)){return false;}
card=cardFromNumber(num);if(!card){return false;}
return(_ref=num.length,__indexOf.call(card.length,_ref)>=0)&&(card.luhn===false||luhnCheck(num));};$.payment.validateCardExpiry=function(month,year){var currentTime,expiry,_ref;if(typeof month==='object'&&'month'in month){_ref=month,month=_ref.month,year=_ref.year;}
if(!(month&&year)){return false;}
month=$.trim(month);year=$.trim(year);if(!/^\d+$/.test(month)){return false;}
if(!/^\d+$/.test(year)){return false;}
if(!((1<=month&&month<=12))){return false;}
if(year.length===2){if(year<70){year="20"+year;}else{year="19"+year;}}
if(year.length!==4){return false;}
expiry=new Date(year,month);currentTime=new Date;expiry.setMonth(expiry.getMonth()-1);expiry.setMonth(expiry.getMonth()+1,1);return expiry>currentTime;};$.payment.validateCardCVC=function(cvc,type){var card,_ref;cvc=$.trim(cvc);if(!/^\d+$/.test(cvc)){return false;}
card=cardFromType(type);if(card!=null){return _ref=cvc.length,__indexOf.call(card.cvcLength,_ref)>=0;}else{return cvc.length>=3&&cvc.length<=4;}};$.payment.cardType=function(num){var _ref;if(!num){return null;}
return((_ref=cardFromNumber(num))!=null?_ref.type:void 0)||null;};$.payment.formatCardNumber=function(num){var card,groups,upperLength,_ref;num=num.replace(/\D/g,'');card=cardFromNumber(num);if(!card){return num;}
upperLength=card.length[card.length.length-1];num=num.slice(0,upperLength);if(card.format.global){return(_ref=num.match(card.format))!=null?_ref.join(' '):void 0;}else{groups=card.format.exec(num);if(groups==null){return;}
groups.shift();groups=$.grep(groups,function(n){return n;});return groups.join(' ');}};$.payment.formatExpiry=function(expiry){var mon,parts,sep,year;parts=expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);if(!parts){return'';}
mon=parts[1]||'';sep=parts[2]||'';year=parts[3]||'';if(year.length>0){sep=' / ';}else if(sep===' /'){mon=mon.substring(0,1);sep='';}else if(mon.length===2||sep.length>0){sep=' / ';}else if(mon.length===1&&(mon!=='0'&&mon!=='1')){mon="0"+mon;sep=' / ';}
return mon+sep+year;};}).call(this);;

/* /payment/static/src/js/payment_portal.js defined in bundle 'web.assets_frontend_lazy' */
$(function(){$('input#cc_number').payment('formatCardNumber');$('input#cc_cvc').payment('formatCardCVC');$('input#cc_expiry').payment('formatCardExpiry')
$('input#cc_number').on('focusout',function(e){var valid_value=$.payment.validateCardNumber(this.value);var card_type=$.payment.cardType(this.value);if(card_type){$(this).parent('.form-group').children('.card_placeholder').removeClass().addClass('card_placeholder '+card_type);$(this).parent('.form-group').children('input[name="cc_brand"]').val(card_type)}
else{$(this).parent('.form-group').children('.card_placeholder').removeClass().addClass('card_placeholder');}
if(valid_value){$(this).parent('.form-group').addClass('o_has_success').find('.form-control, .custom-select').addClass('is-valid');$(this).parent('.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(this).siblings('.o_invalid_field').remove();}
else{$(this).parent('.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(this).parent('.form-group').removeClass('o_has_success').find('.form-control, .custom-select').removeClass('is-valid');}});$('input#cc_cvc').on('focusout',function(e){var cc_nbr=$(this).parents('.oe_cc').find('#cc_number').val();var card_type=$.payment.cardType(cc_nbr);var valid_value=$.payment.validateCardCVC(this.value,card_type);if(valid_value){$(this).parent('.form-group').addClass('o_has_success').find('.form-control, .custom-select').addClass('is-valid');$(this).parent('.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(this).siblings('.o_invalid_field').remove();}
else{$(this).parent('.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(this).parent('.form-group').removeClass('o_has_success').find('.form-control, .custom-select').removeClass('is-valid');}});$('input#cc_expiry').on('focusout',function(e){var expiry_value=$.payment.cardExpiryVal(this.value);var month=expiry_value.month||'';var year=expiry_value.year||'';var valid_value=$.payment.validateCardExpiry(month,year);if(valid_value){$(this).parent('.form-group').addClass('o_has_success').find('.form-control, .custom-select').addClass('is-valid');$(this).parent('.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(this).siblings('.o_invalid_field').remove();}
else{$(this).parent('.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(this).parent('.form-group').removeClass('o_has_success').find('.form-control, .custom-select').removeClass('is-valid');}});$('select[name="pm_acquirer_id"]').on('change',function(){var acquirer_id=$(this).val();$('.acquirer').addClass('d-none');$('.acquirer[data-acquirer-id="'+acquirer_id+'"]').removeClass('d-none');});});;

/* /payment/static/src/js/payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.payment_form',function(require){"use strict";var core=require('web.core');var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.PaymentForm=publicWidget.Widget.extend({selector:'.o_payment_form',events:{'submit':'onSubmit','click #o_payment_form_pay':'payEvent','click #o_payment_form_add_pm':'addPmEvent','click button[name="delete_pm"]':'deletePmEvent','click .o_payment_form_pay_icon_more':'onClickMorePaymentIcon','click .o_payment_acquirer_select':'radioClickEvent',},start:function(){this._adaptPayButton();var self=this;return this._super.apply(this,arguments).then(function(){self.options=_.extend(self.$el.data(),self.options);self.updateNewPaymentDisplayStatus();$('[data-toggle="tooltip"]').tooltip();});},displayError:function(title,message){var $checkedRadio=this.$('input[type="radio"]:checked'),acquirerID=this.getAcquirerIdFromRadio($checkedRadio[0]);var $acquirerForm;if(this.isNewPaymentRadio($checkedRadio[0])){$acquirerForm=this.$('#o_payment_add_token_acq_'+acquirerID);}
else if(this.isFormPaymentRadio($checkedRadio[0])){$acquirerForm=this.$('#o_payment_form_acq_'+acquirerID);}
if($checkedRadio.length===0){return new Dialog(null,{title:_t('Error: ')+_.str.escapeHTML(title),size:'medium',$content:"<p>"+(_.str.escapeHTML(message)||"")+"</p>",buttons:[{text:_t('Ok'),close:true}]}).open();}else{this.$('#payment_error').remove();var messageResult='<div class="alert alert-danger mb4" id="payment_error">';if(title!=''){messageResult=messageResult+'<b>'+_.str.escapeHTML(title)+':</b></br>';}
messageResult=messageResult+_.str.escapeHTML(message)+'</div>';$acquirerForm.append(messageResult);}},hideError:function(){this.$('#payment_error').remove();},getAcquirerIdFromRadio:function(element){return $(element).data('acquirer-id');},getFormData:function($form){var unindexed_array=$form.serializeArray();var indexed_array={};$.map(unindexed_array,function(n,i){indexed_array[n.name]=n.value;});return indexed_array;},isFormPaymentRadio:function(element){return $(element).data('form-payment')==='True';},isNewPaymentRadio:function(element){return $(element).data('s2s-payment')==='True';},updateNewPaymentDisplayStatus:function(){var checked_radio=this.$('input[type="radio"]:checked');this.$('[id*="o_payment_add_token_acq_"]').addClass('d-none');this.$('[id*="o_payment_form_acq_"]').addClass('d-none');if(checked_radio.length!==1){return;}
checked_radio=checked_radio[0];var acquirer_id=this.getAcquirerIdFromRadio(checked_radio);if(this.isNewPaymentRadio(checked_radio)){this.$('#o_payment_add_token_acq_'+acquirer_id).removeClass('d-none');}
else if(this.isFormPaymentRadio(checked_radio)){this.$('#o_payment_form_acq_'+acquirer_id).removeClass('d-none');}},disableButton:function(button){$(button).attr('disabled',true);$(button).children('.fa-lock').removeClass('fa-lock');$(button).prepend('<span class="o_loader"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span>');},enableButton:function(button){$(button).attr('disabled',false);$(button).children('.fa').addClass('fa-lock');$(button).find('span.o_loader').remove();},_parseError:function(e){if(e.message.data.arguments[1]){return e.message.data.arguments[0]+e.message.data.arguments[1];}
return e.message.data.arguments[0];},_adaptPayButton:function(){var $payButton=$("#o_payment_form_pay");var disabledReasons=$payButton.data('disabled_reasons')||{};$payButton.prop('disabled',_.contains(disabledReasons,true));},payEvent:function(ev){ev.preventDefault();var form=this.el;var checked_radio=this.$('input[type="radio"]:checked');var self=this;if(ev.type==='submit'){var button=$(ev.target).find('*[type="submit"]')[0]}else{var button=ev.target;}
if(checked_radio.length===1){checked_radio=checked_radio[0];var acquirer_id=this.getAcquirerIdFromRadio(checked_radio);var acquirer_form=false;if(this.isNewPaymentRadio(checked_radio)){acquirer_form=this.$('#o_payment_add_token_acq_'+acquirer_id);}else{acquirer_form=this.$('#o_payment_form_acq_'+acquirer_id);}
var inputs_form=$('input',acquirer_form);var ds=$('input[name="data_set"]',acquirer_form)[0];if(this.isNewPaymentRadio(checked_radio)){if(this.options.partnerId===undefined){console.warn('payment_form: unset partner_id when adding new token; things could go wrong');}
var form_data=this.getFormData(inputs_form);var wrong_input=false;inputs_form.toArray().forEach(function(element){if($(element).attr('type')=='hidden'){return true;}
$(element).closest('div.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(element).siblings(".o_invalid_field").remove();$(element).trigger("focusout");if(element.dataset.isRequired&&element.value.length===0){$(element).closest('div.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(element).closest('div.form-group').append('<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>');wrong_input=true;}
else if($(element).closest('div.form-group').hasClass('o_has_error')){wrong_input=true;$(element).closest('div.form-group').append('<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>');}});if(wrong_input){return;}
this.disableButton(button);return this._rpc({route:ds.dataset.createRoute,params:form_data,}).then(function(data){if(data.result){if(data['3d_secure']!==false){$("body").html(data['3d_secure']);}
else{checked_radio.value=data.id;form.submit();return new Promise(function(){});}}
else{if(data.error){self.displayError('',data.error);}else{self.displayError(_t('Server Error'),_t('e.g. Your credit card details are wrong. Please verify.'));}}
self.enableButton(button);}).guardedCatch(function(error){error.event.preventDefault();self.enableButton(button);self.displayError(_t('Server Error'),_t("We are not able to add your payment method at the moment.")+
self._parseError(error));});}
else if(this.isFormPaymentRadio(checked_radio)){this.disableButton(button);var $tx_url=this.$el.find('input[name="prepare_tx_url"]');if($tx_url.length===1){var form_save_token=acquirer_form.find('input[name="o_payment_form_save_token"]').prop('checked');return this._rpc({route:$tx_url[0].value,params:{'acquirer_id':parseInt(acquirer_id),'save_token':form_save_token,'access_token':self.options.accessToken,'success_url':self.options.successUrl,'error_url':self.options.errorUrl,'callback_method':self.options.callbackMethod,'order_id':self.options.orderId,},}).then(function(result){if(result){var newForm=document.createElement('form');newForm.setAttribute("method","post");newForm.setAttribute("provider",checked_radio.dataset.provider);newForm.hidden=true;newForm.innerHTML=result;var action_url=$(newForm).find('input[name="data_set"]').data('actionUrl');newForm.setAttribute("action",action_url);$(document.getElementsByTagName('body')[0]).append(newForm);$(newForm).find('input[data-remove-me]').remove();if(action_url){newForm.submit();return new Promise(function(){});}}
else{self.displayError(_t('Server Error'),_t("We are not able to redirect you to the payment form."));self.enableButton(button);}}).guardedCatch(function(error){error.event.preventDefault();self.displayError(_t('Server Error'),_t("We are not able to redirect you to the payment form.")+" "+
self._parseError(error));});}
else{this.displayError(_t("Cannot setup the payment"),_t("We're unable to process your payment."));self.enableButton(button);}}
else{this.disableButton(button);form.submit();return new Promise(function(){});}}
else{this.displayError(_t('No payment method selected'),_t('Please select a payment method.'));this.enableButton(button);}},addPmEvent:function(ev){ev.stopPropagation();ev.preventDefault();var checked_radio=this.$('input[type="radio"]:checked');var self=this;if(ev.type==='submit'){var button=$(ev.target).find('*[type="submit"]')[0]}else{var button=ev.target;}
if(checked_radio.length===1&&this.isNewPaymentRadio(checked_radio[0])){checked_radio=checked_radio[0];var acquirer_id=this.getAcquirerIdFromRadio(checked_radio);var acquirer_form=this.$('#o_payment_add_token_acq_'+acquirer_id);var inputs_form=$('input',acquirer_form);var form_data=this.getFormData(inputs_form);var ds=$('input[name="data_set"]',acquirer_form)[0];var wrong_input=false;inputs_form.toArray().forEach(function(element){if($(element).attr('type')=='hidden'){return true;}
$(element).closest('div.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(element).siblings(".o_invalid_field").remove();$(element).trigger("focusout");if(element.dataset.isRequired&&element.value.length===0){$(element).closest('div.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');var message='<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>';$(element).closest('div.form-group').append(message);wrong_input=true;}
else if($(element).closest('div.form-group').hasClass('o_has_error')){wrong_input=true;var message='<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>';$(element).closest('div.form-group').append(message);}});if(wrong_input){return;}
$(button).attr('disabled',true);$(button).children('.fa-plus-circle').removeClass('fa-plus-circle');$(button).prepend('<span class="o_loader"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span>');this._rpc({route:ds.dataset.createRoute,params:form_data,}).then(function(data){if(data.result){if(data['3d_secure']!==false){$("body").html(data['3d_secure']);}
else{if(form_data.return_url){window.location=form_data.return_url;}
else{window.location.reload();}}}
else{if(data.error){self.displayError('',data.error);}else{self.displayError(_t('Server Error'),_t('e.g. Your credit card details are wrong. Please verify.'));}}
$(button).attr('disabled',false);$(button).children('.fa').addClass('fa-plus-circle');$(button).find('span.o_loader').remove();}).guardedCatch(function(error){error.event.preventDefault();$(button).attr('disabled',false);$(button).children('.fa').addClass('fa-plus-circle');$(button).find('span.o_loader').remove();self.displayError(_t('Server error'),_t("We are not able to add your payment method at the moment.</p>")+
self._parseError(error));});}
else{this.displayError(_t('No payment method selected'),_t('Please select the option to add a new payment method.'));}},onSubmit:function(ev){ev.stopPropagation();ev.preventDefault();var button=$(ev.target).find('*[type="submit"]')[0]
if(button.id==='o_payment_form_pay'){return this.payEvent(ev);}else if(button.id==='o_payment_form_add_pm'){return this.addPmEvent(ev);}
return;},deletePmEvent:function(ev){ev.stopPropagation();ev.preventDefault();var self=this;var pm_id=parseInt(ev.target.value);var tokenDelete=function(){self._rpc({model:'payment.token',method:'unlink',args:[pm_id],}).then(function(result){if(result===true){ev.target.closest('div').remove();}},function(){self.displayError(_t('Server Error'),_t("We are not able to delete your payment method at the moment."));});};this._rpc({model:'payment.token',method:'get_linked_records',args:[pm_id],}).then(function(result){if(result[pm_id].length>0){var content='';result[pm_id].forEach(function(sub){content+='<p><a href="'+sub.url+'" title="'+sub.description+'">'+sub.name+'</a><p/>';});content=$('<div>').html(_t('<p>This card is currently linked to the following records:<p/>')+content);new Dialog(self,{title:_t('Warning!'),size:'medium',$content:content,buttons:[{text:_t('Confirm Deletion'),classes:'btn-primary',close:true,click:tokenDelete},{text:_t('Cancel'),close:true}]}).open();}
else{tokenDelete();}},function(err,event){self.displayError(_t('Server Error'),_t("We are not able to delete your payment method at the moment.")+err.data.message);});},onClickMorePaymentIcon:function(ev){ev.preventDefault();ev.stopPropagation();var $listItems=$(ev.currentTarget).parents('ul').children('li');var $moreItem=$(ev.currentTarget).parents('li');$listItems.removeClass('d-none');$moreItem.addClass('d-none');},radioClickEvent:function(ev){$(ev.currentTarget).find('input[type="radio"]').prop("checked",true);this.updateNewPaymentDisplayStatus();},});return publicWidget.registry.PaymentForm;});;

/* /payment/static/src/js/payment_processing.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.processing',function(require){'use strict';var publicWidget=require('web.public.widget');var ajax=require('web.ajax');var core=require('web.core');var _t=core._t;$.blockUI.defaults.css.border='0';$.blockUI.defaults.css["background-color"]='';$.blockUI.defaults.overlayCSS["opacity"]='0.9';publicWidget.registry.PaymentProcessing=publicWidget.Widget.extend({selector:'.o_payment_processing',xmlDependencies:['/payment/static/src/xml/payment_processing.xml'],_pollCount:0,start:function(){this.displayLoading();this.poll();return this._super.apply(this,arguments);},startPolling:function(){var timeout=3000;if(this._pollCount>=10&&this._pollCount<20){timeout=10000;}
else if(this._pollCount>=20){timeout=30000;}
setTimeout(this.poll.bind(this),timeout);this._pollCount++;},poll:function(){var self=this;ajax.jsonRpc('/payment/process/poll','call',{}).then(function(data){if(data.success===true){self.processPolledData(data.transactions);}
else{switch(data.error){case"tx_process_retry":break;case"no_tx_found":self.displayContent("payment.no_tx_found",{});break;default:self.displayContent("payment.exception",{exception_msg:data.error});break;}}
self.startPolling();}).guardedCatch(function(){self.displayContent("payment.rpc_error",{});self.startPolling();});},processPolledData:function(transactions){var render_values={'tx_draft':[],'tx_pending':[],'tx_authorized':[],'tx_done':[],'tx_cancel':[],'tx_error':[],};if(transactions.length>0&&['transfer','sepa_direct_debit'].indexOf(transactions[0].acquirer_provider)>=0){window.location=transactions[0].return_url;return;}
transactions.forEach(function(tx){var key='tx_'+tx.state;if(key in render_values){render_values[key].push(tx);}});function countTxInState(states){var nbTx=0;for(var prop in render_values){if(states.indexOf(prop)>-1&&render_values.hasOwnProperty(prop)){nbTx+=render_values[prop].length;}}
return nbTx;}
if(countTxInState(['tx_done','tx_error','tx_pending','tx_authorized'])===1){var tx=render_values['tx_done'][0]||render_values['tx_authorized'][0]||render_values['tx_error'][0];if(tx){window.location=tx.return_url;return;}}
this.displayContent("payment.display_tx_list",render_values);},displayContent:function(xmlid,render_values){var html=core.qweb.render(xmlid,render_values);$.unblockUI();this.$el.find('.o_payment_processing_content').html(html);},displayLoading:function(){var msg=_t("We are processing your payment, please wait ...");$.blockUI({'message':'<h2 class="text-white"><img src="/web/static/src/img/spin.png" class="fa-pulse"/>'+'    <br />'+msg+'</h2>'});},});});;

/* /purchase/static/src/js/purchase_datetimepicker.js defined in bundle 'web.assets_frontend_lazy' */
$(function(){$('input.o-purchase-datetimepicker').datetimepicker();$('input.o-purchase-datetimepicker').on("hide.datetimepicker",function(){$(this).parents('form').submit();});});

/* /sale/static/src/js/sale_portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale.SalePortalSidebar',function(require){'use strict';var publicWidget=require('web.public.widget');var PortalSidebar=require('portal.PortalSidebar');publicWidget.registry.SalePortalSidebar=PortalSidebar.extend({selector:'.o_portal_sale_sidebar',init:function(parent,options){this._super.apply(this,arguments);this.authorizedTextTag=['em','b','i','u'];this.spyWatched=$('body[data-target=".navspy"]');},start:function(){var def=this._super.apply(this,arguments);var $spyWatcheElement=this.$el.find('[data-id="portal_sidebar"]');this._setElementId($spyWatcheElement);this._generateMenu();if($.bbq.getState('allow_payment')==='yes'&&this.$('#o_sale_portal_paynow').length){this.$('#o_sale_portal_paynow').trigger('click');$.bbq.removeState('allow_payment');}
return def;},_setElementId:function(prefix,$el){var id=_.uniqueId(prefix);this.spyWatched.find($el).attr('id',id);return id;},_generateMenu:function(){var self=this,lastLI=false,lastUL=null,$bsSidenav=this.$el.find('.bs-sidenav');$("#quote_content [id^=quote_header_], #quote_content [id^=quote_]",this.spyWatched).attr("id","");_.each(this.spyWatched.find("#quote_content h2, #quote_content h3"),function(el){var id,text;switch(el.tagName.toLowerCase()){case"h2":id=self._setElementId('quote_header_',el);text=self._extractText($(el));if(!text){break;}
lastLI=$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo($bsSidenav);lastUL=false;break;case"h3":id=self._setElementId('quote_',el);text=self._extractText($(el));if(!text){break;}
if(lastLI){if(!lastUL){lastUL=$("<ul class='nav flex-column'>").appendTo(lastLI);}
$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo(lastUL);}
break;}
el.setAttribute('data-anchor',true);});this.trigger_up('widgets_start_request',{$target:$bsSidenav});},_extractText:function($node){var self=this;var rawText=[];_.each($node.contents(),function(el){var current=$(el);if($.trim(current.text())){var tagName=current.prop("tagName");if(_.isUndefined(tagName)||(!_.isUndefined(tagName)&&_.contains(self.authorizedTextTag,tagName.toLowerCase()))){rawText.push($.trim(current.text()));}}});return rawText.join(' ');},});});;

/* /sale_management/static/src/js/sale_management.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale_management.sale_management',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.SaleUpdateLineButton=publicWidget.Widget.extend({selector:'.o_portal_sale_sidebar',events:{'click a.js_update_line_json':'_onClick','click a.js_add_optional_products':'_onClickOptionalProduct','change .js_quantity':'_onChangeQuantity'},async start(){await this._super(...arguments);this.orderDetail=this.$el.find('table#sales_order_table').data();this.elems=this._getUpdatableElements();},_onChangeQuantity(ev){ev.preventDefault();let self=this,$target=$(ev.currentTarget),quantity=parseInt($target.val());this._callUpdateLineRoute(self.orderDetail.orderId,{'line_id':$target.data('lineId'),'input_quantity':quantity>=0?quantity:false,'access_token':self.orderDetail.token}).then((data)=>{self._updateOrderLineValues($target.closest('tr'),data);self._updateOrderValues(data);});},_onClick(ev){ev.preventDefault();let self=this,$target=$(ev.currentTarget);this._callUpdateLineRoute(self.orderDetail.orderId,{'line_id':$target.data('lineId'),'remove':$target.data('remove'),'unlink':$target.data('unlink'),'access_token':self.orderDetail.token}).then((data)=>{var $saleTemplate=$(data['sale_template']);if($saleTemplate.length&&data['unlink']){self.$('#portal_sale_content').html($saleTemplate);self.elems=self._getUpdatableElements();}
self._updateOrderLineValues($target.closest('tr'),data);self._updateOrderValues(data);});},_onClickOptionalProduct(ev){ev.preventDefault();let self=this,$target=$(ev.currentTarget);$target.css('pointer-events','none');this._rpc({route:"/my/orders/"+self.orderDetail.orderId+"/add_option/"+$target.data('optionId'),params:{access_token:self.orderDetail.token}}).then((data)=>{if(data){self.$('#portal_sale_content').html($(data['sale_template']));self.elems=self._getUpdatableElements();self._updateOrderValues(data);}});},_callUpdateLineRoute(order_id,params){return this._rpc({route:"/my/orders/"+order_id+"/update_line_dict",params:params,});},_updateOrderLineValues($orderLine,data){let linePriceTotal=data.order_line_price_total,linePriceSubTotal=data.order_line_price_subtotal,$linePriceTotal=$orderLine.find('.oe_order_line_price_total .oe_currency_value'),$linePriceSubTotal=$orderLine.find('.oe_order_line_price_subtotal .oe_currency_value');if(!$linePriceTotal.length&&!$linePriceSubTotal.length){$linePriceTotal=$linePriceSubTotal=$orderLine.find('.oe_currency_value').last();}
$orderLine.find('.js_quantity').val(data.order_line_product_uom_qty);if($linePriceTotal.length&&linePriceTotal!==undefined){$linePriceTotal.text(linePriceTotal);}
if($linePriceSubTotal.length&&linePriceSubTotal!==undefined){$linePriceSubTotal.text(linePriceSubTotal);}},_updateOrderValues(data){let orderAmountTotal=data.order_amount_total,orderAmountUntaxed=data.order_amount_untaxed,orderAmountUndiscounted=data.order_amount_undiscounted,$orderTotalsTable=$(data.order_totals_table);if(orderAmountUntaxed!==undefined){this.elems.$orderAmountUntaxed.text(orderAmountUntaxed);}
if(orderAmountTotal!==undefined){this.elems.$orderAmountTotal.text(orderAmountTotal);}
if(orderAmountUndiscounted!==undefined){this.elems.$orderAmountUndiscounted.text(orderAmountUndiscounted);}
if($orderTotalsTable.length){this.elems.$orderTotalsTable.find('table').replaceWith($orderTotalsTable);}},_getUpdatableElements(){let $orderAmountUntaxed=$('[data-id="total_untaxed"]').find('span, b'),$orderAmountTotal=$('[data-id="total_amount"]').find('span, b'),$orderAmountUndiscounted=$('[data-id="amount_undiscounted"]').find('span, b');if(!$orderAmountUntaxed.length){$orderAmountUntaxed=$orderAmountTotal.eq(1);$orderAmountTotal=$orderAmountTotal.eq(0).add($orderAmountTotal.eq(2));}
return{$orderAmountUntaxed:$orderAmountUntaxed,$orderAmountTotal:$orderAmountTotal,$orderTotalsTable:$('#total'),$orderAmountUndiscounted:$orderAmountUndiscounted,};}});});;

/* /project/static/src/js/portal_rating.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_rating_project.rating',function(require){'use strict';var time=require('web.time');var publicWidget=require('web.public.widget');publicWidget.registry.ProjectRatingImage=publicWidget.Widget.extend({selector:'.o_portal_project_rating .o_rating_image',start:function(){this.$el.popover({placement:'bottom',trigger:'hover',html:true,content:function(){var $elem=$(this);var id=$elem.data('id');var ratingDate=$elem.data('rating-date');var baseDate=time.auto_str_to_date(ratingDate);var duration=moment(baseDate).fromNow();var $rating=$('#rating_'+id);$rating.find('.rating_timeduration').text(duration);return $rating.html();},});return this._super.apply(this,arguments);},});});         20190327091201'
     g         d                  *                 
 / *   / w e b / s t a t i c / s r c / j s / s e r v i c e s / s e s s i o n . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b . s e s s i o n ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   S e s s i o n = r e q u i r e ( ' w e b . S e s s i o n ' ) ; v a r   m o d u l e s = o d o o . _ m o d u l e s ; v a r   s e s s i o n = n e w   S e s s i o n ( u n d e f i n e d , u n d e f i n e d , { m o d u l e s : m o d u l e s , u s e _ c o r s : f a l s e } ) ; s e s s i o n . i s _ b o u n d = s e s s i o n . s e s s i o n _ b i n d ( ) ; r e t u r n   s e s s i o n ; } ) ; ; 
 
 / *   / w e b / s t a t i c / s r c / j s / p u b l i c / p u b l i c _ e n v . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( " w e b . p u b l i c _ e n v " , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; c o n s t   c o m m o n E n v = r e q u i r e ( " w e b . c o m m o n E n v " ) ; r e t u r n   c o m m o n E n v ; } ) ; ; 
 
 / *   / w e b / s t a t i c / s r c / j s / p u b l i c / p u b l i c _ c r a s h _ m a n a g e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b . P u b l i c C r a s h M a n a g e r ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; c o n s t   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   C r a s h M a n a g e r = r e q u i r e ( ' w e b . C r a s h M a n a g e r ' ) . C r a s h M a n a g e r ; c o n s t   P u b l i c C r a s h M a n a g e r = C r a s h M a n a g e r . e x t e n d ( { _ d i s p l a y W a r n i n g ( m e s s a g e , t i t l e , o p t i o n s ) { t h i s . d i s p l a y N o t i f i c a t i o n ( O b j e c t . a s s i g n ( { } , o p t i o n s , { t i t l e , m e s s a g e , s t i c k y : t r u e , } ) ) ; } , } ) ; c o r e . s e r v i c e R e g i s t r y . a d d ( ' c r a s h _ m a n a g e r ' , P u b l i c C r a s h M a n a g e r ) ; r e t u r n { C r a s h M a n a g e r : P u b l i c C r a s h M a n a g e r , } ; } ) ; ; 
 
 / *   / w e b / s t a t i c / s r c / j s / p u b l i c / p u b l i c _ n o t i f i c a t i o n . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b . p u b l i c . N o t i f i c a t i o n ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   N o t i f i c a t i o n = r e q u i r e ( ' w e b . N o t i f i c a t i o n ' ) ; N o t i f i c a t i o n . i n c l u d e ( { x m l D e p e n d e n c i e s : [ ' / w e b / s t a t i c / s r c / x m l / n o t i f i c a t i o n . x m l ' ] , } ) ; } ) ; ; 
 
 / *   / w e b / s t a t i c / s r c / j s / p u b l i c / p u b l i c _ r o o t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b . p u b l i c . r o o t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; v a r   d o m = r e q u i r e ( ' w e b . d o m ' ) ; c o n s t   e n v = r e q u i r e ( ' w e b . p u b l i c _ e n v ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   p u b l i c R o o t R e g i s t r y = n e w   p u b l i c W i d g e t . R o o t W i d g e t R e g i s t r y ( ) ; f u n c t i o n   g e t L a n g ( ) { v a r   h t m l = d o c u m e n t . d o c u m e n t E l e m e n t ; r e t u r n ( h t m l . g e t A t t r i b u t e ( ' l a n g ' ) | | ' e n _ U S ' ) . r e p l a c e ( ' - ' , ' _ ' ) ; } 
 v a r   l a n g = u t i l s . g e t _ c o o k i e ( ' f r o n t e n d _ l a n g ' ) | | g e t L a n g ( ) ; v a r   l o c a l e D e f = a j a x . l o a d J S ( ' / w e b / w e b c l i e n t / l o c a l e / ' + l a n g . r e p l a c e ( ' - ' , ' _ ' ) ) ; v a r   P u b l i c R o o t = p u b l i c W i d g e t . R o o t W i d g e t . e x t e n d ( { e v e n t s : _ . e x t e n d ( { } , p u b l i c W i d g e t . R o o t W i d g e t . p r o t o t y p e . e v e n t s | | { } , { ' s u b m i t   . j s _ w e b s i t e _ s u b m i t _ f o r m ' : ' _ o n W e b s i t e F o r m S u b m i t ' , ' c l i c k   . j s _ d i s a b l e _ o n _ c l i c k ' : ' _ o n D i s a b l e O n C l i c k ' , } ) , c u s t o m _ e v e n t s : _ . e x t e n d ( { } , p u b l i c W i d g e t . R o o t W i d g e t . p r o t o t y p e . c u s t o m _ e v e n t s | | { } , { c a l l _ s e r v i c e : ' _ o n C a l l S e r v i c e ' , c o n t e x t _ g e t : ' _ o n C o n t e x t G e t ' , m a i n _ o b j e c t _ r e q u e s t : ' _ o n M a i n O b j e c t R e q u e s t ' , w i d g e t s _ s t a r t _ r e q u e s t : ' _ o n W i d g e t s S t a r t R e q u e s t ' , w i d g e t s _ s t o p _ r e q u e s t : ' _ o n W i d g e t s S t o p R e q u e s t ' , } ) , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . e n v = e n v ; t h i s . p u b l i c W i d g e t s = [ ] ; } , w i l l S t a r t : f u n c t i o n ( ) { r e t u r n   P r o m i s e . a l l ( [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , s e s s i o n . i s _ b o u n d , l o c a l e D e f ] ) ; } , s t a r t : f u n c t i o n ( ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ s t a r t W i d g e t s ( ) ] ; t h i s . $ ( " . o _ i m a g e [ d a t a - m i m e t y p e ^ = ' i m a g e ' ] " ) . e a c h ( f u n c t i o n ( ) { v a r   $ i m g = $ ( t h i s ) ; i f ( / g i f | j p e | j p g | p n g / . t e s t ( $ i m g . d a t a ( ' m i m e t y p e ' ) ) & & $ i m g . d a t a ( ' s r c ' ) ) { $ i m g . c s s ( ' b a c k g r o u n d - i m a g e ' , " u r l ( ' " + $ i m g . d a t a ( ' s r c ' ) + " ' ) " ) ; } } ) ; i f ( w i n d o w . l o c a t i o n . h a s h . i n d e x O f ( " s c r o l l T o p = " ) > - 1 ) { t h i s . e l . s c r o l l T o p = + w i n d o w . l o c a t i o n . h a s h . m a t c h ( / s c r o l l T o p = ( [ 0 - 9 ] + ) / ) [ 1 ] ; } 
 i f ( $ . f n . p l a c e h o l d e r ) { $ ( ' i n p u t ,   t e x t a r e a ' ) . p l a c e h o l d e r ( ) ; } 
 r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ g e t C o n t e x t : f u n c t i o n ( c o n t e x t ) { r e t u r n   _ . e x t e n d ( { ' l a n g ' : g e t L a n g ( ) , } , c o n t e x t | | { } ) ; } , _ g e t E x t r a C o n t e x t : f u n c t i o n ( c o n t e x t ) { r e t u r n   t h i s . _ g e t C o n t e x t ( c o n t e x t ) ; } , _ g e t P u b l i c W i d g e t s R e g i s t r y : f u n c t i o n ( o p t i o n s ) { r e t u r n   p u b l i c W i d g e t . r e g i s t r y ; } , _ g e t R e g i s t r y : f u n c t i o n ( ) { r e t u r n   p u b l i c R o o t R e g i s t r y ; } , _ s t a r t W i d g e t s : f u n c t i o n ( $ f r o m , o p t i o n s ) { v a r   s e l f = t h i s ; i f ( $ f r o m = = = u n d e f i n e d ) { $ f r o m = t h i s . $ ( ' # w r a p w r a p ' ) ; i f ( ! $ f r o m . l e n g t h ) { $ f r o m = t h i s . $ e l ; } } 
 i f ( o p t i o n s = = = u n d e f i n e d ) { o p t i o n s = { } ; } 
 t h i s . _ s t o p W i d g e t s ( $ f r o m ) ; v a r   d e f s = _ . m a p ( t h i s . _ g e t P u b l i c W i d g e t s R e g i s t r y ( o p t i o n s ) , f u n c t i o n ( P u b l i c W i d g e t ) { v a r   s e l e c t o r = P u b l i c W i d g e t . p r o t o t y p e . s e l e c t o r | | ' ' ; v a r   $ t a r g e t = d o m . c s s F i n d ( $ f r o m , s e l e c t o r , t r u e ) ; v a r   d e f s = _ . m a p ( $ t a r g e t , f u n c t i o n ( e l ) { v a r   w i d g e t = n e w   P u b l i c W i d g e t ( s e l f , o p t i o n s ) ; s e l f . p u b l i c W i d g e t s . p u s h ( w i d g e t ) ; r e t u r n   w i d g e t . a t t a c h T o ( $ ( e l ) ) ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ s t o p W i d g e t s : f u n c t i o n ( $ f r o m ) { v a r   r e m o v e d W i d g e t s = _ . m a p ( t h i s . p u b l i c W i d g e t s , f u n c t i o n ( w i d g e t ) { i f ( ! $ f r o m | | $ f r o m . f i l t e r ( w i d g e t . e l ) . l e n g t h | | $ f r o m . f i n d ( w i d g e t . e l ) . l e n g t h ) { w i d g e t . d e s t r o y ( ) ; r e t u r n   w i d g e t ; } 
 r e t u r n   n u l l ; } ) ; t h i s . p u b l i c W i d g e t s = _ . d i f f e r e n c e ( t h i s . p u b l i c W i d g e t s , r e m o v e d W i d g e t s ) ; } , _ o n C a l l S e r v i c e : f u n c t i o n ( e v ) { f u n c t i o n   _ c o m p u t e C o n t e x t ( c o n t e x t , n o C o n t e x t K e y s ) { c o n t e x t = _ . e x t e n d ( { } , t h i s . _ g e t C o n t e x t ( ) , c o n t e x t ) ; i f ( n o C o n t e x t K e y s ) { c o n t e x t = _ . o m i t ( c o n t e x t , n o C o n t e x t K e y s ) ; } 
 r e t u r n   J S O N . p a r s e ( J S O N . s t r i n g i f y ( c o n t e x t ) ) ; } 
 c o n s t   p a y l o a d = e v . d a t a ; l e t   a r g s = p a y l o a d . a r g s | | [ ] ; i f ( p a y l o a d . s e r v i c e = = = ' a j a x ' & & p a y l o a d . m e t h o d = = = ' r p c ' ) { a r g s = a r g s . c o n c a t ( e v . t a r g e t ) ; v a r   r o u t e = a r g s [ 0 ] ; i f ( _ . s t r . s t a r t s W i t h ( r o u t e , ' / w e b / d a t a s e t / c a l l _ k w / ' ) ) { v a r   p a r a m s = a r g s [ 1 ] ; v a r   o p t i o n s = a r g s [ 2 ] ; v a r   n o C o n t e x t K e y s ; i f ( o p t i o n s ) { n o C o n t e x t K e y s = o p t i o n s . n o C o n t e x t K e y s ; a r g s [ 2 ] = _ . o m i t ( o p t i o n s , ' n o C o n t e x t K e y s ' ) ; } 
 p a r a m s . k w a r g s . c o n t e x t = _ c o m p u t e C o n t e x t . c a l l ( t h i s , p a r a m s . k w a r g s . c o n t e x t , n o C o n t e x t K e y s ) ; } } e l s e   i f ( p a y l o a d . s e r v i c e = = = ' a j a x ' & & p a y l o a d . m e t h o d = = = ' l o a d L i b s ' ) { a r g s [ 1 ] = _ c o m p u t e C o n t e x t . c a l l ( t h i s , a r g s [ 1 ] ) ; } 
 c o n s t   s e r v i c e = t h i s . e n v . s e r v i c e s [ p a y l o a d . s e r v i c e ] ; c o n s t   r e s u l t = s e r v i c e [ p a y l o a d . m e t h o d ] . a p p l y ( s e r v i c e , a r g s ) ; p a y l o a d . c a l l b a c k ( r e s u l t ) ; } , _ o n C o n t e x t G e t : f u n c t i o n ( e v ) { i f ( e v . d a t a . e x t r a ) { e v . d a t a . c a l l b a c k ( t h i s . _ g e t E x t r a C o n t e x t ( e v . d a t a . c o n t e x t ) ) ; } e l s e { e v . d a t a . c a l l b a c k ( t h i s . _ g e t C o n t e x t ( e v . d a t a . c o n t e x t ) ) ; } } , _ o n M a i n O b j e c t R e q u e s t : f u n c t i o n ( e v ) { v a r   r e p r = $ ( ' h t m l ' ) . d a t a ( ' m a i n - o b j e c t ' ) ; v a r   m = r e p r . m a t c h ( / ( . + ) \ ( ( \ d + ) , ( . * ) \ ) / ) ; e v . d a t a . c a l l b a c k ( { m o d e l : m [ 1 ] , i d : m [ 2 ] | 0 , } ) ; } , _ o n W i d g e t s S t a r t R e q u e s t : f u n c t i o n ( e v ) { t h i s . _ s t a r t W i d g e t s ( e v . d a t a . $ t a r g e t , e v . d a t a . o p t i o n s ) . t h e n ( e v . d a t a . o n S u c c e s s ) . g u a r d e d C a t c h ( e v . d a t a . o n F a i l u r e ) ; } , _ o n W i d g e t s S t o p R e q u e s t : f u n c t i o n ( e v ) { t h i s . _ s t o p W i d g e t s ( e v . d a t a . $ t a r g e t ) ; } , _ o n W e b s i t e F o r m S u b m i t : f u n c t i o n ( e v ) { v a r   $ b u t t o n s = $ ( e v . c u r r e n t T a r g e t ) . f i n d ( ' b u t t o n [ t y p e = " s u b m i t " ] ,   a . a - s u b m i t ' ) ; _ . e a c h ( $ b u t t o n s , f u n c t i o n ( b t n ) { v a r   $ b t n = $ ( b t n ) ; $ b t n . h t m l ( ' < i   c l a s s = " f a   f a - s p i n n e r   f a - s p i n " > < / i >   ' + $ b t n . t e x t ( ) ) ; $ b t n . p r o p ( ' d i s a b l e d ' , t r u e ) ; } ) ; } , _ o n D i s a b l e O n C l i c k : f u n c t i o n ( e v ) { $ ( e v . c u r r e n t T a r g e t ) . a d d C l a s s ( ' d i s a b l e d ' ) ; } , } ) ; r e t u r n { P u b l i c R o o t : P u b l i c R o o t , p u b l i c R o o t R e g i s t r y : p u b l i c R o o t R e g i s t r y , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / c o n t e n t / w e b s i t e _ r o o t _ i n s t a n c e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' r o o t . w i d g e t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   A b s t r a c t S e r v i c e = r e q u i r e ( ' w e b . A b s t r a c t S e r v i c e ' ) ; c o n s t   e n v = r e q u i r e ( ' w e b . p u b l i c _ e n v ' ) ; v a r   l a z y l o a d e r = r e q u i r e ( ' w e b . p u b l i c . l a z y l o a d e r ' ) ; v a r   w e b s i t e R o o t D a t a = r e q u i r e ( ' w e b s i t e . r o o t ' ) ; o w l . c o n f i g . m o d e = e n v . i s D e b u g ( ) ? " d e v " : " p r o d " ; o w l . C o m p o n e n t . e n v = e n v ; A b s t r a c t S e r v i c e . p r o t o t y p e . d e p l o y S e r v i c e s ( e n v ) ; v a r   w e b s i t e R o o t = n e w   w e b s i t e R o o t D a t a . W e b s i t e R o o t ( n u l l ) ; r e t u r n   l a z y l o a d e r . a l l S c r i p t s L o a d e d . t h e n ( f u n c t i o n ( ) { r e t u r n   w e b s i t e R o o t . a t t a c h T o ( d o c u m e n t . b o d y ) . t h e n ( f u n c t i o n ( ) { r e t u r n   w e b s i t e R o o t ; } ) ; } ) ; } ) ; ; 
 
 / *   / w e b / s t a t i c / s r c / j s / p u b l i c / p u b l i c _ w i d g e t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b . p u b l i c . w i d g e t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   d o m = r e q u i r e ( ' w e b . d o m ' ) ; v a r   m i x i n s = r e q u i r e ( ' w e b . m i x i n s ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   R o o t W i d g e t = W i d g e t . e x t e n d ( { c u s t o m _ e v e n t s : _ . e x t e n d ( { } , W i d g e t . p r o t o t y p e . c u s t o m _ e v e n t s | | { } , { ' r e g i s t r y _ u p d a t e ' : ' _ o n R e g i s t r y U p d a t e ' , ' g e t _ s e s s i o n ' : ' _ o n G e t S e s s i o n ' , } ) , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ w i d g e t s = [ ] ; t h i s . _ l i s t e n T o U p d a t e s = f a l s e ; t h i s . _ g e t R e g i s t r y ( ) . s e t P a r e n t ( t h i s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; d e f s . p u s h ( t h i s . _ a t t a c h C o m p o n e n t s ( ) ) ; t h i s . _ l i s t e n T o U p d a t e s = t r u e ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ a t t a c h C o m p o n e n t : f u n c t i o n ( c h i l d I n f o , $ f r o m ) { v a r   s e l f = t h i s ; v a r   $ e l e m e n t s = d o m . c s s F i n d ( $ f r o m | | t h i s . $ e l , c h i l d I n f o . s e l e c t o r ) ; v a r   d e f s = _ . m a p ( $ e l e m e n t s , f u n c t i o n ( e l e m e n t ) { v a r   w = n e w   c h i l d I n f o . W i d g e t ( s e l f ) ; s e l f . _ w i d g e t s . p u s h ( w ) ; r e t u r n   w . a t t a c h T o ( e l e m e n t ) ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ a t t a c h C o m p o n e n t s : f u n c t i o n ( $ f r o m ) { v a r   s e l f = t h i s ; v a r   c h i l d I n f o s = t h i s . _ g e t R e g i s t r y ( ) . g e t ( ) ; v a r   d e f s = _ . m a p ( c h i l d I n f o s , f u n c t i o n ( c h i l d I n f o ) { r e t u r n   s e l f . _ a t t a c h C o m p o n e n t ( c h i l d I n f o , $ f r o m ) ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ g e t R e g i s t r y : f u n c t i o n ( ) { } , _ o n G e t S e s s i o n : f u n c t i o n ( e v e n t ) { i f ( e v e n t . d a t a . c a l l b a c k ) { e v e n t . d a t a . c a l l b a c k ( s e s s i o n ) ; } } , _ o n R e g i s t r y U p d a t e : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; i f ( t h i s . _ l i s t e n T o U p d a t e s ) { t h i s . _ a t t a c h C o m p o n e n t ( e v . d a t a ) ; } } , } ) ; v a r   R o o t W i d g e t R e g i s t r y = C l a s s . e x t e n d ( m i x i n s . E v e n t D i s p a t c h e r M i x i n , { i n i t : f u n c t i o n ( ) { m i x i n s . E v e n t D i s p a t c h e r M i x i n . i n i t . c a l l ( t h i s ) ; t h i s . _ r e g i s t r y = [ ] ; } , a d d : f u n c t i o n ( W i d g e t , s e l e c t o r ) { v a r   r e g i s t r y I n f o = { W i d g e t : W i d g e t , s e l e c t o r : s e l e c t o r , } ; t h i s . _ r e g i s t r y . p u s h ( r e g i s t r y I n f o ) ; t h i s . t r i g g e r _ u p ( ' r e g i s t r y _ u p d a t e ' , r e g i s t r y I n f o ) ; } , g e t : f u n c t i o n ( ) { r e t u r n   t h i s . _ r e g i s t r y ; } , } ) ; v a r   P u b l i c W i d g e t = W i d g e t . e x t e n d ( { s e l e c t o r : f a l s e , e v e n t s : { } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . o p t i o n s = o p t i o n s | | { } ; } , d e s t r o y : f u n c t i o n ( ) { i f ( t h i s . s e l e c t o r ) { v a r   $ o l d e l = t h i s . $ e l ; t h i s . s e t E l e m e n t ( n u l l ) ; } 
 t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . s e l e c t o r ) { t h i s . $ e l = $ o l d e l ; t h i s . e l = $ o l d e l [ 0 ] ; t h i s . $ t a r g e t = t h i s . $ e l ; t h i s . t a r g e t = t h i s . e l ; } } , s e t E l e m e n t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . s e l e c t o r ) { t h i s . $ t a r g e t = t h i s . $ e l ; t h i s . t a r g e t = t h i s . e l ; } } , _ d e l e g a t e E v e n t s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   o r i g i n a l E v e n t s = t h i s . e v e n t s ; v a r   e v e n t s = { } ; _ . e a c h ( t h i s . e v e n t s , f u n c t i o n ( m e t h o d , e v e n t ) { i f ( t y p e o f   m e t h o d ! = = ' s t r i n g ' ) { e v e n t s [ e v e n t ] = m e t h o d ; r e t u r n ; } 
 v a r   m e t h o d O p t i o n s = m e t h o d . s p l i t ( '   ' ) ; i f ( m e t h o d O p t i o n s . l e n g t h < = 1 ) { e v e n t s [ e v e n t ] = m e t h o d ; r e t u r n ; } 
 v a r   i s A s y n c = _ . c o n t a i n s ( m e t h o d O p t i o n s , ' a s y n c ' ) ; i f ( ! i s A s y n c ) { e v e n t s [ e v e n t ] = m e t h o d ; r e t u r n ; } 
 m e t h o d = s e l f . p r o x y ( m e t h o d O p t i o n s [ m e t h o d O p t i o n s . l e n g t h - 1 ] ) ; i f ( _ . s t r . s t a r t s W i t h ( e v e n t , ' c l i c k ' ) ) { m e t h o d = d o m . m a k e B u t t o n H a n d l e r ( m e t h o d ) ; } e l s e { m e t h o d = d o m . m a k e A s y n c H a n d l e r ( m e t h o d ) ; } 
 e v e n t s [ e v e n t ] = m e t h o d ; } ) ; t h i s . e v e n t s = e v e n t s ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . e v e n t s = o r i g i n a l E v e n t s ; } , _ g e t C o n t e x t : f u n c t i o n ( e x t r a , e x t r a C o n t e x t ) { v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { e x t r a : e x t r a | | f a l s e , c o n t e x t : e x t r a C o n t e x t , c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; r e t u r n   c o n t e x t ; } , } ) ; v a r   r e g i s t r y = { } ; r e g i s t r y . _ f i x A p p l e C o l l a p s e = P u b l i c W i d g e t . e x t e n d ( { s e l e c t o r : ' d i v [ d a t a - t o g g l e = " c o l l a p s e " ] ' , e v e n t s : { ' c l i c k ' : f u n c t i o n ( ) { } , } , } ) ; r e t u r n { R o o t W i d g e t : R o o t W i d g e t , R o o t W i d g e t R e g i s t r y : R o o t W i d g e t R e g i s t r y , W i d g e t : P u b l i c W i d g e t , r e g i s t r y : r e g i s t r y , } ; } ) ; ; 
 
 / *   / w e b _ e d i t o r / s t a t i c / s r c / j s / f r o n t e n d / l o a d e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b _ e d i t o r . l o a d e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   W y s i w y g = r e q u i r e ( ' w e b _ e d i t o r . w y s i w y g . r o o t ' ) ; f u n c t i o n   l o a d ( p a r e n t , t e x t a r e a , o p t i o n s ) { v a r   l o a d i n g = t e x t a r e a . n e x t E l e m e n t S i b l i n g ; i f ( l o a d i n g & & ! l o a d i n g . c l a s s L i s t . c o n t a i n s ( ' o _ w y s i w y g _ l o a d i n g ' ) ) { l o a d i n g = n u l l ; } 
 i f ( ! t e x t a r e a . v a l u e . m a t c h ( / \ S / ) ) { t e x t a r e a . v a l u e = ' < p > < b r / > < / p > ' ; } 
 v a r   w y s i w y g = n e w   W y s i w y g ( p a r e n t , o p t i o n s ) ; r e t u r n   w y s i w y g . a t t a c h T o ( t e x t a r e a ) . t h e n ( ( ) = > { i f ( l o a d i n g ) { l o a d i n g . p a r e n t N o d e . r e m o v e C h i l d ( l o a d i n g ) ; } 
 r e t u r n   w y s i w y g ; } ) ; } 
 r e t u r n { l o a d : l o a d , } ; } ) ; ; 
 
 / *   / p o r t a l / s t a t i c / s r c / j s / p o r t a l . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p o r t a l . p o r t a l ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; c o n s t { _ t , q w e b } = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; p u b l i c W i d g e t . r e g i s t r y . p o r t a l D e t a i l s = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ d e t a i l s ' , e v e n t s : { ' c h a n g e   s e l e c t [ n a m e = " c o u n t r y _ i d " ] ' : ' _ o n C o u n t r y C h a n g e ' , } , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . $ s t a t e = t h i s . $ ( ' s e l e c t [ n a m e = " s t a t e _ i d " ] ' ) ; t h i s . $ s t a t e O p t i o n s = t h i s . $ s t a t e . f i l t e r ( ' : e n a b l e d ' ) . f i n d ( ' o p t i o n : n o t ( : f i r s t ) ' ) ; t h i s . _ a d a p t A d d r e s s F o r m ( ) ; r e t u r n   d e f ; } , _ a d a p t A d d r e s s F o r m : f u n c t i o n ( ) { v a r   $ c o u n t r y = t h i s . $ ( ' s e l e c t [ n a m e = " c o u n t r y _ i d " ] ' ) ; v a r   c o u n t r y I D = ( $ c o u n t r y . v a l ( ) | | 0 ) ; t h i s . $ s t a t e O p t i o n s . d e t a c h ( ) ; v a r   $ d i s p l a y e d S t a t e = t h i s . $ s t a t e O p t i o n s . f i l t e r ( ' [ d a t a - c o u n t r y _ i d = ' + c o u n t r y I D + ' ] ' ) ; v a r   n b = $ d i s p l a y e d S t a t e . a p p e n d T o ( t h i s . $ s t a t e ) . s h o w ( ) . l e n g t h ; t h i s . $ s t a t e . p a r e n t ( ) . t o g g l e ( n b > = 1 ) ; } , _ o n C o u n t r y C h a n g e : f u n c t i o n ( ) { t h i s . _ a d a p t A d d r e s s F o r m ( ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . P o r t a l H o m e C o u n t e r s = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ m y _ h o m e ' , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ u p d a t e C o u n t e r s ( ) ; r e t u r n   d e f ; } , a s y n c   _ u p d a t e C o u n t e r s ( e l e m ) { c o n s t   n u m b e r R p c = 3 ; c o n s t   n e e d e d = t h i s . $ ( ' [ d a t a - p l a c e h o l d e r _ c o u n t ] ' ) . m a p ( ( i , o ) = > $ ( o ) . d a t a ( ' p l a c e h o l d e r _ c o u n t ' ) ) . t o A r r a y ( ) ; c o n s t   c o u n t e r B y R p c = M a t h . c e i l ( n e e d e d . l e n g t h / n u m b e r R p c ) ; c o n s t   p r o m s = [ . . . A r r a y ( M a t h . m i n ( n u m b e r R p c , n e e d e d . l e n g t h ) ) . k e y s ( ) ] . m a p ( a s y n c   i = > { a w a i t   t h i s . _ r p c ( { r o u t e : " / m y / c o u n t e r s " , p a r a m s : { c o u n t e r s : n e e d e d . s l i c e ( i * c o u n t e r B y R p c , ( i + 1 ) * c o u n t e r B y R p c ) } , } ) . t h e n ( d a t a = > { O b j e c t . k e y s ( d a t a ) . m a p ( k = > t h i s . $ ( " [ d a t a - p l a c e h o l d e r _ c o u n t = ' " + k + " ' ] " ) . t e x t ( d a t a [ k ] ) ) ; } ) ; } ) ; r e t u r n   P r o m i s e . a l l ( p r o m s ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . p o r t a l S e a r c h P a n e l = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ s e a r c h _ p a n e l ' , e v e n t s : { ' c l i c k   . s e a r c h - s u b m i t ' : ' _ o n S e a r c h S u b m i t C l i c k ' , ' c l i c k   . d r o p d o w n - i t e m ' : ' _ o n D r o p d o w n I t e m C l i c k ' , ' k e y u p   i n p u t [ n a m e = " s e a r c h " ] ' : ' _ o n S e a r c h I n p u t K e y u p ' , } , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ a d a p t S e a r c h L a b e l ( t h i s . $ ( ' . d r o p d o w n - i t e m . a c t i v e ' ) ) ; r e t u r n   d e f ; } , _ a d a p t S e a r c h L a b e l : f u n c t i o n ( e l e m ) { v a r   $ l a b e l = $ ( e l e m ) . c l o n e ( ) ; $ l a b e l . f i n d ( ' s p a n . n o l a b e l ' ) . r e m o v e ( ) ; t h i s . $ ( ' i n p u t [ n a m e = " s e a r c h " ] ' ) . a t t r ( ' p l a c e h o l d e r ' , $ l a b e l . t e x t ( ) . t r i m ( ) ) ; } , _ s e a r c h : f u n c t i o n ( ) { v a r   s e a r c h = $ . d e p a r a m ( w i n d o w . l o c a t i o n . s e a r c h . s u b s t r i n g ( 1 ) ) ; s e a r c h [ ' s e a r c h _ i n ' ] = t h i s . $ ( ' . d r o p d o w n - i t e m . a c t i v e ' ) . a t t r ( ' h r e f ' ) . r e p l a c e ( ' # ' , ' ' ) ; s e a r c h [ ' s e a r c h ' ] = t h i s . $ ( ' i n p u t [ n a m e = " s e a r c h " ] ' ) . v a l ( ) ; w i n d o w . l o c a t i o n . s e a r c h = $ . p a r a m ( s e a r c h ) ; } , _ o n S e a r c h S u b m i t C l i c k : f u n c t i o n ( ) { t h i s . _ s e a r c h ( ) ; } , _ o n D r o p d o w n I t e m C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   $ i t e m = $ ( e v . c u r r e n t T a r g e t ) ; $ i t e m . c l o s e s t ( ' . d r o p d o w n - m e n u ' ) . f i n d ( ' . d r o p d o w n - i t e m ' ) . r e m o v e C l a s s ( ' a c t i v e ' ) ; $ i t e m . a d d C l a s s ( ' a c t i v e ' ) ; t h i s . _ a d a p t S e a r c h L a b e l ( e v . c u r r e n t T a r g e t ) ; } , _ o n S e a r c h I n p u t K e y u p : f u n c t i o n ( e v ) { i f ( e v . k e y C o d e = = = $ . u i . k e y C o d e . E N T E R ) { t h i s . _ s e a r c h ( ) ; } } , } ) ; f u n c t i o n   h a n d l e C h e c k I d e n t i t y ( r p c , w r a p p e d ) { r e t u r n   w r a p p e d . t h e n ( ( r ) = > { i f ( ! _ . i s M a t c h ( r , { t y p e : ' i r . a c t i o n s . a c t _ w i n d o w ' , r e s _ m o d e l : ' r e s . u s e r s . i d e n t i t y c h e c k ' } ) ) { r e t u r n   r ; } 
 c o n s t   c h e c k _ i d = r . r e s _ i d ; r e t u r n   a j a x . l o a d X M L ( ' / p o r t a l / s t a t i c / s r c / x m l / p o r t a l _ s e c u r i t y . x m l ' , q w e b ) . t h e n ( ( ) = > n e w   P r o m i s e ( ( r e s o l v e , r e j e c t ) = > { c o n s t   d = n e w   D i a l o g ( n u l l , { t i t l e : _ t ( " S e c u r i t y   C o n t r o l " ) , $ c o n t e n t : q w e b . r e n d e r ( ' p o r t a l . i d e n t i t y c h e c k ' ) , b u t t o n s : [ { t e x t : _ t ( " C o n f i r m   P a s s w o r d " ) , c l a s s e s : ' b t n   b t n - p r i m a r y ' , c l i c k ( ) { c o n s t   p a s s w o r d _ i n p u t = t h i s . e l . q u e r y S e l e c t o r ( ' [ n a m e = p a s s w o r d ] ' ) ; i f ( ! p a s s w o r d _ i n p u t . r e p o r t V a l i d i t y ( ) ) { p a s s w o r d _ i n p u t . c l a s s L i s t . a d d ( ' i s - i n v a l i d ' ) ; r e t u r n ; } 
 r e t u r n   r p c ( { m o d e l : ' r e s . u s e r s . i d e n t i t y c h e c k ' , m e t h o d : ' w r i t e ' , a r g s : [ c h e c k _ i d , { p a s s w o r d : p a s s w o r d _ i n p u t . v a l u e } ] } ) . t h e n ( ( ) = > r p c ( { m o d e l : ' r e s . u s e r s . i d e n t i t y c h e c k ' , m e t h o d : ' r u n _ c h e c k ' , a r g s : [ c h e c k _ i d ] } ) ) . t h e n ( ( r ) = > { t h i s . c l o s e ( ) ; r e s o l v e ( r ) ; } , ( e r r ) = > { e r r . e v e n t . p r e v e n t D e f a u l t ( ) ; p a s s w o r d _ i n p u t . c l a s s L i s t . a d d ( ' i s - i n v a l i d ' ) ; p a s s w o r d _ i n p u t . s e t C u s t o m V a l i d i t y ( _ t ( " C h e c k   f a i l e d " ) ) ; p a s s w o r d _ i n p u t . r e p o r t V a l i d i t y ( ) ; } ) ; } } , { t e x t : _ t ( ' C a n c e l ' ) , c l o s e : t r u e } , { t e x t : _ t ( ' F o r g o t   p a s s w o r d ? ' ) , c l a s s e s : ' b t n   b t n - l i n k ' , c l i c k ( ) { w i n d o w . l o c a t i o n . h r e f = " / w e b / r e s e t _ p a s s w o r d / " ; } } ] } ) . o n ( ' c l o s e ' , n u l l , ( ) = > { r e j e c t ( ) ; } ) ; d . o p e n e d ( ( ) = > { c o n s t   p w = d . e l . q u e r y S e l e c t o r ( ' [ n a m e = " p a s s w o r d " ] ' ) ; p w . f o c u s ( ) ; p w . a d d E v e n t L i s t e n e r ( ' i n p u t ' , ( ) = > { p w . c l a s s L i s t . r e m o v e ( ' i s - i n v a l i d ' ) ; p w . s e t C u s t o m V a l i d i t y ( ' ' ) ; } ) ; d . e l . a d d E v e n t L i s t e n e r ( ' s u b m i t ' , ( e ) = > { e . p r e v e n t D e f a u l t ( ) ; d . $ f o o t e r . f i n d ( ' . b t n - p r i m a r y ' ) . c l i c k ( ) ; } ) ; } ) ; d . o p e n ( ) ; } ) ) ; } ) ; } 
 r e t u r n { h a n d l e C h e c k I d e n t i t y , } } ) ; ; 
 
 / *   / p o r t a l / s t a t i c / s r c / j s / p o r t a l _ c h a t t e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p o r t a l . c h a t t e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   d o m = r e q u i r e ( ' w e b . d o m ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   p o r t a l C o m p o s e r = r e q u i r e ( ' p o r t a l . c o m p o s e r ' ) ; v a r   q w e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   P o r t a l C h a t t e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' p o r t a l . C h a t t e r ' , x m l D e p e n d e n c i e s : [ ' / p o r t a l / s t a t i c / s r c / x m l / p o r t a l _ c h a t t e r . x m l ' ] , e v e n t s : { ' c l i c k   . o _ p o r t a l _ c h a t t e r _ p a g e r _ b t n ' : ' _ o n C l i c k P a g e r ' , ' c l i c k   . o _ p o r t a l _ c h a t t e r _ j s _ i s _ i n t e r n a l ' : ' a s y n c   _ o n C l i c k U p d a t e I s I n t e r n a l ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { v a r   s e l f = t h i s ; t h i s . o p t i o n s = { } ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; _ . e a c h ( o p t i o n s , f u n c t i o n ( v a l , k e y ) { s e l f . o p t i o n s [ _ . s t r . u n d e r s c o r e d ( k e y ) ] = v a l ; } ) ; t h i s . o p t i o n s = _ . d e f a u l t s ( t h i s . o p t i o n s , { ' a l l o w _ c o m p o s e r ' : t r u e , ' d i s p l a y _ c o m p o s e r ' : f a l s e , ' c s r f _ t o k e n ' : o d o o . c s r f _ t o k e n , ' m e s s a g e _ c o u n t ' : 0 , ' p a g e r _ s t e p ' : 1 0 , ' p a g e r _ s c o p e ' : 5 , ' p a g e r _ s t a r t ' : 1 , ' i s _ u s e r _ p u b l i c ' : t r u e , ' i s _ u s e r _ e m p l o y e e ' : f a l s e , ' i s _ u s e r _ p u b l i s h e r ' : f a l s e , ' h a s h ' : f a l s e , ' p i d ' : f a l s e , ' d o m a i n ' : [ ] , } ) ; t h i s . s e t ( ' m e s s a g e s ' , [ ] ) ; t h i s . s e t ( ' m e s s a g e _ c o u n t ' , t h i s . o p t i o n s [ ' m e s s a g e _ c o u n t ' ] ) ; t h i s . s e t ( ' p a g e r ' , { } ) ; t h i s . s e t ( ' d o m a i n ' , t h i s . o p t i o n s [ ' d o m a i n ' ] ) ; t h i s . _ c u r r e n t P a g e = t h i s . o p t i o n s [ ' p a g e r _ s t a r t ' ] ; } , w i l l S t a r t : f u n c t i o n ( ) { r e t u r n   P r o m i s e . a l l ( [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ c h a t t e r I n i t ( ) ] ) ; } , s t a r t : f u n c t i o n ( ) { t h i s . o n ( " c h a n g e : m e s s a g e s " , t h i s , t h i s . _ r e n d e r M e s s a g e s ) ; t h i s . o n ( " c h a n g e : m e s s a g e _ c o u n t " , t h i s , f u n c t i o n ( ) { t h i s . _ r e n d e r M e s s a g e C o u n t ( ) ; t h i s . s e t ( ' p a g e r ' , t h i s . _ p a g e r ( t h i s . _ c u r r e n t P a g e ) ) ; } ) ; t h i s . o n ( " c h a n g e : p a g e r " , t h i s , t h i s . _ r e n d e r P a g e r ) ; t h i s . o n ( " c h a n g e : d o m a i n " , t h i s , t h i s . _ o n C h a n g e D o m a i n ) ; t h i s . s e t ( ' m e s s a g e _ c o u n t ' , t h i s . o p t i o n s [ ' m e s s a g e _ c o u n t ' ] ) ; t h i s . s e t ( ' m e s s a g e s ' , t h i s . p r e p r o c e s s M e s s a g e s ( t h i s . r e s u l t [ ' m e s s a g e s ' ] ) ) ; v a r   d e f s = [ ] ; d e f s . p u s h ( t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ) ; i f ( t h i s . o p t i o n s [ ' d i s p l a y _ c o m p o s e r ' ] ) { t h i s . _ c o m p o s e r = n e w   p o r t a l C o m p o s e r . P o r t a l C o m p o s e r ( t h i s , t h i s . o p t i o n s ) ; d e f s . p u s h ( t h i s . _ c o m p o s e r . r e p l a c e ( t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ c o m p o s e r ' ) ) ) ; } 
 r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , m e s s a g e F e t c h : f u n c t i o n ( d o m a i n ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / m a i l / c h a t t e r _ f e t c h ' , p a r a m s : s e l f . _ m e s s a g e F e t c h P r e p a r e P a r a m s ( ) , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { s e l f . s e t ( ' m e s s a g e s ' , s e l f . p r e p r o c e s s M e s s a g e s ( r e s u l t [ ' m e s s a g e s ' ] ) ) ; s e l f . s e t ( ' m e s s a g e _ c o u n t ' , r e s u l t [ ' m e s s a g e _ c o u n t ' ] ) ; } ) ; } , p r e p r o c e s s M e s s a g e s : f u n c t i o n ( m e s s a g e s ) { _ . e a c h ( m e s s a g e s , f u n c t i o n ( m ) { m [ ' a u t h o r _ a v a t a r _ u r l ' ] = _ . s t r . s p r i n t f ( ' / w e b / i m a g e / % s / % s / a u t h o r _ a v a t a r / 5 0 x 5 0 ' , ' m a i l . m e s s a g e ' , m . i d ) ; m [ ' p u b l i s h e d _ d a t e _ s t r ' ] = _ . s t r . s p r i n t f ( _ t ( ' P u b l i s h e d   o n   % s ' ) , m o m e n t ( t i m e . s t r _ t o _ d a t e t i m e ( m . d a t e ) ) . f o r m a t ( ' M M M M   D o   Y Y Y Y ,   h : m m : s s   a ' ) ) ; } ) ; r e t u r n   m e s s a g e s ; } , _ c h a t t e r I n i t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / m a i l / c h a t t e r _ i n i t ' , p a r a m s : t h i s . _ m e s s a g e F e t c h P r e p a r e P a r a m s ( ) } ) . t h e n ( f u n c t i o n ( r e s u l t ) { s e l f . r e s u l t = r e s u l t ; s e l f . o p t i o n s = _ . e x t e n d ( s e l f . o p t i o n s , s e l f . r e s u l t [ ' o p t i o n s ' ] | | { } ) ; r e t u r n   r e s u l t ; } ) ; } , _ c h a n g e C u r r e n t P a g e : f u n c t i o n ( p a g e , d o m a i n ) { t h i s . _ c u r r e n t P a g e = p a g e ; v a r   d = d o m a i n ? d o m a i n : _ . c l o n e ( t h i s . g e t ( ' d o m a i n ' ) ) ; t h i s . s e t ( ' d o m a i n ' , d ) ; } , _ m e s s a g e F e t c h P r e p a r e P a r a m s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d a t a = { ' r e s _ m o d e l ' : t h i s . o p t i o n s [ ' r e s _ m o d e l ' ] , ' r e s _ i d ' : t h i s . o p t i o n s [ ' r e s _ i d ' ] , ' l i m i t ' : t h i s . o p t i o n s [ ' p a g e r _ s t e p ' ] , ' o f f s e t ' : ( t h i s . _ c u r r e n t P a g e - 1 ) * t h i s . o p t i o n s [ ' p a g e r _ s t e p ' ] , ' a l l o w _ c o m p o s e r ' : t h i s . o p t i o n s [ ' a l l o w _ c o m p o s e r ' ] , } ; i f ( s e l f . o p t i o n s [ ' t o k e n ' ] ) { d a t a [ ' t o k e n ' ] = s e l f . o p t i o n s [ ' t o k e n ' ] ; } 
 i f ( t h i s . g e t ( ' d o m a i n ' ) ) { d a t a [ ' d o m a i n ' ] = t h i s . g e t ( ' d o m a i n ' ) ; } 
 r e t u r n   d a t a ; } , _ p a g e r : f u n c t i o n ( p a g e ) { p a g e = p a g e | | 1 ; v a r   t o t a l = t h i s . g e t ( ' m e s s a g e _ c o u n t ' ) ; v a r   s c o p e = t h i s . o p t i o n s [ ' p a g e r _ s c o p e ' ] ; v a r   s t e p = t h i s . o p t i o n s [ ' p a g e r _ s t e p ' ] ; v a r   p a g e C o u n t = M a t h . c e i l ( p a r s e F l o a t ( t o t a l ) / s t e p ) ; p a g e = M a t h . m a x ( 1 , M a t h . m i n ( p a r s e I n t ( p a g e ) , p a g e C o u n t ) ) ; s c o p e - = 1 ; v a r   p m i n = M a t h . m a x ( p a g e - p a r s e I n t ( M a t h . f l o o r ( s c o p e / 2 ) ) , 1 ) ; v a r   p m a x = M a t h . m i n ( p m i n + s c o p e , p a g e C o u n t ) ; i f ( p m a x - s c o p e > 0 ) { p m i n = p m a x - s c o p e ; } e l s e { p m i n = 1 ; } 
 v a r   p a g e s = [ ] ; _ . e a c h ( _ . r a n g e ( p m i n , p m a x + 1 ) , f u n c t i o n ( i n d e x ) { p a g e s . p u s h ( i n d e x ) ; } ) ; r e t u r n { " p a g e _ c o u n t " : p a g e C o u n t , " o f f s e t " : ( p a g e - 1 ) * s t e p , " p a g e " : p a g e , " p a g e _ s t a r t " : p m i n , " p a g e _ p r e v i o u s " : M a t h . m a x ( p m i n , p a g e - 1 ) , " p a g e _ n e x t " : M a t h . m i n ( p m a x , p a g e + 1 ) , " p a g e _ e n d " : p m a x , " p a g e s " : p a g e s } ; } , _ r e n d e r M e s s a g e s : f u n c t i o n ( ) { t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ m e s s a g e s ' ) . h t m l ( q w e b . r e n d e r ( " p o r t a l . c h a t t e r _ m e s s a g e s " , { w i d g e t : t h i s } ) ) ; } , _ r e n d e r M e s s a g e C o u n t : f u n c t i o n ( ) { t h i s . $ ( ' . o _ m e s s a g e _ c o u n t e r ' ) . r e p l a c e W i t h ( q w e b . r e n d e r ( " p o r t a l . c h a t t e r _ m e s s a g e _ c o u n t " , { w i d g e t : t h i s } ) ) ; } , _ r e n d e r P a g e r : f u n c t i o n ( ) { t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ p a g e r ' ) . r e p l a c e W i t h ( q w e b . r e n d e r ( " p o r t a l . p a g e r " , { w i d g e t : t h i s } ) ) ; } , _ o n C h a n g e D o m a i n : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . m e s s a g e F e t c h ( ) . t h e n ( f u n c t i o n ( ) { v a r   p = s e l f . _ c u r r e n t P a g e ; s e l f . s e t ( ' p a g e r ' , s e l f . _ p a g e r ( p ) ) ; } ) ; } , _ o n C l i c k P a g e r : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   p a g e = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' p a g e ' ) ; t h i s . _ c h a n g e C u r r e n t P a g e ( p a g e ) ; } , _ o n C l i c k U p d a t e I s I n t e r n a l : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   $ e l e m = $ ( e v . c u r r e n t T a r g e t ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / m a i l / u p d a t e _ i s _ i n t e r n a l ' , p a r a m s : { m e s s a g e _ i d : $ e l e m . d a t a ( ' m e s s a g e - i d ' ) , i s _ i n t e r n a l : ! $ e l e m . d a t a ( ' i s - i n t e r n a l ' ) , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { $ e l e m . d a t a ( ' i s - i n t e r n a l ' , r e s u l t ) ; i f ( r e s u l t = = = t r u e ) { $ e l e m . a d d C l a s s ( ' o _ p o r t a l _ m e s s a g e _ i n t e r n a l _ o n ' ) ; $ e l e m . r e m o v e C l a s s ( ' o _ p o r t a l _ m e s s a g e _ i n t e r n a l _ o f f ' ) ; } e l s e { $ e l e m . a d d C l a s s ( ' o _ p o r t a l _ m e s s a g e _ i n t e r n a l _ o f f ' ) ; $ e l e m . r e m o v e C l a s s ( ' o _ p o r t a l _ m e s s a g e _ i n t e r n a l _ o n ' ) ; } } ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . p o r t a l C h a t t e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ c h a t t e r ' , a s y n c   s t a r t ( ) { c o n s t   p r o m s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; c o n s t   c h a t t e r = n e w   P o r t a l C h a t t e r ( t h i s , t h i s . $ e l . d a t a ( ) ) ; p r o m s . p u s h ( c h a t t e r . a p p e n d T o ( t h i s . $ e l ) ) ; a w a i t   P r o m i s e . a l l ( p r o m s ) ; i f ( w i n d o w . l o c a t i o n . h a s h = = = ` # $ { t h i s . e l . i d } ` ) { d o m . s c r o l l T o ( t h i s . e l , { d u r a t i o n : 0 } ) ; } } , } ) ; r e t u r n { P o r t a l C h a t t e r : P o r t a l C h a t t e r , } ; } ) ; ; 
 
 / *   / p o r t a l / s t a t i c / s r c / j s / p o r t a l _ c o m p o s e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p o r t a l . c o m p o s e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   q w e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   P o r t a l C o m p o s e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' p o r t a l . C o m p o s e r ' , x m l D e p e n d e n c i e s : [ ' / p o r t a l / s t a t i c / s r c / x m l / p o r t a l _ c h a t t e r . x m l ' ] , e v e n t s : { ' c h a n g e   . o _ p o r t a l _ c h a t t e r _ f i l e _ i n p u t ' : ' _ o n F i l e I n p u t C h a n g e ' , ' c l i c k   . o _ p o r t a l _ c h a t t e r _ a t t a c h m e n t _ b t n ' : ' _ o n A t t a c h m e n t B u t t o n C l i c k ' , ' c l i c k   . o _ p o r t a l _ c h a t t e r _ a t t a c h m e n t _ d e l e t e ' : ' a s y n c   _ o n A t t a c h m e n t D e l e t e C l i c k ' , ' c l i c k   . o _ p o r t a l _ c h a t t e r _ c o m p o s e r _ b t n ' : ' a s y n c   _ o n S u b m i t B u t t o n C l i c k ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { ' a l l o w _ c o m p o s e r ' : t r u e , ' d i s p l a y _ c o m p o s e r ' : f a l s e , ' c s r f _ t o k e n ' : o d o o . c s r f _ t o k e n , ' t o k e n ' : f a l s e , ' r e s _ m o d e l ' : f a l s e , ' r e s _ i d ' : f a l s e , } ) ; t h i s . a t t a c h m e n t s = [ ] ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ a t t a c h m e n t B u t t o n = t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ a t t a c h m e n t _ b t n ' ) ; t h i s . $ f i l e I n p u t = t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ f i l e _ i n p u t ' ) ; t h i s . $ s e n d B u t t o n = t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ c o m p o s e r _ b t n ' ) ; t h i s . $ a t t a c h m e n t s = t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ c o m p o s e r _ f o r m   . o _ p o r t a l _ c h a t t e r _ a t t a c h m e n t s ' ) ; t h i s . $ a t t a c h m e n t I d s = t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ a t t a c h m e n t _ i d s ' ) ; t h i s . $ a t t a c h m e n t T o k e n s = t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ a t t a c h m e n t _ t o k e n s ' ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { i f ( s e l f . o p t i o n s . d e f a u l t _ a t t a c h m e n t _ i d s ) { s e l f . a t t a c h m e n t s = s e l f . o p t i o n s . d e f a u l t _ a t t a c h m e n t _ i d s | | [ ] ; _ . e a c h ( s e l f . a t t a c h m e n t s , f u n c t i o n ( a t t a c h m e n t ) { a t t a c h m e n t . s t a t e = ' d o n e ' ; } ) ; s e l f . _ u p d a t e A t t a c h m e n t s ( ) ; } 
 r e t u r n   P r o m i s e . r e s o l v e ( ) ; } ) ; } , _ o n A t t a c h m e n t B u t t o n C l i c k : f u n c t i o n ( ) { t h i s . $ f i l e I n p u t . c l i c k ( ) ; } , _ o n A t t a c h m e n t D e l e t e C l i c k : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   a t t a c h m e n t I d = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . o _ p o r t a l _ c h a t t e r _ a t t a c h m e n t ' ) . d a t a ( ' i d ' ) ; v a r   a c c e s s T o k e n = _ . f i n d ( t h i s . a t t a c h m e n t s , { ' i d ' : a t t a c h m e n t I d } ) . a c c e s s _ t o k e n ; e v . p r e v e n t D e f a u l t ( ) ; e v . s t o p P r o p a g a t i o n ( ) ; t h i s . $ s e n d B u t t o n . p r o p ( ' d i s a b l e d ' , t r u e ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / p o r t a l / a t t a c h m e n t / r e m o v e ' , p a r a m s : { ' a t t a c h m e n t _ i d ' : a t t a c h m e n t I d , ' a c c e s s _ t o k e n ' : a c c e s s T o k e n , } , } ) . t h e n ( f u n c t i o n ( ) { s e l f . a t t a c h m e n t s = _ . r e j e c t ( s e l f . a t t a c h m e n t s , { ' i d ' : a t t a c h m e n t I d } ) ; s e l f . _ u p d a t e A t t a c h m e n t s ( ) ; s e l f . $ s e n d B u t t o n . p r o p ( ' d i s a b l e d ' , f a l s e ) ; } ) ; } , _ o n F i l e I n p u t C h a n g e : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ s e n d B u t t o n . p r o p ( ' d i s a b l e d ' , t r u e ) ; r e t u r n   P r o m i s e . a l l ( _ . m a p ( t h i s . $ f i l e I n p u t [ 0 ] . f i l e s , f u n c t i o n ( f i l e ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { v a r   d a t a = { ' n a m e ' : f i l e . n a m e , ' f i l e ' : f i l e , ' r e s _ i d ' : s e l f . o p t i o n s . r e s _ i d , ' r e s _ m o d e l ' : s e l f . o p t i o n s . r e s _ m o d e l , ' a c c e s s _ t o k e n ' : s e l f . o p t i o n s . t o k e n , } ; a j a x . p o s t ( ' / p o r t a l / a t t a c h m e n t / a d d ' , d a t a ) . t h e n ( f u n c t i o n ( a t t a c h m e n t ) { a t t a c h m e n t . s t a t e = ' p e n d i n g ' ; s e l f . a t t a c h m e n t s . p u s h ( a t t a c h m e n t ) ; s e l f . _ u p d a t e A t t a c h m e n t s ( ) ; r e s o l v e ( ) ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( e r r o r ) { s e l f . d i s p l a y N o t i f i c a t i o n ( { m e s s a g e : _ . s t r . s p r i n t f ( _ t ( " C o u l d   n o t   s a v e   f i l e   < s t r o n g > % s < / s t r o n g > " ) , _ . e s c a p e ( f i l e . n a m e ) ) , t y p e : ' w a r n i n g ' , s t i c k y : t r u e , } ) ; r e s o l v e ( ) ; } ) ; } ) ; } ) ) . t h e n ( f u n c t i o n ( ) { s e l f . $ s e n d B u t t o n . p r o p ( ' d i s a b l e d ' , f a l s e ) ; } ) ; } , _ o n S u b m i t B u t t o n C l i c k : f u n c t i o n ( ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { } ) ; } , _ u p d a t e A t t a c h m e n t s : f u n c t i o n ( ) { t h i s . $ a t t a c h m e n t I d s . v a l ( _ . p l u c k ( t h i s . a t t a c h m e n t s , ' i d ' ) ) ; t h i s . $ a t t a c h m e n t T o k e n s . v a l ( _ . p l u c k ( t h i s . a t t a c h m e n t s , ' a c c e s s _ t o k e n ' ) ) ; t h i s . $ a t t a c h m e n t s . h t m l ( q w e b . r e n d e r ( ' p o r t a l . C h a t t e r . A t t a c h m e n t s ' , { a t t a c h m e n t s : t h i s . a t t a c h m e n t s , s h o w D e l e t e : t r u e , } ) ) ; } , } ) ; r e t u r n { P o r t a l C o m p o s e r : P o r t a l C o m p o s e r , } ; } ) ; ; 
 
 / *   / p o r t a l / s t a t i c / s r c / j s / p o r t a l _ s i g n a t u r e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p o r t a l . s i g n a t u r e _ f o r m ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   N a m e A n d S i g n a t u r e = r e q u i r e ( ' w e b . n a m e _ a n d _ s i g n a t u r e ' ) . N a m e A n d S i g n a t u r e ; v a r   q w e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   S i g n a t u r e F o r m = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' p o r t a l . p o r t a l _ s i g n a t u r e ' , x m l D e p e n d e n c i e s : [ ' / p o r t a l / s t a t i c / s r c / x m l / p o r t a l _ s i g n a t u r e . x m l ' ] , e v e n t s : { ' c l i c k   . o _ p o r t a l _ s i g n _ s u b m i t ' : ' a s y n c   _ o n C l i c k S i g n S u b m i t ' , } , c u s t o m _ e v e n t s : { ' s i g n a t u r e _ c h a n g e d ' : ' _ o n C h a n g e S i g n a t u r e ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . c s r f _ t o k e n = o d o o . c s r f _ t o k e n ; t h i s . c a l l U r l = o p t i o n s . c a l l U r l | | ' ' ; t h i s . r p c P a r a m s = o p t i o n s . r p c P a r a m s | | { } ; t h i s . s e n d L a b e l = o p t i o n s . s e n d L a b e l | | _ t ( " A c c e p t   &   S i g n " ) ; t h i s . n a m e A n d S i g n a t u r e = n e w   N a m e A n d S i g n a t u r e ( t h i s , o p t i o n s . n a m e A n d S i g n a t u r e O p t i o n s | | { } ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ c o n f i r m _ b t n = t h i s . $ ( ' . o _ p o r t a l _ s i g n _ s u b m i t ' ) ; t h i s . $ c o n t r o l s = t h i s . $ ( ' . o _ p o r t a l _ s i g n _ c o n t r o l s ' ) ; v a r   s u b W i d g e t S t a r t = t h i s . n a m e A n d S i g n a t u r e . r e p l a c e ( t h i s . $ ( ' . o _ w e b _ s i g n _ n a m e _ a n d _ s i g n a t u r e ' ) ) ; r e t u r n   P r o m i s e . a l l ( [ s u b W i d g e t S t a r t , t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ) . t h e n ( f u n c t i o n ( ) { s e l f . n a m e A n d S i g n a t u r e . r e s e t S i g n a t u r e ( ) ; } ) ; } , f o c u s N a m e : f u n c t i o n ( ) { t h i s . n a m e A n d S i g n a t u r e . f o c u s N a m e ( ) ; } , r e s e t S i g n a t u r e : f u n c t i o n ( ) { r e t u r n   t h i s . n a m e A n d S i g n a t u r e . r e s e t S i g n a t u r e ( ) ; } , _ o n C l i c k S i g n S u b m i t : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; e v . p r e v e n t D e f a u l t ( ) ; i f ( ! t h i s . n a m e A n d S i g n a t u r e . v a l i d a t e S i g n a t u r e ( ) ) { r e t u r n ; } 
 v a r   n a m e = t h i s . n a m e A n d S i g n a t u r e . g e t N a m e ( ) ; v a r   s i g n a t u r e = t h i s . n a m e A n d S i g n a t u r e . g e t S i g n a t u r e I m a g e ( ) [ 1 ] ; r e t u r n   t h i s . _ r p c ( { r o u t e : t h i s . c a l l U r l , p a r a m s : _ . e x t e n d ( t h i s . r p c P a r a m s , { ' n a m e ' : n a m e , ' s i g n a t u r e ' : s i g n a t u r e , } ) , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a . e r r o r ) { s e l f . $ ( ' . o _ p o r t a l _ s i g n _ e r r o r _ m s g ' ) . r e m o v e ( ) ; s e l f . $ c o n t r o l s . p r e p e n d ( q w e b . r e n d e r ( ' p o r t a l . p o r t a l _ s i g n a t u r e _ e r r o r ' , { w i d g e t : d a t a } ) ) ; } e l s e   i f ( d a t a . s u c c e s s ) { v a r   $ s u c c e s s = q w e b . r e n d e r ( ' p o r t a l . p o r t a l _ s i g n a t u r e _ s u c c e s s ' , { w i d g e t : d a t a } ) ; s e l f . $ e l . e m p t y ( ) . a p p e n d ( $ s u c c e s s ) ; } 
 i f ( d a t a . f o r c e _ r e f r e s h ) { i f ( d a t a . r e d i r e c t _ u r l ) { w i n d o w . l o c a t i o n = d a t a . r e d i r e c t _ u r l ; } e l s e { w i n d o w . l o c a t i o n . r e l o a d ( ) ; } 
 r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } } ) ; } , _ o n C h a n g e S i g n a t u r e : f u n c t i o n ( ) { v a r   i s E m p t y = t h i s . n a m e A n d S i g n a t u r e . i s S i g n a t u r e E m p t y ( ) ; t h i s . $ c o n f i r m _ b t n . p r o p ( ' d i s a b l e d ' , i s E m p t y ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . S i g n a t u r e F o r m = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ s i g n a t u r e _ f o r m ' , s t a r t : f u n c t i o n ( ) { v a r   h a s B e e n R e s e t = f a l s e ; v a r   c a l l U r l = t h i s . $ e l . d a t a ( ' c a l l - u r l ' ) ; v a r   n a m e A n d S i g n a t u r e O p t i o n s = { d e f a u l t N a m e : t h i s . $ e l . d a t a ( ' d e f a u l t - n a m e ' ) , m o d e : t h i s . $ e l . d a t a ( ' m o d e ' ) , d i s p l a y S i g n a t u r e R a t i o : t h i s . $ e l . d a t a ( ' s i g n a t u r e - r a t i o ' ) , s i g n a t u r e T y p e : t h i s . $ e l . d a t a ( ' s i g n a t u r e - t y p e ' ) , f o n t C o l o r : t h i s . $ e l . d a t a ( ' f o n t - c o l o r ' ) | | ' b l a c k ' , } ; v a r   s e n d L a b e l = t h i s . $ e l . d a t a ( ' s e n d - l a b e l ' ) ; v a r   f o r m = n e w   S i g n a t u r e F o r m ( t h i s , { c a l l U r l : c a l l U r l , n a m e A n d S i g n a t u r e O p t i o n s : n a m e A n d S i g n a t u r e O p t i o n s , s e n d L a b e l : s e n d L a b e l , } ) ; t h i s . $ e l . c l o s e s t ( ' . m o d a l ' ) . o n ( ' s h o w n . b s . m o d a l ' , f u n c t i o n ( e v ) { i f ( ! h a s B e e n R e s e t ) { h a s B e e n R e s e t = t r u e ; f o r m . r e s e t S i g n a t u r e ( ) ; } e l s e { f o r m . f o c u s N a m e ( ) ; } } ) ; r e t u r n   P r o m i s e . a l l ( [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , f o r m . a p p e n d T o ( t h i s . $ e l ) ] ) ; } , } ) ; r e t u r n { S i g n a t u r e F o r m : S i g n a t u r e F o r m , } ; } ) ; ; 
 
 / *   / p o r t a l / s t a t i c / s r c / j s / p o r t a l _ s i d e b a r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p o r t a l . P o r t a l S i d e b a r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   _ t = c o r e . _ t ; v a r   P o r t a l S i d e b a r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s t a r t : f u n c t i o n ( ) { t h i s . _ s e t D e l a y L a b e l ( ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ s e t D e l a y L a b e l : f u n c t i o n ( ) { v a r   $ s i d e b a r T i m e a g o = t h i s . $ e l . f i n d ( ' . o _ p o r t a l _ s i d e b a r _ t i m e a g o ' ) ; _ . e a c h ( $ s i d e b a r T i m e a g o , f u n c t i o n ( e l ) { v a r   d a t e T i m e = m o m e n t ( t i m e . a u t o _ s t r _ t o _ d a t e ( $ ( e l ) . a t t r ( ' d a t e t i m e ' ) ) ) , t o d a y = m o m e n t ( ) . s t a r t O f ( ' d a y ' ) , d i f f = d a t e T i m e . d i f f ( t o d a y , ' d a y s ' , t r u e ) , d i s p l a y S t r ; i f ( d i f f = = = 0 ) { d i s p l a y S t r = _ t ( ' D u e   t o d a y ' ) ; } e l s e   i f ( d i f f > 0 ) { d i s p l a y S t r = _ . s t r . s p r i n t f ( _ t ( ' D u e   i n   % d   d a y s ' ) , M a t h . a b s ( d i f f ) ) ; } e l s e { d i s p l a y S t r = _ . s t r . s p r i n t f ( _ t ( ' % d   d a y s   o v e r d u e ' ) , M a t h . a b s ( d i f f ) ) ; } 
 $ ( e l ) . t e x t ( d i s p l a y S t r ) ; } ) ; } , _ p r i n t I f r a m e C o n t e n t : f u n c t i o n ( h r e f ) { i f ( $ . b r o w s e r . m o z i l l a ) { w i n d o w . o p e n ( h r e f , ' _ b l a n k ' ) ; r e t u r n ; } 
 i f ( ! t h i s . p r i n t C o n t e n t ) { t h i s . p r i n t C o n t e n t = $ ( ' < i f r a m e   i d = " p r i n t _ i f r a m e _ c o n t e n t "   s r c = " ' + h r e f + ' "   s t y l e = " d i s p l a y : n o n e " > < / i f r a m e > ' ) ; t h i s . $ e l . a p p e n d ( t h i s . p r i n t C o n t e n t ) ; t h i s . p r i n t C o n t e n t . o n ( ' l o a d ' , f u n c t i o n ( ) { $ ( t h i s ) . g e t ( 0 ) . c o n t e n t W i n d o w . p r i n t ( ) ; } ) ; } e l s e { t h i s . p r i n t C o n t e n t . g e t ( 0 ) . c o n t e n t W i n d o w . p r i n t ( ) ; } } , } ) ; r e t u r n   P o r t a l S i d e b a r ; } ) ; ; 
 
 / *   / a u t h _ t o t p _ p o r t a l / s t a t i c / s r c / j s / t o t p _ f r o n t e n d . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' a u t h _ t o t p _ p o r t a l . b u t t o n ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t { _ t } = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; c o n s t { h a n d l e C h e c k I d e n t i t y } = r e q u i r e ( ' p o r t a l . p o r t a l ' ) ; f u n c t i o n   f r o m F i e l d ( f , r e c o r d ) { s w i t c h ( f . g e t A t t r i b u t e ( ' n a m e ' ) ) { c a s e ' q r c o d e ' : c o n s t   q r c o d e = d o c u m e n t . c r e a t e E l e m e n t ( ' i m g ' ) ; q r c o d e . s e t A t t r i b u t e ( ' c l a s s ' , ' i m g   i m g - f l u i d   o f f s e t - 1 ' ) ; q r c o d e . s e t A t t r i b u t e ( ' s r c ' , ' d a t a : i m a g e / p n g ; b a s e 6 4 , ' + r e c o r d [ ' q r c o d e ' ] ) ; r e t u r n   q r c o d e ; c a s e ' u r l ' : c o n s t   u r l = d o c u m e n t . c r e a t e E l e m e n t ( ' a ' ) ; u r l . s e t A t t r i b u t e ( ' h r e f ' , r e c o r d [ ' u r l ' ] ) ; u r l . t e x t C o n t e n t = f . g e t A t t r i b u t e ( ' t e x t ' ) | | r e c o r d [ ' u r l ' ] ; r e t u r n   u r l ; c a s e ' c o d e ' : c o n s t   c o d e = d o c u m e n t . c r e a t e E l e m e n t ( ' i n p u t ' ) ; c o d e . s e t A t t r i b u t e ( ' n a m e ' , ' c o d e ' ) ; c o d e . s e t A t t r i b u t e ( ' c l a s s ' , ' f o r m - c o n t r o l   c o l - 1 0   c o l - m d - 6 ' ) ; c o d e . s e t A t t r i b u t e ( ' p l a c e h o l d e r ' , ' 6 - d i g i t   c o d e ' ) ; c o d e . r e q u i r e d = t r u e ; c o d e . m a x L e n g t h = 6 ; c o d e . m i n L e n g t h = 6 ; r e t u r n   c o d e ; d e f a u l t : r e t u r n   d o c u m e n t . c r e a t e T e x t N o d e ( r e c o r d [ f . g e t A t t r i b u t e ( ' n a m e ' ) ] | | ' ' ) ; } } 
 f u n c t i o n   f i x u p V i e w B o d y ( o l d N o d e , r e c o r d ) { l e t   q r c o d e = n u l l , c o d e = n u l l , n o d e = n u l l ; s w i t c h ( o l d N o d e . n o d e T y p e ) { c a s e   1 : i f ( o l d N o d e . t a g N a m e = = = ' f i e l d ' ) { n o d e = f r o m F i e l d ( o l d N o d e , r e c o r d ) ; s w i t c h ( o l d N o d e . g e t A t t r i b u t e ( ' n a m e ' ) ) { c a s e ' q r c o d e ' : q r c o d e = n o d e ; b r e a k ; c a s e ' c o d e ' : c o d e = n o d e ; b r e a k } 
 b r e a k ; } 
 n o d e = d o c u m e n t . c r e a t e E l e m e n t ( o l d N o d e . t a g N a m e ) ; f o r ( l e t   i = 0 ; i < o l d N o d e . a t t r i b u t e s . l e n g t h ; + + i ) { c o n s t   a t t r = o l d N o d e . a t t r i b u t e s [ i ] ; n o d e . s e t A t t r i b u t e ( a t t r . n a m e , a t t r . v a l u e ) ; } 
 f o r ( l e t   j = 0 ; j < o l d N o d e . c h i l d N o d e s . l e n g t h ; + + j ) { c o n s t [ c h , q r , c o ] = f i x u p V i e w B o d y ( o l d N o d e . c h i l d N o d e s [ j ] , r e c o r d ) ; i f ( c h ) { n o d e . a p p e n d C h i l d ( c h ) ; } 
 i f ( q r ) { q r c o d e = q r ; } 
 i f ( c o ) { c o d e = c o ; } } 
 b r e a k ; c a s e   3 : c a s e   4 : n o d e = d o c u m e n t . c r e a t e T e x t N o d e ( o l d N o d e . d a t a ) ; b r e a k ; d e f a u l t : } 
 r e t u r n [ n o d e , q r c o d e , c o d e ] } 
 c l a s s   B u t t o n { c o n s t r u c t o r ( p a r e n t , m o d e l , r e c o r d _ i d , i n p u t _ n o d e , b u t t o n _ n o d e ) { t h i s . _ p a r e n t = p a r e n t ; t h i s . m o d e l = m o d e l ; t h i s . r e c o r d _ i d = r e c o r d _ i d ; t h i s . i n p u t = i n p u t _ n o d e ; t h i s . t e x t = b u t t o n _ n o d e . g e t A t t r i b u t e ( ' s t r i n g ' ) ; t h i s . c l a s s e s = b u t t o n _ n o d e . g e t A t t r i b u t e ( ' c l a s s ' ) | | n u l l ; t h i s . a c t i o n = b u t t o n _ n o d e . g e t A t t r i b u t e ( ' n a m e ' ) ; i f ( b u t t o n _ n o d e . g e t A t t r i b u t e ( ' s p e c i a l ' ) = = = ' c a n c e l ' ) { t h i s . c l o s e = t r u e ; t h i s . c l i c k = n u l l ; } e l s e { t h i s . c l o s e = f a l s e ; t h i s . c l i c k = t h i s . _ c l i c k . b i n d ( t h i s ) ; } } 
 a s y n c   _ c l i c k ( ) { i f ( ! t h i s . i n p u t . r e p o r t V a l i d i t y ( ) ) { t h i s . i n p u t . c l a s s L i s t . a d d ( ' i s - i n v a l i d ' ) ; r e t u r n ; } 
 t r y { a w a i t   t h i s . c a l l A c t i o n ( t h i s . r e c o r d _ i d , { c o d e : t h i s . i n p u t . v a l u e } ) ; } c a t c h ( e ) { t h i s . i n p u t . c l a s s L i s t . a d d ( ' i s - i n v a l i d ' ) ; t h i s . i n p u t . s e t C u s t o m V a l i d i t y ( e . m e s s a g e ) ; t h i s . i n p u t . r e p o r t V a l i d i t y ( ) ; r e t u r n ; } 
 t h i s . i n p u t . c l a s s L i s t . r e m o v e ( ' i s - i n v a l i d ' ) ; w i n d o w . l o c a t i o n = w i n d o w . l o c a t i o n ; } 
 a s y n c   c a l l A c t i o n ( i d , u p d a t e ) { t r y { a w a i t   t h i s . _ p a r e n t . _ r p c ( { m o d e l : t h i s . m o d e l , m e t h o d : ' w r i t e ' , a r g s : [ i d , u p d a t e ] } ) ; a w a i t   h a n d l e C h e c k I d e n t i t y ( t h i s . _ p a r e n t . p r o x y ( ' _ r p c ' ) , t h i s . _ p a r e n t . _ r p c ( { m o d e l : t h i s . m o d e l , m e t h o d : t h i s . a c t i o n , a r g s : [ i d ] } ) ) ; } c a t c h ( e ) { e . e v e n t . p r e v e n t D e f a u l t ( ) ; t h r o w   n e w   E r r o r ( ! e . m e s s a g e ? e . t o S t r i n g ( ) : ! e . m e s s a g e . d a t a ? e . m e s s a g e . m e s s a g e : e . m e s s a g e . d a t a . m e s s a g e | | _ t ( " O p e r a t i o n   f a i l e d   f o r   u n k n o w n   r e a s o n . " ) ) ; } } } 
 p u b l i c W i d g e t . r e g i s t r y . T O T P B u t t o n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # a u t h _ t o t p _ p o r t a l _ e n a b l e ' , e v e n t s : { c l i c k : ' _ o n C l i c k ' , } , a s y n c   _ o n C l i c k ( e ) { e . p r e v e n t D e f a u l t ( ) ; c o n s t   w = a w a i t   h a n d l e C h e c k I d e n t i t y ( t h i s . p r o x y ( ' _ r p c ' ) , t h i s . _ r p c ( { m o d e l : ' r e s . u s e r s ' , m e t h o d : ' t o t p _ e n a b l e _ w i z a r d ' , a r g s : [ t h i s . g e t S e s s i o n ( ) . u s e r _ i d ] } ) ) ; i f ( ! w ) { w i n d o w . l o c a t i o n = w i n d o w . l o c a t i o n ; r e t u r n ; } 
 c o n s t { r e s _ m o d e l : m o d e l , r e s _ i d : w i z a r d _ i d } = w ; c o n s t   r e c o r d = a w a i t   t h i s . _ r p c ( { m o d e l , m e t h o d : ' r e a d ' , a r g s : [ w i z a r d _ i d , [ ] ] } ) . t h e n ( a r = > a r [ 0 ] ) ; c o n s t   d o c = n e w   D O M P a r s e r ( ) . p a r s e F r o m S t r i n g ( d o c u m e n t . g e t E l e m e n t B y I d ( ' t o t p _ w i z a r d _ v i e w ' ) . t e x t C o n t e n t , ' a p p l i c a t i o n / x h t m l + x m l ' ) ; c o n s t   x m l B o d y = d o c . q u e r y S e l e c t o r ( ' s h e e t   * ' ) ; c o n s t [ b o d y , , c o d e I n p u t ] = f i x u p V i e w B o d y ( x m l B o d y , r e c o r d ) ; c o d e I n p u t . a d d E v e n t L i s t e n e r ( ' i n p u t ' , ( ) = > c o d e I n p u t . s e t C u s t o m V a l i d i t y ( ' ' ) ) ; c o n s t   b u t t o n s = [ ] ; f o r ( c o n s t   b u t t o n   o f   d o c . q u e r y S e l e c t o r A l l ( ' f o o t e r   b u t t o n ' ) ) { b u t t o n s . p u s h ( n e w   B u t t o n ( t h i s , m o d e l , r e c o r d . i d , c o d e I n p u t , b u t t o n ) ) ; } 
 c o n s t   $ c o n t e n t = d o c u m e n t . c r e a t e E l e m e n t ( ' f o r m ' ) ; $ c o n t e n t . a p p e n d C h i l d ( b o d y ) ; $ c o n t e n t . a d d E v e n t L i s t e n e r ( ' s u b m i t ' , ( e ) = > { e . p r e v e n t D e f a u l t ( ) ; d i a l o g . $ f o o t e r . f i n d ( ' . b t n - p r i m a r y ' ) . c l i c k ( ) ; } ) ; v a r   d i a l o g = n e w   D i a l o g ( t h i s , { $ c o n t e n t , b u t t o n s } ) . o p e n ( ) ; } } ) ; p u b l i c W i d g e t . r e g i s t r y . D i s a b l e T O T P B u t t o n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # a u t h _ t o t p _ p o r t a l _ d i s a b l e ' , e v e n t s : { c l i c k : ' _ o n C l i c k ' } , a s y n c   _ o n C l i c k ( e ) { e . p r e v e n t D e f a u l t ( ) ; a w a i t   h a n d l e C h e c k I d e n t i t y ( t h i s . p r o x y ( ' _ r p c ' ) , t h i s . _ r p c ( { m o d e l : ' r e s . u s e r s ' , m e t h o d : ' t o t p _ d i s a b l e ' , a r g s : [ t h i s . g e t S e s s i o n ( ) . u s e r _ i d ] } ) ) 
 w i n d o w . l o c a t i o n = w i n d o w . l o c a t i o n ; } } ) ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / s e t _ v i e w _ t r a c k . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s e t _ v i e w _ t r a c k ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   C u s t o m i z e M e n u = r e q u i r e ( ' w e b s i t e . c u s t o m i z e M e n u ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   T r a c k P a g e = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . t r a c k _ p a g e ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / t r a c k _ p a g e . x m l ' ] , e v e n t s : { ' c h a n g e   # s w i t c h - t r a c k - p a g e ' : ' _ o n T r a c k C h a n g e ' , } , s t a r t : f u n c t i o n ( ) { t h i s . $ i n p u t = t h i s . $ ( ' # s w i t c h - t r a c k - p a g e ' ) ; t h i s . _ i s T r a c k e d ( ) . t h e n ( ( d a t a ) = > { i f ( d a t a [ 0 ] [ ' t r a c k ' ] ) { t h i s . t r a c k = t r u e ; t h i s . $ i n p u t . a t t r ( ' c h e c k e d ' , ' c h e c k e d ' ) ; } e l s e { t h i s . t r a c k = f a l s e ; } } ) ; } , _ i s T r a c k e d : f u n c t i o n ( v a l ) { v a r   v i e w i d = $ ( ' h t m l ' ) . d a t a ( ' v i e w i d ' ) ; i f ( ! v i e w i d ) { r e t u r n   P r o m i s e . r e j e c t ( ) ; } e l s e { r e t u r n   t h i s . _ r p c ( { m o d e l : ' i r . u i . v i e w ' , m e t h o d : ' r e a d ' , a r g s : [ [ v i e w i d ] , [ ' t r a c k ' ] ] , } ) ; } } , _ o n T r a c k C h a n g e : f u n c t i o n ( e v ) { v a r   c h e c k b o x V a l u e = t h i s . $ i n p u t . i s ( ' : c h e c k e d ' ) ; i f ( c h e c k b o x V a l u e ! = = t h i s . t r a c k ) { t h i s . t r a c k = c h e c k b o x V a l u e ; t h i s . _ t r a c k P a g e ( c h e c k b o x V a l u e ) ; } } , _ t r a c k P a g e : f u n c t i o n ( v a l ) { v a r   v i e w i d = $ ( ' h t m l ' ) . d a t a ( ' v i e w i d ' ) ; i f ( ! v i e w i d ) { r e t u r n   P r o m i s e . r e j e c t ( ) ; } e l s e { r e t u r n   t h i s . _ r p c ( { m o d e l : ' i r . u i . v i e w ' , m e t h o d : ' w r i t e ' , a r g s : [ [ v i e w i d ] , { t r a c k : v a l } ] , } ) ; } } , } ) ; C u s t o m i z e M e n u . i n c l u d e ( { _ l o a d C u s t o m i z e O p t i o n s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   d e f . t h e n ( f u n c t i o n ( ) { i f ( ! s e l f . _ _ t r a c k p a g e L o a d e d ) { s e l f . _ _ t r a c k p a g e L o a d e d = t r u e ; s e l f . t r a c k P a g e = n e w   T r a c k P a g e ( s e l f ) ; s e l f . t r a c k P a g e . a p p e n d T o ( s e l f . $ e l . c h i l d r e n ( ' . d r o p d o w n - m e n u ' ) ) ; } } ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / u t i l s . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . u t i l s ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   q w e b = c o r e . q w e b ; f u n c t i o n   l o a d A n c h o r s ( u r l ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { i f ( u r l ! = = w i n d o w . l o c a t i o n . p a t h n a m e & & u r l [ 0 ] ! = = ' # ' ) { $ . g e t ( w i n d o w . l o c a t i o n . o r i g i n + u r l ) . t h e n ( r e s o l v e , r e j e c t ) ; } e l s e { r e s o l v e ( d o c u m e n t . b o d y . o u t e r H T M L ) ; } } ) . t h e n ( f u n c t i o n ( r e s p o n s e ) { r e t u r n   _ . m a p ( $ ( r e s p o n s e ) . f i n d ( ' [ i d ] [ d a t a - a n c h o r = t r u e ] ' ) , f u n c t i o n ( e l ) { r e t u r n ' # ' + e l . i d ; } ) ; } ) ; } 
 f u n c t i o n   a u t o c o m p l e t e W i t h P a g e s ( s e l f , $ i n p u t ) { $ . w i d g e t ( " w e b s i t e . u r l c o m p l e t e " , $ . u i . a u t o c o m p l e t e , { _ c r e a t e : f u n c t i o n ( ) { t h i s . _ s u p e r ( ) ; t h i s . w i d g e t ( ) . m e n u ( " o p t i o n " , " i t e m s " , " >   : n o t ( . u i - a u t o c o m p l e t e - c a t e g o r y ) " ) ; } , _ r e n d e r M e n u : f u n c t i o n ( u l , i t e m s ) { c o n s t   s e l f = t h i s ; i t e m s . f o r E a c h ( i t e m = > { i f ( i t e m . s e p a r a t o r ) { s e l f . _ r e n d e r S e p a r a t o r ( u l , i t e m ) ; } 
 e l s e { s e l f . _ r e n d e r I t e m ( u l , i t e m ) ; } } ) ; } , _ r e n d e r S e p a r a t o r : f u n c t i o n ( u l , i t e m ) { r e t u r n   $ ( " < l i   c l a s s = ' u i - a u t o c o m p l e t e - c a t e g o r y   f o n t - w e i g h t - b o l d   t e x t - c a p i t a l i z e   m - 2 ' > " ) . a p p e n d ( ` < d i v > $ { i t e m . s e p a r a t o r } < / d i v > ` ) . a p p e n d T o ( u l ) ; } , _ r e n d e r I t e m : f u n c t i o n ( u l , i t e m ) { r e t u r n   $ ( " < l i > " ) . d a t a ( ' u i - a u t o c o m p l e t e - i t e m ' , i t e m ) . a p p e n d ( ` < d i v > $ { i t e m . l a b e l } < / d i v > ` ) . a p p e n d T o ( u l ) ; } , } ) ; $ i n p u t . u r l c o m p l e t e ( { s o u r c e : f u n c t i o n ( r e q u e s t , r e s p o n s e ) { i f ( r e q u e s t . t e r m [ 0 ] = = = ' # ' ) { l o a d A n c h o r s ( r e q u e s t . t e r m ) . t h e n ( f u n c t i o n ( a n c h o r s ) { r e s p o n s e ( a n c h o r s ) ; } ) ; } e l s e { r e t u r n   s e l f . _ r p c ( { r o u t e : ' / w e b s i t e / g e t _ s u g g e s t e d _ l i n k s ' , p a r a m s : { n e e d l e : r e q u e s t . t e r m , l i m i t : 1 5 , } } ) . t h e n ( f u n c t i o n ( r e s ) { l e t   c h o i c e s = r e s . m a t c h i n g _ p a g e s ; r e s . o t h e r s . f o r E a c h ( o t h e r = > { i f ( o t h e r . v a l u e s . l e n g t h ) { c h o i c e s = c h o i c e s . c o n c a t ( [ { s e p a r a t o r : o t h e r . t i t l e } ] , o t h e r . v a l u e s , ) ; } } ) ; r e s p o n s e ( c h o i c e s ) ; } ) ; } } , c l o s e : f u n c t i o n ( ) { s e l f . t r i g g e r _ u p ( ' w e b s i t e _ u r l _ c h o s e n ' ) ; } , } ) ; } 
 f u n c t i o n   o n c e A l l I m a g e s L o a d e d ( $ e l e m e n t , $ e x c l u d e d ) { v a r   d e f s = _ . m a p ( $ e l e m e n t . f i n d ( ' i m g ' ) . a d d B a c k ( ' i m g ' ) , f u n c t i o n ( i m g ) { i f ( i m g . c o m p l e t e | | $ e x c l u d e d & & ( $ e x c l u d e d . i s ( i m g ) | | $ e x c l u d e d . h a s ( i m g ) . l e n g t h ) ) { r e t u r n ; } 
 v a r   d e f = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { $ ( i m g ) . o n e ( ' l o a d ' , f u n c t i o n ( ) { r e s o l v e ( ) ; } ) ; } ) ; r e t u r n   d e f ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } 
 f u n c t i o n   p r o m p t ( o p t i o n s , _ q w e b ) { i f ( t y p e o f   o p t i o n s = = = ' s t r i n g ' ) { o p t i o n s = { t e x t : o p t i o n s } ; } 
 v a r   x m l D e f ; i f ( _ . i s U n d e f i n e d ( _ q w e b ) ) { _ q w e b = ' w e b s i t e . p r o m p t ' ; x m l D e f = a j a x . l o a d X M L ( ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . x m l ' , c o r e . q w e b ) ; } 
 o p t i o n s = _ . e x t e n d ( { w i n d o w _ t i t l e : ' ' , f i e l d _ n a m e : ' ' , ' d e f a u l t ' : ' ' , i n i t : f u n c t i o n ( ) { } , } , o p t i o n s | | { } ) ; v a r   t y p e = _ . i n t e r s e c t i o n ( O b j e c t . k e y s ( o p t i o n s ) , [ ' i n p u t ' , ' t e x t a r e a ' , ' s e l e c t ' ] ) ; t y p e = t y p e . l e n g t h ? t y p e [ 0 ] : ' i n p u t ' ; o p t i o n s . f i e l d _ t y p e = t y p e ; o p t i o n s . f i e l d _ n a m e = o p t i o n s . f i e l d _ n a m e | | o p t i o n s [ t y p e ] ; v a r   d e f = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { P r o m i s e . r e s o l v e ( x m l D e f ) . t h e n ( f u n c t i o n ( ) { v a r   d i a l o g = $ ( q w e b . r e n d e r ( _ q w e b , o p t i o n s ) ) . a p p e n d T o ( ' b o d y ' ) ; o p t i o n s . $ d i a l o g = d i a l o g ; v a r   f i e l d = d i a l o g . f i n d ( o p t i o n s . f i e l d _ t y p e ) . f i r s t ( ) ; f i e l d . v a l ( o p t i o n s [ ' d e f a u l t ' ] ) ; f i e l d . f i l l W i t h = f u n c t i o n ( d a t a ) { i f ( f i e l d . i s ( ' s e l e c t ' ) ) { v a r   s e l e c t = f i e l d [ 0 ] ; d a t a . f o r E a c h ( f u n c t i o n ( i t e m ) { s e l e c t . o p t i o n s [ s e l e c t . o p t i o n s . l e n g t h ] = n e w   w i n d o w . O p t i o n ( i t e m [ 1 ] , i t e m [ 0 ] ) ; } ) ; } e l s e { f i e l d . v a l ( d a t a ) ; } } ; v a r   i n i t = o p t i o n s . i n i t ( f i e l d , d i a l o g ) ; P r o m i s e . r e s o l v e ( i n i t ) . t h e n ( f u n c t i o n ( f i l l ) { i f ( f i l l ) { f i e l d . f i l l W i t h ( f i l l ) ; } 
 d i a l o g . m o d a l ( ' s h o w ' ) ; f i e l d . f o c u s ( ) ; d i a l o g . o n ( ' c l i c k ' , ' . b t n - p r i m a r y ' , f u n c t i o n ( ) { v a r   b a c k d r o p = $ ( ' . m o d a l - b a c k d r o p ' ) ; r e s o l v e ( { v a l : f i e l d . v a l ( ) , f i e l d : f i e l d , d i a l o g : d i a l o g } ) ; d i a l o g . m o d a l ( ' h i d e ' ) . r e m o v e ( ) ; b a c k d r o p . r e m o v e ( ) ; } ) ; } ) ; d i a l o g . o n ( ' h i d d e n . b s . m o d a l ' , f u n c t i o n ( ) { v a r   b a c k d r o p = $ ( ' . m o d a l - b a c k d r o p ' ) ; r e j e c t ( ) ; d i a l o g . r e m o v e ( ) ; b a c k d r o p . r e m o v e ( ) ; } ) ; i f ( f i e l d . i s ( ' i n p u t [ t y p e = " t e x t " ] ,   s e l e c t ' ) ) { f i e l d . k e y p r e s s ( f u n c t i o n ( e ) { i f ( e . w h i c h = = = 1 3 ) { e . p r e v e n t D e f a u l t ( ) ; d i a l o g . f i n d ( ' . b t n - p r i m a r y ' ) . t r i g g e r ( ' c l i c k ' ) ; } } ) ; } } ) ; } ) ; r e t u r n   d e f ; } 
 f u n c t i o n   w e b s i t e D o m a i n ( s e l f ) { v a r   w e b s i t e I D ; s e l f . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { w e b s i t e I D = c t x [ ' w e b s i t e _ i d ' ] ; } , } ) ; r e t u r n [ ' | ' , [ ' w e b s i t e _ i d ' , ' = ' , f a l s e ] , [ ' w e b s i t e _ i d ' , ' = ' , w e b s i t e I D ] ] ; } 
 f u n c t i o n   s e n d R e q u e s t ( r o u t e , p a r a m s ) { f u n c t i o n   _ a d d I n p u t ( f o r m , n a m e , v a l u e ) { l e t   p a r a m = d o c u m e n t . c r e a t e E l e m e n t ( ' i n p u t ' ) ; p a r a m . s e t A t t r i b u t e ( ' t y p e ' , ' h i d d e n ' ) ; p a r a m . s e t A t t r i b u t e ( ' n a m e ' , n a m e ) ; p a r a m . s e t A t t r i b u t e ( ' v a l u e ' , v a l u e ) ; f o r m . a p p e n d C h i l d ( p a r a m ) ; } 
 l e t   f o r m = d o c u m e n t . c r e a t e E l e m e n t ( ' f o r m ' ) ; f o r m . s e t A t t r i b u t e ( ' a c t i o n ' , r o u t e ) ; f o r m . s e t A t t r i b u t e ( ' m e t h o d ' , p a r a m s . m e t h o d | | ' P O S T ' ) ; i f ( c o r e . c s r f _ t o k e n ) { _ a d d I n p u t ( f o r m , ' c s r f _ t o k e n ' , c o r e . c s r f _ t o k e n ) ; } 
 f o r ( c o n s t   k e y   i n   p a r a m s ) { c o n s t   v a l u e = p a r a m s [ k e y ] ; i f ( A r r a y . i s A r r a y ( v a l u e ) & & v a l u e . l e n g t h ) { f o r ( c o n s t   v a l   o f   v a l u e ) { _ a d d I n p u t ( f o r m , k e y , v a l ) ; } } e l s e { _ a d d I n p u t ( f o r m , k e y , v a l u e ) ; } } 
 d o c u m e n t . b o d y . a p p e n d C h i l d ( f o r m ) ; f o r m . s u b m i t ( ) ; } 
 r e t u r n { l o a d A n c h o r s : l o a d A n c h o r s , a u t o c o m p l e t e W i t h P a g e s : a u t o c o m p l e t e W i t h P a g e s , o n c e A l l I m a g e s L o a d e d : o n c e A l l I m a g e s L o a d e d , p r o m p t : p r o m p t , s e n d R e q u e s t : s e n d R e q u e s t , w e b s i t e D o m a i n : w e b s i t e D o m a i n , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / c o n t e n t / w e b s i t e _ r o o t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . r o o t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; c o n s t { _ t } = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; c o n s t   K e y b o a r d N a v i g a t i o n M i x i n = r e q u i r e ( ' w e b . K e y b o a r d N a v i g a t i o n M i x i n ' ) ; c o n s t   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   p u b l i c R o o t D a t a = r e q u i r e ( ' w e b . p u b l i c . r o o t ' ) ; r e q u i r e ( " w e b . z o o m o d o o " ) ; v a r   w e b s i t e R o o t R e g i s t r y = p u b l i c R o o t D a t a . p u b l i c R o o t R e g i s t r y ; v a r   W e b s i t e R o o t = p u b l i c R o o t D a t a . P u b l i c R o o t . e x t e n d ( K e y b o a r d N a v i g a t i o n M i x i n , { e v e n t s : _ . e x t e n d ( { } , K e y b o a r d N a v i g a t i o n M i x i n . e v e n t s , p u b l i c R o o t D a t a . P u b l i c R o o t . p r o t o t y p e . e v e n t s | | { } , { ' c l i c k   . j s _ c h a n g e _ l a n g ' : ' _ o n L a n g C h a n g e C l i c k ' , ' c l i c k   . j s _ p u b l i s h _ m a n a g e m e n t   . j s _ p u b l i s h _ b t n ' : ' _ o n P u b l i s h B t n C l i c k ' , ' c l i c k   . j s _ m u l t i _ w e b s i t e _ s w i t c h ' : ' _ o n W e b s i t e S w i t c h ' , ' s h o w n . b s . m o d a l ' : ' _ o n M o d a l S h o w n ' , } ) , c u s t o m _ e v e n t s : _ . e x t e n d ( { } , p u b l i c R o o t D a t a . P u b l i c R o o t . p r o t o t y p e . c u s t o m _ e v e n t s | | { } , { ' g m a p _ a p i _ r e q u e s t ' : ' _ o n G M a p A P I R e q u e s t ' , ' g m a p _ a p i _ k e y _ r e q u e s t ' : ' _ o n G M a p A P I K e y R e q u e s t ' , ' r e a d y _ t o _ c l e a n _ f o r _ s a v e ' : ' _ o n W i d g e t s S t o p R e q u e s t ' , ' s e o _ o b j e c t _ r e q u e s t ' : ' _ o n S e o O b j e c t R e q u e s t ' , } ) , i n i t ( ) { t h i s . i s F u l l s c r e e n = f a l s e ; K e y b o a r d N a v i g a t i o n M i x i n . i n i t . c a l l ( t h i s , { a u t o A c c e s s K e y s : f a l s e , } ) ; r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , s t a r t : f u n c t i o n ( ) { K e y b o a r d N a v i g a t i o n M i x i n . s t a r t . c a l l ( t h i s ) ; i f ( ! t h i s . $ ( ' . j s _ c h a n g e _ l a n g ' ) . l e n g t h ) { v a r   $ l i n k s = t h i s . $ ( ' . j s _ l a n g u a g e _ s e l e c t o r   a : n o t ( [ d a t a - o e - i d ] ) ' ) ; v a r   m = $ ( _ . m i n ( $ l i n k s , f u n c t i o n ( l ) { r e t u r n   $ ( l ) . a t t r ( ' h r e f ' ) . l e n g t h ; } ) ) . a t t r ( ' h r e f ' ) ; $ l i n k s . e a c h ( f u n c t i o n ( ) { v a r   $ l i n k = $ ( t h i s ) ; v a r   t = $ l i n k . a t t r ( ' h r e f ' ) ; v a r   l = ( t = = = m ) ? " d e f a u l t " : t . s p l i t ( ' / ' ) [ 1 ] ; $ l i n k . d a t a ( ' l a n g ' , l ) . a d d C l a s s ( ' j s _ c h a n g e _ l a n g ' ) ; } ) ; } 
 t h i s . $ ( ' . z o o m a b l e   i m g [ d a t a - z o o m ] ' ) . z o o m O d o o ( ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d e s t r o y ( ) { K e y b o a r d N a v i g a t i o n M i x i n . d e s t r o y . c a l l ( t h i s ) ; r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ g e t C o n t e x t : f u n c t i o n ( c o n t e x t ) { v a r   h t m l = d o c u m e n t . d o c u m e n t E l e m e n t ; r e t u r n   _ . e x t e n d ( { ' w e b s i t e _ i d ' : h t m l . g e t A t t r i b u t e ( ' d a t a - w e b s i t e - i d ' ) | 0 , } , t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ) ; } , _ g e t E x t r a C o n t e x t : f u n c t i o n ( c o n t e x t ) { v a r   h t m l = d o c u m e n t . d o c u m e n t E l e m e n t ; r e t u r n   _ . e x t e n d ( { ' e d i t a b l e ' : ! ! ( h t m l . d a t a s e t . e d i t a b l e | | $ ( ' [ d a t a - o e - m o d e l ] ' ) . l e n g t h ) , ' t r a n s l a t a b l e ' : ! ! h t m l . d a t a s e t . t r a n s l a t a b l e , ' e d i t _ t r a n s l a t i o n s ' : ! ! h t m l . d a t a s e t . e d i t _ t r a n s l a t i o n s , } , t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ) ; } , a s y n c   _ g e t G M a p A P I K e y ( r e f e t c h ) { i f ( r e f e t c h | | ! t h i s . _ g m a p A P I K e y P r o m ) { t h i s . _ g m a p A P I K e y P r o m = n e w   P r o m i s e ( a s y n c   r e s o l v e = > { c o n s t   d a t a = a w a i t   t h i s . _ r p c ( { r o u t e : ' / w e b s i t e / g o o g l e _ m a p s _ a p i _ k e y ' , } ) ; r e s o l v e ( J S O N . p a r s e ( d a t a ) . g o o g l e _ m a p s _ a p i _ k e y | | ' ' ) ; } ) ; } 
 r e t u r n   t h i s . _ g m a p A P I K e y P r o m ; } , _ g e t P u b l i c W i d g e t s R e g i s t r y : f u n c t i o n ( o p t i o n s ) { v a r   r e g i s t r y = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( o p t i o n s . e d i t a b l e M o d e ) { r e t u r n   _ . p i c k ( r e g i s t r y , f u n c t i o n ( P u b l i c W i d g e t ) { r e t u r n ! P u b l i c W i d g e t . p r o t o t y p e . d i s a b l e d I n E d i t a b l e M o d e ; } ) ; } 
 r e t u r n   r e g i s t r y ; } , a s y n c   _ l o a d G M a p A P I ( e d i t a b l e M o d e , r e f e t c h ) { i f ( r e f e t c h | | ! t h i s . _ g m a p A P I L o a d i n g ) { t h i s . _ g m a p A P I L o a d i n g = n e w   P r o m i s e ( a s y n c   r e s o l v e = > { c o n s t   k e y = a w a i t   t h i s . _ g e t G M a p A P I K e y ( r e f e t c h ) ; w i n d o w . o d o o _ g m a p _ a p i _ p o s t _ l o a d = ( a s y n c   f u n c t i o n   o d o o _ g m a p _ a p i _ p o s t _ l o a d ( ) { a w a i t   t h i s . _ s t a r t W i d g e t s ( u n d e f i n e d , { e d i t a b l e M o d e : e d i t a b l e M o d e } ) ; r e s o l v e ( k e y ) ; } ) . b i n d ( t h i s ) ; i f ( ! k e y ) { i f ( ! e d i t a b l e M o d e & & s e s s i o n . i s _ a d m i n ) { t h i s . d i s p l a y N o t i f i c a t i o n ( { t y p e : ' w a r n i n g ' , s t i c k y : t r u e , m e s s a g e : $ ( ' < d i v / > ' ) . a p p e n d ( $ ( ' < s p a n / > ' , { t e x t : _ t ( " C a n n o t   l o a d   g o o g l e   m a p . " ) } ) , $ ( ' < b r / > ' ) , $ ( ' < a / > ' , { h r e f : " / w e b # a c t i o n = w e b s i t e . a c t i o n _ w e b s i t e _ c o n f i g u r a t i o n " , t e x t : _ t ( " C h e c k   y o u r   c o n f i g u r a t i o n . " ) , } ) , ) [ 0 ] . o u t e r H T M L , } ) ; } 
 r e s o l v e ( f a l s e ) ; t h i s . _ g m a p A P I L o a d i n g = f a l s e ; r e t u r n ; } 
 a w a i t   a j a x . l o a d J S ( ` h t t p s : / / m a p s . g o o g l e a p i s . c o m / m a p s / a p i / j s ? v = 3 . e x p & l i b r a r i e s = p l a c e s & c a l l b a c k = o d o o _ g m a p _ a p i _ p o s t _ l o a d & k e y = $ { k e y } ` ) ; } ) ; } 
 r e t u r n   t h i s . _ g m a p A P I L o a d i n g ; } , _ t o g g l e F u l l s c r e e n ( s t a t e ) { t h i s . i s F u l l s c r e e n = s t a t e ; d o c u m e n t . b o d y . c l a s s L i s t . a d d ( ' o _ f u l l s c r e e n _ t r a n s i t i o n ' ) ; d o c u m e n t . b o d y . c l a s s L i s t . t o g g l e ( ' o _ f u l l s c r e e n ' , t h i s . i s F u l l s c r e e n ) ; d o c u m e n t . b o d y . s t y l e . o v e r f l o w X = ' h i d d e n ' ; l e t   r e s i z i n g = t r u e ; w i n d o w . r e q u e s t A n i m a t i o n F r a m e ( f u n c t i o n   r e s i z e F u n c t i o n ( ) { w i n d o w . d i s p a t c h E v e n t ( n e w   E v e n t ( ' r e s i z e ' ) ) ; i f ( r e s i z i n g ) { w i n d o w . r e q u e s t A n i m a t i o n F r a m e ( r e s i z e F u n c t i o n ) ; } } ) ; l e t   s t o p R e s i z i n g ; c o n s t   o n T r a n s i t i o n E n d = e v = > { i f ( e v . t a r g e t = = = d o c u m e n t . b o d y & & e v . p r o p e r t y N a m e = = = ' p a d d i n g - t o p ' ) { s t o p R e s i z i n g ( ) ; } } ; s t o p R e s i z i n g = ( ) = > { r e s i z i n g = f a l s e ; d o c u m e n t . b o d y . s t y l e . o v e r f l o w X = ' ' ; d o c u m e n t . b o d y . r e m o v e E v e n t L i s t e n e r ( ' t r a n s i t i o n e n d ' , o n T r a n s i t i o n E n d ) ; d o c u m e n t . b o d y . c l a s s L i s t . r e m o v e ( ' o _ f u l l s c r e e n _ t r a n s i t i o n ' ) ; } ; d o c u m e n t . b o d y . a d d E v e n t L i s t e n e r ( ' t r a n s i t i o n e n d ' , o n T r a n s i t i o n E n d ) ; w i n d o w . s e t T i m e o u t ( ( ) = > s t o p R e s i z i n g ( ) , 5 0 0 ) ; } , _ o n W i d g e t s S t a r t R e q u e s t : f u n c t i o n ( e v ) { e v . d a t a . o p t i o n s = _ . c l o n e ( e v . d a t a . o p t i o n s | | { } ) ; e v . d a t a . o p t i o n s . e d i t a b l e M o d e = e v . d a t a . e d i t a b l e M o d e ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ o n L a n g C h a n g e C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   $ t a r g e t = $ ( e v . c u r r e n t T a r g e t ) ; v a r   r e d i r e c t = { l a n g : $ t a r g e t . d a t a ( ' u r l _ c o d e ' ) , u r l : e n c o d e U R I C o m p o n e n t ( $ t a r g e t . a t t r ( ' h r e f ' ) . r e p l a c e ( / [ & ? ] e d i t _ t r a n s l a t i o n s [ ^ & ? ] + / , ' ' ) ) , h a s h : e n c o d e U R I C o m p o n e n t ( w i n d o w . l o c a t i o n . h a s h ) } ; w i n d o w . l o c a t i o n . h r e f = _ . s t r . s p r i n t f ( " / w e b s i t e / l a n g / % ( l a n g ) s ? r = % ( u r l ) s % ( h a s h ) s " , r e d i r e c t ) ; } , a s y n c   _ o n G M a p A P I R e q u e s t ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; c o n s t   a p i K e y = a w a i t   t h i s . _ l o a d G M a p A P I ( e v . d a t a . e d i t a b l e M o d e , e v . d a t a . r e f e t c h ) ; e v . d a t a . o n S u c c e s s ( a p i K e y ) ; } , a s y n c   _ o n G M a p A P I K e y R e q u e s t ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; c o n s t   a p i K e y = a w a i t   t h i s . _ g e t G M a p A P I K e y ( e v . d a t a . r e f e t c h ) ; e v . d a t a . o n S u c c e s s ( a p i K e y ) ; } , _ o n S e o O b j e c t R e q u e s t : f u n c t i o n ( e v ) { v a r   r e s = t h i s . _ u n s l u g H t m l D a t a O b j e c t ( ' s e o - o b j e c t ' ) ; e v . d a t a . c a l l b a c k ( r e s ) ; } , _ u n s l u g H t m l D a t a O b j e c t : f u n c t i o n ( d a t a A t t r ) { v a r   r e p r = $ ( ' h t m l ' ) . d a t a ( d a t a A t t r ) ; v a r   m a t c h = r e p r & & r e p r . m a t c h ( / ( . + ) \ ( ( \ d + ) , ( . * ) \ ) / ) ; i f ( ! m a t c h ) { r e t u r n   n u l l ; } 
 r e t u r n { m o d e l : m a t c h [ 1 ] , i d : m a t c h [ 2 ] | 0 , } ; } , _ o n P u b l i s h B t n C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; i f ( d o c u m e n t . b o d y . c l a s s L i s t . c o n t a i n s ( ' e d i t o r _ e n a b l e ' ) ) { r e t u r n ; } 
 v a r   s e l f = t h i s ; v a r   $ d a t a = $ ( e v . c u r r e n t T a r g e t ) . p a r e n t s ( " . j s _ p u b l i s h _ m a n a g e m e n t : f i r s t " ) ; t h i s . _ r p c ( { r o u t e : $ d a t a . d a t a ( ' c o n t r o l l e r ' ) | | ' / w e b s i t e / p u b l i s h ' , p a r a m s : { i d : + $ d a t a . d a t a ( ' i d ' ) , o b j e c t : $ d a t a . d a t a ( ' o b j e c t ' ) , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { $ d a t a . t o g g l e C l a s s ( " c s s _ u n p u b l i s h e d   c s s _ p u b l i s h e d " ) ; $ d a t a . f i n d ( ' i n p u t ' ) . p r o p ( " c h e c k e d " , r e s u l t ) ; $ d a t a . p a r e n t s ( " [ d a t a - p u b l i s h ] " ) . a t t r ( " d a t a - p u b l i s h " , + r e s u l t ? ' o n ' : ' o f f ' ) ; i f ( r e s u l t ) { s e l f . d i s p l a y N o t i f i c a t i o n ( { t y p e : ' s u c c e s s ' , m e s s a g e : $ d a t a . d a t a ( ' d e s c r i p t i o n ' ) ? _ . s t r . s p r i n t f ( _ t ( " Y o u ' v e   p u b l i s h e d   y o u r   % s . " ) , $ d a t a . d a t a ( ' d e s c r i p t i o n ' ) ) : _ t ( " P u b l i s h e d   w i t h   s u c c e s s . " ) , } ) ; } } ) . g u a r d e d C a t c h ( f u n c t i o n ( e r r , d a t a ) { d a t a = d a t a | | { s t a t u s T e x t : e r r . m e s s a g e . m e s s a g e } ; r e t u r n   n e w   D i a l o g ( s e l f , { t i t l e : d a t a . d a t a ? d a t a . d a t a . a r g u m e n t s [ 0 ] : " " , $ c o n t e n t : $ ( ' < d i v / > ' , { h t m l : ( d a t a . d a t a ? d a t a . d a t a . a r g u m e n t s [ 1 ] : d a t a . s t a t u s T e x t ) 
 + ' < b r / > ' 
 + _ . s t r . s p r i n t f ( _ t ( ' I t   m i g h t   b e   p o s s i b l e   t o   e d i t   t h e   r e l e v a n t   i t e m s   o r   f i x   t h e   i s s u e   i n   < a   h r e f = " % s " > t h e   c l a s s i c   O d o o   i n t e r f a c e < / a > ' ) , ' / w e b # m o d e l = ' + $ d a t a . d a t a ( ' o b j e c t ' ) + ' & i d = ' + $ d a t a . d a t a ( ' i d ' ) ) , } ) , } ) . o p e n ( ) ; } ) ; } , _ o n W e b s i t e S w i t c h : f u n c t i o n ( e v ) { v a r   w e b s i t e I d = e v . c u r r e n t T a r g e t . g e t A t t r i b u t e ( ' w e b s i t e - i d ' ) ; v a r   w e b s i t e D o m a i n = e v . c u r r e n t T a r g e t . g e t A t t r i b u t e ( ' d o m a i n ' ) ; v a r   u r l = w i n d o w . l o c a t i o n . h r e f ; i f ( w e b s i t e D o m a i n & & w i n d o w . l o c a t i o n . h o s t n a m e ! = = w e b s i t e D o m a i n ) { v a r   p a t h = w i n d o w . l o c a t i o n . p a t h n a m e + w i n d o w . l o c a t i o n . s e a r c h + w i n d o w . l o c a t i o n . h a s h ; u r l = w e b s i t e D o m a i n + p a t h ; } 
 w i n d o w . l o c a t i o n . h r e f = $ . p a r a m . q u e r y s t r i n g ( u r l , { ' f w ' : w e b s i t e I d } ) ; } , _ o n M o d a l S h o w n : f u n c t i o n ( e v ) { $ ( e v . t a r g e t ) . a d d C l a s s ( ' m o d a l _ s h o w n ' ) ; } , _ o n K e y D o w n ( e v ) { i f ( ! s e s s i o n . u s e r _ i d ) { r e t u r n ; } 
 i f ( e v . k e y C o d e ! = = $ . u i . k e y C o d e . E S C A P E | | ! d o c u m e n t . b o d y . c o n t a i n s ( e v . t a r g e t ) | | e v . t a r g e t . c l o s e s t ( ' . m o d a l ' ) ) { r e t u r n   K e y b o a r d N a v i g a t i o n M i x i n . _ o n K e y D o w n . a p p l y ( t h i s , a r g u m e n t s ) ; } 
 t h i s . _ t o g g l e F u l l s c r e e n ( ! t h i s . i s F u l l s c r e e n ) ; } , } ) ; r e t u r n { W e b s i t e R o o t : W e b s i t e R o o t , w e b s i t e R o o t R e g i s t r y : w e b s i t e R o o t R e g i s t r y , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / c o n t e n t / c o m p a t i b i l i t y . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . c o n t e n t . c o m p a t i b i l i t y ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; r e q u i r e ( ' w e b . d o m _ r e a d y ' ) ; v a r   b r o w s e r = _ . f i n d K e y ( $ . b r o w s e r , f u n c t i o n ( v ) { r e t u r n   v = = = t r u e ; } ) ; i f ( $ . b r o w s e r . m o z i l l a & & + $ . b r o w s e r . v e r s i o n . r e p l a c e ( / ^ ( [ 0 - 9 ] + \ . [ 0 - 9 ] + ) . * / , ' \ $ 1 ' ) < 2 0 ) { b r o w s e r = ' m s i e ' ; } 
 b r o w s e r + = ( ' , ' + $ . b r o w s e r . v e r s i o n ) ; v a r   m o b i l e R e g e x = / a n d r o i d | w e b o s | i p h o n e | i p a d | i p o d | b l a c k b e r r y | i e m o b i l e | o p e r a   m i n i / i ; i f ( m o b i l e R e g e x . t e s t ( w i n d o w . n a v i g a t o r . u s e r A g e n t . t o L o w e r C a s e ( ) ) ) { b r o w s e r + = ' , m o b i l e ' ; } 
 d o c u m e n t . d o c u m e n t E l e m e n t . s e t A t t r i b u t e ( ' d a t a - b r o w s e r ' , b r o w s e r ) ; v a r   h t m l S t y l e = d o c u m e n t . d o c u m e n t E l e m e n t . s t y l e ; v a r   i s F l e x S u p p o r t e d = ( ( ' f l e x W r a p ' i n   h t m l S t y l e ) | | ( ' W e b k i t F l e x W r a p ' i n   h t m l S t y l e ) | | ( ' m s F l e x W r a p ' i n   h t m l S t y l e ) ) ; i f ( ! i s F l e x S u p p o r t e d ) { d o c u m e n t . d o c u m e n t E l e m e n t . s e t A t t r i b u t e ( ' d a t a - n o - f l e x ' , ' ' ) ; } 
 r e t u r n { b r o w s e r : b r o w s e r , i s F l e x S u p p o r t e d : i s F l e x S u p p o r t e d , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / c o n t e n t / m e n u . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . c o n t e n t . m e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; v a r   d o m = r e q u i r e ( ' w e b . d o m ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; v a r   a n i m a t i o n s = r e q u i r e ( ' w e b s i t e . c o n t e n t . s n i p p e t s . a n i m a t i o n ' ) ; c o n s t   e x t r a M e n u U p d a t e C a l l b a c k s = [ ] ; c o n s t   B a s e A n i m a t e d H e a d e r = a n i m a t i o n s . A n i m a t i o n . e x t e n d ( { d i s a b l e d I n E d i t a b l e M o d e : f a l s e , e f f e c t s : [ { s t a r t E v e n t s : ' s c r o l l ' , u p d a t e : ' _ u p d a t e H e a d e r O n S c r o l l ' , } , { s t a r t E v e n t s : ' r e s i z e ' , u p d a t e : ' _ u p d a t e H e a d e r O n R e s i z e ' , } ] , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . f i x e d H e a d e r = f a l s e ; t h i s . s c r o l l e d P o i n t = 0 ; t h i s . h a s S c r o l l e d = f a l s e ; } , s t a r t : f u n c t i o n ( ) { t h i s . $ m a i n = t h i s . $ e l . n e x t ( ' m a i n ' ) ; t h i s . i s O v e r l a y H e a d e r = ! ! t h i s . $ e l . c l o s e s t ( ' . o _ h e a d e r _ o v e r l a y ,   . o _ h e a d e r _ o v e r l a y _ t h e m e ' ) . l e n g t h ; t h i s . $ d r o p d o w n s = t h i s . $ e l . f i n d ( ' . d r o p d o w n ,   . d r o p d o w n - m e n u ' ) ; t h i s . $ n a v b a r C o l l a p s e s = t h i s . $ e l . f i n d ( ' . n a v b a r - c o l l a p s e ' ) ; t h i s . $ n a v b a r C o l l a p s e s . o n ( ' s h o w . b s . c o l l a p s e . B a s e A n i m a t e d H e a d e r ' , f u n c t i o n ( ) { i f ( c o n f i g . d e v i c e . s i z e _ c l a s s < = c o n f i g . d e v i c e . S I Z E S . S M ) { $ ( d o c u m e n t . b o d y ) . a d d C l a s s ( ' o v e r f l o w - h i d d e n ' ) ; } } ) . o n ( ' h i d e . b s . c o l l a p s e . B a s e A n i m a t e d H e a d e r ' , f u n c t i o n ( ) { $ ( d o c u m e n t . b o d y ) . r e m o v e C l a s s ( ' o v e r f l o w - h i d d e n ' ) ; } ) ; t h i s . _ t r a n s i t i o n C o u n t = 0 ; t h i s . $ e l . o n ( ' o d o o - t r a n s i t i o n s t a r t . B a s e A n i m a t e d H e a d e r ' , ( ) = > t h i s . _ a d a p t T o H e a d e r C h a n g e L o o p ( 1 ) ) ; t h i s . $ e l . o n ( ' t r a n s i t i o n e n d . B a s e A n i m a t e d H e a d e r ' , ( ) = > t h i s . _ a d a p t T o H e a d e r C h a n g e L o o p ( - 1 ) ) ; r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ t o g g l e F i x e d H e a d e r ( f a l s e ) ; t h i s . $ e l . r e m o v e C l a s s ( ' o _ h e a d e r _ a f f i x e d   o _ h e a d e r _ i s _ s c r o l l e d   o _ h e a d e r _ n o _ t r a n s i t i o n ' ) ; t h i s . $ n a v b a r C o l l a p s e s . o f f ( ' . B a s e A n i m a t e d H e a d e r ' ) ; t h i s . $ e l . o f f ( ' . B a s e A n i m a t e d H e a d e r ' ) ; t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ a d a p t F i x e d H e a d e r P o s i t i o n ( ) { d o m . c o m p e n s a t e S c r o l l b a r ( t h i s . e l , t h i s . f i x e d H e a d e r , f a l s e , ' r i g h t ' ) ; } , _ a d a p t T o H e a d e r C h a n g e : f u n c t i o n ( ) { t h i s . _ u p d a t e M a i n P a d d i n g T o p ( ) ; t h i s . e l . c l a s s L i s t . t o g g l e ( ' o _ t o p _ f i x e d _ e l e m e n t ' , t h i s . f i x e d H e a d e r & & t h i s . _ i s S h o w n ( ) ) ; f o r ( c o n s t   c a l l b a c k   o f   e x t r a M e n u U p d a t e C a l l b a c k s ) { c a l l b a c k ( ) ; } } , _ a d a p t T o H e a d e r C h a n g e L o o p : f u n c t i o n ( a d d C o u n t = 0 ) { t h i s . _ a d a p t T o H e a d e r C h a n g e ( ) ; t h i s . _ t r a n s i t i o n C o u n t + = a d d C o u n t ; t h i s . _ t r a n s i t i o n C o u n t = M a t h . m a x ( 0 , t h i s . _ t r a n s i t i o n C o u n t ) ; i f ( t h i s . _ t r a n s i t i o n C o u n t > 0 ) { w i n d o w . r e q u e s t A n i m a t i o n F r a m e ( ( ) = > t h i s . _ a d a p t T o H e a d e r C h a n g e L o o p ( ) ) ; i f ( a d d C o u n t ! = = 0 ) { c l e a r T i m e o u t ( t h i s . _ c h a n g e L o o p T i m e r ) ; t h i s . _ c h a n g e L o o p T i m e r = s e t T i m e o u t ( ( ) = > { t h i s . _ a d a p t T o H e a d e r C h a n g e L o o p ( - t h i s . _ t r a n s i t i o n C o u n t ) ; } , 5 0 0 ) ; } } e l s e { c l e a r T i m e o u t ( t h i s . _ c h a n g e L o o p T i m e r ) ; } } , _ c o m p u t e T o p G a p ( ) { r e t u r n   0 ; } , _ i s S h o w n ( ) { r e t u r n   t r u e ; } , _ t o g g l e F i x e d H e a d e r : f u n c t i o n ( u s e F i x e d = t r u e ) { t h i s . f i x e d H e a d e r = u s e F i x e d ; t h i s . _ a d a p t T o H e a d e r C h a n g e ( ) ; t h i s . e l . c l a s s L i s t . t o g g l e ( ' o _ h e a d e r _ a f f i x e d ' , u s e F i x e d ) ; t h i s . _ a d a p t F i x e d H e a d e r P o s i t i o n ( ) ; } , _ u p d a t e M a i n P a d d i n g T o p : f u n c t i o n ( ) { t h i s . h e a d e r H e i g h t = t h i s . $ e l . o u t e r H e i g h t ( ) ; t h i s . t o p G a p = t h i s . _ c o m p u t e T o p G a p ( ) ; i f ( t h i s . i s O v e r l a y H e a d e r ) { r e t u r n ; } 
 t h i s . $ m a i n . c s s ( ' p a d d i n g - t o p ' , t h i s . f i x e d H e a d e r ? t h i s . h e a d e r H e i g h t : ' ' ) ; } , _ u p d a t e H e a d e r O n S c r o l l : f u n c t i o n ( s c r o l l ) { i f ( ! t h i s . h a s S c r o l l e d ) { t h i s . h a s S c r o l l e d = t r u e ; i f ( s c r o l l > 0 ) { t h i s . $ e l . a d d C l a s s ( ' o _ h e a d e r _ n o _ t r a n s i t i o n ' ) ; } } e l s e { t h i s . $ e l . r e m o v e C l a s s ( ' o _ h e a d e r _ n o _ t r a n s i t i o n ' ) ; } 
 c o n s t   h e a d e r I s S c r o l l e d = ( s c r o l l > t h i s . s c r o l l e d P o i n t ) ; i f ( t h i s . h e a d e r I s S c r o l l e d ! = = h e a d e r I s S c r o l l e d ) { t h i s . e l . c l a s s L i s t . t o g g l e ( ' o _ h e a d e r _ i s _ s c r o l l e d ' , h e a d e r I s S c r o l l e d ) ; t h i s . $ e l . t r i g g e r ( ' o d o o - t r a n s i t i o n s t a r t ' ) ; t h i s . h e a d e r I s S c r o l l e d = h e a d e r I s S c r o l l e d ; } 
 t h i s . $ d r o p d o w n s . r e m o v e C l a s s ( ' s h o w ' ) ; t h i s . $ n a v b a r C o l l a p s e s . r e m o v e C l a s s ( ' s h o w ' ) . a t t r ( ' a r i a - e x p a n d e d ' , f a l s e ) ; } , _ u p d a t e H e a d e r O n R e s i z e : f u n c t i o n ( ) { t h i s . _ a d a p t F i x e d H e a d e r P o s i t i o n ( ) ; i f ( d o c u m e n t . b o d y . c l a s s L i s t . c o n t a i n s ( ' o v e r f l o w - h i d d e n ' ) & & c o n f i g . d e v i c e . s i z e _ c l a s s > c o n f i g . d e v i c e . S I Z E S . S M ) { d o c u m e n t . b o d y . c l a s s L i s t . r e m o v e ( ' o v e r f l o w - h i d d e n ' ) ; t h i s . $ e l . f i n d ( ' . n a v b a r - c o l l a p s e ' ) . r e m o v e C l a s s ( ' s h o w ' ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . S t a n d a r d A f f i x e d H e a d e r = B a s e A n i m a t e d H e a d e r . e x t e n d ( { s e l e c t o r : ' h e a d e r . o _ h e a d e r _ s t a n d a r d : n o t ( . o _ h e a d e r _ s i d e b a r ) ' , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . f i x e d H e a d e r S h o w = f a l s e ; t h i s . s c r o l l e d P o i n t = 3 0 0 ; } , s t a r t : f u n c t i o n ( ) { t h i s . h e a d e r H e i g h t = t h i s . $ e l . o u t e r H e i g h t ( ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ i s S h o w n ( ) { r e t u r n ! t h i s . f i x e d H e a d e r | | t h i s . f i x e d H e a d e r S h o w ; } , _ u p d a t e H e a d e r O n S c r o l l : f u n c t i o n ( s c r o l l ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; c o n s t   m a i n P o s S c r o l l e d = ( s c r o l l > t h i s . h e a d e r H e i g h t + t h i s . t o p G a p ) ; c o n s t   r e a c h P o s S c r o l l e d = ( s c r o l l > t h i s . s c r o l l e d P o i n t + t h i s . t o p G a p ) ; i f ( t h i s . f i x e d H e a d e r ! = = m a i n P o s S c r o l l e d ) { t h i s . $ e l . c s s ( ' t r a n s f o r m ' , m a i n P o s S c r o l l e d ? ' t r a n s l a t e ( 0 ,   - 1 0 0 % ) ' : ' ' ) ; v o i d   t h i s . $ e l [ 0 ] . o f f s e t W i d t h ; t h i s . _ t o g g l e F i x e d H e a d e r ( m a i n P o s S c r o l l e d ) ; } 
 i f ( t h i s . f i x e d H e a d e r S h o w ! = = r e a c h P o s S c r o l l e d ) { t h i s . $ e l . c s s ( ' t r a n s f o r m ' , r e a c h P o s S c r o l l e d ? ` t r a n s l a t e ( 0 ,   - $ { t h i s . t o p G a p } p x ) ` : ' t r a n s l a t e ( 0 ,   - 1 0 0 % ) ' ) ; t h i s . f i x e d H e a d e r S h o w = r e a c h P o s S c r o l l e d ; t h i s . _ a d a p t T o H e a d e r C h a n g e ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . F i x e d H e a d e r = B a s e A n i m a t e d H e a d e r . e x t e n d ( { s e l e c t o r : ' h e a d e r . o _ h e a d e r _ f i x e d ' , _ u p d a t e H e a d e r O n S c r o l l : f u n c t i o n ( s c r o l l ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( s c r o l l > ( t h i s . s c r o l l e d P o i n t + t h i s . t o p G a p ) ) { i f ( ! t h i s . $ e l . h a s C l a s s ( ' o _ h e a d e r _ a f f i x e d ' ) ) { t h i s . $ e l . c s s ( ' t r a n s f o r m ' , ` t r a n s l a t e ( 0 ,   - $ { t h i s . t o p G a p } p x ) ` ) ; v o i d   t h i s . $ e l [ 0 ] . o f f s e t W i d t h ; t h i s . _ t o g g l e F i x e d H e a d e r ( t r u e ) ; } } e l s e { t h i s . _ t o g g l e F i x e d H e a d e r ( f a l s e ) ; v o i d   t h i s . $ e l [ 0 ] . o f f s e t W i d t h ; t h i s . $ e l . c s s ( ' t r a n s f o r m ' , ' ' ) ; } } , } ) ; c o n s t   B a s e D i s a p p e a r i n g H e a d e r = p u b l i c W i d g e t . r e g i s t r y . F i x e d H e a d e r . e x t e n d ( { i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . s c r o l l i n g D o w n w a r d s = t r u e ; t h i s . h i d d e n H e a d e r = f a l s e ; t h i s . p o s i t i o n = 0 ; t h i s . a t T o p = t r u e ; t h i s . c h e c k P o i n t = 0 ; t h i s . s c r o l l O f f s e t L i m i t = 2 0 0 ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s h o w H e a d e r ( ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ h i d e H e a d e r : f u n c t i o n ( ) { t h i s . $ e l . t r i g g e r ( ' o d o o - t r a n s i t i o n s t a r t ' ) ; } , _ i s S h o w n ( ) { r e t u r n ! t h i s . f i x e d H e a d e r | | ! t h i s . h i d d e n H e a d e r ; } , _ s h o w H e a d e r : f u n c t i o n ( ) { t h i s . $ e l . t r i g g e r ( ' o d o o - t r a n s i t i o n s t a r t ' ) ; } , _ u p d a t e H e a d e r O n S c r o l l : f u n c t i o n ( s c r o l l ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; c o n s t   s c r o l l i n g D o w n w a r d s = ( s c r o l l > t h i s . p o s i t i o n ) ; c o n s t   a t T o p = ( s c r o l l < = 0 ) ; i f ( s c r o l l i n g D o w n w a r d s ! = = t h i s . s c r o l l i n g D o w n w a r d s ) { t h i s . c h e c k P o i n t = s c r o l l ; } 
 t h i s . s c r o l l i n g D o w n w a r d s = s c r o l l i n g D o w n w a r d s ; t h i s . p o s i t i o n = s c r o l l ; t h i s . a t T o p = a t T o p ; i f ( s c r o l l i n g D o w n w a r d s ) { i f ( ! t h i s . h i d d e n H e a d e r & & s c r o l l - t h i s . c h e c k P o i n t > ( t h i s . s c r o l l O f f s e t L i m i t + t h i s . t o p G a p ) ) { t h i s . h i d d e n H e a d e r = t r u e ; t h i s . _ h i d e H e a d e r ( ) ; } } e l s e { i f ( t h i s . h i d d e n H e a d e r & & s c r o l l - t h i s . c h e c k P o i n t < - ( t h i s . s c r o l l O f f s e t L i m i t + t h i s . t o p G a p ) / 2 ) { t h i s . h i d d e n H e a d e r = f a l s e ; t h i s . _ s h o w H e a d e r ( ) ; } } 
 i f ( a t T o p & & ! t h i s . a t T o p ) { t h i s . _ s h o w H e a d e r ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . D i s a p p e a r i n g H e a d e r = B a s e D i s a p p e a r i n g H e a d e r . e x t e n d ( { s e l e c t o r : ' h e a d e r . o _ h e a d e r _ d i s a p p e a r s ' , _ h i d e H e a d e r : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . $ e l . c s s ( ' t r a n s f o r m ' , ' t r a n s l a t e ( 0 ,   - 1 0 0 % ) ' ) ; } , _ s h o w H e a d e r : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . $ e l . c s s ( ' t r a n s f o r m ' , t h i s . a t T o p ? ' ' : ` t r a n s l a t e ( 0 ,   - $ { t h i s . t o p G a p } p x ) ` ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . F a d e O u t H e a d e r = B a s e D i s a p p e a r i n g H e a d e r . e x t e n d ( { s e l e c t o r : ' h e a d e r . o _ h e a d e r _ f a d e _ o u t ' , _ h i d e H e a d e r : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . $ e l . s t o p ( f a l s e , t r u e ) . f a d e O u t ( ) ; } , _ s h o w H e a d e r : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . $ e l . c s s ( ' t r a n s f o r m ' , t h i s . a t T o p ? ' ' : ` t r a n s l a t e ( 0 ,   - $ { t h i s . t o p G a p } p x ) ` ) ; t h i s . $ e l . s t o p ( f a l s e , t r u e ) . f a d e I n ( ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . a u t o h i d e M e n u = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' h e a d e r # t o p ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , a s y n c   s t a r t ( ) { a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . $ t o p M e n u = t h i s . $ ( ' # t o p _ m e n u ' ) ; t h i s . n o A u t o h i d e = t h i s . $ e l . i s ( ' . o _ n o _ a u t o h i d e _ m e n u ' ) ; i f ( ! t h i s . n o A u t o h i d e ) { a w a i t   w U t i l s . o n c e A l l I m a g e s L o a d e d ( t h i s . $ ( ' . n a v b a r ' ) , t h i s . $ ( ' . o _ m e g a _ m e n u ,   . o _ o f f c a n v a s _ l o g o _ c o n t a i n e r ,   . d r o p d o w n - m e n u   . o _ l a n g _ f l a g ' ) ) ; v a r   $ w i n d o w = $ ( w i n d o w ) ; $ w i n d o w . o n ( ' l o a d . a u t o h i d e M e n u ' , f u n c t i o n ( ) { $ w i n d o w . t r i g g e r ( ' r e s i z e ' ) ; } ) ; d o m . i n i t A u t o M o r e M e n u ( t h i s . $ t o p M e n u , { u n f o l d a b l e : ' . d i v i d e r ,   . d i v i d e r   ~   l i ,   . o _ n o _ a u t o h i d e _ i t e m ' } ) ; } 
 t h i s . $ t o p M e n u . r e m o v e C l a s s ( ' o _ m e n u _ l o a d i n g ' ) ; t h i s . $ t o p M e n u . t r i g g e r ( ' m e n u _ l o a d e d ' ) ; } , d e s t r o y ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( ! t h i s . n o A u t o h i d e ) { $ ( w i n d o w ) . o f f ( ' . a u t o h i d e M e n u ' ) ; d o m . d e s t r o y A u t o M o r e M e n u ( t h i s . $ t o p M e n u ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . m e n u D i r e c t i o n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' h e a d e r   . n a v b a r   . n a v ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , e v e n t s : { ' s h o w . b s . d r o p d o w n ' : ' _ o n D r o p d o w n S h o w ' , } , s t a r t : f u n c t i o n ( ) { t h i s . d e f a u l t A l i g n m e n t = t h i s . $ e l . i s ( ' . m l - a u t o ,   . m l - a u t o   ~   * ' ) ? ' r i g h t ' : ' l e f t ' ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ c h e c k O p e n i n g : f u n c t i o n ( a l i g n m e n t , l i O f f s e t , l i W i d t h , m e n u W i d t h , p a g e W i d t h ) { i f ( a l i g n m e n t = = = ' l e f t ' ) { r e t u r n ( l i O f f s e t + m e n u W i d t h < = p a g e W i d t h ) ; } e l s e { r e t u r n ( l i O f f s e t + l i W i d t h - m e n u W i d t h > = 0 ) ; } } , _ o n D r o p d o w n S h o w : f u n c t i o n ( e v ) { v a r   $ l i = $ ( e v . t a r g e t ) ; v a r   $ m e n u = $ l i . c h i l d r e n ( ' . d r o p d o w n - m e n u ' ) ; v a r   l i O f f s e t = $ l i . o f f s e t ( ) . l e f t ; v a r   l i W i d t h = $ l i . o u t e r W i d t h ( ) ; v a r   m e n u W i d t h = $ m e n u . o u t e r W i d t h ( ) ; v a r   p a g e W i d t h = $ ( ' # w r a p w r a p ' ) . o u t e r W i d t h ( ) ; $ m e n u . r e m o v e C l a s s ( ' d r o p d o w n - m e n u - l e f t   d r o p d o w n - m e n u - r i g h t ' ) ; v a r   a l i g n m e n t = t h i s . d e f a u l t A l i g n m e n t ; i f ( $ l i . n e x t A l l ( ' : v i s i b l e ' ) . l e n g t h = = = 0 ) { a l i g n m e n t = ' r i g h t ' ; } 
 f o r ( v a r   i = 0 ; i < 2 ; i + + ) { i f ( ! t h i s . _ c h e c k O p e n i n g ( a l i g n m e n t , l i O f f s e t , l i W i d t h , m e n u W i d t h , p a g e W i d t h ) ) { a l i g n m e n t = ( a l i g n m e n t = = = ' l e f t ' ? ' r i g h t ' : ' l e f t ' ) ; } } 
 $ m e n u . a d d C l a s s ( ' d r o p d o w n - m e n u - ' + a l i g n m e n t ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . h o v e r a b l e D r o p d o w n = a n i m a t i o n s . A n i m a t i o n . e x t e n d ( { s e l e c t o r : ' h e a d e r . o _ h o v e r a b l e _ d r o p d o w n ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , e f f e c t s : [ { s t a r t E v e n t s : ' r e s i z e ' , u p d a t e : ' _ d r o p d o w n H o v e r ' , } ] , e v e n t s : { ' m o u s e e n t e r   . d r o p d o w n ' : ' _ o n M o u s e E n t e r ' , ' m o u s e l e a v e   . d r o p d o w n ' : ' _ o n M o u s e L e a v e ' , } , s t a r t : f u n c t i o n ( ) { t h i s . $ d r o p d o w n M e n u s = t h i s . $ e l . f i n d ( ' . d r o p d o w n - m e n u ' ) ; t h i s . $ d r o p d o w n T o g g l e s = t h i s . $ e l . f i n d ( ' . d r o p d o w n - t o g g l e ' ) ; t h i s . _ d r o p d o w n H o v e r ( ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ d r o p d o w n H o v e r : f u n c t i o n ( ) { i f ( c o n f i g . d e v i c e . s i z e _ c l a s s > c o n f i g . d e v i c e . S I Z E S . S M ) { t h i s . $ d r o p d o w n M e n u s . c s s ( ' m a r g i n - t o p ' , ' 0 ' ) ; t h i s . $ d r o p d o w n M e n u s . c s s ( ' t o p ' , ' u n s e t ' ) ; } e l s e { t h i s . $ d r o p d o w n M e n u s . c s s ( ' m a r g i n - t o p ' , ' ' ) ; t h i s . $ d r o p d o w n M e n u s . c s s ( ' t o p ' , ' ' ) ; } } , _ o n M o u s e E n t e r : f u n c t i o n ( e v ) { i f ( c o n f i g . d e v i c e . s i z e _ c l a s s < = c o n f i g . d e v i c e . S I Z E S . S M ) { r e t u r n ; } 
 c o n s t   $ d r o p d o w n = $ ( e v . c u r r e n t T a r g e t ) ; $ d r o p d o w n . a d d C l a s s ( ' s h o w ' ) ; $ d r o p d o w n . f i n d ( t h i s . $ d r o p d o w n T o g g l e s ) . a t t r ( ' a r i a - e x p a n d e d ' , ' t r u e ' ) ; $ d r o p d o w n . f i n d ( t h i s . $ d r o p d o w n M e n u s ) . a d d C l a s s ( ' s h o w ' ) ; } , _ o n M o u s e L e a v e : f u n c t i o n ( e v ) { i f ( c o n f i g . d e v i c e . s i z e _ c l a s s < = c o n f i g . d e v i c e . S I Z E S . S M ) { r e t u r n ; } 
 c o n s t   $ d r o p d o w n = $ ( e v . c u r r e n t T a r g e t ) ; $ d r o p d o w n . r e m o v e C l a s s ( ' s h o w ' ) ; $ d r o p d o w n . f i n d ( t h i s . $ d r o p d o w n T o g g l e s ) . a t t r ( ' a r i a - e x p a n d e d ' , ' f a l s e ' ) ; $ d r o p d o w n . f i n d ( t h i s . $ d r o p d o w n M e n u s ) . r e m o v e C l a s s ( ' s h o w ' ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . H e a d e r M a i n C o l l a p s e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' h e a d e r # t o p ' , e v e n t s : { ' s h o w . b s . c o l l a p s e   # t o p _ m e n u _ c o l l a p s e ' : ' _ o n C o l l a p s e S h o w ' , ' h i d d e n . b s . c o l l a p s e   # t o p _ m e n u _ c o l l a p s e ' : ' _ o n C o l l a p s e H i d d e n ' , } , _ o n C o l l a p s e S h o w ( ) { t h i s . e l . c l a s s L i s t . a d d ( ' o _ t o p _ m e n u _ c o l l a p s e _ s h o w n ' ) ; } , _ o n C o l l a p s e H i d d e n ( ) { t h i s . e l . c l a s s L i s t . r e m o v e ( ' o _ t o p _ m e n u _ c o l l a p s e _ s h o w n ' ) ; } , } ) ; r e t u r n { e x t r a M e n u U p d a t e C a l l b a c k s : e x t r a M e n u U p d a t e C a l l b a c k s , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / c o n t e n t / s n i p p e t s . a n i m a t i o n . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . c o n t e n t . s n i p p e t s . a n i m a t i o n ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   d o m = r e q u i r e ( ' w e b . d o m ' ) ; v a r   m i x i n s = r e q u i r e ( ' w e b . m i x i n s ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   q w e b = c o r e . q w e b ; w i n d o w . r e q u e s t A n i m a t i o n F r a m e = w i n d o w . r e q u e s t A n i m a t i o n F r a m e | | w i n d o w . w e b k i t R e q u e s t A n i m a t i o n F r a m e | | w i n d o w . m o z R e q u e s t A n i m a t i o n F r a m e | | w i n d o w . m s R e q u e s t A n i m a t i o n F r a m e | | w i n d o w . o R e q u e s t A n i m a t i o n F r a m e ; w i n d o w . c a n c e l A n i m a t i o n F r a m e = w i n d o w . c a n c e l A n i m a t i o n F r a m e | | w i n d o w . w e b k i t C a n c e l A n i m a t i o n F r a m e | | w i n d o w . m o z C a n c e l A n i m a t i o n F r a m e | | w i n d o w . m s C a n c e l A n i m a t i o n F r a m e | | w i n d o w . o C a n c e l A n i m a t i o n F r a m e ; i f ( ! w i n d o w . p e r f o r m a n c e | | ! w i n d o w . p e r f o r m a n c e . n o w ) { w i n d o w . p e r f o r m a n c e = { n o w : f u n c t i o n ( ) { r e t u r n   D a t e . n o w ( ) ; } } ; } 
 p u b l i c W i d g e t . W i d g e t . i n c l u d e ( { d i s a b l e d I n E d i t a b l e M o d e : t r u e , e d i t _ e v e n t s : n u l l , r e a d _ e v e n t s : n u l l , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . e d i t a b l e M o d e = t h i s . o p t i o n s . e d i t a b l e M o d e | | f a l s e ; v a r   e x t r a E v e n t s = t h i s . e d i t a b l e M o d e ? t h i s . e d i t _ e v e n t s : t h i s . r e a d _ e v e n t s ; i f ( e x t r a E v e n t s ) { t h i s . e v e n t s = _ . e x t e n d ( { } , t h i s . e v e n t s | | { } , e x t r a E v e n t s ) ; } } , } ) ; v a r   A n i m a t i o n E f f e c t = C l a s s . e x t e n d ( m i x i n s . P a r e n t e d M i x i n , { i n i t : f u n c t i o n ( p a r e n t , u p d a t e C a l l b a c k , s t a r t E v e n t s , $ s t a r t T a r g e t , o p t i o n s ) { m i x i n s . P a r e n t e d M i x i n . i n i t . c a l l ( t h i s ) ; t h i s . s e t P a r e n t ( p a r e n t ) ; o p t i o n s = o p t i o n s | | { } ; t h i s . _ m i n F r a m e T i m e = 1 0 0 0 / ( o p t i o n s . m a x F P S | | 1 0 0 ) ; t h i s . _ u p d a t e C a l l b a c k = u p d a t e C a l l b a c k ; t h i s . s t a r t E v e n t s = s t a r t E v e n t s | | ' s c r o l l ' ; t h i s . $ s t a r t T a r g e t = $ ( $ s t a r t T a r g e t ? $ s t a r t T a r g e t : t h i s . s t a r t E v e n t s = = = ' s c r o l l ' ? $ ( ) . g e t S c r o l l i n g E l e m e n t ( ) [ 0 ] : w i n d o w ) ; i f ( o p t i o n s . g e t S t a t e C a l l b a c k ) { t h i s . _ g e t S t a t e C a l l b a c k = o p t i o n s . g e t S t a t e C a l l b a c k ; } e l s e   i f ( t h i s . s t a r t E v e n t s = = = ' s c r o l l ' & & t h i s . $ s t a r t T a r g e t [ 0 ] = = = $ ( ) . g e t S c r o l l i n g E l e m e n t ( ) [ 0 ] ) { c o n s t   $ s c r o l l a b l e = t h i s . $ s t a r t T a r g e t ; t h i s . _ g e t S t a t e C a l l b a c k = f u n c t i o n ( ) { r e t u r n   $ s c r o l l a b l e . s c r o l l T o p ( ) ; } ; } e l s e   i f ( t h i s . s t a r t E v e n t s = = = ' r e s i z e ' & & t h i s . $ s t a r t T a r g e t [ 0 ] = = = w i n d o w ) { t h i s . _ g e t S t a t e C a l l b a c k = f u n c t i o n ( ) { r e t u r n { w i d t h : w i n d o w . i n n e r W i d t h , h e i g h t : w i n d o w . i n n e r H e i g h t , } ; } ; } e l s e { t h i s . _ g e t S t a t e C a l l b a c k = f u n c t i o n ( ) { r e t u r n   u n d e f i n e d ; } ; } 
 t h i s . e n d E v e n t s = o p t i o n s . e n d E v e n t s | | f a l s e ; t h i s . $ e n d T a r g e t = o p t i o n s . $ e n d T a r g e t ? $ ( o p t i o n s . $ e n d T a r g e t ) : t h i s . $ s t a r t T a r g e t ; t h i s . _ u p d a t e C a l l b a c k = t h i s . _ u p d a t e C a l l b a c k . b i n d ( p a r e n t ) ; t h i s . _ g e t S t a t e C a l l b a c k = t h i s . _ g e t S t a t e C a l l b a c k . b i n d ( p a r e n t ) ; t h i s . _ u i d = ' _ a n i m a t i o n E f f e c t ' + _ . u n i q u e I d ( ) ; t h i s . s t a r t E v e n t s = _ p r o c e s s E v e n t s ( t h i s . s t a r t E v e n t s , t h i s . _ u i d ) ; i f ( t h i s . e n d E v e n t s ) { t h i s . e n d E v e n t s = _ p r o c e s s E v e n t s ( t h i s . e n d E v e n t s , t h i s . _ u i d ) ; } 
 f u n c t i o n   _ p r o c e s s E v e n t s ( e v e n t s , n a m e s p a c e ) { e v e n t s = e v e n t s . s p l i t ( '   ' ) ; r e t u r n   _ . e a c h ( e v e n t s , f u n c t i o n ( e , i n d e x ) { e v e n t s [ i n d e x ] + = ( ' . ' + n a m e s p a c e ) ; } ) . j o i n ( '   ' ) ; } } , d e s t r o y : f u n c t i o n ( ) { m i x i n s . P a r e n t e d M i x i n . d e s t r o y . c a l l ( t h i s ) ; t h i s . s t o p ( ) ; } , s t a r t : f u n c t i o n ( ) { t h i s . _ p a u s e d = f a l s e ; t h i s . _ r a f I D = w i n d o w . r e q u e s t A n i m a t i o n F r a m e ( ( f u n c t i o n ( t ) { t h i s . _ u p d a t e ( t ) ; t h i s . _ p a u s e d = t r u e ; } ) . b i n d ( t h i s ) ) ; i f ( t h i s . e n d E v e n t s ) { t h i s . $ s t a r t T a r g e t . o n ( t h i s . s t a r t E v e n t s , ( f u n c t i o n ( e ) { i f ( t h i s . _ p a u s e d ) { _ . d e f e r ( t h i s . p l a y . b i n d ( t h i s , e ) ) ; } } ) . b i n d ( t h i s ) ) ; t h i s . $ e n d T a r g e t . o n ( t h i s . e n d E v e n t s , ( f u n c t i o n ( ) { i f ( ! t h i s . _ p a u s e d ) { _ . d e f e r ( t h i s . p a u s e . b i n d ( t h i s ) ) ; } } ) . b i n d ( t h i s ) ) ; } e l s e { v a r   p a u s e T i m e r = n u l l ; t h i s . $ s t a r t T a r g e t . o n ( t h i s . s t a r t E v e n t s , _ . t h r o t t l e ( ( f u n c t i o n ( e ) { t h i s . p l a y ( e ) ; c l e a r T i m e o u t ( p a u s e T i m e r ) ; p a u s e T i m e r = _ . d e l a y ( ( f u n c t i o n ( ) { t h i s . p a u s e ( ) ; p a u s e T i m e r = n u l l ; } ) . b i n d ( t h i s ) , 2 0 0 0 ) ; } ) . b i n d ( t h i s ) , 2 5 0 , { t r a i l i n g : f a l s e } ) ) ; } } , s t o p : f u n c t i o n ( ) { t h i s . $ s t a r t T a r g e t . o f f ( t h i s . s t a r t E v e n t s ) ; i f ( t h i s . e n d E v e n t s ) { t h i s . $ e n d T a r g e t . o f f ( t h i s . e n d E v e n t s ) ; } 
 t h i s . p a u s e ( ) ; } , p l a y : f u n c t i o n ( e ) { t h i s . _ n e w E v e n t = e ; i f ( ! t h i s . _ p a u s e d ) { r e t u r n ; } 
 t h i s . _ p a u s e d = f a l s e ; t h i s . _ r a f I D = w i n d o w . r e q u e s t A n i m a t i o n F r a m e ( t h i s . _ u p d a t e . b i n d ( t h i s ) ) ; t h i s . _ l a s t U p d a t e T i m e s t a m p = u n d e f i n e d ; } , p a u s e : f u n c t i o n ( ) { i f ( t h i s . _ p a u s e d ) { r e t u r n ; } 
 t h i s . _ p a u s e d = t r u e ; w i n d o w . c a n c e l A n i m a t i o n F r a m e ( t h i s . _ r a f I D ) ; t h i s . _ l a s t U p d a t e T i m e s t a m p = u n d e f i n e d ; } , _ u p d a t e : f u n c t i o n ( t i m e s t a m p ) { i f ( t h i s . _ p a u s e d ) { r e t u r n ; } 
 t h i s . _ r a f I D = w i n d o w . r e q u e s t A n i m a t i o n F r a m e ( t h i s . _ u p d a t e . b i n d ( t h i s ) ) ; v a r   e l a p s e d T i m e = 0 ; i f ( t h i s . _ l a s t U p d a t e T i m e s t a m p ) { e l a p s e d T i m e = t i m e s t a m p - t h i s . _ l a s t U p d a t e T i m e s t a m p ; i f ( e l a p s e d T i m e < t h i s . _ m i n F r a m e T i m e ) { r e t u r n ; } } 
 v a r   a n i m a t i o n S t a t e = t h i s . _ g e t S t a t e C a l l b a c k ( e l a p s e d T i m e , t h i s . _ n e w E v e n t ) ; i f ( ! t h i s . _ n e w E v e n t & & a n i m a t i o n S t a t e ! = = u n d e f i n e d & & _ . i s E q u a l ( a n i m a t i o n S t a t e , t h i s . _ a n i m a t i o n L a s t S t a t e ) ) { r e t u r n ; } 
 t h i s . _ a n i m a t i o n L a s t S t a t e = a n i m a t i o n S t a t e ; t h i s . _ u p d a t e C a l l b a c k ( t h i s . _ a n i m a t i o n L a s t S t a t e , e l a p s e d T i m e , t h i s . _ n e w E v e n t ) ; t h i s . _ l a s t U p d a t e T i m e s t a m p = t i m e s t a m p ; t h i s . _ n e w E v e n t = u n d e f i n e d ; } , } ) ; v a r   A n i m a t i o n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { m a x F P S : 1 0 0 , e f f e c t s : [ ] , s t a r t : f u n c t i o n ( ) { t h i s . _ p r e p a r e E f f e c t s ( ) ; _ . e a c h ( t h i s . _ a n i m a t i o n E f f e c t s , f u n c t i o n ( e f f e c t ) { e f f e c t . s t a r t ( ) ; } ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ p r e p a r e E f f e c t s : f u n c t i o n ( ) { t h i s . _ a n i m a t i o n E f f e c t s = [ ] ; v a r   s e l f = t h i s ; _ . e a c h ( t h i s . e f f e c t s , f u n c t i o n ( d e s c ) { s e l f . _ a d d E f f e c t ( s e l f [ d e s c . u p d a t e ] , d e s c . s t a r t E v e n t s , _ f i n d T a r g e t ( d e s c . s t a r t T a r g e t ) , { g e t S t a t e C a l l b a c k : d e s c . g e t S t a t e & & s e l f [ d e s c . g e t S t a t e ] , e n d E v e n t s : d e s c . e n d E v e n t s | | u n d e f i n e d , $ e n d T a r g e t : _ f i n d T a r g e t ( d e s c . e n d T a r g e t ) , m a x F P S : s e l f . m a x F P S , } ) ; f u n c t i o n   _ f i n d T a r g e t ( s e l e c t o r ) { i f ( s e l e c t o r ) { i f ( s e l e c t o r = = = ' s e l e c t o r ' ) { r e t u r n   s e l f . $ t a r g e t ; } 
 r e t u r n   s e l f . $ ( s e l e c t o r ) ; } 
 r e t u r n   u n d e f i n e d ; } } ) ; } , _ a d d E f f e c t : f u n c t i o n ( u p d a t e C a l l b a c k , s t a r t E v e n t s , $ s t a r t T a r g e t , o p t i o n s ) { t h i s . _ a n i m a t i o n E f f e c t s . p u s h ( n e w   A n i m a t i o n E f f e c t ( t h i s , u p d a t e C a l l b a c k , s t a r t E v e n t s , $ s t a r t T a r g e t , o p t i o n s ) ) ; } , } ) ; v a r   r e g i s t r y = p u b l i c W i d g e t . r e g i s t r y ; r e g i s t r y . s l i d e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . c a r o u s e l ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , e d i t _ e v e n t s : { ' c o n t e n t _ c h a n g e d ' : ' _ o n C o n t e n t C h a n g e d ' , } , s t a r t : f u n c t i o n ( ) { t h i s . $ ( ' i m g ' ) . o n ( ' l o a d . s l i d e r ' , ( ) = > t h i s . _ c o m p u t e H e i g h t s ( ) ) ; t h i s . _ c o m p u t e H e i g h t s ( ) ; t h i s . $ t a r g e t . c a r o u s e l ( t h i s . e d i t a b l e M o d e ? ' p a u s e ' : u n d e f i n e d ) ; $ ( w i n d o w ) . o n ( ' r e s i z e . s l i d e r ' , _ . d e b o u n c e ( ( ) = > t h i s . _ c o m p u t e H e i g h t s ( ) , 2 5 0 ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . $ ( ' i m g ' ) . o f f ( ' . s l i d e r ' ) ; t h i s . $ t a r g e t . c a r o u s e l ( ' p a u s e ' ) ; t h i s . $ t a r g e t . r e m o v e D a t a ( ' b s . c a r o u s e l ' ) ; _ . e a c h ( t h i s . $ ( ' . c a r o u s e l - i t e m ' ) , f u n c t i o n ( e l ) { $ ( e l ) . c s s ( ' m i n - h e i g h t ' , ' ' ) ; } ) ; $ ( w i n d o w ) . o f f ( ' . s l i d e r ' ) ; } , _ c o m p u t e H e i g h t s : f u n c t i o n ( ) { v a r   m a x H e i g h t = 0 ; v a r   $ i t e m s = t h i s . $ ( ' . c a r o u s e l - i t e m ' ) ; $ i t e m s . c s s ( ' m i n - h e i g h t ' , ' ' ) ; _ . e a c h ( $ i t e m s , f u n c t i o n ( e l ) { v a r   $ i t e m = $ ( e l ) ; v a r   i s A c t i v e = $ i t e m . h a s C l a s s ( ' a c t i v e ' ) ; $ i t e m . a d d C l a s s ( ' a c t i v e ' ) ; v a r   h e i g h t = $ i t e m . o u t e r H e i g h t ( ) ; i f ( h e i g h t > m a x H e i g h t ) { m a x H e i g h t = h e i g h t ; } 
 $ i t e m . t o g g l e C l a s s ( ' a c t i v e ' , i s A c t i v e ) ; } ) ; $ i t e m s . c s s ( ' m i n - h e i g h t ' , m a x H e i g h t ) ; } , _ o n C o n t e n t C h a n g e d : f u n c t i o n ( e v ) { t h i s . _ c o m p u t e H e i g h t s ( ) ; } , } ) ; r e g i s t r y . P a r a l l a x = A n i m a t i o n . e x t e n d ( { s e l e c t o r : ' . p a r a l l a x ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , e f f e c t s : [ { s t a r t E v e n t s : ' s c r o l l ' , u p d a t e : ' _ o n W i n d o w S c r o l l ' , } ] , s t a r t : f u n c t i o n ( ) { t h i s . _ r e b u i l d ( ) ; $ ( w i n d o w ) . o n ( ' r e s i z e . a n i m a t i o n _ p a r a l l a x ' , _ . d e b o u n c e ( t h i s . _ r e b u i l d . b i n d ( t h i s ) , 5 0 0 ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; $ ( w i n d o w ) . o f f ( ' . a n i m a t i o n _ p a r a l l a x ' ) ; } , _ r e b u i l d : f u n c t i o n ( ) { t h i s . $ b g = t h i s . $ ( ' >   . s _ p a r a l l a x _ b g ' ) ; t h i s . s p e e d = p a r s e F l o a t ( t h i s . $ t a r g e t . a t t r ( ' d a t a - s c r o l l - b a c k g r o u n d - r a t i o ' ) | | 0 ) ; v a r   n o P a r a l l a x S p e e d = ( t h i s . s p e e d = = = 0 | | t h i s . s p e e d = = = 1 ) ; i f ( n o P a r a l l a x S p e e d ) { t h i s . $ b g . c s s ( { t r a n s f o r m : ' ' , t o p : ' ' , b o t t o m : ' ' , } ) ; r e t u r n ; } 
 t h i s . v i e w p o r t = d o c u m e n t . b o d y . c l i e n t H e i g h t - $ ( ' # w r a p w r a p ' ) . p o s i t i o n ( ) . t o p ; t h i s . v i s i b l e A r e a = [ t h i s . $ t a r g e t . o f f s e t ( ) . t o p ] ; t h i s . v i s i b l e A r e a . p u s h ( t h i s . v i s i b l e A r e a [ 0 ] + t h i s . $ t a r g e t . i n n e r H e i g h t ( ) + t h i s . v i e w p o r t ) ; t h i s . r a t i o = t h i s . s p e e d * ( t h i s . v i e w p o r t / 1 0 ) ; c o n s t   a b s o l u t e R a t i o = M a t h . a b s ( t h i s . r a t i o ) ; t h i s . $ b g . c s s ( { t o p : - a b s o l u t e R a t i o , b o t t o m : - a b s o l u t e R a t i o , } ) ; } , _ o n W i n d o w S c r o l l : f u n c t i o n ( s c r o l l O f f s e t ) { i f ( t h i s . s p e e d = = = 0 | | t h i s . s p e e d = = = 1 ) { r e t u r n ; } 
 v a r   v p E n d O f f s e t = s c r o l l O f f s e t + t h i s . v i e w p o r t ; i f ( v p E n d O f f s e t > = t h i s . v i s i b l e A r e a [ 0 ] & & v p E n d O f f s e t < = t h i s . v i s i b l e A r e a [ 1 ] ) { t h i s . $ b g . c s s ( ' t r a n s f o r m ' , ' t r a n s l a t e Y ( ' + _ g e t N o r m a l i z e d P o s i t i o n . c a l l ( t h i s , v p E n d O f f s e t ) + ' p x ) ' ) ; } 
 f u n c t i o n   _ g e t N o r m a l i z e d P o s i t i o n ( p o s ) { v a r   r = ( p o s - t h i s . v i s i b l e A r e a [ 1 ] ) / ( t h i s . v i s i b l e A r e a [ 0 ] - t h i s . v i s i b l e A r e a [ 1 ] ) ; r e t u r n   M a t h . r o u n d ( t h i s . r a t i o * ( 2 * r - 1 ) ) ; } } , } ) ; r e g i s t r y . m e d i a V i d e o = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . m e d i a _ i f r a m e _ v i d e o ' , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . $ t a r g e t . c h i l d r e n ( ' i f r a m e ' ) . l e n g t h ) { r e t u r n   d e f ; } 
 t h i s . $ t a r g e t . e m p t y ( ) ; t h i s . $ t a r g e t . a p p e n d ( ' < d i v   c l a s s = " c s s _ e d i t a b l e _ m o d e _ d i s p l a y " > & n b s p ; < / d i v > ' + ' < d i v   c l a s s = " m e d i a _ i f r a m e _ v i d e o _ s i z e " > & n b s p ; < / d i v > ' ) ; t h i s . $ t a r g e t . a p p e n d ( $ ( ' < i f r a m e / > ' , { s r c : _ . e s c a p e ( t h i s . $ t a r g e t . d a t a ( ' o e - e x p r e s s i o n ' ) | | t h i s . $ t a r g e t . d a t a ( ' s r c ' ) ) , f r a m e b o r d e r : ' 0 ' , a l l o w f u l l s c r e e n : ' a l l o w f u l l s c r e e n ' , s a n d b o x : ' a l l o w - s c r i p t s   a l l o w - s a m e - o r i g i n ' , } ) ) ; r e t u r n   d e f ; } , } ) ; r e g i s t r y . b a c k g r o u n d V i d e o = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ b a c k g r o u n d _ v i d e o ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . b a c k g r o u n d . v i d e o . x m l ' ] , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t : f u n c t i o n ( ) { v a r   p r o m s = [ t h i s . _ s u p e r ( . . . a r g u m e n t s ) ] ; t h i s . v i d e o S r c = t h i s . e l . d a t a s e t . b g V i d e o S r c ; t h i s . i f r a m e I D = _ . u n i q u e I d ( ' o _ b g _ v i d e o _ i f r a m e _ ' ) ; t h i s . i s Y o u t u b e V i d e o = t h i s . v i d e o S r c . i n d e x O f ( ' y o u t u b e ' ) > = 0 ; t h i s . i s M o b i l e E n v = c o n f i g . d e v i c e . s i z e _ c l a s s < = c o n f i g . d e v i c e . S I Z E S . L G & & c o n f i g . d e v i c e . t o u c h ; i f ( t h i s . i s Y o u t u b e V i d e o & & t h i s . i s M o b i l e E n v ) { t h i s . v i d e o S r c = t h i s . v i d e o S r c + " & e n a b l e j s a p i = 1 " ; i f ( ! w i n d o w . Y T ) { v a r   o l d O n Y o u t u b e I f r a m e A P I R e a d y = w i n d o w . o n Y o u T u b e I f r a m e A P I R e a d y ; p r o m s . p u s h ( n e w   P r o m i s e ( r e s o l v e = > { w i n d o w . o n Y o u T u b e I f r a m e A P I R e a d y = ( ) = > { i f ( o l d O n Y o u t u b e I f r a m e A P I R e a d y ) { o l d O n Y o u t u b e I f r a m e A P I R e a d y ( ) ; } 
 r e t u r n   r e s o l v e ( ) ; } ; } ) ) ; $ ( ' < s c r i p t / > ' , { s r c : ' h t t p s : / / w w w . y o u t u b e . c o m / i f r a m e _ a p i ' , } ) . a p p e n d T o ( ' h e a d ' ) ; } } 
 v a r   t h r o t t l e d U p d a t e = _ . t h r o t t l e ( ( ) = > t h i s . _ a d j u s t I f r a m e ( ) , 5 0 ) ; v a r   $ d r o p d o w n M e n u = t h i s . $ e l . c l o s e s t ( ' . d r o p d o w n - m e n u ' ) ; i f ( $ d r o p d o w n M e n u . l e n g t h ) { t h i s . $ d r o p d o w n P a r e n t = $ d r o p d o w n M e n u . p a r e n t ( ) ; t h i s . $ d r o p d o w n P a r e n t . o n ( ' s h o w n . b s . d r o p d o w n . b a c k g r o u n d V i d e o ' , t h r o t t l e d U p d a t e ) ; } 
 $ ( w i n d o w ) . o n ( ' r e s i z e . ' + t h i s . i f r a m e I D , t h r o t t l e d U p d a t e ) ; r e t u r n   P r o m i s e . a l l ( p r o m s ) . t h e n ( ( ) = > t h i s . _ a p p e n d B g V i d e o ( ) ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . $ d r o p d o w n P a r e n t ) { t h i s . $ d r o p d o w n P a r e n t . o f f ( ' . b a c k g r o u n d V i d e o ' ) ; } 
 $ ( w i n d o w ) . o f f ( ' r e s i z e . ' + t h i s . i f r a m e I D ) ; i f ( t h i s . $ b g V i d e o C o n t a i n e r ) { t h i s . $ b g V i d e o C o n t a i n e r . r e m o v e ( ) ; } } , _ a d j u s t I f r a m e : f u n c t i o n ( ) { i f ( ! t h i s . $ i f r a m e ) { r e t u r n ; } 
 t h i s . $ i f r a m e . r e m o v e C l a s s ( ' s h o w ' ) ; v a r   w r a p p e r W i d t h = t h i s . $ t a r g e t . i n n e r W i d t h ( ) ; v a r   w r a p p e r H e i g h t = t h i s . $ t a r g e t . i n n e r H e i g h t ( ) ; v a r   r e l a t i v e R a t i o = ( w r a p p e r W i d t h / w r a p p e r H e i g h t ) / ( 1 6 / 9 ) ; v a r   s t y l e = { } ; i f ( r e l a t i v e R a t i o > = 1 . 0 ) { s t y l e [ ' w i d t h ' ] = ' 1 0 0 % ' ; s t y l e [ ' h e i g h t ' ] = ( r e l a t i v e R a t i o * 1 0 0 ) + ' % ' ; s t y l e [ ' l e f t ' ] = ' 0 ' ; s t y l e [ ' t o p ' ] = ( - ( r e l a t i v e R a t i o - 1 . 0 ) / 2 * 1 0 0 ) + ' % ' ; } e l s e { s t y l e [ ' w i d t h ' ] = ( ( 1 / r e l a t i v e R a t i o ) * 1 0 0 ) + ' % ' ; s t y l e [ ' h e i g h t ' ] = ' 1 0 0 % ' ; s t y l e [ ' l e f t ' ] = ( - ( ( 1 / r e l a t i v e R a t i o ) - 1 . 0 ) / 2 * 1 0 0 ) + ' % ' ; s t y l e [ ' t o p ' ] = ' 0 ' ; } 
 t h i s . $ i f r a m e . c s s ( s t y l e ) ; v o i d   t h i s . $ i f r a m e [ 0 ] . o f f s e t W i d t h ; t h i s . $ i f r a m e . a d d C l a s s ( ' s h o w ' ) ; } , _ a p p e n d B g V i d e o : f u n c t i o n ( ) { v a r   $ o l d C o n t a i n e r = t h i s . $ b g V i d e o C o n t a i n e r | | t h i s . $ ( ' >   . o _ b g _ v i d e o _ c o n t a i n e r ' ) ; t h i s . $ b g V i d e o C o n t a i n e r = $ ( q w e b . r e n d e r ( ' w e b s i t e . b a c k g r o u n d . v i d e o ' , { v i d e o S r c : t h i s . v i d e o S r c , i f r a m e I D : t h i s . i f r a m e I D , } ) ) ; t h i s . $ i f r a m e = t h i s . $ b g V i d e o C o n t a i n e r . f i n d ( ' . o _ b g _ v i d e o _ i f r a m e ' ) ; t h i s . $ i f r a m e . o n e ( ' l o a d ' , ( ) = > { t h i s . $ b g V i d e o C o n t a i n e r . f i n d ( ' . o _ b g _ v i d e o _ l o a d i n g ' ) . r e m o v e ( ) ; } ) ; t h i s . $ b g V i d e o C o n t a i n e r . p r e p e n d T o ( t h i s . $ t a r g e t ) ; $ o l d C o n t a i n e r . r e m o v e ( ) ; t h i s . _ a d j u s t I f r a m e ( ) ; i f ( t h i s . i s M o b i l e E n v & & t h i s . i s Y o u t u b e V i d e o ) { n e w   w i n d o w . Y T . P l a y e r ( t h i s . i f r a m e I D , { e v e n t s : { o n R e a d y : e v = > e v . t a r g e t . p l a y V i d e o ( ) , } } ) ; } } , } ) ; r e g i s t r y . s o c i a l S h a r e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o e _ s o c i a l _ s h a r e ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s h a r e . x m l ' ] , e v e n t s : { ' m o u s e e n t e r ' : ' _ o n M o u s e E n t e r ' , } , _ b i n d S o c i a l E v e n t : f u n c t i o n ( ) { t h i s . $ ( ' . o e _ s o c i a l _ f a c e b o o k ' ) . c l i c k ( $ . p r o x y ( t h i s . _ r e n d e r S o c i a l , t h i s , ' f a c e b o o k ' ) ) ; t h i s . $ ( ' . o e _ s o c i a l _ t w i t t e r ' ) . c l i c k ( $ . p r o x y ( t h i s . _ r e n d e r S o c i a l , t h i s , ' t w i t t e r ' ) ) ; t h i s . $ ( ' . o e _ s o c i a l _ l i n k e d i n ' ) . c l i c k ( $ . p r o x y ( t h i s . _ r e n d e r S o c i a l , t h i s , ' l i n k e d i n ' ) ) ; } , _ r e n d e r : f u n c t i o n ( ) { t h i s . $ e l . p o p o v e r ( { c o n t e n t : q w e b . r e n d e r ( ' w e b s i t e . s o c i a l _ h o v e r ' , { m e d i a s : t h i s . s o c i a l L i s t } ) , p l a c e m e n t : ' b o t t o m ' , c o n t a i n e r : t h i s . $ e l , h t m l : t r u e , t r i g g e r : ' m a n u a l ' , a n i m a t i o n : f a l s e , } ) . p o p o v e r ( " s h o w " ) ; t h i s . $ e l . o f f ( ' m o u s e l e a v e . s o c i a l S h a r e ' ) . o n ( ' m o u s e l e a v e . s o c i a l S h a r e ' , f u n c t i o n ( ) { v a r   s e l f = t h i s ; s e t T i m e o u t ( f u n c t i o n ( ) { i f ( ! $ ( " . p o p o v e r : h o v e r " ) . l e n g t h ) { $ ( s e l f ) . p o p o v e r ( ' d i s p o s e ' ) ; } } , 2 0 0 ) ; } ) ; } , _ r e n d e r S o c i a l : f u n c t i o n ( s o c i a l ) { v a r   u r l = t h i s . $ e l . d a t a ( ' u r l s h a r e ' ) | | d o c u m e n t . U R L . s p l i t ( / [ ? # ] / ) [ 0 ] ; u r l = e n c o d e U R I C o m p o n e n t ( u r l ) ; v a r   t i t l e = d o c u m e n t . t i t l e . s p l i t ( "   |   " ) [ 0 ] ; v a r   h a s h t a g s = '   # ' + d o c u m e n t . t i t l e . s p l i t ( "   |   " ) [ 1 ] . r e p l a c e ( '   ' , ' ' ) + '   ' + t h i s . h a s h t a g s ; v a r   s o c i a l N e t w o r k s = { ' f a c e b o o k ' : ' h t t p s : / / w w w . f a c e b o o k . c o m / s h a r e r / s h a r e r . p h p ? u = ' + u r l , ' t w i t t e r ' : ' h t t p s : / / t w i t t e r . c o m / i n t e n t / t w e e t ? o r i g i n a l _ r e f e r e r = ' + u r l + ' & t e x t = ' + e n c o d e U R I C o m p o n e n t ( t i t l e + h a s h t a g s + '   -   ' ) + u r l , ' l i n k e d i n ' : ' h t t p s : / / w w w . l i n k e d i n . c o m / s h a r i n g / s h a r e - o f f s i t e / ? u r l = ' + u r l , } ; i f ( ! _ . c o n t a i n s ( _ . k e y s ( s o c i a l N e t w o r k s ) , s o c i a l ) ) { r e t u r n ; } 
 v a r   w H e i g h t = 5 0 0 ; v a r   w W i d t h = 5 0 0 ; w i n d o w . o p e n ( s o c i a l N e t w o r k s [ s o c i a l ] , ' ' , ' m e n u b a r = n o ,   t o o l b a r = n o ,   r e s i z a b l e = y e s ,   s c r o l l b a r = y e s ,   h e i g h t = ' + w H e i g h t + ' , w i d t h = ' + w W i d t h ) ; } , _ o n M o u s e E n t e r : f u n c t i o n ( ) { v a r   s o c i a l = t h i s . $ e l . d a t a ( ' s o c i a l ' ) ; t h i s . s o c i a l L i s t = s o c i a l ? s o c i a l . s p l i t ( ' , ' ) : [ ' f a c e b o o k ' , ' t w i t t e r ' , ' l i n k e d i n ' ] ; t h i s . h a s h t a g s = t h i s . $ e l . d a t a ( ' h a s h t a g s ' ) | | ' ' ; t h i s . _ r e n d e r ( ) ; t h i s . _ b i n d S o c i a l E v e n t ( ) ; } , } ) ; r e g i s t r y . a n c h o r S l i d e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' a [ h r e f ^ = " / " ] [ h r e f * = " # " ] ,   a [ h r e f ^ = " # " ] ' , e v e n t s : { ' c l i c k ' : ' _ o n A n i m a t e C l i c k ' , } , a s y n c   _ s c r o l l T o ( $ e l , s c r o l l V a l u e = ' t r u e ' ) { r e t u r n   d o m . s c r o l l T o ( $ e l [ 0 ] , { d u r a t i o n : s c r o l l V a l u e = = = ' t r u e ' ? 5 0 0 : 0 , e x t r a O f f s e t : t h i s . _ c o m p u t e E x t r a O f f s e t ( ) , } ) ; } , _ c o m p u t e E x t r a O f f s e t ( ) { r e t u r n   0 ; } , _ o n A n i m a t e C l i c k : f u n c t i o n ( e v ) { i f ( t h i s . $ t a r g e t [ 0 ] . p a t h n a m e ! = = w i n d o w . l o c a t i o n . p a t h n a m e ) { r e t u r n ; } 
 v a r   h a s h = t h i s . $ t a r g e t [ 0 ] . h a s h ; i f ( ! u t i l s . i s V a l i d A n c h o r ( h a s h ) ) { r e t u r n ; } 
 v a r   $ a n c h o r = $ ( h a s h ) ; c o n s t   s c r o l l V a l u e = $ a n c h o r . a t t r ( ' d a t a - a n c h o r ' ) ; i f ( ! $ a n c h o r . l e n g t h | | ! s c r o l l V a l u e ) { r e t u r n ; } 
 e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ s c r o l l T o ( $ a n c h o r , s c r o l l V a l u e ) ; } , } ) ; r e g i s t r y . F u l l S c r e e n H e i g h t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ f u l l _ s c r e e n _ h e i g h t ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t ( ) { i f ( t h i s . $ e l . o u t e r H e i g h t ( ) > t h i s . _ c o m p u t e I d e a l H e i g h t ( ) ) { t h i s . _ a d a p t S i z e ( ) ; $ ( w i n d o w ) . o n ( ' r e s i z e . F u l l S c r e e n H e i g h t ' , _ . d e b o u n c e ( ( ) = > t h i s . _ a d a p t S i z e ( ) , 2 5 0 ) ) ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , d e s t r o y ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; $ ( w i n d o w ) . o f f ( ' . F u l l S c r e e n H e i g h t ' ) ; t h i s . e l . s t y l e . s e t P r o p e r t y ( ' m i n - h e i g h t ' , ' ' ) ; } , _ a d a p t S i z e ( ) { c o n s t   h e i g h t = t h i s . _ c o m p u t e I d e a l H e i g h t ( ) ; t h i s . e l . s t y l e . s e t P r o p e r t y ( ' m i n - h e i g h t ' , ` $ { h e i g h t } p x ` , ' i m p o r t a n t ' ) ; } , _ c o m p u t e I d e a l H e i g h t ( ) { c o n s t   w i n d o w H e i g h t = $ ( w i n d o w ) . o u t e r H e i g h t ( ) ; c o n s t   f i r s t C o n t e n t E l = $ ( ' # w r a p w r a p   >   m a i n   >   : f i r s t - c h i l d ' ) [ 0 ] ; c o n s t   m a i n T o p P o s = f i r s t C o n t e n t E l . g e t B o u n d i n g C l i e n t R e c t ( ) . t o p + d o m . c l o s e s t S c r o l l a b l e ( f i r s t C o n t e n t E l . p a r e n t N o d e ) . s c r o l l T o p ; r e t u r n ( w i n d o w H e i g h t - m a i n T o p P o s ) ; } , } ) ; r e g i s t r y . S c r o l l B u t t o n = r e g i s t r y . a n c h o r S l i d e . e x t e n d ( { s e l e c t o r : ' . o _ s c r o l l _ b u t t o n ' , _ o n A n i m a t e C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; c o n s t   $ n e x t S e c t i o n = t h i s . $ e l . c l o s e s t ( ' s e c t i o n ' ) . n e x t ( ' s e c t i o n ' ) ; i f ( $ n e x t S e c t i o n . l e n g t h ) { t h i s . _ s c r o l l T o ( $ n e x t S e c t i o n ) ; } } , } ) ; r e g i s t r y . F o o t e r S l i d e o u t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p : h a s ( . o _ f o o t e r _ s l i d e o u t ) ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , a s y n c   s t a r t ( ) { c o n s t   $ m a i n = t h i s . $ ( ' >   m a i n ' ) ; c o n s t   s l i d e o u t E f f e c t = $ m a i n . o u t e r H e i g h t ( ) > = $ ( w i n d o w ) . o u t e r H e i g h t ( ) ; t h i s . e l . c l a s s L i s t . t o g g l e ( ' o _ f o o t e r _ e f f e c t _ e n a b l e ' , s l i d e o u t E f f e c t ) ; t h i s . _ _ p i x e l E l = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; t h i s . _ _ p i x e l E l . s t y l e . w i d t h = ` 1 p x ` ; t h i s . _ _ p i x e l E l . s t y l e . h e i g h t = ` 1 p x ` ; t h i s . _ _ p i x e l E l . s t y l e . m a r g i n T o p = ` - 1 p x ` ; t h i s . e l . a p p e n d C h i l d ( t h i s . _ _ p i x e l E l ) ; r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , d e s t r o y ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . e l . c l a s s L i s t . r e m o v e ( ' o _ f o o t e r _ e f f e c t _ e n a b l e ' ) ; t h i s . _ _ p i x e l E l . r e m o v e ( ) ; } , } ) ; r e g i s t r y . H e a d e r H a m b u r g e r F u l l = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' h e a d e r : h a s ( . o _ h e a d e r _ h a m b u r g e r _ f u l l _ t o g g l e r ) : n o t ( : h a s ( . o _ o f f c a n v a s _ m e n u _ t o g g l e r ) ) ' , e v e n t s : { ' c l i c k   . o _ h e a d e r _ h a m b u r g e r _ f u l l _ t o g g l e r ' : ' _ o n T o g g l e C l i c k ' , } , _ o n T o g g l e C l i c k ( ) { d o c u m e n t . b o d y . c l a s s L i s t . a d d ( ' o v e r f l o w - h i d d e n ' ) ; s e t T i m e o u t ( ( ) = > $ ( w i n d o w ) . t r i g g e r ( ' s c r o l l ' ) , 1 0 0 ) ; } , } ) ; r e t u r n { W i d g e t : p u b l i c W i d g e t . W i d g e t , A n i m a t i o n : A n i m a t i o n , r e g i s t r y : r e g i s t r y , C l a s s : A n i m a t i o n , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / n a v b a r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . n a v b a r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   d o m = r e q u i r e ( ' w e b . d o m ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   c o n c u r r e n c y = r e q u i r e ( ' w e b . c o n c u r r e n c y ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   w e b s i t e R o o t D a t a = r e q u i r e ( ' w e b s i t e . r o o t ' ) ; v a r   w e b s i t e N a v b a r R e g i s t r y = n e w   p u b l i c W i d g e t . R o o t W i d g e t R e g i s t r y ( ) ; v a r   W e b s i t e N a v b a r = p u b l i c W i d g e t . R o o t W i d g e t . e x t e n d ( { x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . x m l ' ] , e v e n t s : _ . e x t e n d ( { } , p u b l i c W i d g e t . R o o t W i d g e t . p r o t o t y p e . e v e n t s | | { } , { ' c l i c k   [ d a t a - a c t i o n ] ' : ' _ o n A c t i o n M e n u C l i c k ' , ' m o u s e o v e r   >   u l   >   l i . d r o p d o w n : n o t ( . s h o w ) ' : ' _ o n M e n u H o v e r e d ' , ' c l i c k   . o _ m o b i l e _ m e n u _ t o g g l e ' : ' _ o n M o b i l e M e n u T o g g l e C l i c k ' , ' m o u s e e n t e r   # o e _ a p p l i c a t i o n s : n o t ( : h a s ( . d r o p d o w n - i t e m ) ) ' : ' _ o n O e A p p l i c a t i o n s H o v e r e d ' , ' s h o w . b s . d r o p d o w n   # o e _ a p p l i c a t i o n s : n o t ( : h a s ( . d r o p d o w n - i t e m ) ) ' : ' _ o n O e A p p l i c a t i o n s S h o w ' , } ) , c u s t o m _ e v e n t s : _ . e x t e n d ( { } , p u b l i c W i d g e t . R o o t W i d g e t . p r o t o t y p e . c u s t o m _ e v e n t s | | { } , { ' a c t i o n _ d e m a n d ' : ' _ o n A c t i o n D e m a n d ' , ' e d i t _ m o d e ' : ' _ o n E d i t M o d e ' , ' r e a d o n l y _ m o d e ' : ' _ o n R e a d o n l y M o d e ' , ' r e a d y _ t o _ s a v e ' : ' _ o n S a v e ' , } ) , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   s e l f = t h i s ; v a r   i n i t P r o m i s e = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e ) { s e l f . r e s o l v e I n i t = r e s o l v e ; } ) ; t h i s . _ w i d g e t D e f s = [ i n i t P r o m i s e ] ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; d o m . i n i t A u t o M o r e M e n u ( t h i s . $ ( ' u l . o _ m e n u _ s e c t i o n s ' ) , { m a x W i d t h : f u n c t i o n ( ) { r e t u r n   s e l f . $ e l . w i d t h ( ) 
 - ( s e l f . $ ( ' . o _ m e n u _ s y s t r a y ' ) . o u t e r W i d t h ( t r u e ) | | 0 ) 
 - ( s e l f . $ ( ' u l # o e _ a p p l i c a t i o n s ' ) . o u t e r W i d t h ( t r u e ) | | 0 ) 
 - ( s e l f . $ ( ' . o _ m e n u _ t o g g l e ' ) . o u t e r W i d t h ( t r u e ) | | 0 ) 
 - ( s e l f . $ ( ' . o _ m e n u _ b r a n d ' ) . o u t e r W i d t h ( t r u e ) | | 0 ) ; } , } ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . r e s o l v e I n i t ( ) ; } ) ; } , _ a t t a c h C o m p o n e n t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ w i d g e t D e f s . p u s h ( d e f ) ; r e t u r n   d e f ; } , _ g e t R e g i s t r y : f u n c t i o n ( ) { r e t u r n   w e b s i t e N a v b a r R e g i s t r y ; } , _ h a n d l e A c t i o n : f u n c t i o n ( a c t i o n N a m e , p a r a m s , _ i ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ w h e n R e a d y F o r A c t i o n s ( ) . t h e n ( f u n c t i o n ( ) { v a r   d e f s = [ ] ; _ . e a c h ( s e l f . _ w i d g e t s , f u n c t i o n ( w ) { i f ( ! w . h a n d l e A c t i o n ) { r e t u r n ; } 
 v a r   d e f = w . h a n d l e A c t i o n ( a c t i o n N a m e , p a r a m s ) ; i f ( d e f ! = = n u l l ) { d e f s . p u s h ( d e f ) ; } } ) ; i f ( ! d e f s . l e n g t h ) { i f ( _ i > 5 0 ) { c o n s o l e . w a r n ( _ . s t r . s p r i n t f ( " A c t i o n   ' % s '   w a s   n o t   a b l e   t o   b e   h a n d l e d . " , a c t i o n N a m e ) ) ; r e t u r n   P r o m i s e . r e j e c t ( ) ; } 
 r e t u r n   c o n c u r r e n c y . d e l a y ( 1 0 0 ) . t h e n ( f u n c t i o n ( ) { r e t u r n   s e l f . _ h a n d l e A c t i o n ( a c t i o n N a m e , p a r a m s , ( _ i | | 0 ) + 1 ) ; } ) ; } 
 r e t u r n   P r o m i s e . a l l ( d e f s ) . t h e n ( f u n c t i o n ( v a l u e s ) { i f ( v a l u e s . l e n g t h = = = 1 ) { r e t u r n   v a l u e s [ 0 ] ; } 
 r e t u r n   v a l u e s ; } ) ; } ) ; } , a s y n c   _ l o a d A p p M e n u s ( ) { i f ( ! t h i s . _ l o a d A p p M e n u s P r o m ) { t h i s . _ l o a d A p p M e n u s P r o m = t h i s . _ r p c ( { m o d e l : ' i r . u i . m e n u ' , m e t h o d : ' l o a d _ m e n u s _ r o o t ' , a r g s : [ ] , } ) ; c o n s t   r e s u l t = a w a i t   t h i s . _ l o a d A p p M e n u s P r o m ; c o n s t   m e n u s = c o r e . q w e b . r e n d e r ( ' w e b s i t e . o e _ a p p l i c a t i o n s _ m e n u ' , { ' m e n u _ d a t a ' : r e s u l t , } ) ; t h i s . $ ( ' # o e _ a p p l i c a t i o n s   . d r o p d o w n - m e n u ' ) . h t m l ( m e n u s ) ; } 
 r e t u r n   t h i s . _ l o a d A p p M e n u s P r o m ; } , _ w h e n R e a d y F o r A c t i o n s : f u n c t i o n ( ) { r e t u r n   P r o m i s e . a l l ( t h i s . _ w i d g e t D e f s ) ; } , _ o n O e A p p l i c a t i o n s H o v e r e d : f u n c t i o n ( ) { t h i s . _ l o a d A p p M e n u s ( ) ; } , _ o n O e A p p l i c a t i o n s S h o w : f u n c t i o n ( ) { t h i s . _ l o a d A p p M e n u s ( ) ; } , _ o n A c t i o n M e n u C l i c k : f u n c t i o n ( e v ) { v a r   $ b u t t o n = $ ( e v . c u r r e n t T a r g e t ) ; $ b u t t o n . p r o p ( ' d i s a b l e d ' , t r u e ) ; v a r   a l w a y s = f u n c t i o n ( ) { $ b u t t o n . p r o p ( ' d i s a b l e d ' , f a l s e ) ; } ; t h i s . _ h a n d l e A c t i o n ( $ b u t t o n . d a t a ( ' a c t i o n ' ) ) . t h e n ( a l w a y s ) . g u a r d e d C a t c h ( a l w a y s ) ; } , _ o n A c t i o n D e m a n d : f u n c t i o n ( e v ) { v a r   d e f = t h i s . _ h a n d l e A c t i o n ( e v . d a t a . a c t i o n N a m e , e v . d a t a . p a r a m s ) ; i f ( e v . d a t a . o n S u c c e s s ) { d e f . t h e n ( e v . d a t a . o n S u c c e s s ) ; } 
 i f ( e v . d a t a . o n F a i l u r e ) { d e f . g u a r d e d C a t c h ( e v . d a t a . o n F a i l u r e ) ; } } , _ o n E d i t M o d e : f u n c t i o n ( ) { t h i s . $ e l . a d d C l a s s ( ' e d i t i n g _ m o d e ' ) ; t h i s . d o _ h i d e ( ) ; } , _ o n M e n u H o v e r e d : f u n c t i o n ( e v ) { v a r   $ o p e n e d = t h i s . $ ( ' >   u l   >   l i . d r o p d o w n . s h o w ' ) ; i f ( $ o p e n e d . l e n g t h ) { $ o p e n e d . f i n d ( ' . d r o p d o w n - t o g g l e ' ) . d r o p d o w n ( ' t o g g l e ' ) ; $ ( e v . c u r r e n t T a r g e t ) . f i n d ( ' . d r o p d o w n - t o g g l e ' ) . d r o p d o w n ( ' t o g g l e ' ) ; } } , _ o n M o b i l e M e n u T o g g l e C l i c k : f u n c t i o n ( ) { t h i s . $ e l . p a r e n t ( ) . t o g g l e C l a s s ( ' o _ m o b i l e _ m e n u _ o p e n e d ' ) ; } , _ o n R e a d o n l y M o d e : f u n c t i o n ( ) { t h i s . $ e l . r e m o v e C l a s s ( ' e d i t i n g _ m o d e ' ) ; t h i s . d o _ s h o w ( ) ; } , _ o n S a v e : f u n c t i o n ( e v ) { e v . d a t a . d e f s . p u s h ( t h i s . _ h a n d l e A c t i o n ( ' o n _ s a v e ' ) ) ; } , } ) ; v a r   W e b s i t e N a v b a r A c t i o n W i d g e t = W i d g e t . e x t e n d ( { a c t i o n s : { } , h a n d l e A c t i o n : f u n c t i o n ( a c t i o n N a m e , p a r a m s ) { v a r   a c t i o n = t h i s [ t h i s . a c t i o n s [ a c t i o n N a m e ] ] ; i f ( a c t i o n ) { r e t u r n   P r o m i s e . r e s o l v e ( a c t i o n . a p p l y ( t h i s , p a r a m s | | [ ] ) ) ; } 
 r e t u r n   n u l l ; } , } ) ; w e b s i t e R o o t D a t a . w e b s i t e R o o t R e g i s t r y . a d d ( W e b s i t e N a v b a r , ' # o e _ m a i n _ m e n u _ n a v b a r ' ) ; r e t u r n { W e b s i t e N a v b a r : W e b s i t e N a v b a r , w e b s i t e N a v b a r R e g i s t r y : w e b s i t e N a v b a r R e g i s t r y , W e b s i t e N a v b a r A c t i o n W i d g e t : W e b s i t e N a v b a r A c t i o n W i d g e t , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / s h o w _ p a s s w o r d . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s h o w _ p a s s w o r d ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . S h o w P a s s w o r d = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # s h o w P a s s ' , e v e n t s : { ' m o u s e d o w n ' : ' _ o n S h o w T e x t ' , ' t o u c h s t a r t ' : ' _ o n S h o w T e x t ' , } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; $ ( ' b o d y ' ) . o f f ( " . S h o w P a s s w o r d " ) ; } , _ o n S h o w P a s s w o r d : f u n c t i o n ( ) { t h i s . $ e l . c l o s e s t ( ' . i n p u t - g r o u p ' ) . f i n d ( ' # p a s s w o r d ' ) . a t t r ( ' t y p e ' , ' p a s s w o r d ' ) ; } , _ o n S h o w T e x t : f u n c t i o n ( ) { $ ( ' b o d y ' ) . o n e ( ' m o u s e u p . S h o w P a s s w o r d   t o u c h e n d . S h o w P a s s w o r d ' , t h i s . _ o n S h o w P a s s w o r d . b i n d ( t h i s ) ) ; t h i s . $ e l . c l o s e s t ( ' . i n p u t - g r o u p ' ) . f i n d ( ' # p a s s w o r d ' ) . a t t r ( ' t y p e ' , ' t e x t ' ) ; } , } ) ; r e t u r n   p u b l i c W i d g e t . r e g i s t r y . S h o w P a s s w o r d ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / p o s t _ l i n k . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . p o s t _ l i n k ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; p u b l i c W i d g e t . r e g i s t r y . p o s t L i n k = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . p o s t _ l i n k ' , e v e n t s : { ' c l i c k ' : ' _ o n C l i c k P o s t ' , } , _ o n C l i c k P o s t : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; c o n s t   u r l = t h i s . e l . d a t a s e t . p o s t | | t h i s . e l . h r e f ; l e t   d a t a = { } ; f o r ( l e t [ k e y , v a l u e ] o f   O b j e c t . e n t r i e s ( t h i s . e l . d a t a s e t ) ) { i f ( k e y . s t a r t s W i t h ( ' p o s t _ ' ) ) { d a t a [ k e y . s l i c e ( 5 ) ] = v a l u e ; } } ; w U t i l s . s e n d R e q u e s t ( u r l , d a t a ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / u s e r _ c u s t o m _ j a v a s c r i p t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ s h a r e / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ s h a r e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   S h a r e W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ s h a r e ,   . o e _ s h a r e ' , s t a r t : f u n c t i o n ( ) { v a r   u r l R e g e x = / ( \ ? ( ? : | . * & ) ( ? : u | u r l | b o d y ) = ) ( . * ? ) ( & | # | $ ) / ; v a r   t i t l e R e g e x = / ( \ ? ( ? : | . * & ) ( ? : t i t l e | t e x t | s u b j e c t ) = ) ( . * ? ) ( & | # | $ ) / ; v a r   u r l = e n c o d e U R I C o m p o n e n t ( w i n d o w . l o c a t i o n . h r e f ) ; v a r   t i t l e = e n c o d e U R I C o m p o n e n t ( $ ( ' t i t l e ' ) . t e x t ( ) ) ; t h i s . $ ( ' a ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ a = $ ( t h i s ) ; $ a . a t t r ( ' h r e f ' , f u n c t i o n ( i , h r e f ) { r e t u r n   h r e f . r e p l a c e ( u r l R e g e x , f u n c t i o n ( m a t c h , a , b , c ) { r e t u r n   a + u r l + c ; } ) . r e p l a c e ( t i t l e R e g e x , f u n c t i o n ( m a t c h , a , b , c ) { r e t u r n   a + t i t l e + c ; } ) ; } ) ; i f ( $ a . a t t r ( ' t a r g e t ' ) & & $ a . a t t r ( ' t a r g e t ' ) . m a t c h ( / _ b l a n k / i ) & & ! $ a . c l o s e s t ( ' . o _ e d i t a b l e ' ) . l e n g t h ) { $ a . o n ( ' c l i c k ' , f u n c t i o n ( ) { w i n d o w . o p e n ( t h i s . h r e f , ' ' , ' m e n u b a r = n o , t o o l b a r = n o , r e s i z a b l e = y e s , s c r o l l b a r s = y e s , h e i g h t = 5 5 0 , w i d t h = 6 0 0 ' ) ; r e t u r n   f a l s e ; } ) ; } } ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . s h a r e = S h a r e W i d g e t ; r e t u r n   S h a r e W i d g e t ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ f a c e b o o k _ p a g e / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ f a c e b o o k _ p a g e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; c o n s t   F a c e b o o k P a g e W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ f a c e b o o k _ p a g e ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   p a r a m s = _ . p i c k ( t h i s . $ e l . d a t a ( ) , ' h r e f ' , ' h e i g h t ' , ' t a b s ' , ' s m a l l _ h e a d e r ' , ' h i d e _ c o v e r ' , ' s h o w _ f a c e p i l e ' ) ; i f ( ! p a r a m s . h r e f ) { r e t u r n   d e f ; } 
 p a r a m s . w i d t h = u t i l s . c o n f i n e ( M a t h . f l o o r ( t h i s . $ e l . w i d t h ( ) ) , 1 8 0 , 5 0 0 ) ; v a r   s r c = $ . p a r a m . q u e r y s t r i n g ( ' h t t p s : / / w w w . f a c e b o o k . c o m / p l u g i n s / p a g e . p h p ' , p a r a m s ) ; t h i s . $ i f r a m e = $ ( ' < i f r a m e / > ' , { s r c : s r c , c l a s s : ' o _ t e m p _ a u t o _ e l e m e n t ' , w i d t h : p a r a m s . w i d t h , h e i g h t : p a r a m s . h e i g h t , c s s : { b o r d e r : ' n o n e ' , o v e r f l o w : ' h i d d e n ' , } , s c r o l l i n g : ' n o ' , f r a m e b o r d e r : ' 0 ' , a l l o w T r a n s p a r e n c y : ' t r u e ' , } ) ; t h i s . $ e l . a p p e n d ( t h i s . $ i f r a m e ) ; r e t u r n   d e f ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . $ i f r a m e ) { t h i s . $ i f r a m e . r e m o v e ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . f a c e b o o k P a g e = F a c e b o o k P a g e W i d g e t ; r e t u r n   F a c e b o o k P a g e W i d g e t ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ i m a g e _ g a l l e r y / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ i m a g e _ g a l l e r y ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   q w e b = c o r e . q w e b ; c o n s t   G a l l e r y W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ i m a g e _ g a l l e r y : n o t ( . o _ s l i d e s h o w ) ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ i m a g e _ g a l l e r y / 0 0 0 . x m l ' ] , e v e n t s : { ' c l i c k   i m g ' : ' _ o n C l i c k I m g ' , } , _ o n C l i c k I m g : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   $ c u r = $ ( e v . c u r r e n t T a r g e t ) ; v a r   $ i m a g e s = $ c u r . c l o s e s t ( ' . s _ i m a g e _ g a l l e r y ' ) . f i n d ( ' i m g ' ) ; v a r   s i z e = 0 . 8 ; v a r   d i m e n s i o n s = { m i n _ w i d t h : M a t h . r o u n d ( w i n d o w . i n n e r W i d t h * s i z e * 0 . 9 ) , m i n _ h e i g h t : M a t h . r o u n d ( w i n d o w . i n n e r H e i g h t * s i z e ) , m a x _ w i d t h : M a t h . r o u n d ( w i n d o w . i n n e r W i d t h * s i z e * 0 . 9 ) , m a x _ h e i g h t : M a t h . r o u n d ( w i n d o w . i n n e r H e i g h t * s i z e ) , w i d t h : M a t h . r o u n d ( w i n d o w . i n n e r W i d t h * s i z e * 0 . 9 ) , h e i g h t : M a t h . r o u n d ( w i n d o w . i n n e r H e i g h t * s i z e ) } ; v a r   $ i m g = ( $ c u r . i s ( ' i m g ' ) = = = t r u e ) ? $ c u r : $ c u r . c l o s e s t ( ' i m g ' ) ; c o n s t   m i l l i s e c o n d s = $ c u r . c l o s e s t ( ' . s _ i m a g e _ g a l l e r y ' ) . d a t a ( ' i n t e r v a l ' ) | | f a l s e ; v a r   $ m o d a l = $ ( q w e b . r e n d e r ( ' w e b s i t e . g a l l e r y . s l i d e s h o w . l i g h t b o x ' , { i m a g e s : $ i m a g e s . g e t ( ) , i n d e x : $ i m a g e s . i n d e x ( $ i m g ) , d i m : d i m e n s i o n s , i n t e r v a l : m i l l i s e c o n d s | | 0 , i d : _ . u n i q u e I d ( ' s l i d e s h o w _ ' ) , } ) ) ; $ m o d a l . m o d a l ( { k e y b o a r d : t r u e , b a c k d r o p : t r u e , } ) ; $ m o d a l . o n ( ' h i d d e n . b s . m o d a l ' , f u n c t i o n ( ) { $ ( t h i s ) . h i d e ( ) ; $ ( t h i s ) . s i b l i n g s ( ) . f i l t e r ( ' . m o d a l - b a c k d r o p ' ) . r e m o v e ( ) ; $ ( t h i s ) . r e m o v e ( ) ; } ) ; $ m o d a l . f i n d ( ' . m o d a l - c o n t e n t ,   . m o d a l - b o d y . o _ s l i d e s h o w ' ) . c s s ( ' h e i g h t ' , ' 1 0 0 % ' ) ; $ m o d a l . a p p e n d T o ( d o c u m e n t . b o d y ) ; $ m o d a l . o n e ( ' s h o w n . b s . m o d a l ' , f u n c t i o n ( ) { s e l f . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { e d i t a b l e M o d e : f a l s e , $ t a r g e t : $ m o d a l . f i n d ( ' . m o d a l - b o d y . o _ s l i d e s h o w ' ) , } ) ; } ) ; } , } ) ; c o n s t   G a l l e r y S l i d e r W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ s l i d e s h o w ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ i m a g e _ g a l l e r y / 0 0 0 . x m l ' ] , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ c a r o u s e l = t h i s . $ t a r g e t . i s ( ' . c a r o u s e l ' ) ? t h i s . $ t a r g e t : t h i s . $ t a r g e t . f i n d ( ' . c a r o u s e l ' ) ; t h i s . $ i n d i c a t o r = t h i s . $ c a r o u s e l . f i n d ( ' . c a r o u s e l - i n d i c a t o r s ' ) ; t h i s . $ p r e v = t h i s . $ i n d i c a t o r . f i n d ( ' l i . o _ i n d i c a t o r s _ l e f t ' ) . c s s ( ' v i s i b i l i t y ' , ' ' ) ; t h i s . $ n e x t = t h i s . $ i n d i c a t o r . f i n d ( ' l i . o _ i n d i c a t o r s _ r i g h t ' ) . c s s ( ' v i s i b i l i t y ' , ' ' ) ; v a r   $ l i s = t h i s . $ i n d i c a t o r . f i n d ( ' l i [ d a t a - s l i d e - t o ] ' ) ; v a r   n b P e r P a g e = M a t h . f l o o r ( t h i s . $ i n d i c a t o r . w i d t h ( ) / $ l i s . f i r s t ( ) . o u t e r W i d t h ( t r u e ) ) - 3 ; v a r   r e a l N b P e r P a g e = n b P e r P a g e | | 1 ; v a r   n b P a g e s = M a t h . c e i l ( $ l i s . l e n g t h / r e a l N b P e r P a g e ) ; v a r   i n d e x ; v a r   p a g e ; u p d a t e ( ) ; f u n c t i o n   h i d e ( ) { $ l i s . e a c h ( f u n c t i o n ( i ) { $ ( t h i s ) . t o g g l e C l a s s ( ' d - n o n e ' , i < p a g e * n b P e r P a g e | | i > = ( p a g e + 1 ) * n b P e r P a g e ) ; } ) ; i f ( p a g e < = 0 ) { s e l f . $ p r e v . d e t a c h ( ) ; } e l s e { s e l f . $ p r e v . r e m o v e C l a s s ( ' d - n o n e ' ) ; s e l f . $ p r e v . p r e p e n d T o ( s e l f . $ i n d i c a t o r ) ; } 
 i f ( p a g e > = n b P a g e s - 1 ) { s e l f . $ n e x t . d e t a c h ( ) ; } e l s e { s e l f . $ n e x t . r e m o v e C l a s s ( ' d - n o n e ' ) ; s e l f . $ n e x t . a p p e n d T o ( s e l f . $ i n d i c a t o r ) ; } } 
 f u n c t i o n   u p d a t e ( ) { i n d e x = $ l i s . i n d e x ( $ l i s . f i l t e r ( ' . a c t i v e ' ) ) | | 0 ; p a g e = M a t h . f l o o r ( i n d e x / r e a l N b P e r P a g e ) ; h i d e ( ) ; } 
 t h i s . $ c a r o u s e l . o n ( ' s l i d e . b s . c a r o u s e l . g a l l e r y _ s l i d e r ' , f u n c t i o n ( ) { s e t T i m e o u t ( f u n c t i o n ( ) { v a r   $ i t e m = s e l f . $ c a r o u s e l . f i n d ( ' . c a r o u s e l - i n n e r   . c a r o u s e l - i t e m - p r e v ,   . c a r o u s e l - i n n e r   . c a r o u s e l - i t e m - n e x t ' ) ; v a r   i n d e x = $ i t e m . i n d e x ( ) ; $ l i s . r e m o v e C l a s s ( ' a c t i v e ' ) . f i l t e r ( ' [ d a t a - s l i d e - t o = " ' + i n d e x + ' " ] ' ) . a d d C l a s s ( ' a c t i v e ' ) ; } , 0 ) ; } ) ; t h i s . $ i n d i c a t o r . o n ( ' c l i c k . g a l l e r y _ s l i d e r ' , ' >   l i : n o t ( [ d a t a - s l i d e - t o ] ) ' , f u n c t i o n ( ) { p a g e + = ( $ ( t h i s ) . h a s C l a s s ( ' o _ i n d i c a t o r s _ l e f t ' ) ? - 1 : 1 ) ; p a g e = M a t h . m a x ( 0 , M a t h . m i n ( n b P a g e s - 1 , p a g e ) ) ; s e l f . $ c a r o u s e l . c a r o u s e l ( p a g e * r e a l N b P e r P a g e ) ; i f ( ! s e l f . e d i t a b l e M o d e ) { h i d e ( ) ; } } ) ; t h i s . $ c a r o u s e l . o n ( ' s l i d . b s . c a r o u s e l . g a l l e r y _ s l i d e r ' , u p d a t e ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( ! t h i s . $ i n d i c a t o r ) { r e t u r n ; } 
 t h i s . $ p r e v . p r e p e n d T o ( t h i s . $ i n d i c a t o r ) ; t h i s . $ n e x t . a p p e n d T o ( t h i s . $ i n d i c a t o r ) ; t h i s . $ c a r o u s e l . o f f ( ' . g a l l e r y _ s l i d e r ' ) ; t h i s . $ i n d i c a t o r . o f f ( ' . g a l l e r y _ s l i d e r ' ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . g a l l e r y = G a l l e r y W i d g e t ; p u b l i c W i d g e t . r e g i s t r y . g a l l e r y S l i d e r = G a l l e r y S l i d e r W i d g e t ; r e t u r n { G a l l e r y W i d g e t : G a l l e r y W i d g e t , G a l l e r y S l i d e r W i d g e t : G a l l e r y S l i d e r W i d g e t , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ c o u n t d o w n / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ c o u n t d o w n ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t { C o l o r p i c k e r W i d g e t } = r e q u i r e ( ' w e b . C o l o r p i c k e r ' ) ; c o n s t   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   w e U t i l s = r e q u i r e ( ' w e b _ e d i t o r . u t i l s ' ) ; c o n s t   q w e b = c o r e . q w e b ; c o n s t   _ t = c o r e . _ t ; c o n s t   C o u n t d o w n W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ c o u n t d o w n ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ c o u n t d o w n / 0 0 0 . x m l ' ] , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t : f u n c t i o n ( ) { t h i s . $ w r a p p e r = t h i s . $ ( ' . s _ c o u n t d o w n _ c a n v a s _ w r a p p e r ' ) ; t h i s . h e r e B e f o r e T i m e r E n d s = f a l s e ; t h i s . e n d A c t i o n = t h i s . e l . d a t a s e t . e n d A c t i o n ; t h i s . e n d T i m e = p a r s e I n t ( t h i s . e l . d a t a s e t . e n d T i m e ) ; t h i s . s i z e = p a r s e I n t ( t h i s . e l . d a t a s e t . s i z e ) ; t h i s . d i s p l a y = t h i s . e l . d a t a s e t . d i s p l a y ; t h i s . l a y o u t = t h i s . e l . d a t a s e t . l a y o u t ; t h i s . l a y o u t B a c k g r o u n d = t h i s . e l . d a t a s e t . l a y o u t B a c k g r o u n d ; t h i s . p r o g r e s s B a r S t y l e = t h i s . e l . d a t a s e t . p r o g r e s s B a r S t y l e ; t h i s . p r o g r e s s B a r W e i g h t = t h i s . e l . d a t a s e t . p r o g r e s s B a r W e i g h t ; t h i s . t e x t C o l o r = t h i s . _ e n s u r e C s s C o l o r ( t h i s . e l . d a t a s e t . t e x t C o l o r ) ; t h i s . l a y o u t B a c k g r o u n d C o l o r = t h i s . _ e n s u r e C s s C o l o r ( t h i s . e l . d a t a s e t . l a y o u t B a c k g r o u n d C o l o r ) ; t h i s . p r o g r e s s B a r C o l o r = t h i s . _ e n s u r e C s s C o l o r ( t h i s . e l . d a t a s e t . p r o g r e s s B a r C o l o r ) ; t h i s . o n l y O n e U n i t = t h i s . d i s p l a y = = = ' d ' ; t h i s . w i d t h = p a r s e I n t ( t h i s . s i z e ) ; i f ( t h i s . l a y o u t = = = ' b o x e s ' ) { t h i s . w i d t h / = 1 . 7 5 ; } 
 t h i s . _ i n i t T i m e D i f f ( ) ; t h i s . _ r e n d e r ( ) ; t h i s . s e t I n t e r v a l = s e t I n t e r v a l ( t h i s . _ r e n d e r . b i n d ( t h i s ) , 1 0 0 0 ) ; r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . $ ( ' . s _ c o u n t d o w n _ e n d _ r e d i r e c t _ m e s s a g e ' ) . r e m o v e ( ) ; t h i s . $ ( ' c a n v a s ' ) . r e m o v e ( ) ; t h i s . $ ( ' . s _ c o u n t d o w n _ e n d _ m e s s a g e ' ) . a d d C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' . s _ c o u n t d o w n _ t e x t _ w r a p p e r ' ) . r e m o v e ( ) ; t h i s . $ ( ' . s _ c o u n t d o w n _ c a n v a s _ w r a p p e r ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; c l e a r I n t e r v a l ( t h i s . s e t I n t e r v a l ) ; t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ e n s u r e C s s C o l o r : f u n c t i o n ( c o l o r ) { i f ( C o l o r p i c k e r W i d g e t . i s C S S C o l o r ( c o l o r ) ) { r e t u r n   c o l o r ; } 
 r e t u r n   w e U t i l s . g e t C S S V a r i a b l e V a l u e ( c o l o r ) ; } , _ g e t D e l t a : f u n c t i o n ( ) { c o n s t   c u r r e n t T i m e s t a m p = D a t e . n o w ( ) / 1 0 0 0 ; r e t u r n   t h i s . e n d T i m e - c u r r e n t T i m e s t a m p ; } , _ h a n d l e E n d C o u n t d o w n A c t i o n : f u n c t i o n ( ) { i f ( t h i s . e n d A c t i o n = = = ' r e d i r e c t ' ) { c o n s t   r e d i r e c t U r l = t h i s . e l . d a t a s e t . r e d i r e c t U r l | | ' / ' ; i f ( t h i s . h e r e B e f o r e T i m e r E n d s ) { s e t T i m e o u t ( ( ) = > w i n d o w . l o c a t i o n = r e d i r e c t U r l , 5 0 0 ) ; } e l s e { i f ( ! t h i s . $ ( ' . s _ c o u n t d o w n _ e n d _ r e d i r e c t _ m e s s a g e ' ) . l e n g t h ) { c o n s t   $ c o n t a i n e r = t h i s . $ ( ' >   . c o n t a i n e r ,   >   . c o n t a i n e r - f l u i d ,   >   . o _ c o n t a i n e r _ s m a l l ' ) ; $ c o n t a i n e r . a p p e n d ( $ ( q w e b . r e n d e r ( ' w e b s i t e . s _ c o u n t d o w n . e n d _ r e d i r e c t _ m e s s a g e ' , { r e d i r e c t U r l : r e d i r e c t U r l , } ) ) ) ; } } } e l s e   i f ( t h i s . e n d A c t i o n = = = ' m e s s a g e ' ) { t h i s . $ ( ' . s _ c o u n t d o w n _ e n d _ m e s s a g e ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } } , _ i n i t T i m e D i f f : f u n c t i o n ( ) { c o n s t   d e l t a = t h i s . _ g e t D e l t a ( ) ; t h i s . d i f f = [ ] ; i f ( t h i s . _ i s U n i t V i s i b l e ( ' d ' ) & & ! ( t h i s . o n l y O n e U n i t & & d e l t a < 8 6 4 0 0 ) ) { t h i s . d i f f . p u s h ( { c a n v a s : $ ( ' < c a n v a s / > ' ) . a p p e n d T o ( t h i s . $ w r a p p e r ) [ 0 ] , t o t a l : 1 5 , l a b e l : _ t ( " D a y s " ) , n b S e c o n d s : 8 6 4 0 0 , } ) ; } 
 i f ( t h i s . _ i s U n i t V i s i b l e ( ' h ' ) | | ( t h i s . o n l y O n e U n i t & & d e l t a < 8 6 4 0 0 & & d e l t a > 3 6 0 0 ) ) { t h i s . d i f f . p u s h ( { c a n v a s : $ ( ' < c a n v a s / > ' ) . a p p e n d T o ( t h i s . $ w r a p p e r ) [ 0 ] , t o t a l : 2 4 , l a b e l : _ t ( " H o u r s " ) , n b S e c o n d s : 3 6 0 0 , } ) ; } 
 i f ( t h i s . _ i s U n i t V i s i b l e ( ' m ' ) | | ( t h i s . o n l y O n e U n i t & & d e l t a < 3 6 0 0 & & d e l t a > 6 0 ) ) { t h i s . d i f f . p u s h ( { c a n v a s : $ ( ' < c a n v a s / > ' ) . a p p e n d T o ( t h i s . $ w r a p p e r ) [ 0 ] , t o t a l : 6 0 , l a b e l : _ t ( " M i n u t e s " ) , n b S e c o n d s : 6 0 , } ) ; } 
 i f ( t h i s . _ i s U n i t V i s i b l e ( ' s ' ) | | ( t h i s . o n l y O n e U n i t & & d e l t a < 6 0 ) ) { t h i s . d i f f . p u s h ( { c a n v a s : $ ( ' < c a n v a s / > ' ) . a p p e n d T o ( t h i s . $ w r a p p e r ) [ 0 ] , t o t a l : 6 0 , l a b e l : _ t ( " S e c o n d s " ) , n b S e c o n d s : 1 , } ) ; } } , _ i s U n i t V i s i b l e : f u n c t i o n ( u n i t ) { r e t u r n   t h i s . d i s p l a y . i n c l u d e s ( u n i t ) ; } , _ r e n d e r : f u n c t i o n ( ) { i f ( t h i s . o n l y O n e U n i t & & t h i s . _ g e t D e l t a ( ) < t h i s . d i f f [ 0 ] . n b S e c o n d s ) { t h i s . $ ( ' c a n v a s ' ) . r e m o v e ( ) ; t h i s . _ i n i t T i m e D i f f ( ) ; } 
 t h i s . _ u p d a t e T i m e D i f f ( ) ; c o n s t   h i d e C o u n t d o w n = t h i s . i s F i n i s h e d & & ! t h i s . e d i t a b l e M o d e & & t h i s . $ e l . h a s C l a s s ( ' h i d e - c o u n t d o w n ' ) ; i f ( t h i s . l a y o u t = = = ' t e x t ' ) { t h i s . $ ( ' c a n v a s ' ) . a d d C l a s s ( ' d - n o n e ' ) ; i f ( ! t h i s . $ t e x t W r a p p e r ) { t h i s . $ t e x t W r a p p e r = $ ( ' < s p a n / > ' ) . a t t r ( { c l a s s : ' s _ c o u n t d o w n _ t e x t _ w r a p p e r   d - n o n e ' , } ) ; t h i s . $ t e x t W r a p p e r . t e x t ( _ t ( " C o u n t d o w n   e n d s   i n " ) ) ; t h i s . $ t e x t W r a p p e r . a p p e n d ( $ ( ' < s p a n / > ' ) . a t t r ( { c l a s s : ' s _ c o u n t d o w n _ t e x t   m l - 1 ' , } ) ) ; t h i s . $ t e x t W r a p p e r . a p p e n d T o ( t h i s . $ w r a p p e r ) ; } 
 t h i s . $ t e x t W r a p p e r . t o g g l e C l a s s ( ' d - n o n e ' , h i d e C o u n t d o w n ) ; c o n s t   c o u n t d o w n T e x t = t h i s . d i f f . m a p ( e = > e . n b + '   ' + e . l a b e l ) . j o i n ( ' ,   ' ) ; t h i s . $ ( ' . s _ c o u n t d o w n _ t e x t ' ) . t e x t ( c o u n t d o w n T e x t . t o L o w e r C a s e ( ) ) ; } e l s e { f o r ( c o n s t   v a l   o f   t h i s . d i f f ) { c o n s t   c a n v a s = v a l . c a n v a s ; c o n s t   c t x = c a n v a s . g e t C o n t e x t ( " 2 d " ) ; c t x . c a n v a s . w i d t h = t h i s . w i d t h ; c t x . c a n v a s . h e i g h t = t h i s . s i z e ; t h i s . _ c l e a r C a n v a s ( c t x ) ; $ ( c a n v a s ) . t o g g l e C l a s s ( ' d - n o n e ' , h i d e C o u n t d o w n ) ; i f ( h i d e C o u n t d o w n ) { c o n t i n u e ; } 
 i f ( t h i s . l a y o u t B a c k g r o u n d ! = = ' n o n e ' ) { t h i s . _ d r a w B g S h a p e ( c t x , t h i s . l a y o u t B a c k g r o u n d = = = ' p l a i n ' ) ; } 
 t h i s . _ d r a w T e x t ( c a n v a s , v a l . n b , v a l . l a b e l , t h i s . l a y o u t B a c k g r o u n d = = = ' p l a i n ' ) ; i f ( t h i s . p r o g r e s s B a r S t y l e = = = ' s u r r o u n d e d ' ) { t h i s . _ d r a w P r o g r e s s B a r B g ( c t x , t h i s . p r o g r e s s B a r W e i g h t = = = ' t h i n ' ) ; } 
 i f ( t h i s . p r o g r e s s B a r S t y l e ! = = ' n o n e ' ) { t h i s . _ d r a w P r o g r e s s B a r ( c t x , v a l . n b , v a l . t o t a l , t h i s . p r o g r e s s B a r W e i g h t = = = ' t h i n ' ) ; } 
 $ ( c a n v a s ) . t o g g l e C l a s s ( ' m x - 2 ' , t h i s . l a y o u t = = = ' b o x e s ' ) ; } } 
 i f ( t h i s . i s F i n i s h e d ) { c l e a r I n t e r v a l ( t h i s . s e t I n t e r v a l ) ; i f ( ! t h i s . e d i t a b l e M o d e ) { t h i s . _ h a n d l e E n d C o u n t d o w n A c t i o n ( ) ; } } } , _ u p d a t e T i m e D i f f : f u n c t i o n ( ) { l e t   d e l t a = t h i s . _ g e t D e l t a ( ) ; t h i s . i s F i n i s h e d = d e l t a < 0 ; i f ( t h i s . i s F i n i s h e d ) { f o r ( c o n s t   u n i t D a t a   o f   t h i s . d i f f ) { u n i t D a t a . n b = 0 ; } 
 r e t u r n ; } 
 t h i s . h e r e B e f o r e T i m e r E n d s = t r u e ; f o r ( c o n s t   u n i t D a t a   o f   t h i s . d i f f ) { u n i t D a t a . n b = M a t h . f l o o r ( d e l t a / u n i t D a t a . n b S e c o n d s ) ; d e l t a - = u n i t D a t a . n b * u n i t D a t a . n b S e c o n d s ; } } , _ c l e a r C a n v a s : f u n c t i o n ( c t x ) { c t x . c l e a r R e c t ( 0 , 0 , t h i s . s i z e , t h i s . s i z e ) ; } , _ d r a w T e x t : f u n c t i o n ( c a n v a s , t e x t N b , t e x t U n i t , f u l l = f a l s e ) { c o n s t   c t x = c a n v a s . g e t C o n t e x t ( " 2 d " ) ; c o n s t   n b S i z e = t h i s . s i z e / 4 ; c t x . f o n t = ` $ { n b S i z e } p x   A r i a l ` ; c t x . f i l l S t y l e = t h i s . t e x t C o l o r ; c t x . t e x t A l i g n = ' c e n t e r ' ; c t x . t e x t B a s e l i n e = ' m i d d l e ' ; c t x . f i l l T e x t ( t e x t N b , c a n v a s . w i d t h / 2 , c a n v a s . h e i g h t / 2 ) ; c o n s t   u n i t S i z e = t h i s . s i z e / 1 2 ; c t x . f o n t = ` $ { u n i t S i z e } p x   A r i a l ` ; c t x . f i l l T e x t ( t e x t U n i t , c a n v a s . w i d t h / 2 , c a n v a s . h e i g h t / 2 + n b S i z e / 1 . 5 , t h i s . w i d t h ) ; i f ( t h i s . l a y o u t = = = ' b o x e s ' & & t h i s . l a y o u t B a c k g r o u n d ! = = ' n o n e ' & & t h i s . p r o g r e s s B a r S t y l e = = = ' n o n e ' ) { l e t   b a r W i d t h = t h i s . s i z e / ( t h i s . p r o g r e s s B a r W e i g h t = = = ' t h i n ' ? 3 1 : 1 0 ) ; i f ( f u l l ) { b a r W i d t h = 0 ; } 
 c t x . b e g i n P a t h ( ) ; c t x . m o v e T o ( b a r W i d t h , t h i s . s i z e / 2 ) ; c t x . l i n e T o ( t h i s . w i d t h - b a r W i d t h , t h i s . s i z e / 2 ) ; c t x . s t r o k e ( ) ; } } , _ d r a w B g S h a p e : f u n c t i o n ( c t x , f u l l = f a l s e ) { c t x . f i l l S t y l e = t h i s . l a y o u t B a c k g r o u n d C o l o r ; c t x . b e g i n P a t h ( ) ; i f ( t h i s . l a y o u t = = = ' c i r c l e ' ) { l e t   r a y o n = t h i s . s i z e / 2 ; i f ( t h i s . p r o g r e s s B a r W e i g h t = = = ' t h i n ' ) { r a y o n - = f u l l ? t h i s . s i z e / 2 9 : t h i s . s i z e / 1 5 ; } e l s e { r a y o n - = f u l l ? 0 : t h i s . s i z e / 1 0 ; } 
 c t x . a r c ( t h i s . s i z e / 2 , t h i s . s i z e / 2 , r a y o n , 0 , M a t h . P I * 2 ) ; c t x . f i l l ( ) ; } e l s e   i f ( t h i s . l a y o u t = = = ' b o x e s ' ) { l e t   b a r W i d t h = t h i s . s i z e / ( t h i s . p r o g r e s s B a r W e i g h t = = = ' t h i n ' ? 3 1 : 1 0 ) ; i f ( f u l l ) { b a r W i d t h = 0 ; } 
 c t x . f i l l S t y l e = t h i s . l a y o u t B a c k g r o u n d C o l o r ; c t x . r e c t ( b a r W i d t h , b a r W i d t h , t h i s . w i d t h - b a r W i d t h * 2 , t h i s . s i z e - b a r W i d t h * 2 ) ; c t x . f i l l ( ) ; c o n s t   g r a d i e n t = c t x . c r e a t e L i n e a r G r a d i e n t ( 0 , t h i s . w i d t h , 0 , 0 ) ; g r a d i e n t . a d d C o l o r S t o p ( 0 , ' # f f f f f f 2 4 ' ) ; g r a d i e n t . a d d C o l o r S t o p ( 1 , t h i s . l a y o u t B a c k g r o u n d C o l o r ) ; c t x . f i l l S t y l e = g r a d i e n t ; c t x . r e c t ( b a r W i d t h , b a r W i d t h , t h i s . w i d t h - b a r W i d t h * 2 , t h i s . s i z e - b a r W i d t h * 2 ) ; c t x . f i l l ( ) ; $ ( c t x . c a n v a s ) . c s s ( { ' b o r d e r - r a d i u s ' : ' 8 p x ' } ) ; } } , _ d r a w P r o g r e s s B a r : f u n c t i o n ( c t x , n b U n i t , t o t a l U n i t , t h i n L i n e ) { c t x . s t r o k e S t y l e = t h i s . p r o g r e s s B a r C o l o r ; c t x . l i n e W i d t h = t h i n L i n e ? t h i s . s i z e / 3 5 : t h i s . s i z e / 1 0 ; i f ( t h i s . l a y o u t = = = ' c i r c l e ' ) { c t x . b e g i n P a t h ( ) ; c t x . a r c ( t h i s . s i z e / 2 , t h i s . s i z e / 2 , t h i s . s i z e / 2 - t h i s . s i z e / 2 0 , M a t h . P I / - 2 , ( M a t h . P I * 2 ) * ( n b U n i t / t o t a l U n i t ) + ( M a t h . P I / - 2 ) ) ; c t x . s t r o k e ( ) ; } e l s e   i f ( t h i s . l a y o u t = = = ' b o x e s ' ) { c t x . l i n e W i d t h * = 2 ; l e t   p c = n b U n i t / t o t a l U n i t * 1 0 0 ; c o n s t   l i n e s C o o r d F u n c s = [ ( l i n e P c ) = > [ 0 + c t x . l i n e W i d t h / 2 , 0 , ( t h i s . w i d t h - c t x . l i n e W i d t h / 2 ) * l i n e P c / 2 5 + c t x . l i n e W i d t h / 2 , 0 ] , ( l i n e P c ) = > [ t h i s . w i d t h , 0 + c t x . l i n e W i d t h / 2 , t h i s . w i d t h , ( t h i s . s i z e - c t x . l i n e W i d t h / 2 ) * l i n e P c / 2 5 + c t x . l i n e W i d t h / 2 ] , ( l i n e P c ) = > [ t h i s . w i d t h - ( ( t h i s . w i d t h - c t x . l i n e W i d t h / 2 ) * l i n e P c / 2 5 ) - c t x . l i n e W i d t h / 2 , t h i s . s i z e , t h i s . w i d t h - c t x . l i n e W i d t h / 2 , t h i s . s i z e ] , ( l i n e P c ) = > [ 0 , t h i s . s i z e - ( ( t h i s . s i z e - c t x . l i n e W i d t h / 2 ) * l i n e P c / 2 5 ) - c t x . l i n e W i d t h / 2 , 0 , t h i s . s i z e - c t x . l i n e W i d t h / 2 ] , ] ; w h i l e ( p c > 0 & & l i n e s C o o r d F u n c s . l e n g t h ) { c o n s t   l i n e P c = M a t h . m i n ( p c , 2 5 ) ; c o n s t   l i n e C o o r d = ( l i n e s C o o r d F u n c s . s h i f t ( ) ) ( l i n e P c ) ; c t x . b e g i n P a t h ( ) ; c t x . m o v e T o ( l i n e C o o r d [ 0 ] , l i n e C o o r d [ 1 ] ) ; c t x . l i n e T o ( l i n e C o o r d [ 2 ] , l i n e C o o r d [ 3 ] ) ; c t x . s t r o k e ( ) ; p c - = l i n e P c ; } } } , _ d r a w P r o g r e s s B a r B g : f u n c t i o n ( c t x , t h i n L i n e ) { c t x . s t r o k e S t y l e = t h i s . p r o g r e s s B a r C o l o r ; c t x . g l o b a l A l p h a = 0 . 2 ; c t x . l i n e W i d t h = t h i n L i n e ? t h i s . s i z e / 3 5 : t h i s . s i z e / 1 0 ; i f ( t h i s . l a y o u t = = = ' c i r c l e ' ) { c t x . b e g i n P a t h ( ) ; c t x . a r c ( t h i s . s i z e / 2 , t h i s . s i z e / 2 , t h i s . s i z e / 2 - t h i s . s i z e / 2 0 , 0 , M a t h . P I * 2 ) ; c t x . s t r o k e ( ) ; } e l s e   i f ( t h i s . l a y o u t = = = ' b o x e s ' ) { c t x . l i n e W i d t h * = 2 ; c o n s t   p o i n t s = [ [ 0 + c t x . l i n e W i d t h / 2 , 0 , t h i s . w i d t h , 0 ] , [ t h i s . w i d t h , 0 + c t x . l i n e W i d t h / 2 , t h i s . w i d t h , t h i s . s i z e ] , [ 0 , t h i s . s i z e , t h i s . w i d t h - c t x . l i n e W i d t h / 2 , t h i s . s i z e ] , [ 0 , 0 , 0 , t h i s . s i z e - c t x . l i n e W i d t h / 2 ] , ] ; w h i l e ( p o i n t s . l e n g t h ) { c o n s t   p o i n t = p o i n t s . s h i f t ( ) ; c t x . b e g i n P a t h ( ) ; c t x . m o v e T o ( p o i n t [ 0 ] , p o i n t [ 1 ] ) ; c t x . l i n e T o ( p o i n t [ 2 ] , p o i n t [ 3 ] ) ; c t x . s t r o k e ( ) ; } } 
 c t x . g l o b a l A l p h a = 1 ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . c o u n t d o w n = C o u n t d o w n W i d g e t ; r e t u r n   C o u n t d o w n W i d g e t ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ p o p u p / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ p o p u p ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; c o n s t   P o p u p W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ p o p u p ' , e v e n t s : { ' c l i c k   . j s _ c l o s e _ p o p u p ' : ' _ o n C l o s e C l i c k ' , ' h i d e . b s . m o d a l ' : ' _ o n H i d e M o d a l ' , } , s t a r t : f u n c t i o n ( ) { t h i s . _ p o p u p A l r e a d y S h o w n = ! ! u t i l s . g e t _ c o o k i e ( t h i s . $ e l . a t t r ( ' i d ' ) ) ; i f ( ! t h i s . _ p o p u p A l r e a d y S h o w n ) { t h i s . _ b i n d P o p u p ( ) ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; $ ( d o c u m e n t ) . o f f ( ' m o u s e l e a v e . o p e n _ p o p u p ' ) ; c l e a r T i m e o u t ( t h i s . t i m e o u t ) ; } , _ b i n d P o p u p : f u n c t i o n ( ) { c o n s t   $ m a i n = t h i s . $ t a r g e t . f i n d ( ' . m o d a l ' ) ; l e t   d i s p l a y = $ m a i n . d a t a ( ' d i s p l a y ' ) ; l e t   d e l a y = $ m a i n . d a t a ( ' s h o w A f t e r ' ) ; i f ( c o n f i g . d e v i c e . i s M o b i l e ) { i f ( d i s p l a y = = = ' o n E x i t ' ) { d i s p l a y = ' a f t e r D e l a y ' ; d e l a y = 5 0 0 0 ; } 
 t h i s . $ ( ' . m o d a l ' ) . r e m o v e C l a s s ( ' s _ p o p u p _ m i d d l e ' ) . a d d C l a s s ( ' s _ p o p u p _ b o t t o m ' ) ; } 
 i f ( d i s p l a y = = = ' a f t e r D e l a y ' ) { t h i s . t i m e o u t = s e t T i m e o u t ( ( ) = > t h i s . _ s h o w P o p u p ( ) , d e l a y ) ; } e l s e { $ ( d o c u m e n t ) . o n ( ' m o u s e l e a v e . o p e n _ p o p u p ' , ( ) = > t h i s . _ s h o w P o p u p ( ) ) ; } } , _ h i d e P o p u p : f u n c t i o n ( ) { t h i s . $ t a r g e t . f i n d ( ' . m o d a l ' ) . m o d a l ( ' h i d e ' ) ; } , _ s h o w P o p u p : f u n c t i o n ( ) { i f ( t h i s . _ p o p u p A l r e a d y S h o w n ) { r e t u r n ; } 
 t h i s . $ t a r g e t . f i n d ( ' . m o d a l ' ) . m o d a l ( ' s h o w ' ) ; } , _ o n C l o s e C l i c k : f u n c t i o n ( ) { t h i s . _ h i d e P o p u p ( ) ; } , _ o n H i d e M o d a l : f u n c t i o n ( ) { c o n s t   n b D a y s = t h i s . $ e l . f i n d ( ' . m o d a l ' ) . d a t a ( ' c o n s e n t s D u r a t i o n ' ) ; u t i l s . s e t _ c o o k i e ( t h i s . $ e l . a t t r ( ' i d ' ) , t r u e , n b D a y s * 2 4 * 6 0 * 6 0 ) ; t h i s . _ p o p u p A l r e a d y S h o w n = t r u e ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . p o p u p = P o p u p W i d g e t ; c o n s t   _ b a s e S e t S c r o l l b a r = $ . f n . m o d a l . C o n s t r u c t o r . p r o t o t y p e . _ s e t S c r o l l b a r ; $ . f n . m o d a l . C o n s t r u c t o r . p r o t o t y p e . _ s e t S c r o l l b a r = f u n c t i o n ( ) { i f ( t h i s . _ e l e m e n t . c l a s s L i s t . c o n t a i n s ( ' s _ p o p u p _ n o _ b a c k d r o p ' ) ) { r e t u r n ; } 
 r e t u r n   _ b a s e S e t S c r o l l b a r . a p p l y ( t h i s , . . . a r g u m e n t s ) ; } ; c o n s t   _ b a s e G e t S c r o l l b a r W i d t h = $ . f n . m o d a l . C o n s t r u c t o r . p r o t o t y p e . _ g e t S c r o l l b a r W i d t h ; $ . f n . m o d a l . C o n s t r u c t o r . p r o t o t y p e . _ g e t S c r o l l b a r W i d t h = f u n c t i o n ( ) { i f ( t h i s . _ e l e m e n t . c l a s s L i s t . c o n t a i n s ( ' s _ p o p u p _ n o _ b a c k d r o p ' ) ) { r e t u r n   0 ; } 
 r e t u r n   _ b a s e G e t S c r o l l b a r W i d t h . a p p l y ( t h i s , . . . a r g u m e n t s ) ; } ; r e t u r n   P o p u p W i d g e t ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ t a b l e _ o f _ c o n t e n t / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ t a b l e _ o f _ c o n t e n t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t { e x t r a M e n u U p d a t e C a l l b a c k s } = r e q u i r e ( ' w e b s i t e . c o n t e n t . m e n u ' ) ; c o n s t   T a b l e O f C o n t e n t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' s e c t i o n   . s _ t a b l e _ o f _ c o n t e n t _ n a v b a r _ s t i c k y ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , a s y n c   s t a r t ( ) { a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . _ u p d a t e T a b l e O f C o n t e n t N a v b a r P o s i t i o n ( ) ; e x t r a M e n u U p d a t e C a l l b a c k s . p u s h ( t h i s . _ u p d a t e T a b l e O f C o n t e n t N a v b a r P o s i t i o n . b i n d ( t h i s ) ) ; } , d e s t r o y ( ) { t h i s . $ t a r g e t . c s s ( ' t o p ' , ' ' ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ t a b l e _ o f _ c o n t e n t _ n a v b a r ' ) . c s s ( ' t o p ' , ' ' ) ; t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ u p d a t e T a b l e O f C o n t e n t N a v b a r P o s i t i o n ( ) { l e t   p o s i t i o n = 0 ; c o n s t   $ f i x e d E l e m e n t s = $ ( ' . o _ t o p _ f i x e d _ e l e m e n t ' ) ; _ . e a c h ( $ f i x e d E l e m e n t s , e l = > p o s i t i o n + = $ ( e l ) . o u t e r H e i g h t ( ) ) ; c o n s t   i s H o r i z o n t a l N a v b a r = t h i s . $ t a r g e t . h a s C l a s s ( ' s _ t a b l e _ o f _ c o n t e n t _ h o r i z o n t a l _ n a v b a r ' ) ; t h i s . $ t a r g e t . c s s ( ' t o p ' , i s H o r i z o n t a l N a v b a r ? p o s i t i o n : ' ' ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ t a b l e _ o f _ c o n t e n t _ n a v b a r ' ) . c s s ( ' t o p ' , i s H o r i z o n t a l N a v b a r ? ' ' : p o s i t i o n + 2 0 ) ; c o n s t   $ m a i n N a v B a r = $ ( ' # o e _ m a i n _ m e n u _ n a v b a r ' ) ; p o s i t i o n + = $ m a i n N a v B a r . l e n g t h ? $ m a i n N a v B a r . o u t e r H e i g h t ( ) : 0 ; p o s i t i o n + = i s H o r i z o n t a l N a v b a r ? t h i s . $ t a r g e t . o u t e r H e i g h t ( ) : 0 ; $ ( ) . g e t S c r o l l i n g E l e m e n t ( ) . s c r o l l s p y ( { t a r g e t : ' . s _ t a b l e _ o f _ c o n t e n t _ n a v b a r ' , m e t h o d : ' o f f s e t ' , o f f s e t : p o s i t i o n + 1 0 0 } ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . a n c h o r S l i d e . i n c l u d e ( { _ c o m p u t e E x t r a O f f s e t ( ) { l e t   e x t r a O f f s e t = t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( t h i s . $ e l . h a s C l a s s ( ' t a b l e _ o f _ c o n t e n t _ l i n k ' ) ) { c o n s t   t a b l e O f C o n t e n t N a v b a r E l = t h i s . $ e l . c l o s e s t ( ' . s _ t a b l e _ o f _ c o n t e n t _ n a v b a r _ s t i c k y . s _ t a b l e _ o f _ c o n t e n t _ h o r i z o n t a l _ n a v b a r ' ) ; i f ( t a b l e O f C o n t e n t N a v b a r E l . l e n g t h > 0 ) { e x t r a O f f s e t + = $ ( t a b l e O f C o n t e n t N a v b a r E l ) . o u t e r H e i g h t ( ) ; } } 
 r e t u r n   e x t r a O f f s e t ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . s n i p p e t T a b l e O f C o n t e n t = T a b l e O f C o n t e n t ; r e t u r n   T a b l e O f C o n t e n t ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ c h a r t / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ c h a r t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   w e U t i l s = r e q u i r e ( ' w e b _ e d i t o r . u t i l s ' ) ; c o n s t   C h a r t W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ c h a r t ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , j s L i b s : [ ' / w e b / s t a t i c / l i b / C h a r t / C h a r t . j s ' , ] , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . s t y l e = w i n d o w . g e t C o m p u t e d S t y l e ( d o c u m e n t . d o c u m e n t E l e m e n t ) ; } , s t a r t : f u n c t i o n ( ) { c o n s t   d a t a = J S O N . p a r s e ( t h i s . e l . d a t a s e t . d a t a ) ; d a t a . d a t a s e t s . f o r E a c h ( e l = > { i f ( A r r a y . i s A r r a y ( e l . b a c k g r o u n d C o l o r ) ) { e l . b a c k g r o u n d C o l o r = e l . b a c k g r o u n d C o l o r . m a p ( e l = > t h i s . _ c o n v e r t T o C s s C o l o r ( e l ) ) ; e l . b o r d e r C o l o r = e l . b o r d e r C o l o r . m a p ( e l = > t h i s . _ c o n v e r t T o C s s C o l o r ( e l ) ) ; } e l s e { e l . b a c k g r o u n d C o l o r = t h i s . _ c o n v e r t T o C s s C o l o r ( e l . b a c k g r o u n d C o l o r ) ; e l . b o r d e r C o l o r = t h i s . _ c o n v e r t T o C s s C o l o r ( e l . b o r d e r C o l o r ) ; } 
 e l . b o r d e r W i d t h = t h i s . e l . d a t a s e t . b o r d e r W i d t h ; } ) ; c o n s t   c h a r t D a t a = { t y p e : t h i s . e l . d a t a s e t . t y p e , d a t a : d a t a , o p t i o n s : { l e g e n d : { d i s p l a y : t h i s . e l . d a t a s e t . l e g e n d P o s i t i o n ! = = ' n o n e ' , p o s i t i o n : t h i s . e l . d a t a s e t . l e g e n d P o s i t i o n , } , t o o l t i p s : { e n a b l e d : t h i s . e l . d a t a s e t . t o o l t i p D i s p l a y = = = ' t r u e ' , } , t i t l e : { d i s p l a y : ! ! t h i s . e l . d a t a s e t . t i t l e , t e x t : t h i s . e l . d a t a s e t . t i t l e , } , } , } ; i f ( t h i s . e l . d a t a s e t . t y p e = = = ' r a d a r ' ) { c h a r t D a t a . o p t i o n s . s c a l e = { t i c k s : { b e g i n A t Z e r o : t r u e , } } ; } e l s e   i f ( [ ' p i e ' , ' d o u g h n u t ' ] . i n c l u d e s ( t h i s . e l . d a t a s e t . t y p e ) ) { c h a r t D a t a . o p t i o n s . t o o l t i p s . c a l l b a c k s = { l a b e l : ( t o o l t i p I t e m , d a t a ) = > { c o n s t   l a b e l = d a t a . d a t a s e t s [ t o o l t i p I t e m . d a t a s e t I n d e x ] . l a b e l ; c o n s t   s e c o n d L a b e l = d a t a . l a b e l s [ t o o l t i p I t e m . i n d e x ] ; l e t   f i n a l = l a b e l ; i f ( l a b e l ) { i f ( s e c o n d L a b e l ) { f i n a l = l a b e l + '   -   ' + s e c o n d L a b e l ; } } e l s e   i f ( s e c o n d L a b e l ) { f i n a l = s e c o n d L a b e l ; } 
 r e t u r n   f i n a l + ' : ' + d a t a . d a t a s e t s [ t o o l t i p I t e m . d a t a s e t I n d e x ] . d a t a [ t o o l t i p I t e m . i n d e x ] ; } , } ; } e l s e { c h a r t D a t a . o p t i o n s . s c a l e s = { x A x e s : [ { s t a c k e d : t h i s . e l . d a t a s e t . s t a c k e d = = = ' t r u e ' , t i c k s : { b e g i n A t Z e r o : t r u e } , } ] , y A x e s : [ { s t a c k e d : t h i s . e l . d a t a s e t . s t a c k e d = = = ' t r u e ' , t i c k s : { b e g i n A t Z e r o : t r u e } , } ] , } ; } 
 i f ( t h i s . e d i t a b l e M o d e ) { c h a r t D a t a . o p t i o n s . a n i m a t i o n = { d u r a t i o n : 0 , } ; } 
 c o n s t   c a n v a s = t h i s . e l . q u e r y S e l e c t o r ( ' c a n v a s ' ) ; t h i s . c h a r t = n e w   w i n d o w . C h a r t ( c a n v a s , c h a r t D a t a ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { i f ( t h i s . c h a r t ) { t h i s . c h a r t . d e s t r o y ( ) ; t h i s . e l . q u e r y S e l e c t o r A l l ( ' . c h a r t j s - s i z e - m o n i t o r ' ) . f o r E a c h ( e l = > e l . r e m o v e ( ) ) ; } 
 t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ c o n v e r t T o C s s C o l o r : f u n c t i o n ( c o l o r ) { i f ( ! c o l o r ) { r e t u r n ' t r a n s p a r e n t ' ; } 
 r e t u r n   w e U t i l s . g e t C S S V a r i a b l e V a l u e ( c o l o r , t h i s . s t y l e ) | | c o l o r ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . c h a r t = C h a r t W i d g e t ; r e t u r n   C h a r t W i d g e t ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ g o o g l e _ m a p / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ g o o g l e _ m a p ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . G o o g l e M a p = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ g o o g l e _ m a p ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , m a p C o l o r s : { l i g h t M o n o M a p : [ { " f e a t u r e T y p e " : " a d m i n i s t r a t i v e . l o c a l i t y " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " h u e " : " # 2 c 2 e 3 3 " } , { " s a t u r a t i o n " : 7 } , { " l i g h t n e s s " : 1 9 } , { " v i s i b i l i t y " : " o n " } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " h u e " : " # f f f f f f " } , { " s a t u r a t i o n " : - 1 0 0 } , { " l i g h t n e s s " : 1 0 0 } , { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " p o i " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " h u e " : " # f f f f f f " } , { " s a t u r a t i o n " : - 1 0 0 } , { " l i g h t n e s s " : 1 0 0 } , { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " r o a d " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " h u e " : " # b b c 0 c 4 " } , { " s a t u r a t i o n " : - 9 3 } , { " l i g h t n e s s " : 3 1 } , { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " r o a d " , " e l e m e n t T y p e " : " l a b e l s " , " s t y l e r s " : [ { " h u e " : " # b b c 0 c 4 " } , { " s a t u r a t i o n " : - 9 3 } , { " l i g h t n e s s " : 3 1 } , { " v i s i b i l i t y " : " o n " } ] } , { " f e a t u r e T y p e " : " r o a d . a r t e r i a l " , " e l e m e n t T y p e " : " l a b e l s " , " s t y l e r s " : [ { " h u e " : " # b b c 0 c 4 " } , { " s a t u r a t i o n " : - 9 3 } , { " l i g h t n e s s " : - 2 } , { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " r o a d . l o c a l " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " h u e " : " # e 9 e b e d " } , { " s a t u r a t i o n " : - 9 0 } , { " l i g h t n e s s " : - 8 } , { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " t r a n s i t " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " h u e " : " # e 9 e b e d " } , { " s a t u r a t i o n " : 1 0 } , { " l i g h t n e s s " : 6 9 } , { " v i s i b i l i t y " : " o n " } ] } , { " f e a t u r e T y p e " : " w a t e r " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " h u e " : " # e 9 e b e d " } , { " s a t u r a t i o n " : - 7 8 } , { " l i g h t n e s s " : 6 7 } , { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } ] , l i l l a M a p : [ { e l e m e n t T y p e : " l a b e l s " , s t y l e r s : [ { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " p o i " , e l e m e n t T y p e : " l a b e l s " , s t y l e r s : [ { v i s i b i l i t y : " o f f " } ] } , { f e a t u r e T y p e : ' r o a d . h i g h w a y ' , e l e m e n t T y p e : ' l a b e l s ' , s t y l e r s : [ { v i s i b i l i t y : " o f f " } ] } , { f e a t u r e T y p e : " r o a d . l o c a l " , e l e m e n t T y p e : " l a b e l s . i c o n " , s t y l e r s : [ { v i s i b i l i t y : " o f f " } ] } , { f e a t u r e T y p e : " r o a d . a r t e r i a l " , e l e m e n t T y p e : " l a b e l s . i c o n " , s t y l e r s : [ { v i s i b i l i t y : " o f f " } ] } , { f e a t u r e T y p e : " r o a d " , e l e m e n t T y p e : " g e o m e t r y . s t r o k e " , s t y l e r s : [ { v i s i b i l i t y : " o f f " } ] } , { f e a t u r e T y p e : " t r a n s i t " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " p o i " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " p o i . g o v e r n m e n t " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " p o i . s p o r t _ c o m p l e x " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " p o i . a t t r a c t i o n " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " p o i . b u s i n e s s " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " t r a n s i t " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " t r a n s i t . s t a t i o n " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " l a n d s c a p e " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " r o a d " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " r o a d . h i g h w a y " , e l e m e n t T y p e : " g e o m e t r y . f i l l " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " w a t e r " , e l e m e n t T y p e : " g e o m e t r y " , s t y l e r s : [ { h u e : ' # 2 d 3 1 3 f ' } , { v i s i b i l i t y : " o n " } , { l i g h t n e s s : 5 } , { s a t u r a t i o n : - 2 0 } ] } ] , b l u e M a p : [ { s t y l e r s : [ { h u e : " # 0 0 f f e 6 " } , { s a t u r a t i o n : - 2 0 } ] } , { f e a t u r e T y p e : " r o a d " , e l e m e n t T y p e : " g e o m e t r y " , s t y l e r s : [ { l i g h t n e s s : 1 0 0 } , { v i s i b i l i t y : " s i m p l i f i e d " } ] } , { f e a t u r e T y p e : " r o a d " , e l e m e n t T y p e : " l a b e l s " , s t y l e r s : [ { v i s i b i l i t y : " o f f " } ] } ] , r e t r o M a p : [ { " f e a t u r e T y p e " : " a d m i n i s t r a t i v e " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " l i g h t n e s s " : 3 3 } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " c o l o r " : " # f 2 e 5 d 4 " } ] } , { " f e a t u r e T y p e " : " p o i . p a r k " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # c 5 d a c 6 " } ] } , { " f e a t u r e T y p e " : " p o i . p a r k " , " e l e m e n t T y p e " : " l a b e l s " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " l i g h t n e s s " : 2 0 } ] } , { " f e a t u r e T y p e " : " r o a d " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " l i g h t n e s s " : 2 0 } ] } , { " f e a t u r e T y p e " : " r o a d . h i g h w a y " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # c 5 c 6 c 6 " } ] } , { " f e a t u r e T y p e " : " r o a d . a r t e r i a l " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # e 4 d 7 c 6 " } ] } , { " f e a t u r e T y p e " : " r o a d . l o c a l " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # f b f a f 7 " } ] } , { " f e a t u r e T y p e " : " w a t e r " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " c o l o r " : " # a c b c c 9 " } ] } ] , f l a t M a p : [ { " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " r o a d " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " c o l o r " : " # f f f f f f " } ] } , { " f e a t u r e T y p e " : " r o a d . a r t e r i a l " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " c o l o r " : " # f e e 3 7 9 " } ] } , { " f e a t u r e T y p e " : " r o a d . h i g h w a y " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " c o l o r " : " # f e e 3 7 9 " } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " c o l o r " : " # f 3 f 4 f 4 " } ] } , { " f e a t u r e T y p e " : " w a t e r " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " c o l o r " : " # 7 f c 8 e d " } ] } , { } , { " f e a t u r e T y p e " : " r o a d " , " e l e m e n t T y p e " : " l a b e l s " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } ] } , { " f e a t u r e T y p e " : " p o i . p a r k " , " e l e m e n t T y p e " : " g e o m e t r y . f i l l " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } , { " c o l o r " : " # 8 3 c e a d " } ] } , { " e l e m e n t T y p e " : " l a b e l s " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e . m a n _ m a d e " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " w e i g h t " : 0 . 9 } , { " v i s i b i l i t y " : " o f f " } ] } ] , c o b a l t M a p : [ { " f e a t u r e T y p e " : " a l l " , " e l e m e n t T y p e " : " a l l " , " s t y l e r s " : [ { " i n v e r t _ l i g h t n e s s " : t r u e } , { " s a t u r a t i o n " : 1 0 } , { " l i g h t n e s s " : 3 0 } , { " g a m m a " : 0 . 5 } , { " h u e " : " # 4 3 5 1 5 8 " } ] } ] , c u p e r t i n o M a p : [ { " f e a t u r e T y p e " : " w a t e r " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # a 2 d a f 2 " } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e . m a n _ m a d e " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # f 7 f 1 d f " } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e . n a t u r a l " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # d 0 e 3 b 4 " } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e . n a t u r a l . t e r r a i n " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " p o i . p a r k " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # b d e 6 a b " } ] } , { " f e a t u r e T y p e " : " p o i " , " e l e m e n t T y p e " : " l a b e l s " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " p o i . m e d i c a l " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " c o l o r " : " # f b d 3 d a " } ] } , { " f e a t u r e T y p e " : " p o i . b u s i n e s s " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " r o a d " , " e l e m e n t T y p e " : " g e o m e t r y . s t r o k e " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " r o a d " , " e l e m e n t T y p e " : " l a b e l s " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " r o a d . h i g h w a y " , " e l e m e n t T y p e " : " g e o m e t r y . f i l l " , " s t y l e r s " : [ { " c o l o r " : " # f f e 1 5 f " } ] } , { " f e a t u r e T y p e " : " r o a d . h i g h w a y " , " e l e m e n t T y p e " : " g e o m e t r y . s t r o k e " , " s t y l e r s " : [ { " c o l o r " : " # e f d 1 5 1 " } ] } , { " f e a t u r e T y p e " : " r o a d . a r t e r i a l " , " e l e m e n t T y p e " : " g e o m e t r y . f i l l " , " s t y l e r s " : [ { " c o l o r " : " # f f f f f f " } ] } , { " f e a t u r e T y p e " : " r o a d . l o c a l " , " e l e m e n t T y p e " : " g e o m e t r y . f i l l " , " s t y l e r s " : [ { " c o l o r " : " b l a c k " } ] } , { " f e a t u r e T y p e " : " t r a n s i t . s t a t i o n . a i r p o r t " , " e l e m e n t T y p e " : " g e o m e t r y . f i l l " , " s t y l e r s " : [ { " c o l o r " : " # c f b 2 d b " } ] } ] , c a r M a p : [ { " f e a t u r e T y p e " : " a d m i n i s t r a t i v e " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " p o i " , " s t y l e r s " : [ { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " r o a d " , " s t y l e r s " : [ { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " w a t e r " , " s t y l e r s " : [ { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " t r a n s i t " , " s t y l e r s " : [ { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " l a n d s c a p e " , " s t y l e r s " : [ { " v i s i b i l i t y " : " s i m p l i f i e d " } ] } , { " f e a t u r e T y p e " : " r o a d . h i g h w a y " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o f f " } ] } , { " f e a t u r e T y p e " : " r o a d . l o c a l " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } ] } , { " f e a t u r e T y p e " : " r o a d . h i g h w a y " , " e l e m e n t T y p e " : " g e o m e t r y " , " s t y l e r s " : [ { " v i s i b i l i t y " : " o n " } ] } , { " f e a t u r e T y p e " : " w a t e r " , " s t y l e r s " : [ { " c o l o r " : " # 8 4 a f a 3 " } , { " l i g h t n e s s " : 5 2 } ] } , { " s t y l e r s " : [ { " s a t u r a t i o n " : - 7 7 } ] } , { " f e a t u r e T y p e " : " r o a d " } ] , b w M a p : [ { s t y l e r s : [ { h u e : " # 0 0 f f e 6 " } , { s a t u r a t i o n : - 1 0 0 } ] } , { f e a t u r e T y p e : " r o a d " , e l e m e n t T y p e : " g e o m e t r y " , s t y l e r s : [ { l i g h t n e s s : 1 0 0 } , { v i s i b i l i t y : " s i m p l i f i e d " } ] } , { f e a t u r e T y p e : " r o a d " , e l e m e n t T y p e : " l a b e l s " , s t y l e r s : [ { v i s i b i l i t y : " o f f " } ] } ] , } , a s y n c   s t a r t ( ) { a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( t y p e o f   g o o g l e ! = = ' o b j e c t ' | | t y p e o f   g o o g l e . m a p s ! = = ' o b j e c t ' ) { a w a i t   n e w   P r o m i s e ( r e s o l v e = > { t h i s . t r i g g e r _ u p ( ' g m a p _ a p i _ r e q u e s t ' , { e d i t a b l e M o d e : t h i s . e d i t a b l e M o d e , o n S u c c e s s : ( ) = > r e s o l v e ( ) , } ) ; } ) ; r e t u r n ; } 
 c o n s t   s t d = [ ] ; n e w   g o o g l e . m a p s . S t y l e d M a p T y p e ( s t d , { n a m e : " S t d   M a p " } ) ; c o n s t   m y O p t i o n s = { z o o m : 1 2 , c e n t e r : n e w   g o o g l e . m a p s . L a t L n g ( 5 0 . 8 5 4 9 7 5 , 4 . 3 7 5 3 8 9 9 ) , m a p T y p e I d : g o o g l e . m a p s . M a p T y p e I d . R O A D M A P , p a n C o n t r o l : f a l s e , z o o m C o n t r o l : f a l s e , m a p T y p e C o n t r o l : f a l s e , s t r e e t V i e w C o n t r o l : f a l s e , s c r o l l w h e e l : f a l s e , m a p T y p e C o n t r o l O p t i o n s : { m a p T y p e I d s : [ g o o g l e . m a p s . M a p T y p e I d . R O A D M A P , ' m a p _ s t y l e ' ] } } ; c o n s t   m a p C = t h i s . $ ( ' . m a p _ c o n t a i n e r ' ) ; c o n s t   m a p = n e w   g o o g l e . m a p s . M a p ( m a p C . g e t ( 0 ) , m y O p t i o n s ) ; c o n s t   p = t h i s . e l . d a t a s e t . m a p G p s . s u b s t r i n g ( 1 ) . s l i c e ( 0 , - 1 ) . s p l i t ( ' , ' ) ; c o n s t   g p s = n e w   g o o g l e . m a p s . L a t L n g ( p [ 0 ] , p [ 1 ] ) ; m a p . s e t C e n t e r ( g p s ) ; g o o g l e . m a p s . e v e n t . a d d D o m L i s t e n e r ( w i n d o w , ' r e s i z e ' , ( ) = > { m a p . s e t C e n t e r ( g p s ) ; } ) ; c o n s t   m a r k e r O p t i o n s = { m a p : m a p , a n i m a t i o n : g o o g l e . m a p s . A n i m a t i o n . D R O P , p o s i t i o n : n e w   g o o g l e . m a p s . L a t L n g ( p [ 0 ] , p [ 1 ] ) } ; i f ( t h i s . e l . d a t a s e t . p i n S t y l e = = = ' f l a t ' ) { m a r k e r O p t i o n s . i c o n = ' / w e b s i t e / s t a t i c / s r c / i m g / s n i p p e t s _ t h u m b s / s _ g o o g l e _ m a p _ m a r k e r . p n g ' ; } 
 n e w   g o o g l e . m a p s . M a r k e r ( m a r k e r O p t i o n s ) ; m a p . s e t M a p T y p e I d ( g o o g l e . m a p s . M a p T y p e I d [ t h i s . e l . d a t a s e t . m a p T y p e ] ) ; m a p . s e t Z o o m ( p a r s e I n t ( t h i s . e l . d a t a s e t . m a p Z o o m ) ) ; c o n s t   m a p C o l o r A t t r = t h i s . e l . d a t a s e t . m a p C o l o r ; i f ( m a p C o l o r A t t r ) { c o n s t   m a p C o l o r = t h i s . m a p C o l o r s [ m a p C o l o r A t t r ] ; m a p . m a p T y p e s . s e t ( ' m a p _ s t y l e ' , n e w   g o o g l e . m a p s . S t y l e d M a p T y p e ( m a p C o l o r , { n a m e : " S t y l e d   M a p " } ) ) ; m a p . s e t M a p T y p e I d ( ' m a p _ s t y l e ' ) ; } } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ d y n a m i c _ s n i p p e t / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ d y n a m i c _ s n i p p e t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   D y n a m i c S n i p p e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ d y n a m i c _ s n i p p e t ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ d y n a m i c _ s n i p p e t / 0 0 0 . x m l ' ] , r e a d _ e v e n t s : { ' c l i c k   [ d a t a - u r l ] ' : ' _ o n C a l l T o A c t i o n ' , } , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . d a t a = [ ] ; t h i s . r e n d e r e d C o n t e n t = ' ' ; t h i s . i s D e s p l a y e d A s M o b i l e = c o n f i g . d e v i c e . i s M o b i l e ; t h i s . u n i q u e I d = _ . u n i q u e I d ( ' s _ d y n a m i c _ s n i p p e t _ ' ) ; t h i s . t e m p l a t e _ k e y = ' w e b s i t e . s _ d y n a m i c _ s n i p p e t . g r i d ' ; } , w i l l S t a r t : f u n c t i o n ( ) { r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( ( ) = > P r o m i s e . a l l ( [ t h i s . _ f e t c h D a t a ( ) , t h i s . _ m a n a g e W a r n i n g M e s s a g e V i s i b i l i t y ( ) ] ) ) ; } , s t a r t : f u n c t i o n ( ) { r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( ( ) = > { t h i s . _ s e t u p S i z e C h a n g e d M a n a g e m e n t ( t r u e ) ; t h i s . _ r e n d e r ( ) ; t h i s . _ t o g g l e V i s i b i l i t y ( t r u e ) ; } ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ t o g g l e V i s i b i l i t y ( f a l s e ) ; t h i s . _ s e t u p S i z e C h a n g e d M a n a g e m e n t ( f a l s e ) ; t h i s . _ c l e a r C o n t e n t ( ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ c l e a r C o n t e n t : f u n c t i o n ( ) { c o n s t   $ d y n a m i c S n i p p e t T e m p l a t e = t h i s . $ e l . f i n d ( ' . d y n a m i c _ s n i p p e t _ t e m p l a t e ' ) ; i f ( $ d y n a m i c S n i p p e t T e m p l a t e ) { $ d y n a m i c S n i p p e t T e m p l a t e . h t m l ( ' ' ) ; } } , _ i s C o n f i g C o m p l e t e : f u n c t i o n ( ) { r e t u r n   t h i s . $ e l . g e t ( 0 ) . d a t a s e t . f i l t e r I d ! = = u n d e f i n e d & & t h i s . $ e l . g e t ( 0 ) . d a t a s e t . t e m p l a t e K e y ! = = u n d e f i n e d ; } , _ g e t S e a r c h D o m a i n : f u n c t i o n ( ) { r e t u r n [ ] ; } , _ f e t c h D a t a : f u n c t i o n ( ) { i f ( t h i s . _ i s C o n f i g C o m p l e t e ( ) ) { r e t u r n   t h i s . _ r p c ( { ' r o u t e ' : ' / w e b s i t e / s n i p p e t / f i l t e r s ' , ' p a r a m s ' : { ' f i l t e r _ i d ' : p a r s e I n t ( t h i s . $ e l . g e t ( 0 ) . d a t a s e t . f i l t e r I d ) , ' t e m p l a t e _ k e y ' : t h i s . $ e l . g e t ( 0 ) . d a t a s e t . t e m p l a t e K e y , ' l i m i t ' : p a r s e I n t ( t h i s . $ e l . g e t ( 0 ) . d a t a s e t . n u m b e r O f R e c o r d s ) , ' s e a r c h _ d o m a i n ' : t h i s . _ g e t S e a r c h D o m a i n ( ) } , } ) . t h e n ( ( d a t a ) = > { t h i s . d a t a = d a t a ; } ) ; } e l s e { r e t u r n   n e w   P r o m i s e ( ( r e s o l v e ) = > { t h i s . d a t a = [ ] ; r e s o l v e ( ) ; } ) ; } } , _ m a n a g e W a r n i n g M e s s a g e V i s i b i l i t y : a s y n c   f u n c t i o n ( ) { t h i s . $ e l . f i n d ( ' . m i s s i n g _ o p t i o n _ w a r n i n g ' ) . t o g g l e C l a s s ( ' d - n o n e ' , t h i s . _ i s C o n f i g C o m p l e t e ( ) ) ; } , _ p r e p a r e C o n t e n t : f u n c t i o n ( ) { i f ( t h i s . $ t a r g e t [ 0 ] . d a t a s e t . n u m b e r O f E l e m e n t s & & t h i s . $ t a r g e t [ 0 ] . d a t a s e t . n u m b e r O f E l e m e n t s S m a l l D e v i c e s ) { t h i s . r e n d e r e d C o n t e n t = c o r e . q w e b . r e n d e r ( t h i s . t e m p l a t e _ k e y , t h i s . _ g e t Q W e b R e n d e r O p t i o n s ( ) ) ; } e l s e { t h i s . r e n d e r e d C o n t e n t = ' ' ; } } , _ g e t Q W e b R e n d e r O p t i o n s : f u n c t i o n ( ) { r e t u r n { c h u n k S i z e : p a r s e I n t ( c o n f i g . d e v i c e . i s M o b i l e ? t h i s . $ t a r g e t [ 0 ] . d a t a s e t . n u m b e r O f E l e m e n t s S m a l l D e v i c e s : t h i s . $ t a r g e t [ 0 ] . d a t a s e t . n u m b e r O f E l e m e n t s ) , d a t a : t h i s . d a t a , u n i q u e I d : t h i s . u n i q u e I d } ; } , _ r e n d e r : f u n c t i o n ( ) { i f ( t h i s . d a t a . l e n g t h ) { t h i s . _ p r e p a r e C o n t e n t ( ) ; } e l s e { t h i s . r e n d e r e d C o n t e n t = ' ' ; } 
 t h i s . _ r e n d e r C o n t e n t ( ) ; } , _ r e n d e r C o n t e n t : f u n c t i o n ( ) { t h i s . $ e l . f i n d ( ' . d y n a m i c _ s n i p p e t _ t e m p l a t e ' ) . h t m l ( t h i s . r e n d e r e d C o n t e n t ) ; } , _ s e t u p S i z e C h a n g e d M a n a g e m e n t : f u n c t i o n ( e n a b l e ) { i f ( e n a b l e = = = t r u e ) { c o n f i g . d e v i c e . b u s . o n ( ' s i z e _ c h a n g e d ' , t h i s , t h i s . _ o n S i z e C h a n g e d ) ; } e l s e { c o n f i g . d e v i c e . b u s . o f f ( ' s i z e _ c h a n g e d ' , t h i s , t h i s . _ o n S i z e C h a n g e d ) ; } } , _ t o g g l e V i s i b i l i t y : f u n c t i o n ( v i s i b l e ) { t h i s . $ e l . t o g g l e C l a s s ( ' d - n o n e ' , ! v i s i b l e ) ; } , _ o n C a l l T o A c t i o n : f u n c t i o n ( e v ) { w i n d o w . l o c a t i o n = $ ( e v . c u r r e n t T a r g e t ) . a t t r ( ' d a t a - u r l ' ) ; } , _ o n S i z e C h a n g e d : f u n c t i o n ( s i z e ) { i f ( t h i s . i s D e s p l a y e d A s M o b i l e ! = = c o n f i g . d e v i c e . i s M o b i l e ) { t h i s . i s D e s p l a y e d A s M o b i l e = c o n f i g . d e v i c e . i s M o b i l e ; t h i s . _ r e n d e r ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . d y n a m i c _ s n i p p e t = D y n a m i c S n i p p e t ; r e t u r n   D y n a m i c S n i p p e t ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ d y n a m i c _ s n i p p e t _ c a r o u s e l / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s _ d y n a m i c _ s n i p p e t _ c a r o u s e l ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; c o n s t   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t   D y n a m i c S n i p p e t = r e q u i r e ( ' w e b s i t e . s _ d y n a m i c _ s n i p p e t ' ) ; c o n s t   D y n a m i c S n i p p e t C a r o u s e l = D y n a m i c S n i p p e t . e x t e n d ( { s e l e c t o r : ' . s _ d y n a m i c _ s n i p p e t _ c a r o u s e l ' , x m l D e p e n d e n c i e s : ( D y n a m i c S n i p p e t . p r o t o t y p e . x m l D e p e n d e n c i e s | | [ ] ) . c o n c a t ( [ ' / w e b s i t e / s t a t i c / s r c / s n i p p e t s / s _ d y n a m i c _ s n i p p e t _ c a r o u s e l / 0 0 0 . x m l ' ] ) , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . t e m p l a t e _ k e y = ' w e b s i t e . s _ d y n a m i c _ s n i p p e t . c a r o u s e l ' ; } , _ g e t Q W e b R e n d e r P a r a m s : f u n c t i o n ( ) { r e t u r n   O b j e c t . a s s i g n ( t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , { i n t e r v a l : p a r s e I n t ( t h i s . $ t a r g e t [ 0 ] . d a t a s e t . c a r o u s e l I n t e r v a l ) , } , ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . d y n a m i c _ s n i p p e t _ c a r o u s e l = D y n a m i c S n i p p e t C a r o u s e l ; r e t u r n   D y n a m i c S n i p p e t C a r o u s e l ; } ) ; ; 
 
 / *   / w e b s i t e _ e n t e r p r i s e / s t a t i c / s r c / j s / w e b s i t e _ e n t e r p r i s e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . h o m e _ m e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r . i n c l u d e ( { e v e n t s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r . p r o t o t y p e . e v e n t s | | { } , { ' c l i c k   . o _ m e n u _ t o g g l e ' : ' _ o n M e n u T o g g l e C l i c k ' , } ) , _ o n M e n u T o g g l e C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   $ b u t t o n = $ ( e v . c u r r e n t T a r g e t ) ; i f ( ! $ b u t t o n . h a s C l a s s ( ' f a ' ) ) { r e t u r n ; } 
 $ b u t t o n . r e m o v e C l a s s ( ' f a   f a - t h ' ) . a p p e n d ( $ ( ' < s p a n / > ' , { ' c l a s s ' : ' f a   f a - s p i n   f a - s p i n n e r ' } ) ) ; v a r   u r l = ' / w e b # h o m e ' ; w i n d o w . l o c a t i o n . h r e f = u r l ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ f o r m / s t a t i c / s r c / s n i p p e t s / s _ w e b s i t e _ f o r m / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ f o r m . s _ w e b s i t e _ f o r m ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; c o n s t { R e C a p t c h a } = r e q u i r e ( ' g o o g l e _ r e c a p t c h a . R e C a p t c h a V 3 ' ) ; v a r   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; v a r   q w e b = c o r e . q w e b ; p u b l i c W i d g e t . r e g i s t r y . s _ w e b s i t e _ f o r m = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . s _ w e b s i t e _ f o r m   f o r m ,   f o r m . s _ w e b s i t e _ f o r m ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ f o r m / s t a t i c / s r c / x m l / w e b s i t e _ f o r m . x m l ' ] , e v e n t s : { ' c l i c k   . s _ w e b s i t e _ f o r m _ s e n d ,   . o _ w e b s i t e _ f o r m _ s e n d ' : ' s e n d ' , } , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . _ r e c a p t c h a = n e w   R e C a p t c h a ( ) ; t h i s . _ _ s t a r t e d = n e w   P r o m i s e ( r e s o l v e = > t h i s . _ _ s t a r t R e s o l v e = r e s o l v e ) ; } , w i l l S t a r t : f u n c t i o n ( ) { c o n s t   r e s = t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( ! t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ n o _ r e c a p t c h a ' ) ) { t h i s . _ r e c a p t c h a . l o a d L i b s ( ) ; } 
 r e t u r n   r e s ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d a t e p i c k e r s _ o p t i o n s = { m i n D a t e : m o m e n t ( { y : 1 } ) , m a x D a t e : m o m e n t ( { y : 9 9 9 9 , M : 1 1 , d : 3 1 } ) , c a l e n d a r W e e k s : t r u e , i c o n s : { t i m e : ' f a   f a - c l o c k - o ' , d a t e : ' f a   f a - c a l e n d a r ' , n e x t : ' f a   f a - c h e v r o n - r i g h t ' , p r e v i o u s : ' f a   f a - c h e v r o n - l e f t ' , u p : ' f a   f a - c h e v r o n - u p ' , d o w n : ' f a   f a - c h e v r o n - d o w n ' , } , l o c a l e : m o m e n t . l o c a l e ( ) , f o r m a t : t i m e . g e t L a n g D a t e t i m e F o r m a t ( ) , } ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ d a t e t i m e ,   . o _ w e b s i t e _ f o r m _ d a t e t i m e ' ) . d a t e t i m e p i c k e r ( d a t e p i c k e r s _ o p t i o n s ) ; d a t e p i c k e r s _ o p t i o n s . f o r m a t = t i m e . g e t L a n g D a t e F o r m a t ( ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ d a t e ,   . o _ w e b s i t e _ f o r m _ d a t e ' ) . d a t e t i m e p i c k e r ( d a t e p i c k e r s _ o p t i o n s ) ; v a r   $ v a l u e s = $ ( ' [ d a t a - f o r = ' + t h i s . $ t a r g e t . a t t r ( ' i d ' ) + ' ] ' ) ; i f ( $ v a l u e s . l e n g t h ) { v a r   v a l u e s = J S O N . p a r s e ( $ v a l u e s . d a t a ( ' v a l u e s ' ) . r e p l a c e ( ' F a l s e ' , ' " " ' ) . r e p l a c e ( ' N o n e ' , ' " " ' ) . r e p l a c e ( / ' / g , ' " ' ) ) ; v a r   f i e l d s = _ . p l u c k ( t h i s . $ t a r g e t . s e r i a l i z e A r r a y ( ) , ' n a m e ' ) ; _ . e a c h ( f i e l d s , f u n c t i o n ( f i e l d ) { i f ( _ . h a s ( v a l u e s , f i e l d ) ) { v a r   $ f i e l d = s e l f . $ t a r g e t . f i n d ( ' i n p u t [ n a m e = " ' + f i e l d + ' " ] ,   t e x t a r e a [ n a m e = " ' + f i e l d + ' " ] ' ) ; i f ( ! $ f i e l d . v a l ( ) ) { $ f i e l d . v a l ( v a l u e s [ f i e l d ] ) ; } } } ) ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) . t h e n ( ( ) = > t h i s . _ _ s t a r t R e s o l v e ( ) ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . $ t a r g e t . f i n d ( ' b u t t o n ' ) . o f f ( ' c l i c k ' ) ; t h i s . $ t a r g e t . f i n d ( ' i n p u t [ t y p e = " t e x t " ] ,   i n p u t [ t y p e = " e m a i l " ] ,   i n p u t [ t y p e = " n u m b e r " ] ,   i n p u t [ t y p e = " t e l " ] ,   i n p u t [ t y p e = " u r l " ] ,   t e x t a r e a ' ) . v a l ( ' ' ) ; t h i s . $ t a r g e t . f i n d ( ' . o _ h a s _ e r r o r ' ) . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; t h i s . $ t a r g e t . f i n d ( ' # s _ w e b s i t e _ f o r m _ r e s u l t ,   # o _ w e b s i t e _ f o r m _ r e s u l t ' ) . e m p t y ( ) ; t h i s . $ t a r g e t . r e m o v e C l a s s ( ' d - n o n e ' ) ; t h i s . $ t a r g e t . p a r e n t ( ) . f i n d ( ' . s _ w e b s i t e _ f o r m _ e n d _ m e s s a g e ' ) . a d d C l a s s ( ' d - n o n e ' ) ; } , s e n d : a s y n c   f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s e n d ,   . o _ w e b s i t e _ f o r m _ s e n d ' ) . a d d C l a s s ( ' d i s a b l e d ' ) ; v a r   s e l f = t h i s ; s e l f . $ t a r g e t . f i n d ( ' # s _ w e b s i t e _ f o r m _ r e s u l t ,   # o _ w e b s i t e _ f o r m _ r e s u l t ' ) . e m p t y ( ) ; i f ( ! s e l f . c h e c k _ e r r o r _ f i e l d s ( { } ) ) { s e l f . u p d a t e _ s t a t u s ( ' e r r o r ' , _ t ( " P l e a s e   f i l l   i n   t h e   f o r m   c o r r e c t l y . " ) ) ; r e t u r n   f a l s e ; } 
 t h i s . f o r m _ f i e l d s = t h i s . $ t a r g e t . s e r i a l i z e A r r a y ( ) ; $ . e a c h ( t h i s . $ t a r g e t . f i n d ( ' i n p u t [ t y p e = f i l e ] ' ) , f u n c t i o n ( o u t e r _ i n d e x , i n p u t ) { $ . e a c h ( $ ( i n p u t ) . p r o p ( ' f i l e s ' ) , f u n c t i o n ( i n d e x , f i l e ) { s e l f . f o r m _ f i e l d s . p u s h ( { n a m e : i n p u t . n a m e + ' [ ' + o u t e r _ i n d e x + ' ] [ ' + i n d e x + ' ] ' , v a l u e : f i l e } ) ; } ) ; } ) ; v a r   f o r m _ v a l u e s = { } ; _ . e a c h ( t h i s . f o r m _ f i e l d s , f u n c t i o n ( i n p u t ) { i f ( i n p u t . n a m e   i n   f o r m _ v a l u e s ) { i f ( A r r a y . i s A r r a y ( f o r m _ v a l u e s [ i n p u t . n a m e ] ) ) { f o r m _ v a l u e s [ i n p u t . n a m e ] . p u s h ( i n p u t . v a l u e ) ; } e l s e { f o r m _ v a l u e s [ i n p u t . n a m e ] = [ f o r m _ v a l u e s [ i n p u t . n a m e ] , i n p u t . v a l u e ] ; } } e l s e { i f ( i n p u t . v a l u e ! = = ' ' ) { f o r m _ v a l u e s [ i n p u t . n a m e ] = i n p u t . v a l u e ; } } } ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ f i e l d : n o t ( . s _ w e b s i t e _ f o r m _ c u s t o m ) ' ) . f i n d ( ' . s _ w e b s i t e _ f o r m _ d a t e ,   . s _ w e b s i t e _ f o r m _ d a t e t i m e ' ) . e a c h ( f u n c t i o n ( ) { v a r   d a t e = $ ( t h i s ) . d a t e t i m e p i c k e r ( ' v i e w D a t e ' ) . c l o n e ( ) . l o c a l e ( ' e n ' ) ; v a r   f o r m a t = ' Y Y Y Y - M M - D D ' ; i f ( $ ( t h i s ) . h a s C l a s s ( ' s _ w e b s i t e _ f o r m _ d a t e t i m e ' ) ) { d a t e = d a t e . u t c ( ) ; f o r m a t = ' Y Y Y Y - M M - D D   H H : m m : s s ' ; } 
 f o r m _ v a l u e s [ $ ( t h i s ) . f i n d ( ' i n p u t ' ) . a t t r ( ' n a m e ' ) ] = d a t e . f o r m a t ( f o r m a t ) ; } ) ; c o n s t   t o k e n O b j = a w a i t   t h i s . _ r e c a p t c h a . g e t T o k e n ( ' w e b s i t e _ f o r m ' ) ; i f ( t o k e n O b j . t o k e n ) { f o r m _ v a l u e s [ ' r e c a p t c h a _ t o k e n _ r e s p o n s e ' ] = t o k e n O b j . t o k e n ; } e l s e   i f ( t o k e n O b j . e r r o r ) { s e l f . u p d a t e _ s t a t u s ( ' e r r o r ' , t o k e n O b j . e r r o r ) ; r e t u r n   f a l s e ; } 
 a j a x . p o s t ( t h i s . $ t a r g e t . a t t r ( ' a c t i o n ' ) + ( t h i s . $ t a r g e t . d a t a ( ' f o r c e _ a c t i o n ' ) | | t h i s . $ t a r g e t . d a t a ( ' m o d e l _ n a m e ' ) ) , f o r m _ v a l u e s ) . t h e n ( f u n c t i o n ( r e s u l t _ d a t a ) { s e l f . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s e n d ,   . o _ w e b s i t e _ f o r m _ s e n d ' ) . r e m o v e C l a s s ( ' d i s a b l e d ' ) ; r e s u l t _ d a t a = J S O N . p a r s e ( r e s u l t _ d a t a ) ; i f ( ! r e s u l t _ d a t a . i d ) { s e l f . u p d a t e _ s t a t u s ( ' e r r o r ' , r e s u l t _ d a t a . e r r o r ? r e s u l t _ d a t a . e r r o r : f a l s e ) ; i f ( r e s u l t _ d a t a . e r r o r _ f i e l d s ) { s e l f . c h e c k _ e r r o r _ f i e l d s ( r e s u l t _ d a t a . e r r o r _ f i e l d s ) ; } } e l s e { l e t   s u c c e s s M o d e = s e l f . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s M o d e ; l e t   s u c c e s s P a g e = s e l f . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s P a g e ; i f ( ! s u c c e s s M o d e ) { s u c c e s s P a g e = s e l f . $ t a r g e t . a t t r ( ' d a t a - s u c c e s s _ p a g e ' ) ; s u c c e s s M o d e = s u c c e s s P a g e ? ' r e d i r e c t ' : ' n o t h i n g ' ; } 
 s w i t c h ( s u c c e s s M o d e ) { c a s e ' r e d i r e c t ' : $ ( w i n d o w . l o c a t i o n ) . a t t r ( ' h r e f ' , s u c c e s s P a g e ) ; b r e a k ; c a s e ' m e s s a g e ' : s e l f . $ t a r g e t [ 0 ] . c l a s s L i s t . a d d ( ' d - n o n e ' ) ; s e l f . $ t a r g e t [ 0 ] . p a r e n t E l e m e n t . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ e n d _ m e s s a g e ' ) . c l a s s L i s t . r e m o v e ( ' d - n o n e ' ) ; b r e a k ; d e f a u l t : s e l f . u p d a t e _ s t a t u s ( ' s u c c e s s ' ) ; b r e a k ; } 
 s e l f . $ t a r g e t [ 0 ] . r e s e t ( ) ; } } ) . g u a r d e d C a t c h ( f u n c t i o n ( ) { s e l f . u p d a t e _ s t a t u s ( ' e r r o r ' ) ; } ) ; } , c h e c k _ e r r o r _ f i e l d s : f u n c t i o n ( e r r o r _ f i e l d s ) { v a r   s e l f = t h i s ; v a r   f o r m _ v a l i d = t r u e ; t h i s . $ t a r g e t . f i n d ( ' . f o r m - f i e l d ,   . s _ w e b s i t e _ f o r m _ f i e l d ' ) . e a c h ( f u n c t i o n ( k , f i e l d ) { v a r   $ f i e l d = $ ( f i e l d ) ; v a r   f i e l d _ n a m e = $ f i e l d . f i n d ( ' . c o l - f o r m - l a b e l ' ) . a t t r ( ' f o r ' ) ; v a r   i n p u t s = $ f i e l d . f i n d ( ' . s _ w e b s i t e _ f o r m _ i n p u t ,   . o _ w e b s i t e _ f o r m _ i n p u t ' ) . n o t ( ' # e d i t a b l e _ s e l e c t ' ) ; v a r   i n v a l i d _ i n p u t s = i n p u t s . t o A r r a y ( ) . f i l t e r ( f u n c t i o n ( i n p u t , k , i n p u t s ) { i f ( i n p u t . r e q u i r e d & & i n p u t . t y p e = = = ' c h e c k b o x ' ) { v a r   c h e c k b o x e s = _ . f i l t e r ( i n p u t s , f u n c t i o n ( i n p u t ) { r e t u r n   i n p u t . r e q u i r e d & & i n p u t . t y p e = = = ' c h e c k b o x ' ; } ) ; r e t u r n ! _ . a n y ( c h e c k b o x e s , c h e c k b o x = > c h e c k b o x . c h e c k e d ) ; } e l s e   i f ( $ ( i n p u t ) . h a s C l a s s ( ' s _ w e b s i t e _ f o r m _ d a t e ' ) | | $ ( i n p u t ) . h a s C l a s s ( ' o _ w e b s i t e _ f o r m _ d a t e ' ) ) { i f ( ! s e l f . i s _ d a t e t i m e _ v a l i d ( i n p u t . v a l u e , ' d a t e ' ) ) { r e t u r n   t r u e ; } } e l s e   i f ( $ ( i n p u t ) . h a s C l a s s ( ' s _ w e b s i t e _ f o r m _ d a t e t i m e ' ) | | $ ( i n p u t ) . h a s C l a s s ( ' o _ w e b s i t e _ f o r m _ d a t e t i m e ' ) ) { i f ( ! s e l f . i s _ d a t e t i m e _ v a l i d ( i n p u t . v a l u e , ' d a t e t i m e ' ) ) { r e t u r n   t r u e ; } } 
 r e t u r n ! i n p u t . c h e c k V a l i d i t y ( ) ; } ) ; $ f i e l d . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; i f ( i n v a l i d _ i n p u t s . l e n g t h | | e r r o r _ f i e l d s [ f i e l d _ n a m e ] ) { $ f i e l d . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; i f ( _ . i s S t r i n g ( e r r o r _ f i e l d s [ f i e l d _ n a m e ] ) ) { $ f i e l d . p o p o v e r ( { c o n t e n t : e r r o r _ f i e l d s [ f i e l d _ n a m e ] , t r i g g e r : ' h o v e r ' , c o n t a i n e r : ' b o d y ' , p l a c e m e n t : ' t o p ' } ) ; $ f i e l d . d a t a ( " b s . p o p o v e r " ) . c o n f i g . c o n t e n t = e r r o r _ f i e l d s [ f i e l d _ n a m e ] ; $ f i e l d . p o p o v e r ( ' s h o w ' ) ; } 
 f o r m _ v a l i d = f a l s e ; } } ) ; r e t u r n   f o r m _ v a l i d ; } , i s _ d a t e t i m e _ v a l i d : f u n c t i o n ( v a l u e , t y p e _ o f _ d a t e ) { i f ( v a l u e = = = " " ) { r e t u r n   t r u e ; } e l s e { t r y { t h i s . p a r s e _ d a t e ( v a l u e , t y p e _ o f _ d a t e ) ; r e t u r n   t r u e ; } c a t c h ( e ) { r e t u r n   f a l s e ; } } } , p a r s e _ d a t e : f u n c t i o n ( v a l u e , t y p e _ o f _ d a t e , v a l u e _ i f _ e m p t y ) { v a r   d a t e _ p a t t e r n = t i m e . g e t L a n g D a t e F o r m a t ( ) , t i m e _ p a t t e r n = t i m e . g e t L a n g T i m e F o r m a t ( ) ; v a r   d a t e _ p a t t e r n _ w o _ z e r o = d a t e _ p a t t e r n . r e p l a c e ( ' M M ' , ' M ' ) . r e p l a c e ( ' D D ' , ' D ' ) , t i m e _ p a t t e r n _ w o _ z e r o = t i m e _ p a t t e r n . r e p l a c e ( ' H H ' , ' H ' ) . r e p l a c e ( ' m m ' , ' m ' ) . r e p l a c e ( ' s s ' , ' s ' ) ; s w i t c h ( t y p e _ o f _ d a t e ) { c a s e ' d a t e t i m e ' : v a r   d a t e t i m e = m o m e n t ( v a l u e , [ d a t e _ p a t t e r n + '   ' + t i m e _ p a t t e r n , d a t e _ p a t t e r n _ w o _ z e r o + '   ' + t i m e _ p a t t e r n _ w o _ z e r o ] , t r u e ) ; i f ( d a t e t i m e . i s V a l i d ( ) ) { r e t u r n   t i m e . d a t e t i m e _ t o _ s t r ( d a t e t i m e . t o D a t e ( ) ) ; } 
 t h r o w   n e w   E r r o r ( _ . s t r . s p r i n t f ( _ t ( " ' % s '   i s   n o t   a   c o r r e c t   d a t e t i m e " ) , v a l u e ) ) ; c a s e ' d a t e ' : v a r   d a t e = m o m e n t ( v a l u e , [ d a t e _ p a t t e r n , d a t e _ p a t t e r n _ w o _ z e r o ] , t r u e ) ; i f ( d a t e . i s V a l i d ( ) ) { r e t u r n   t i m e . d a t e _ t o _ s t r ( d a t e . t o D a t e ( ) ) ; } 
 t h r o w   n e w   E r r o r ( _ . s t r . s p r i n t f ( _ t ( " ' % s '   i s   n o t   a   c o r r e c t   d a t e " ) , v a l u e ) ) ; } 
 r e t u r n   v a l u e ; } , u p d a t e _ s t a t u s : f u n c t i o n ( s t a t u s , m e s s a g e ) { i f ( s t a t u s ! = = ' s u c c e s s ' ) { t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s e n d ,   . o _ w e b s i t e _ f o r m _ s e n d ' ) . r e m o v e C l a s s ( ' d i s a b l e d ' ) ; } 
 v a r   $ r e s u l t = t h i s . $ ( ' # s _ w e b s i t e _ f o r m _ r e s u l t ,   # o _ w e b s i t e _ f o r m _ r e s u l t ' ) ; i f ( s t a t u s = = = ' e r r o r ' & & ! m e s s a g e ) { m e s s a g e = _ t ( " A n   e r r o r   h a s   o c c u r e d ,   t h e   f o r m   h a s   n o t   b e e n   s e n t . " ) ; } 
 t h i s . _ _ s t a r t e d . t h e n ( ( ) = > $ r e s u l t . r e p l a c e W i t h ( q w e b . r e n d e r ( ` w e b s i t e _ f o r m . s t a t u s _ $ { s t a t u s } ` , { m e s s a g e : m e s s a g e , } ) ) ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ m a i l / s t a t i c / s r c / j s / f o l l o w . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ m a i l . f o l l o w ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . f o l l o w = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p : h a s ( . j s _ f o l l o w ) ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . i s U s e r = f a l s e ; v a r   $ j s F o l l o w E l s = t h i s . $ e l . f i n d ( ' . j s _ f o l l o w ' ) ; v a r   a l w a y s = f u n c t i o n ( d a t a ) { s e l f . i s U s e r = d a t a [ 0 ] . i s _ u s e r ; c o n s t   $ j s F o l l o w T o E n a b l e = $ j s F o l l o w E l s . f i l t e r ( f u n c t i o n ( ) { c o n s t   m o d e l = t h i s . d a t a s e t . o b j e c t ; r e t u r n   m o d e l   i n   d a t a [ 1 ] & & d a t a [ 1 ] [ m o d e l ] . i n c l u d e s ( p a r s e I n t ( t h i s . d a t a s e t . i d ) ) ; } ) ; s e l f . _ t o g g l e S u b s c r i p t i o n ( t r u e , d a t a [ 0 ] . e m a i l , $ j s F o l l o w T o E n a b l e ) ; s e l f . _ t o g g l e S u b s c r i p t i o n ( f a l s e , d a t a [ 0 ] . e m a i l , $ j s F o l l o w E l s . n o t ( $ j s F o l l o w T o E n a b l e ) ) ; $ j s F o l l o w E l s . r e m o v e C l a s s ( ' d - n o n e ' ) ; } ; c o n s t   r e c o r d s = { } ; f o r ( c o n s t   e l   o f   $ j s F o l l o w E l s ) { c o n s t   m o d e l = e l . d a t a s e t . o b j e c t ; i f ( ! ( m o d e l   i n   r e c o r d s ) ) { r e c o r d s [ m o d e l ] = [ ] ; } 
 r e c o r d s [ m o d e l ] . p u s h ( p a r s e I n t ( e l . d a t a s e t . i d ) ) ; } 
 t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ m a i l / i s _ f o l l o w e r ' , p a r a m s : { r e c o r d s : r e c o r d s , } , } ) . t h e n ( a l w a y s ) . g u a r d e d C a t c h ( a l w a y s ) ; i f ( ! t h i s . e d i t a b l e M o d e ) { $ ( ' . j s _ f o l l o w   >   . i n p u t - g r o u p - a p p e n d . d - n o n e ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; t h i s . $ t a r g e t . f i n d ( ' . j s _ f o l l o w _ b t n ,   . j s _ u n f o l l o w _ b t n ' ) . o n ( ' c l i c k ' , f u n c t i o n ( e v e n t ) { e v e n t . p r e v e n t D e f a u l t ( ) ; s e l f . _ o n C l i c k ( e v e n t ) ; } ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ t o g g l e S u b s c r i p t i o n : f u n c t i o n ( f o l l o w , e m a i l , $ j s F o l l o w E l s ) { i f ( f o l l o w ) { t h i s . _ u p d a t e S u b s c r i p t i o n D O M ( f o l l o w , e m a i l , $ j s F o l l o w E l s ) ; } e l s e { f o r ( c o n s t   e l   o f   $ j s F o l l o w E l s ) { c o n s t   f o l l o w = ! e m a i l & & e l . g e t A t t r i b u t e ( ' d a t a - u n s u b s c r i b e ' ) ; t h i s . _ u p d a t e S u b s c r i p t i o n D O M ( f o l l o w , e m a i l , $ ( e l ) ) ; } } } , _ u p d a t e S u b s c r i p t i o n D O M : f u n c t i o n ( f o l l o w , e m a i l , $ j s F o l l o w E l s ) { $ j s F o l l o w E l s . f i n d ( " . j s _ f o l l o w _ b t n " ) . t o g g l e C l a s s ( ' d - n o n e ' , f o l l o w ) ; $ j s F o l l o w E l s . f i n d ( " . j s _ u n f o l l o w _ b t n " ) . t o g g l e C l a s s ( ' d - n o n e ' , ! f o l l o w ) ; $ j s F o l l o w E l s . f i n d ( ' i n p u t . j s _ f o l l o w _ e m a i l ' ) . v a l ( e m a i l | | " " ) . a t t r ( " d i s a b l e d " , e m a i l & & ( f o l l o w | | t h i s . i s U s e r ) ? " d i s a b l e d " : f a l s e ) ; $ j s F o l l o w E l s . a t t r ( " d a t a - f o l l o w " , f o l l o w ? ' o n ' : ' o f f ' ) ; } , _ o n C l i c k : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   $ j s F o l l o w = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . j s _ f o l l o w ' ) ; v a r   $ e m a i l = $ j s F o l l o w . f i n d ( " . j s _ f o l l o w _ e m a i l " ) ; i f ( $ e m a i l . l e n g t h & & ! $ e m a i l . v a l ( ) . m a t c h ( / . + @ . + / ) ) { $ j s F o l l o w . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; r e t u r n   f a l s e ; } 
 $ j s F o l l o w . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; v a r   e m a i l = $ e m a i l . l e n g t h ? $ e m a i l . v a l ( ) : f a l s e ; i f ( e m a i l | | t h i s . i s U s e r ) { t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ m a i l / f o l l o w ' , p a r a m s : { ' i d ' : + $ j s F o l l o w . d a t a ( ' i d ' ) , ' o b j e c t ' : $ j s F o l l o w . d a t a ( ' o b j e c t ' ) , ' m e s s a g e _ i s _ f o l l o w e r ' : $ j s F o l l o w . a t t r ( " d a t a - f o l l o w " ) | | " o f f " , ' e m a i l ' : e m a i l , } , } ) . t h e n ( f u n c t i o n ( f o l l o w ) { s e l f . _ t o g g l e S u b s c r i p t i o n ( f o l l o w , e m a i l , $ j s F o l l o w ) ; } ) ; } } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ p r o f i l e / s t a t i c / s r c / j s / w e b s i t e _ p r o f i l e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ p r o f i l e . w e b s i t e _ p r o f i l e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   w y s i w y g L o a d e r = r e q u i r e ( ' w e b _ e d i t o r . l o a d e r ' ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e P r o f i l e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w p r o f i l e _ e m a i l _ v a l i d a t i o n _ c o n t a i n e r ' , r e a d _ e v e n t s : { ' c l i c k   . s e n d _ v a l i d a t i o n _ e m a i l ' : ' _ o n S e n d V a l i d a t i o n E m a i l C l i c k ' , ' c l i c k   . v a l i d a t e d _ e m a i l _ c l o s e ' : ' _ o n C l o s e V a l i d a t e d E m a i l C l i c k ' , } , _ o n S e n d V a l i d a t i o n E m a i l C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   s e l f = t h i s ; v a r   $ e l e m e n t = $ ( e v . c u r r e n t T a r g e t ) ; t h i s . _ r p c ( { r o u t e : ' / p r o f i l e / s e n d _ v a l i d a t i o n _ e m a i l ' , p a r a m s : { ' r e d i r e c t _ u r l ' : $ e l e m e n t . d a t a ( ' r e d i r e c t _ u r l ' ) } , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a ) { s e l f . $ ( ' b u t t o n . v a l i d a t i o n _ e m a i l _ c l o s e ' ) . c l i c k ( ) ; } } ) ; } , _ o n C l o s e V a l i d a t e d E m a i l C l i c k : f u n c t i o n ( ) { t h i s . _ r p c ( { r o u t e : ' / p r o f i l e / v a l i d a t e _ e m a i l / c l o s e ' , } ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e P r o f i l e E d i t o r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w p r o f i l e _ e d i t o r _ f o r m ' , r e a d _ e v e n t s : { ' c l i c k   . o _ f o r u m _ p r o f i l e _ p i c _ e d i t ' : ' _ o n E d i t P r o f i l e P i c C l i c k ' , ' c h a n g e   . o _ f o r u m _ f i l e _ u p l o a d ' : ' _ o n F i l e U p l o a d C h a n g e ' , ' c l i c k   . o _ f o r u m _ p r o f i l e _ p i c _ c l e a r ' : ' _ o n P r o f i l e P i c C l e a r C l i c k ' , ' c l i c k   . o _ w p r o f i l e _ s u b m i t _ b t n ' : ' _ o n S u b m i t C l i c k ' , } , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . e d i t a b l e M o d e ) { r e t u r n   d e f ; } 
 v a r   $ t e x t a r e a = t h i s . $ ( ' t e x t a r e a . o _ w y s i w y g _ l o a d e r ' ) ; v a r   l o a d P r o m = w y s i w y g L o a d e r . l o a d ( t h i s , $ t e x t a r e a [ 0 ] , { r e c o r d I n f o : { c o n t e x t : t h i s . _ g e t C o n t e x t ( ) , r e s _ m o d e l : ' r e s . u s e r s ' , r e s _ i d : p a r s e I n t ( t h i s . $ ( ' i n p u t [ n a m e = u s e r _ i d ] ' ) . v a l ( ) ) , } , } ) . t h e n ( w y s i w y g = > { t h i s . _ w y s i w y g = w y s i w y g ; } ) ; r e t u r n   P r o m i s e . a l l ( [ d e f , l o a d P r o m ] ) ; } , _ o n E d i t P r o f i l e P i c C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' f o r m ' ) . f i n d ( ' . o _ f o r u m _ f i l e _ u p l o a d ' ) . t r i g g e r ( ' c l i c k ' ) ; } , _ o n F i l e U p l o a d C h a n g e : f u n c t i o n ( e v ) { i f ( ! e v . c u r r e n t T a r g e t . f i l e s . l e n g t h ) { r e t u r n ; } 
 v a r   $ f o r m = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' f o r m ' ) ; v a r   r e a d e r = n e w   w i n d o w . F i l e R e a d e r ( ) ; r e a d e r . r e a d A s D a t a U R L ( e v . c u r r e n t T a r g e t . f i l e s [ 0 ] ) ; r e a d e r . o n l o a d = f u n c t i o n ( e v ) { $ f o r m . f i n d ( ' . o _ f o r u m _ a v a t a r _ i m g ' ) . a t t r ( ' s r c ' , e v . t a r g e t . r e s u l t ) ; } ; $ f o r m . f i n d ( ' # f o r u m _ c l e a r _ i m a g e ' ) . r e m o v e ( ) ; } , _ o n P r o f i l e P i c C l e a r C l i c k : f u n c t i o n ( e v ) { v a r   $ f o r m = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' f o r m ' ) ; $ f o r m . f i n d ( ' . o _ f o r u m _ a v a t a r _ i m g ' ) . a t t r ( ' s r c ' , ' / w e b / s t a t i c / s r c / i m g / p l a c e h o l d e r . p n g ' ) ; $ f o r m . a p p e n d ( $ ( ' < i n p u t / > ' , { n a m e : ' c l e a r _ i m a g e ' , i d : ' f o r u m _ c l e a r _ i m a g e ' , t y p e : ' h i d d e n ' , } ) ) ; } , _ o n S u b m i t C l i c k : f u n c t i o n ( ) { i f ( t h i s . _ w y s i w y g ) { t h i s . _ w y s i w y g . s a v e ( ) ; } } , } ) ; r e t u r n   p u b l i c W i d g e t . r e g i s t r y . w e b s i t e P r o f i l e ; } ) ; ; 
 
 / *   / w e b s i t e _ l i n k s / s t a t i c / s r c / j s / w e b s i t e _ l i n k s . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ l i n k s . w e b s i t e _ l i n k s ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; v a r   S e l e c t B o x = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { e v e n t s : { ' c h a n g e ' : ' _ o n C h a n g e ' , } , i n i t : f u n c t i o n ( p a r e n t , o b j , p l a c e h o l d e r ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . o b j = o b j ; t h i s . p l a c e h o l d e r = p l a c e h o l d e r ; } , w i l l S t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; d e f s . p u s h ( t h i s . _ r p c ( { m o d e l : t h i s . o b j , m e t h o d : ' s e a r c h _ r e a d ' , p a r a m s : { f i e l d s : [ ' i d ' , ' n a m e ' ] , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { s e l f . o b j e c t s = _ . m a p ( r e s u l t , f u n c t i o n ( v a l ) { r e t u r n { i d : v a l . i d , t e x t : v a l . n a m e } ; } ) ; } ) ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ e l . s e l e c t 2 ( { p l a c e h o l d e r : s e l f . p l a c e h o l d e r , a l l o w C l e a r : t r u e , c r e a t e S e a r c h C h o i c e : f u n c t i o n ( t e r m ) { i f ( s e l f . _ o b j e c t E x i s t s ( t e r m ) ) { r e t u r n   n u l l ; } 
 r e t u r n { i d : t e r m , t e x t : _ . s t r . s p r i n t f ( " C r e a t e   ' % s ' " , t e r m ) } ; } , c r e a t e S e a r c h C h o i c e P o s i t i o n : ' b o t t o m ' , m u l t i p l e : f a l s e , d a t a : s e l f . o b j e c t s , m i n i m u m I n p u t L e n g t h : s e l f . o b j e c t s . l e n g t h > 1 0 0 ? 3 : 0 , } ) ; } , _ o b j e c t E x i s t s : f u n c t i o n ( q u e r y ) { r e t u r n   _ . f i n d ( t h i s . o b j e c t s , f u n c t i o n ( v a l ) { r e t u r n   v a l . t e x t . t o L o w e r C a s e ( ) = = = q u e r y . t o L o w e r C a s e ( ) ; } ) ! = = u n d e f i n e d ; } , _ c r e a t e O b j e c t : f u n c t i o n ( n a m e ) { v a r   s e l f = t h i s ; v a r   a r g s = { n a m e : n a m e } ; i f ( t h i s . o b j = = = " u t m . c a m p a i g n " ) { a r g s . i s _ w e b s i t e = t r u e ; } 
 r e t u r n   t h i s . _ r p c ( { m o d e l : t h i s . o b j , m e t h o d : ' c r e a t e ' , a r g s : [ a r g s ] , } ) . t h e n ( f u n c t i o n ( r e c o r d ) { s e l f . $ e l . a t t r ( ' v a l u e ' , r e c o r d ) ; s e l f . o b j e c t s . p u s h ( { ' i d ' : r e c o r d , ' t e x t ' : n a m e } ) ; } ) ; } , _ o n C h a n g e : f u n c t i o n ( e v ) { i f ( ! e v . a d d e d | | ! _ . i s S t r i n g ( e v . a d d e d . i d ) ) { r e t u r n ; } 
 t h i s . _ c r e a t e O b j e c t ( e v . a d d e d . i d ) ; } , } ) ; v a r   R e c e n t L i n k B o x = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e _ l i n k s . R e c e n t L i n k ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ l i n k s / s t a t i c / s r c / x m l / r e c e n t _ l i n k . x m l ' ] , e v e n t s : { ' c l i c k   . b t n _ s h o r t e n _ u r l _ c l i p b o a r d ' : ' _ t o g g l e C o p y B u t t o n ' , ' c l i c k   . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' : ' _ e d i t C o d e ' , ' c l i c k   . o _ w e b s i t e _ l i n k s _ o k _ e d i t ' : ' _ o n L i n k s O k C l i c k ' , ' c l i c k   . o _ w e b s i t e _ l i n k s _ c a n c e l _ e d i t ' : ' _ o n L i n k s C a n c e l C l i c k ' , ' s u b m i t   # o _ w e b s i t e _ l i n k s _ e d i t _ c o d e _ f o r m ' : ' _ o n S u b m i t C o d e ' , } , i n i t : f u n c t i o n ( p a r e n t , o b j ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . l i n k _ o b j = o b j ; t h i s . a n i m a t i n g _ c o p y = f a l s e ; } , s t a r t : f u n c t i o n ( ) { n e w   C l i p b o a r d J S ( t h i s . $ ( ' . b t n _ s h o r t e n _ u r l _ c l i p b o a r d ' ) . g e t ( 0 ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ t o g g l e C o p y B u t t o n : f u n c t i o n ( ) { i f ( t h i s . a n i m a t i n g _ c o p y ) { r e t u r n ; } 
 v a r   s e l f = t h i s ; t h i s . a n i m a t i n g _ c o p y = t r u e ; v a r   t o p = t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ s h o r t _ u r l ' ) . p o s i t i o n ( ) . t o p ; t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ s h o r t _ u r l ' ) . c l o n e ( ) . c s s ( ' p o s i t i o n ' , ' a b s o l u t e ' ) . c s s ( ' l e f t ' , 1 5 ) . c s s ( ' t o p ' , t o p - 2 ) . c s s ( ' z - i n d e x ' , 2 ) . r e m o v e C l a s s ( ' o _ w e b s i t e _ l i n k s _ s h o r t _ u r l ' ) . a d d C l a s s ( ' a n i m a t e d - l i n k ' ) . i n s e r t A f t e r ( t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ s h o r t _ u r l ' ) ) . a n i m a t e ( { o p a c i t y : 0 , t o p : ' - = 2 0 ' , } , 5 0 0 , f u n c t i o n ( ) { s e l f . $ ( ' . a n i m a t e d - l i n k ' ) . r e m o v e ( ) ; s e l f . a n i m a t i n g _ c o p y = f a l s e ; } ) ; } , _ n o t i f i c a t i o n : f u n c t i o n ( m e s s a g e ) { t h i s . $ ( ' . n o t i f i c a t i o n ' ) . a p p e n d ( ' < s t r o n g > ' + m e s s a g e + ' < / s t r o n g > ' ) ; } , _ e d i t C o d e : f u n c t i o n ( ) { v a r   i n i t C o d e = t h i s . $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( ) ; t h i s . $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( ' < f o r m   s t y l e = " d i s p l a y : i n l i n e ; "   i d = " o _ w e b s i t e _ l i n k s _ e d i t _ c o d e _ f o r m " > < i n p u t   t y p e = " h i d d e n "   i d = " i n i t _ c o d e "   v a l u e = " ' + i n i t C o d e + ' " / > < i n p u t   t y p e = " t e x t "   i d = " n e w _ c o d e "   v a l u e = " ' + i n i t C o d e + ' " / > < / f o r m > ' ) ; t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' ) . h i d e ( ) ; t h i s . $ ( ' . c o p y - t o - c l i p b o a r d ' ) . h i d e ( ) ; t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ t o o l s ' ) . s h o w ( ) ; } , _ c a n c e l E d i t : f u n c t i o n ( ) { t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' ) . s h o w ( ) ; t h i s . $ ( ' . c o p y - t o - c l i p b o a r d ' ) . s h o w ( ) ; t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ t o o l s ' ) . h i d e ( ) ; t h i s . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h i d e ( ) ; v a r   o l d C o d e = t h i s . $ ( ' # o _ w e b s i t e _ l i n k s _ e d i t _ c o d e _ f o r m   # i n i t _ c o d e ' ) . v a l ( ) ; t h i s . $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( o l d C o d e ) ; t h i s . $ ( ' # c o d e - e r r o r ' ) . r e m o v e ( ) ; t h i s . $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e   f o r m ' ) . r e m o v e ( ) ; } , _ s u b m i t C o d e : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   i n i t C o d e = t h i s . $ ( ' # o _ w e b s i t e _ l i n k s _ e d i t _ c o d e _ f o r m   # i n i t _ c o d e ' ) . v a l ( ) ; v a r   n e w C o d e = t h i s . $ ( ' # o _ w e b s i t e _ l i n k s _ e d i t _ c o d e _ f o r m   # n e w _ c o d e ' ) . v a l ( ) ; i f ( n e w C o d e = = = ' ' ) { s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h t m l ( _ t ( " T h e   c o d e   c a n n o t   b e   l e f t   e m p t y " ) ) ; s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . s h o w ( ) ; r e t u r n ; } 
 f u n c t i o n   s h o w N e w C o d e ( n e w C o d e ) { s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h t m l ( ' ' ) ; s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h i d e ( ) ; s e l f . $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e   f o r m ' ) . r e m o v e ( ) ; v a r   h o s t = s e l f . $ ( ' # o _ w e b s i t e _ l i n k s _ h o s t ' ) . h t m l ( ) ; s e l f . $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( n e w C o d e ) ; s e l f . $ ( ' . b t n _ s h o r t e n _ u r l _ c l i p b o a r d ' ) . a t t r ( ' d a t a - c l i p b o a r d - t e x t ' , h o s t + n e w C o d e ) ; s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' ) . s h o w ( ) ; s e l f . $ ( ' . c o p y - t o - c l i p b o a r d ' ) . s h o w ( ) ; s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ t o o l s ' ) . h i d e ( ) ; } 
 i f ( i n i t C o d e = = = n e w C o d e ) { s h o w N e w C o d e ( n e w C o d e ) ; } e l s e { t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ l i n k s / a d d _ c o d e ' , p a r a m s : { i n i t _ c o d e : i n i t C o d e , n e w _ c o d e : n e w C o d e , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { s h o w N e w C o d e ( r e s u l t [ 0 ] . c o d e ) ; } , f u n c t i o n ( ) { s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . s h o w ( ) ; s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h t m l ( _ t ( " T h i s   c o d e   i s   a l r e a d y   t a k e n " ) ) ; } ) ; } } , _ o n L i n k s O k C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ s u b m i t C o d e ( ) ; } , _ o n L i n k s C a n c e l C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ c a n c e l E d i t ( ) ; } , _ o n S u b m i t C o d e : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ s u b m i t C o d e ( ) ; } , } ) ; v a r   R e c e n t L i n k s = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { g e t R e c e n t L i n k s : f u n c t i o n ( f i l t e r ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ l i n k s / r e c e n t _ l i n k s ' , p a r a m s : { f i l t e r : f i l t e r , l i m i t : 2 0 , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { _ . e a c h ( r e s u l t . r e v e r s e ( ) , f u n c t i o n ( l i n k ) { s e l f . _ a d d L i n k ( l i n k ) ; } ) ; s e l f . _ u p d a t e N o t i f i c a t i o n ( ) ; } , f u n c t i o n ( ) { v a r   m e s s a g e = _ t ( " U n a b l e   t o   g e t   r e c e n t   l i n k s " ) ; s e l f . $ e l . a p p e n d ( ' < d i v   c l a s s = " a l e r t   a l e r t - d a n g e r " > ' + m e s s a g e + ' < / d i v > ' ) ; } ) ; } , _ a d d L i n k : f u n c t i o n ( l i n k ) { v a r   n b L i n k s = t h i s . g e t C h i l d r e n ( ) . l e n g t h ; v a r   r e c e n t L i n k B o x = n e w   R e c e n t L i n k B o x ( t h i s , l i n k ) ; r e c e n t L i n k B o x . p r e p e n d T o ( t h i s . $ e l ) ; $ ( ' . l i n k - t o o l t i p ' ) . t o o l t i p ( ) ; i f ( n b L i n k s = = = 0 ) { t h i s . _ u p d a t e N o t i f i c a t i o n ( ) ; } } , r e m o v e L i n k s : f u n c t i o n ( ) { _ . i n v o k e ( t h i s . g e t C h i l d r e n ( ) , ' d e s t r o y ' ) ; } , _ u p d a t e N o t i f i c a t i o n : f u n c t i o n ( ) { i f ( t h i s . g e t C h i l d r e n ( ) . l e n g t h = = = 0 ) { v a r   m e s s a g e = _ t ( " Y o u   d o n ' t   h a v e   a n y   r e c e n t   l i n k s . " ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ r e c e n t _ l i n k s _ n o t i f i c a t i o n ' ) . h t m l ( ' < d i v   c l a s s = " a l e r t   a l e r t - i n f o " > ' + m e s s a g e + ' < / d i v > ' ) ; } e l s e { $ ( ' . o _ w e b s i t e _ l i n k s _ r e c e n t _ l i n k s _ n o t i f i c a t i o n ' ) . e m p t y ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e L i n k s = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w e b s i t e _ l i n k s _ c r e a t e _ t r a c k e d _ u r l ' , e v e n t s : { ' c l i c k   # f i l t e r - n e w e s t - l i n k s ' : ' _ o n F i l t e r N e w e s t L i n k s C l i c k ' , ' c l i c k   # f i l t e r - m o s t - c l i c k e d - l i n k s ' : ' _ o n F i l t e r M o s t C l i c k e d L i n k s C l i c k ' , ' c l i c k   # f i l t e r - r e c e n t l y - u s e d - l i n k s ' : ' _ o n F i l t e r R e c e n t l y U s e d L i n k s C l i c k ' , ' c l i c k   # g e n e r a t e d _ t r a c k e d _ l i n k   a ' : ' _ o n G e n e r a t e d T r a c k e d L i n k C l i c k ' , ' k e y u p   # u r l ' : ' _ o n U r l K e y U p ' , ' c l i c k   # b t n _ s h o r t e n _ u r l ' : ' _ o n S h o r t e n U r l B u t t o n C l i c k ' , ' s u b m i t   # o _ w e b s i t e _ l i n k s _ l i n k _ t r a c k e r _ f o r m ' : ' _ o n F o r m S u b m i t ' , } , s t a r t : f u n c t i o n ( ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; v a r   c a m p a i g n S e l e c t = n e w   S e l e c t B o x ( t h i s , ' u t m . c a m p a i g n ' , _ t ( " e . g .   P r o m o t i o n   o f   J u n e ,   W i n t e r   N e w s l e t t e r ,   . . " ) ) ; d e f s . p u s h ( c a m p a i g n S e l e c t . a t t a c h T o ( $ ( ' # c a m p a i g n - s e l e c t ' ) ) ) ; v a r   m e d i u m S e l e c t = n e w   S e l e c t B o x ( t h i s , ' u t m . m e d i u m ' , _ t ( " e . g .   N e w s l e t t e r ,   S o c i a l   N e t w o r k ,   . . " ) ) ; d e f s . p u s h ( m e d i u m S e l e c t . a t t a c h T o ( $ ( ' # c h a n n e l - s e l e c t ' ) ) ) ; v a r   s o u r c e S e l e c t = n e w   S e l e c t B o x ( t h i s , ' u t m . s o u r c e ' , _ t ( " e . g .   S e a r c h   E n g i n e ,   W e b s i t e   p a g e ,   . . " ) ) ; d e f s . p u s h ( s o u r c e S e l e c t . a t t a c h T o ( $ ( ' # s o u r c e - s e l e c t ' ) ) ) ; t h i s . r e c e n t L i n k s = n e w   R e c e n t L i n k s ( t h i s ) ; d e f s . p u s h ( t h i s . r e c e n t L i n k s . a p p e n d T o ( $ ( ' # o _ w e b s i t e _ l i n k s _ r e c e n t _ l i n k s ' ) ) ) ; t h i s . r e c e n t L i n k s . g e t R e c e n t L i n k s ( ' n e w e s t ' ) ; n e w   C l i p b o a r d J S ( $ ( ' # b t n _ s h o r t e n _ u r l ' ) . g e t ( 0 ) ) ; t h i s . u r l _ c o p y _ a n i m a t i n g = f a l s e ; $ ( ' [ d a t a - t o g g l e = " t o o l t i p " ] ' ) . t o o l t i p ( ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ o n F i l t e r N e w e s t L i n k s C l i c k : f u n c t i o n ( ) { t h i s . r e c e n t L i n k s . r e m o v e L i n k s ( ) ; t h i s . r e c e n t L i n k s . g e t R e c e n t L i n k s ( ' n e w e s t ' ) ; } , _ o n F i l t e r M o s t C l i c k e d L i n k s C l i c k : f u n c t i o n ( ) { t h i s . r e c e n t L i n k s . r e m o v e L i n k s ( ) ; t h i s . r e c e n t L i n k s . g e t R e c e n t L i n k s ( ' m o s t - c l i c k e d ' ) ; } , _ o n F i l t e r R e c e n t l y U s e d L i n k s C l i c k : f u n c t i o n ( ) { t h i s . r e c e n t L i n k s . r e m o v e L i n k s ( ) ; t h i s . r e c e n t L i n k s . g e t R e c e n t L i n k s ( ' r e c e n t l y - u s e d ' ) ; } , _ o n G e n e r a t e d T r a c k e d L i n k C l i c k : f u n c t i o n ( ) { $ ( ' # g e n e r a t e d _ t r a c k e d _ l i n k   a ' ) . t e x t ( _ t ( " C o p i e d " ) ) . r e m o v e C l a s s ( ' b t n - p r i m a r y ' ) . a d d C l a s s ( ' b t n - s u c c e s s ' ) ; s e t T i m e o u t ( f u n c t i o n ( ) { $ ( ' # g e n e r a t e d _ t r a c k e d _ l i n k   a ' ) . t e x t ( _ t ( " C o p y " ) ) . r e m o v e C l a s s ( ' b t n - s u c c e s s ' ) . a d d C l a s s ( ' b t n - p r i m a r y ' ) ; } , 5 0 0 0 ) ; } , _ o n U r l K e y U p : f u n c t i o n ( e v ) { i f ( ! $ ( ' # b t n _ s h o r t e n _ u r l ' ) . h a s C l a s s ( ' b t n - c o p y ' ) | | e v . w h i c h = = = 1 3 ) { r e t u r n ; } 
 $ ( ' # b t n _ s h o r t e n _ u r l ' ) . r e m o v e C l a s s ( ' b t n - s u c c e s s   b t n - c o p y ' ) . a d d C l a s s ( ' b t n - p r i m a r y ' ) . h t m l ( ' G e t   t r a c k e d   l i n k ' ) ; $ ( ' # g e n e r a t e d _ t r a c k e d _ l i n k ' ) . c s s ( ' d i s p l a y ' , ' n o n e ' ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ u t m _ f o r m s ' ) . s h o w ( ) ; } , _ o n S h o r t e n U r l B u t t o n C l i c k : f u n c t i o n ( ) { i f ( ! $ ( ' # b t n _ s h o r t e n _ u r l ' ) . h a s C l a s s ( ' b t n - c o p y ' ) | | t h i s . u r l _ c o p y _ a n i m a t i n g ) { r e t u r n ; } 
 v a r   s e l f = t h i s ; t h i s . u r l _ c o p y _ a n i m a t i n g = t r u e ; $ ( ' # g e n e r a t e d _ t r a c k e d _ l i n k ' ) . c l o n e ( ) . c s s ( ' p o s i t i o n ' , ' a b s o l u t e ' ) . c s s ( ' l e f t ' , ' 7 8 p x ' ) . c s s ( ' b o t t o m ' , ' 8 p x ' ) . c s s ( ' z - i n d e x ' , 2 ) . r e m o v e C l a s s ( ' # g e n e r a t e d _ t r a c k e d _ l i n k ' ) . a d d C l a s s ( ' u r l - a n i m a t e d - l i n k ' ) . a p p e n d T o ( $ ( ' # g e n e r a t e d _ t r a c k e d _ l i n k ' ) ) . a n i m a t e ( { o p a c i t y : 0 , b o t t o m : ' + = 2 0 ' , } , 5 0 0 , f u n c t i o n ( ) { $ ( ' . u r l - a n i m a t e d - l i n k ' ) . r e m o v e ( ) ; s e l f . u r l _ c o p y _ a n i m a t i n g = f a l s e ; } ) ; } , _ o n F o r m S u b m i t : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; e v . p r e v e n t D e f a u l t ( ) ; i f ( $ ( ' # b t n _ s h o r t e n _ u r l ' ) . h a s C l a s s ( ' b t n - c o p y ' ) ) { r e t u r n ; } 
 e v . s t o p P r o p a g a t i o n ( ) ; v a r   c a m p a i g n I D = $ ( ' # c a m p a i g n - s e l e c t ' ) . a t t r ( ' v a l u e ' ) ; v a r   m e d i u m I D = $ ( ' # c h a n n e l - s e l e c t ' ) . a t t r ( ' v a l u e ' ) ; v a r   s o u r c e I D = $ ( ' # s o u r c e - s e l e c t ' ) . a t t r ( ' v a l u e ' ) ; v a r   p a r a m s = { } ; p a r a m s . u r l = $ ( ' # u r l ' ) . v a l ( ) ; i f ( c a m p a i g n I D ! = = ' ' ) { p a r a m s . c a m p a i g n _ i d = p a r s e I n t ( c a m p a i g n I D ) ; } 
 i f ( m e d i u m I D ! = = ' ' ) { p a r a m s . m e d i u m _ i d = p a r s e I n t ( m e d i u m I D ) ; } 
 i f ( s o u r c e I D ! = = ' ' ) { p a r a m s . s o u r c e _ i d = p a r s e I n t ( s o u r c e I D ) ; } 
 $ ( ' # b t n _ s h o r t e n _ u r l ' ) . t e x t ( _ t ( " G e n e r a t i n g   l i n k . . . " ) ) ; t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ l i n k s / n e w ' , p a r a m s : p a r a m s , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { i f ( ' e r r o r ' i n   r e s u l t ) { i f ( r e s u l t . e r r o r = = = ' e m p t y _ u r l ' ) { $ ( ' . n o t i f i c a t i o n ' ) . h t m l ( ' < d i v   c l a s s = " a l e r t   a l e r t - d a n g e r " > T h e   U R L   i s   e m p t y . < / d i v > ' ) ; } e l s e   i f ( r e s u l t . e r r o r = = = ' u r l _ n o t _ f o u n d ' ) { $ ( ' . n o t i f i c a t i o n ' ) . h t m l ( ' < d i v   c l a s s = " a l e r t   a l e r t - d a n g e r " > U R L   n o t   f o u n d   ( 4 0 4 ) < / d i v > ' ) ; } e l s e { $ ( ' . n o t i f i c a t i o n ' ) . h t m l ( ' < d i v   c l a s s = " a l e r t   a l e r t - d a n g e r " > A n   e r r o r   o c c u r   w h i l e   t r y i n g   t o   g e n e r a t e   y o u r   l i n k .   T r y   a g a i n   l a t e r . < / d i v > ' ) ; } } e l s e { v a r   l i n k = r e s u l t [ 0 ] ; $ ( ' # b t n _ s h o r t e n _ u r l ' ) . r e m o v e C l a s s ( ' b t n - p r i m a r y ' ) . a d d C l a s s ( ' b t n - s u c c e s s   b t n - c o p y ' ) . h t m l ( ' C o p y ' ) ; $ ( ' # b t n _ s h o r t e n _ u r l ' ) . a t t r ( ' d a t a - c l i p b o a r d - t e x t ' , l i n k . s h o r t _ u r l ) ; $ ( ' . n o t i f i c a t i o n ' ) . h t m l ( ' ' ) ; $ ( ' # g e n e r a t e d _ t r a c k e d _ l i n k ' ) . h t m l ( l i n k . s h o r t _ u r l ) ; $ ( ' # g e n e r a t e d _ t r a c k e d _ l i n k ' ) . c s s ( ' d i s p l a y ' , ' i n l i n e ' ) ; s e l f . r e c e n t L i n k s . _ a d d L i n k ( l i n k ) ; $ ( ' # c a m p a i g n - s e l e c t ' ) . s e l e c t 2 ( ' v a l ' , ' ' ) ; $ ( ' # c h a n n e l - s e l e c t ' ) . s e l e c t 2 ( ' v a l ' , ' ' ) ; $ ( ' # s o u r c e - s e l e c t ' ) . s e l e c t 2 ( ' v a l ' , ' ' ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ u t m _ f o r m s ' ) . h i d e ( ) ; } } ) ; } , } ) ; r e t u r n { S e l e c t B o x : S e l e c t B o x , R e c e n t L i n k B o x : R e c e n t L i n k B o x , R e c e n t L i n k s : R e c e n t L i n k s , } ; } ) ; ; 
 
 / *   / w e b s i t e _ l i n k s / s t a t i c / s r c / j s / w e b s i t e _ l i n k s _ c o d e _ e d i t o r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ l i n k s . c o d e _ e d i t o r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e L i n k s C o d e E d i t o r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p : h a s ( . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ) ' , e v e n t s : { ' c l i c k   . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' : ' _ o n E d i t C o d e C l i c k ' , ' c l i c k   . o _ w e b s i t e _ l i n k s _ c a n c e l _ e d i t ' : ' _ o n C a n c e l E d i t C l i c k ' , ' s u b m i t   # e d i t - c o d e - f o r m ' : ' _ o n E d i t C o d e F o r m S u b m i t ' , ' c l i c k   . o _ w e b s i t e _ l i n k s _ o k _ e d i t ' : ' _ o n E d i t C o d e F o r m S u b m i t ' , } , _ s h o w N e w C o d e : f u n c t i o n ( n e w C o d e ) { $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h t m l ( ' ' ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h i d e ( ) ; $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e   f o r m ' ) . r e m o v e ( ) ; v a r   h o s t = $ ( ' # s h o r t - u r l - h o s t ' ) . h t m l ( ) ; $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( n e w C o d e ) ; $ ( ' . c o p y - t o - c l i p b o a r d ' ) . a t t r ( ' d a t a - c l i p b o a r d - t e x t ' , h o s t + n e w C o d e ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' ) . s h o w ( ) ; $ ( ' . c o p y - t o - c l i p b o a r d ' ) . s h o w ( ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ t o o l s ' ) . h i d e ( ) ; } , _ s u b m i t C o d e : f u n c t i o n ( ) { v a r   i n i t C o d e = $ ( ' # e d i t - c o d e - f o r m   # i n i t _ c o d e ' ) . v a l ( ) ; v a r   n e w C o d e = $ ( ' # e d i t - c o d e - f o r m   # n e w _ c o d e ' ) . v a l ( ) ; v a r   s e l f = t h i s ; i f ( n e w C o d e = = = ' ' ) { s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h t m l ( _ t ( " T h e   c o d e   c a n n o t   b e   l e f t   e m p t y " ) ) ; s e l f . $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . s h o w ( ) ; r e t u r n ; } 
 t h i s . _ s h o w N e w C o d e ( n e w C o d e ) ; i f ( i n i t C o d e = = = n e w C o d e ) { t h i s . _ s h o w N e w C o d e ( n e w C o d e ) ; } e l s e { r e t u r n   t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ l i n k s / a d d _ c o d e ' , p a r a m s : { i n i t _ c o d e : i n i t C o d e , n e w _ c o d e : n e w C o d e , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { s e l f . _ s h o w N e w C o d e ( r e s u l t [ 0 ] . c o d e ) ; } , f u n c t i o n ( ) { $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . s h o w ( ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h t m l ( _ t ( " T h i s   c o d e   i s   a l r e a d y   t a k e n " ) ) ; } ) ; } 
 r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , _ o n E d i t C o d e C l i c k : f u n c t i o n ( ) { v a r   i n i t C o d e = $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( ) ; $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( ' < f o r m   s t y l e = " d i s p l a y : i n l i n e ; "   i d = " e d i t - c o d e - f o r m " > < i n p u t   t y p e = " h i d d e n "   i d = " i n i t _ c o d e "   v a l u e = " ' + i n i t C o d e + ' " / > < i n p u t   t y p e = " t e x t "   i d = " n e w _ c o d e "   v a l u e = " ' + i n i t C o d e + ' " / > < / f o r m > ' ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' ) . h i d e ( ) ; $ ( ' . c o p y - t o - c l i p b o a r d ' ) . h i d e ( ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ t o o l s ' ) . s h o w ( ) ; } , _ o n C a n c e l E d i t C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ c o d e ' ) . s h o w ( ) ; $ ( ' . c o p y - t o - c l i p b o a r d ' ) . s h o w ( ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ e d i t _ t o o l s ' ) . h i d e ( ) ; $ ( ' . o _ w e b s i t e _ l i n k s _ c o d e _ e r r o r ' ) . h i d e ( ) ; v a r   o l d C o d e = $ ( ' # e d i t - c o d e - f o r m   # i n i t _ c o d e ' ) . v a l ( ) ; $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e ' ) . h t m l ( o l d C o d e ) ; $ ( ' # c o d e - e r r o r ' ) . r e m o v e ( ) ; $ ( ' # o _ w e b s i t e _ l i n k s _ c o d e   f o r m ' ) . r e m o v e ( ) ; } , _ o n E d i t C o d e F o r m S u b m i t : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ s u b m i t C o d e ( ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ l i n k s / s t a t i c / s r c / j s / w e b s i t e _ l i n k s _ c h a r t s . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ l i n k s . c h a r t s ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; v a r   B a r C h a r t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { j s L i b s : [ ' / w e b / s t a t i c / l i b / C h a r t / C h a r t . j s ' , ] , i n i t : f u n c t i o n ( p a r e n t , b e g i n D a t e , e n d D a t e , d a t e s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . b e g i n D a t e = b e g i n D a t e ; t h i s . e n d D a t e = e n d D a t e ; t h i s . n u m b e r _ o f _ d a y s = t h i s . e n d D a t e . d i f f ( t h i s . b e g i n D a t e , ' d a y s ' ) + 2 ; t h i s . d a t e s = d a t e s ; } , s t a r t : f u n c t i o n ( ) { v a r   c l i c k s A r r a y = [ ] ; v a r   b e g i n D a t e C o p y = t h i s . b e g i n D a t e ; f o r ( v a r   i = 0 ; i < t h i s . n u m b e r _ o f _ d a y s ; i + + ) { v a r   d a t e K e y = b e g i n D a t e C o p y . f o r m a t ( ' Y Y Y Y - M M - D D ' ) ; c l i c k s A r r a y . p u s h ( [ d a t e K e y , ( d a t e K e y   i n   t h i s . d a t e s ) ? t h i s . d a t e s [ d a t e K e y ] : 0 ] ) ; b e g i n D a t e C o p y . a d d ( 1 , ' d a y s ' ) ; } 
 v a r   n b C l i c k s = 0 ; v a r   d a t a = [ ] ; v a r   l a b e l s = [ ] ; c l i c k s A r r a y . f o r E a c h ( f u n c t i o n ( p t ) { l a b e l s . p u s h ( p t [ 0 ] ) ; n b C l i c k s + = p t [ 1 ] ; d a t a . p u s h ( p t [ 1 ] ) ; } ) ; t h i s . $ ( ' . t i t l e ' ) . h t m l ( n b C l i c k s + _ t ( '   c l i c k s ' ) ) ; v a r   c o n f i g = { t y p e : ' l i n e ' , d a t a : { l a b e l s : l a b e l s , d a t a s e t s : [ { d a t a : d a t a , f i l l : ' s t a r t ' , l a b e l : _ t ( ' #   o f   c l i c k s ' ) , b a c k g r o u n d C o l o r : ' # e b f 2 f 7 ' , b o r d e r C o l o r : ' # 6 a a 1 c a ' , } ] , } , } ; v a r   c a n v a s = t h i s . $ ( ' c a n v a s ' ) [ 0 ] ; v a r   c o n t e x t = c a n v a s . g e t C o n t e x t ( ' 2 d ' ) ; n e w   C h a r t ( c o n t e x t , c o n f i g ) ; } , } ) ; v a r   P i e C h a r t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { j s L i b s : [ ' / w e b / s t a t i c / l i b / C h a r t / C h a r t . j s ' , ] , i n i t : f u n c t i o n ( p a r e n t , d a t a ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . d a t a = d a t a ; } , s t a r t : f u n c t i o n ( ) { v a r   l a b e l s = [ ] ; v a r   d a t a = [ ] ; f o r ( v a r   i = 0 ; i < t h i s . d a t a . l e n g t h ; i + + ) { v a r   c o u n t r y N a m e = t h i s . d a t a [ i ] [ ' c o u n t r y _ i d ' ] ? t h i s . d a t a [ i ] [ ' c o u n t r y _ i d ' ] [ 1 ] : _ t ( ' U n d e f i n e d ' ) ; l a b e l s . p u s h ( c o u n t r y N a m e + '   ( ' + t h i s . d a t a [ i ] [ ' c o u n t r y _ i d _ c o u n t ' ] + ' ) ' ) ; d a t a . p u s h ( t h i s . d a t a [ i ] [ ' c o u n t r y _ i d _ c o u n t ' ] ) ; } 
 t h i s . $ ( ' . t i t l e ' ) . h t m l ( t h i s . d a t a . l e n g t h + _ t ( '   c o u n t r i e s ' ) ) ; v a r   c o n f i g = { t y p e : ' p i e ' , d a t a : { l a b e l s : l a b e l s , d a t a s e t s : [ { d a t a : d a t a , l a b e l : t h i s . d a t a . l e n g t h > 0 ? t h i s . d a t a [ 0 ] . k e y : _ t ( ' N o   d a t a ' ) , } ] } , } ; v a r   c a n v a s = t h i s . $ ( ' c a n v a s ' ) [ 0 ] ; v a r   c o n t e x t = c a n v a s . g e t C o n t e x t ( ' 2 d ' ) ; n e w   C h a r t ( c o n t e x t , c o n f i g ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e L i n k s C h a r t s = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w e b s i t e _ l i n k s _ c h a r t ' , e v e n t s : { ' c l i c k   . g r a p h - t a b s   l i   a ' : ' _ o n G r a p h T a b C l i c k ' , ' c l i c k   . c o p y - t o - c l i p b o a r d ' : ' _ o n C o p y T o C l i p b o a r d C l i c k ' , } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . c h a r t s = { } ; v a r   l i n k I D = p a r s e I n t ( $ ( ' # l i n k _ i d ' ) . v a l ( ) ) ; t h i s . l i n k s _ d o m a i n = [ ' l i n k _ i d ' , ' = ' , l i n k I D ] ; v a r   d e f s = [ ] ; d e f s . p u s h ( t h i s . _ t o t a l C l i c k s ( ) ) ; d e f s . p u s h ( t h i s . _ c l i c k s B y D a y ( ) ) ; d e f s . p u s h ( t h i s . _ c l i c k s B y C o u n t r y ( ) ) ; d e f s . p u s h ( t h i s . _ l a s t W e e k C l i c k s B y C o u n t r y ( ) ) ; d e f s . p u s h ( t h i s . _ l a s t M o n t h C l i c k s B y C o u n t r y ( ) ) ; d e f s . p u s h ( t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ) ; n e w   C l i p b o a r d J S ( $ ( ' . c o p y - t o - c l i p b o a r d ' ) [ 0 ] ) ; t h i s . a n i m a t i n g _ c o p y = f a l s e ; r e t u r n   P r o m i s e . a l l ( d e f s ) . t h e n ( f u n c t i o n ( r e s u l t s ) { v a r   _ t o t a l C l i c k s = r e s u l t s [ 0 ] ; v a r   _ c l i c k s B y D a y = r e s u l t s [ 1 ] ; v a r   _ c l i c k s B y C o u n t r y = r e s u l t s [ 2 ] ; v a r   _ l a s t W e e k C l i c k s B y C o u n t r y = r e s u l t s [ 3 ] ; v a r   _ l a s t M o n t h C l i c k s B y C o u n t r y = r e s u l t s [ 4 ] ; i f ( ! _ t o t a l C l i c k s ) { $ ( ' # a l l _ t i m e _ c h a r t s ' ) . p r e p e n d ( _ t ( " T h e r e   i s   n o   d a t a   t o   s h o w " ) ) ; $ ( ' # l a s t _ m o n t h _ c h a r t s ' ) . p r e p e n d ( _ t ( " T h e r e   i s   n o   d a t a   t o   s h o w " ) ) ; $ ( ' # l a s t _ w e e k _ c h a r t s ' ) . p r e p e n d ( _ t ( " T h e r e   i s   n o   d a t a   t o   s h o w " ) ) ; r e t u r n ; } 
 v a r   f o r m a t t e d C l i c k s B y D a y = { } ; v a r   b e g i n D a t e ; f o r ( v a r   i = 0 ; i < _ c l i c k s B y D a y . l e n g t h ; i + + ) { v a r   d a t e = m o m e n t ( _ c l i c k s B y D a y [ i ] [ ' c r e a t e _ d a t e : d a y ' ] , ' D D   M M M M   Y Y Y Y ' ) ; i f ( i = = = 0 ) { b e g i n D a t e = d a t e ; } 
 f o r m a t t e d C l i c k s B y D a y [ d a t e . f o r m a t ( ' Y Y Y Y - M M - D D ' ) ] = _ c l i c k s B y D a y [ i ] [ ' c r e a t e _ d a t e _ c o u n t ' ] ; } 
 v a r   n o w = m o m e n t ( ) ; s e l f . c h a r t s . a l l _ t i m e _ b a r = n e w   B a r C h a r t ( s e l f , b e g i n D a t e , n o w , f o r m a t t e d C l i c k s B y D a y ) ; s e l f . c h a r t s . a l l _ t i m e _ b a r . a t t a c h T o ( $ ( ' # a l l _ t i m e _ c l i c k s _ c h a r t ' ) ) ; b e g i n D a t e = m o m e n t ( ) . s u b t r a c t ( 3 0 , ' d a y s ' ) ; s e l f . c h a r t s . l a s t _ m o n t h _ b a r = n e w   B a r C h a r t ( s e l f , b e g i n D a t e , n o w , f o r m a t t e d C l i c k s B y D a y ) ; s e l f . c h a r t s . l a s t _ m o n t h _ b a r . a t t a c h T o ( $ ( ' # l a s t _ m o n t h _ c l i c k s _ c h a r t ' ) ) ; b e g i n D a t e = m o m e n t ( ) . s u b t r a c t ( 7 , ' d a y s ' ) ; s e l f . c h a r t s . l a s t _ w e e k _ b a r = n e w   B a r C h a r t ( s e l f , b e g i n D a t e , n o w , f o r m a t t e d C l i c k s B y D a y ) ; s e l f . c h a r t s . l a s t _ w e e k _ b a r . a t t a c h T o ( $ ( ' # l a s t _ w e e k _ c l i c k s _ c h a r t ' ) ) ; s e l f . c h a r t s . a l l _ t i m e _ p i e = n e w   P i e C h a r t ( s e l f , _ c l i c k s B y C o u n t r y ) ; s e l f . c h a r t s . a l l _ t i m e _ p i e . a t t a c h T o ( $ ( ' # a l l _ t i m e _ c o u n t r i e s _ c h a r t s ' ) ) ; s e l f . c h a r t s . l a s t _ m o n t h _ p i e = n e w   P i e C h a r t ( s e l f , _ l a s t M o n t h C l i c k s B y C o u n t r y ) ; s e l f . c h a r t s . l a s t _ m o n t h _ p i e . a t t a c h T o ( $ ( ' # l a s t _ m o n t h _ c o u n t r i e s _ c h a r t s ' ) ) ; s e l f . c h a r t s . l a s t _ w e e k _ p i e = n e w   P i e C h a r t ( s e l f , _ l a s t W e e k C l i c k s B y C o u n t r y ) ; s e l f . c h a r t s . l a s t _ w e e k _ p i e . a t t a c h T o ( $ ( ' # l a s t _ w e e k _ c o u n t r i e s _ c h a r t s ' ) ) ; v a r   r o w W i d t h = $ ( ' # a l l _ t i m e _ c o u n t r i e s _ c h a r t s ' ) . p a r e n t ( ) . w i d t h ( ) ; v a r   $ c h a r t C a n v a s = $ ( ' # a l l _ t i m e _ c o u n t r i e s _ c h a r t s , l a s t _ m o n t h _ c o u n t r i e s _ c h a r t s , l a s t _ w e e k _ c o u n t r i e s _ c h a r t s ' ) . f i n d ( ' c a n v a s ' ) ; $ c h a r t C a n v a s . h e i g h t ( M a t h . m a x ( _ c l i c k s B y C o u n t r y . l e n g t h * ( r o w W i d t h > 7 5 0 ? 1 : 2 ) , 2 0 ) + ' e m ' ) ; } ) ; } , _ t o t a l C l i c k s : f u n c t i o n ( ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' l i n k . t r a c k e r . c l i c k ' , m e t h o d : ' s e a r c h _ c o u n t ' , a r g s : [ [ t h i s . l i n k s _ d o m a i n ] ] , } ) ; } , _ c l i c k s B y D a y : f u n c t i o n ( ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' l i n k . t r a c k e r . c l i c k ' , m e t h o d : ' r e a d _ g r o u p ' , a r g s : [ [ t h i s . l i n k s _ d o m a i n ] , [ ' c r e a t e _ d a t e ' ] ] , k w a r g s : { g r o u p b y : ' c r e a t e _ d a t e : d a y ' } , } ) ; } , _ c l i c k s B y C o u n t r y : f u n c t i o n ( ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' l i n k . t r a c k e r . c l i c k ' , m e t h o d : ' r e a d _ g r o u p ' , a r g s : [ [ t h i s . l i n k s _ d o m a i n ] , [ ' c o u n t r y _ i d ' ] ] , k w a r g s : { g r o u p b y : ' c o u n t r y _ i d ' } , } ) ; } , _ l a s t W e e k C l i c k s B y C o u n t r y : f u n c t i o n ( ) { v a r   i n t e r v a l = m o m e n t ( ) . s u b t r a c t ( 7 , ' d a y s ' ) . f o r m a t ( ' Y Y Y Y - M M - D D ' ) ; r e t u r n   t h i s . _ r p c ( { m o d e l : ' l i n k . t r a c k e r . c l i c k ' , m e t h o d : ' r e a d _ g r o u p ' , a r g s : [ [ t h i s . l i n k s _ d o m a i n , [ ' c r e a t e _ d a t e ' , ' > ' , i n t e r v a l ] ] , [ ' c o u n t r y _ i d ' ] ] , k w a r g s : { g r o u p b y : ' c o u n t r y _ i d ' } , } ) ; } , _ l a s t M o n t h C l i c k s B y C o u n t r y : f u n c t i o n ( ) { v a r   i n t e r v a l = m o m e n t ( ) . s u b t r a c t ( 3 0 , ' d a y s ' ) . f o r m a t ( ' Y Y Y Y - M M - D D ' ) ; r e t u r n   t h i s . _ r p c ( { m o d e l : ' l i n k . t r a c k e r . c l i c k ' , m e t h o d : ' r e a d _ g r o u p ' , a r g s : [ [ t h i s . l i n k s _ d o m a i n , [ ' c r e a t e _ d a t e ' , ' > ' , i n t e r v a l ] ] , [ ' c o u n t r y _ i d ' ] ] , k w a r g s : { g r o u p b y : ' c o u n t r y _ i d ' } , } ) ; } , _ o n G r a p h T a b C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; $ ( ' . g r a p h - t a b s   l i   a ' ) . t a b ( ' s h o w ' ) ; } , _ o n C o p y T o C l i p b o a r d C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; i f ( t h i s . a n i m a t i n g _ c o p y ) { r e t u r n ; } 
 t h i s . a n i m a t i n g _ c o p y = t r u e ; $ ( ' . o _ w e b s i t e _ l i n k s _ s h o r t _ u r l ' ) . c l o n e ( ) . c s s ( ' p o s i t i o n ' , ' a b s o l u t e ' ) . c s s ( ' l e f t ' , ' 1 5 p x ' ) . c s s ( ' b o t t o m ' , ' 1 0 p x ' ) . c s s ( ' z - i n d e x ' , 2 ) . r e m o v e C l a s s ( ' . o _ w e b s i t e _ l i n k s _ s h o r t _ u r l ' ) . a d d C l a s s ( ' a n i m a t e d - l i n k ' ) . a p p e n d T o ( $ ( ' . o _ w e b s i t e _ l i n k s _ s h o r t _ u r l ' ) ) . a n i m a t e ( { o p a c i t y : 0 , b o t t o m : ' + = 2 0 ' , } , 5 0 0 , f u n c t i o n ( ) { $ ( ' . a n i m a t e d - l i n k ' ) . r e m o v e ( ) ; t h i s . a n i m a t i n g _ c o p y = f a l s e ; } ) ; } , } ) ; r e t u r n { B a r C h a r t : B a r C h a r t , P i e C h a r t : P i e C h a r t , } ; } ) ; ; 
 
 / *   / w e b s i t e _ m a s s _ m a i l i n g / s t a t i c / s r c / j s / w e b s i t e _ m a s s _ m a i l i n g . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' m a s s _ m a i l i n g . w e b s i t e _ i n t e g r a t i o n ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; c o n s t { R e C a p t c h a } = r e q u i r e ( ' g o o g l e _ r e c a p t c h a . R e C a p t c h a V 3 ' ) ; v a r   _ t = c o r e . _ t ; p u b l i c W i d g e t . r e g i s t r y . s u b s c r i b e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : " . j s _ s u b s c r i b e " , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , r e a d _ e v e n t s : { ' c l i c k   . j s _ s u b s c r i b e _ b t n ' : ' _ o n S u b s c r i b e C l i c k ' , } , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . _ r e c a p t c h a = n e w   R e C a p t c h a ( ) ; } , w i l l S t a r t : f u n c t i o n ( ) { t h i s . _ r e c a p t c h a . l o a d L i b s ( ) ; r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . $ p o p u p = t h i s . $ t a r g e t . c l o s e s t ( ' . o _ n e w s l e t t e r _ m o d a l ' ) ; i f ( t h i s . $ p o p u p . l e n g t h ) { r e t u r n   d e f ; } 
 v a r   a l w a y s = f u n c t i o n ( d a t a ) { v a r   i s S u b s c r i b e r = d a t a . i s _ s u b s c r i b e r ; s e l f . $ ( ' . j s _ s u b s c r i b e _ b t n ' ) . p r o p ( ' d i s a b l e d ' , i s S u b s c r i b e r ) ; s e l f . $ ( ' i n p u t . j s _ s u b s c r i b e _ e m a i l ' ) . v a l ( d a t a . e m a i l | | " " ) . p r o p ( ' d i s a b l e d ' , i s S u b s c r i b e r ) ; s e l f . $ t a r g e t . r e m o v e C l a s s ( ' d - n o n e ' ) ; s e l f . $ ( ' . j s _ s u b s c r i b e _ b t n ' ) . t o g g l e C l a s s ( ' d - n o n e ' , ! ! i s S u b s c r i b e r ) ; s e l f . $ ( ' . j s _ s u b s c r i b e d _ b t n ' ) . t o g g l e C l a s s ( ' d - n o n e ' , ! i s S u b s c r i b e r ) ; } ; r e t u r n   P r o m i s e . a l l ( [ d e f , t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ m a s s _ m a i l i n g / i s _ s u b s c r i b e r ' , p a r a m s : { ' l i s t _ i d ' : t h i s . $ t a r g e t . d a t a ( ' l i s t - i d ' ) , } , } ) . t h e n ( a l w a y s ) . g u a r d e d C a t c h ( a l w a y s ) ] ) ; } , _ o n S u b s c r i b e C l i c k : a s y n c   f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   $ e m a i l = t h i s . $ ( " . j s _ s u b s c r i b e _ e m a i l : v i s i b l e " ) ; i f ( $ e m a i l . l e n g t h & & ! $ e m a i l . v a l ( ) . m a t c h ( / . + @ . + / ) ) { t h i s . $ t a r g e t . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; r e t u r n   f a l s e ; } 
 t h i s . $ t a r g e t . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; c o n s t   t o k e n O b j = a w a i t   t h i s . _ r e c a p t c h a . g e t T o k e n ( ' w e b s i t e _ f o r m ' ) ; i f ( t o k e n O b j . e r r o r ) { s e l f . d i s p l a y N o t i f i c a t i o n ( { t y p e : ' d a n g e r ' , t i t l e : _ t ( " E r r o r " ) , m e s s a g e : t o k e n O b j . e r r o r , s t i c k y : t r u e , } ) ; r e t u r n   f a l s e ; } 
 t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ m a s s _ m a i l i n g / s u b s c r i b e ' , p a r a m s : { ' l i s t _ i d ' : t h i s . $ t a r g e t . d a t a ( ' l i s t - i d ' ) , ' e m a i l ' : $ e m a i l . l e n g t h ? $ e m a i l . v a l ( ) : f a l s e , r e c a p t c h a _ t o k e n _ r e s p o n s e : t o k e n O b j . t o k e n , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { l e t   t o a s t T y p e = r e s u l t . t o a s t _ t y p e ; i f ( t o a s t T y p e = = = ' s u c c e s s ' ) { s e l f . $ ( " . j s _ s u b s c r i b e _ b t n " ) . a d d C l a s s ( ' d - n o n e ' ) ; s e l f . $ ( " . j s _ s u b s c r i b e d _ b t n " ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; s e l f . $ ( ' i n p u t . j s _ s u b s c r i b e _ e m a i l ' ) . p r o p ( ' d i s a b l e d ' , ! ! r e s u l t ) ; i f ( s e l f . $ p o p u p . l e n g t h ) { s e l f . $ p o p u p . m o d a l ( ' h i d e ' ) ; } } 
 s e l f . d i s p l a y N o t i f i c a t i o n ( { t y p e : t o a s t T y p e , t i t l e : _ t ( ` $ { t o a s t T y p e   = = =   ' s u c c e s s '   ?   ' S u c c e s s '   :   ' E r r o r ' } ` ) , m e s s a g e : r e s u l t . t o a s t _ c o n t e n t , s t i c k y : t r u e , } ) ; } ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . n e w s l e t t e r _ p o p u p = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : " . o _ n e w s l e t t e r _ p o p u p " , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; t h i s . w e b s i t e I D = t h i s . _ g e t C o n t e x t ( ) . w e b s i t e _ i d ; t h i s . l i s t I D = p a r s e I n t ( t h i s . $ t a r g e t . a t t r ( ' d a t a - l i s t - i d ' ) ) ; i f ( ! t h i s . l i s t I D | | ( u t i l s . g e t _ c o o k i e ( _ . s t r . s p r i n t f ( " n e w s l e t t e r - p o p u p - % s - % s " , t h i s . l i s t I D , t h i s . w e b s i t e I D ) ) & & ! s e l f . e d i t a b l e M o d e ) ) { r e t u r n   P r o m i s e . a l l ( d e f s ) ; } 
 i f ( t h i s . $ t a r g e t . d a t a ( ' c o n t e n t ' ) & & t h i s . e d i t a b l e M o d e ) { t h i s . _ d i a l o g I n i t ( t h i s . $ t a r g e t . d a t a ( ' c o n t e n t ' ) ) ; t h i s . $ t a r g e t . r e m o v e D a t a ( ' q u i c k - o p e n ' ) ; t h i s . m a s s M a i l i n g P o p u p . o p e n ( ) ; } e l s e { d e f s . p u s h ( t h i s . _ r p c ( { r o u t e : ' / w e b s i t e _ m a s s _ m a i l i n g / g e t _ c o n t e n t ' , p a r a m s : { n e w s l e t t e r _ i d : s e l f . l i s t I D , } , } ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . _ d i a l o g I n i t ( d a t a . p o p u p _ c o n t e n t , d a t a . e m a i l | | ' ' ) ; i f ( ! s e l f . e d i t a b l e M o d e & & ! d a t a . i s _ s u b s c r i b e r ) { i f ( c o n f i g . d e v i c e . i s M o b i l e ) { s e t T i m e o u t ( f u n c t i o n ( ) { s e l f . _ s h o w B a n n e r ( ) ; } , 5 0 0 0 ) ; } e l s e { $ ( d o c u m e n t ) . o n ( ' m o u s e l e a v e . o p e n _ p o p u p _ e v e n t ' , s e l f . _ s h o w B a n n e r . b i n d ( s e l f ) ) ; } } e l s e { $ ( d o c u m e n t ) . o f f ( ' m o u s e l e a v e . o p e n _ p o p u p _ e v e n t ' ) ; } 
 i f ( s e l f . $ t a r g e t . d a t a ( ' q u i c k - o p e n ' ) ) { s e l f . m a s s M a i l i n g P o p u p . o p e n ( ) ; s e l f . $ t a r g e t . r e m o v e D a t a ( ' q u i c k - o p e n ' ) ; } } ) ) ; } 
 r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , d e s t r o y : f u n c t i o n ( ) { i f ( t h i s . m a s s M a i l i n g P o p u p ) { t h i s . m a s s M a i l i n g P o p u p . c l o s e ( ) ; } 
 t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ d i a l o g I n i t : f u n c t i o n ( c o n t e n t , e m a i l ) { v a r   s e l f = t h i s ; t h i s . m a s s M a i l i n g P o p u p = n e w   D i a l o g ( t h i s , { t e c h n i c a l : f a l s e , $ c o n t e n t : $ ( ' < d i v / > ' ) . h t m l ( c o n t e n t ) , $ p a r e n t N o d e : t h i s . $ t a r g e t , b a c k d r o p : ! t h i s . e d i t a b l e M o d e , d i a l o g C l a s s : ' p - 0 ' + ( t h i s . e d i t a b l e M o d e ? '   o e _ s t r u c t u r e   o e _ e m p t y ' : ' ' ) , r e n d e r F o o t e r : f a l s e , s i z e : ' m e d i u m ' , } ) ; t h i s . m a s s M a i l i n g P o p u p . o p e n e d ( ) . t h e n ( f u n c t i o n ( ) { v a r   $ m o d a l = s e l f . m a s s M a i l i n g P o p u p . $ m o d a l ; $ m o d a l . f i n d ( ' h e a d e r   b u t t o n . c l o s e ' ) . o n ( ' m o u s e u p ' , f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; } ) ; $ m o d a l . a d d C l a s s ( ' o _ n e w s l e t t e r _ m o d a l ' ) ; $ m o d a l . f i n d ( ' . o e _ s t r u c t u r e ' ) . a t t r ( ' d a t a - e d i t o r - m e s s a g e ' , _ t ( ' D R A G   B U I L D I N G   B L O C K S   H E R E ' ) ) ; $ m o d a l . f i n d ( ' . m o d a l - d i a l o g ' ) . a d d C l a s s ( ' m o d a l - d i a l o g - c e n t e r e d ' ) ; $ m o d a l . f i n d ( ' . j s _ s u b s c r i b e ' ) . d a t a ( ' l i s t - i d ' , s e l f . l i s t I D ) . f i n d ( ' i n p u t . j s _ s u b s c r i b e _ e m a i l ' ) . v a l ( e m a i l ) ; s e l f . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { e d i t a b l e M o d e : s e l f . e d i t a b l e M o d e , $ t a r g e t : $ m o d a l , } ) ; } ) ; t h i s . m a s s M a i l i n g P o p u p . o n ( ' c l o s e d ' , t h i s , f u n c t i o n ( ) { v a r   $ m o d a l = s e l f . m a s s M a i l i n g P o p u p . $ m o d a l ; i f ( $ m o d a l ) { s e l f . $ e l . d a t a ( ' c o n t e n t ' , $ m o d a l . f i n d ( ' . m o d a l - b o d y ' ) . h t m l ( ) ) ; } } ) ; } , _ s h o w B a n n e r : f u n c t i o n ( ) { t h i s . m a s s M a i l i n g P o p u p . o p e n ( ) ; u t i l s . s e t _ c o o k i e ( _ . s t r . s p r i n t f ( " n e w s l e t t e r - p o p u p - % s - % s " , t h i s . l i s t I D , t h i s . w e b s i t e I D ) , t r u e ) ; $ ( d o c u m e n t ) . o f f ( ' m o u s e l e a v e . o p e n _ p o p u p _ e v e n t ' ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ c a l e n d a r / s t a t i c / s r c / j s / w e b s i t e _ c a l e n d a r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ c a l e n d a r . s e l e c t _ a p p o i n t m e n t _ t y p e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e C a l e n d a r S e l e c t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w e b s i t e _ c a l e n d a r _ a p p o i n t m e n t ' , e v e n t s : { ' c h a n g e   . o _ w e b s i t e _ a p p o i n m e n t _ f o r m   s e l e c t [ i d = " c a l e n d a r T y p e " ] ' : ' _ o n A p p o i n t m e n t T y p e C h a n g e ' } , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ o n A p p o i n t m e n t T y p e C h a n g e = _ . d e b o u n c e ( t h i s . _ o n A p p o i n t m e n t T y p e C h a n g e , 2 5 0 ) ; } , s t a r t : f u n c t i o n ( p a r e n t ) { v a r   t i m e z o n e = j s t z . d e t e r m i n e ( ) ; $ ( " . o _ w e b s i t e _ a p p o i n m e n t _ f o r m   s e l e c t [ n a m e = ' t i m e z o n e ' ] " ) . v a l ( t i m e z o n e . n a m e ( ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ o n A p p o i n t m e n t T y p e C h a n g e : f u n c t i o n ( e v ) { v a r   a p p o i n t m e n t I D = $ ( e v . t a r g e t ) . v a l ( ) ; v a r   p r e v i o u s S e l e c t e d E m p l o y e e I D = $ ( " . o _ w e b s i t e _ a p p o i n m e n t _ f o r m   s e l e c t [ n a m e = ' e m p l o y e e _ i d ' ] " ) . v a l ( ) ; v a r   p o s t U R L = ' / c a l e n d a r / ' + a p p o i n t m e n t I D + ' / a p p o i n t m e n t ' ; $ ( " . o _ w e b s i t e _ a p p o i n m e n t _ f o r m " ) . a t t r ( ' a c t i o n ' , p o s t U R L ) ; t h i s . _ r p c ( { r o u t e : " / c a l e n d a r / g e t _ a p p o i n t m e n t _ i n f o " , p a r a m s : { a p p o i n t m e n t _ i d : a p p o i n t m e n t I D , p r e v _ e m p : p r e v i o u s S e l e c t e d E m p l o y e e I D , } , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a ) { $ ( ' . o _ c a l e n d a r _ i n t r o ' ) . h t m l ( d a t a . m e s s a g e _ i n t r o ) ; i f ( d a t a . a s s i g n a t i o n _ m e t h o d = = = ' c h o s e n ' ) { $ ( " . o _ w e b s i t e _ a p p o i n m e n t _ f o r m   d i v [ n a m e = ' e m p l o y e e _ s e l e c t ' ] " ) . r e p l a c e W i t h ( d a t a . e m p l o y e e _ s e l e c t i o n _ h t m l ) ; } e l s e { $ ( " . o _ w e b s i t e _ a p p o i n m e n t _ f o r m   d i v [ n a m e = ' e m p l o y e e _ s e l e c t ' ] " ) . a d d C l a s s ( ' o _ h i d d e n ' ) ; $ ( " . o _ w e b s i t e _ a p p o i n m e n t _ f o r m   s e l e c t [ n a m e = ' e m p l o y e e _ i d ' ] " ) . c h i l d r e n ( ) . r e m o v e ( ) ; } } } ) ; } , } ) ; } ) ; o d o o . d e f i n e ( ' w e b s i t e _ c a l e n d a r . a p p o i n t m e n t _ f o r m ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e C a l e n d a r F o r m = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w e b s i t e _ c a l e n d a r _ f o r m ' , e v e n t s : { ' c h a n g e   . a p p o i n t m e n t _ s u b m i t _ f o r m   s e l e c t [ n a m e = " c o u n t r y _ i d " ] ' : ' _ o n C o u n t r y C h a n g e ' , } , _ o n C o u n t r y C h a n g e : f u n c t i o n ( e v ) { v a r   c o u n t r y C o d e = $ ( e v . t a r g e t ) . f i n d ( ' o p t i o n : s e l e c t e d ' ) . d a t a ( ' p h o n e - c o d e ' ) ; $ ( ' . a p p o i n t m e n t _ s u b m i t _ f o r m   # p h o n e _ f i e l d ' ) . v a l ( c o u n t r y C o d e ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ b l o g / s t a t i c / s r c / j s / c o n t e n t s h a r e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ b l o g . c o n t e n t s h a r e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   d o m = r e q u i r e ( ' w e b . d o m ' ) ; $ . f n . s h a r e = f u n c t i o n ( o p t i o n s ) { v a r   o p t i o n = $ . e x t e n d ( $ . f n . s h a r e . d e f a u l t s , o p t i o n s ) ; v a r   s e l e c t e d _ t e x t = " " ; $ . e x t e n d ( $ . f n . s h a r e , { i n i t : f u n c t i o n ( s h a r e a b l e ) { v a r   s e l f = t h i s ; $ . f n . s h a r e . d e f a u l t s . s h a r e a b l e = s h a r e a b l e ; $ . f n . s h a r e . d e f a u l t s . s h a r e a b l e . o n ( ' m o u s e u p ' , f u n c t i o n ( ) { i f ( $ ( t h i s ) . p a r e n t s ( ' b o d y . e d i t o r _ e n a b l e ' ) . l e n g t h = = = 0 ) { s e l f . p o p O v e r ( ) ; } } ) ; $ . f n . s h a r e . d e f a u l t s . s h a r e a b l e . o n ( ' m o u s e d o w n ' , f u n c t i o n ( ) { s e l f . d e s t r o y ( ) ; } ) ; } , g e t C o n t e n t : f u n c t i o n ( ) { v a r   $ p o p o v e r _ c o n t e n t = $ ( ' < d i v   c l a s s = " h 4   m - 0 " / > ' ) ; i f ( $ ( ' . o _ w b l o g _ t i t l e ,   . o _ w b l o g _ p o s t _ c o n t e n t _ f i e l d ' ) . h a s C l a s s ( ' j s _ c o m m e n t ' ) ) { s e l e c t e d _ t e x t = t h i s . g e t S e l e c t i o n ( ' s t r i n g ' ) ; v a r   $ b t n _ c = $ ( ' < a   c l a s s = " o _ s h a r e _ c o m m e n t   b t n   b t n - l i n k   p x - 2 "   h r e f = " # " / > ' ) . a p p e n d ( $ ( ' < i   c l a s s = " f a   f a - l g   f a - c o m m e n t " / > ' ) ) ; $ p o p o v e r _ c o n t e n t . a p p e n d ( $ b t n _ c ) ; } 
 i f ( $ ( ' . o _ w b l o g _ t i t l e ,   . o _ w b l o g _ p o s t _ c o n t e n t _ f i e l d ' ) . h a s C l a s s ( ' j s _ t w e e t ' ) ) { v a r   t w e e t = ' " % s "   -   % s ' ; v a r   b a s e L e n g t h = t w e e t . r e p l a c e ( / % s / g , ' ' ) . l e n g t h ; v a r   s e l e c t e d T e x t = t h i s . g e t S e l e c t i o n ( ' s t r i n g ' ) . s u b s t r i n g ( 0 , o p t i o n . m a x L e n g t h - b a s e L e n g t h - 2 3 ) ; v a r   t e x t = w i n d o w . b t o a ( e n c o d e U R I C o m p o n e n t ( _ . s t r . s p r i n t f ( t w e e t , s e l e c t e d T e x t , w i n d o w . l o c a t i o n . h r e f ) ) ) ; $ p o p o v e r _ c o n t e n t . a p p e n d ( _ . s t r . s p r i n t f ( " < a   o n c l i c k = \ " w i n d o w . o p e n ( ' % s '   +   a t o b ( ' % s ' ) ,   ' _ % s ' , ' l o c a t i o n = y e s , h e i g h t = 5 7 0 , w i d t h = 5 2 0 , s c r o l l b a r s = y e s , s t a t u s = y e s ' ) \ " > < i   c l a s s = \ " m l 4   m r 4   f a   f a - t w i t t e r   f a - l g \ " / > < / a > " , o p t i o n . s h a r e L i n k , t e x t , o p t i o n . t a r g e t ) ) ; } 
 r e t u r n   $ p o p o v e r _ c o n t e n t ; } , c o m m e n t E d i t i o n : f u n c t i o n ( ) { $ ( " . o _ p o r t a l _ c h a t t e r _ c o m p o s e r _ f o r m   t e x t a r e a " ) . v a l ( ' " ' + s e l e c t e d _ t e x t + ' "   ' ) . f o c u s ( ) ; c o n s t   c o m m e n t s E l = $ ( ' # o _ w b l o g _ p o s t _ c o m m e n t s ' ) [ 0 ] ; i f ( c o m m e n t s E l ) { d o m . s c r o l l T o ( c o m m e n t s E l ) . t h e n ( ( ) = > { w i n d o w . l o c a t i o n . h a s h = ' b l o g _ p o s t _ c o m m e n t _ q u o t e ' ; } ) ; } } , g e t S e l e c t i o n : f u n c t i o n ( s h a r e ) { i f ( w i n d o w . g e t S e l e c t i o n ) { v a r   s e l e c t i o n = w i n d o w . g e t S e l e c t i o n ( ) ; i f ( ! s e l e c t i o n | | s e l e c t i o n . r a n g e C o u n t = = = 0 ) { r e t u r n " " ; } 
 i f ( s h a r e = = = ' s t r i n g ' ) { r e t u r n   S t r i n g ( s e l e c t i o n . g e t R a n g e A t ( 0 ) ) . r e p l a c e ( / \ s { 2 , } / g , '   ' ) ; } e l s e { r e t u r n   s e l e c t i o n . g e t R a n g e A t ( 0 ) ; } } e l s e   i f ( d o c u m e n t . s e l e c t i o n ) { i f ( s h a r e = = = ' s t r i n g ' ) { r e t u r n   d o c u m e n t . s e l e c t i o n . c r e a t e R a n g e ( ) . t e x t . r e p l a c e ( / \ s { 2 , } / g , '   ' ) ; } e l s e { r e t u r n   d o c u m e n t . s e l e c t i o n . c r e a t e R a n g e ( ) ; } } } , p o p O v e r : f u n c t i o n ( ) { t h i s . d e s t r o y ( ) ; i f ( t h i s . g e t S e l e c t i o n ( ' s t r i n g ' ) . l e n g t h < o p t i o n . m i n L e n g t h ) { r e t u r n ; } 
 v a r   d a t a = t h i s . g e t C o n t e n t ( ) ; v a r   r a n g e = t h i s . g e t S e l e c t i o n ( ) ; v a r   n e w N o d e = d o c u m e n t . c r e a t e E l e m e n t ( " s p a n " ) ; r a n g e . i n s e r t N o d e ( n e w N o d e ) ; n e w N o d e . c l a s s N a m e = o p t i o n . c l a s s N a m e ; v a r   $ p o p = $ ( n e w N o d e ) ; $ p o p . p o p o v e r ( { t r i g g e r : ' m a n u a l ' , p l a c e m e n t : o p t i o n . p l a c e m e n t , h t m l : t r u e , c o n t e n t : f u n c t i o n ( ) { r e t u r n   d a t a ; } } ) . p o p o v e r ( ' s h o w ' ) ; $ ( ' . o _ s h a r e _ c o m m e n t ' ) . o n ( ' c l i c k ' , t h i s . c o m m e n t E d i t i o n ) ; } , d e s t r o y : f u n c t i o n ( ) { v a r   $ s p a n = $ ( ' s p a n . ' + o p t i o n . c l a s s N a m e ) ; $ s p a n . p o p o v e r ( ' h i d e ' ) ; $ s p a n . r e m o v e ( ) ; } } ) ; $ . f n . s h a r e . i n i t ( t h i s ) ; } ; $ . f n . s h a r e . d e f a u l t s = { s h a r e L i n k : " h t t p : / / t w i t t e r . c o m / i n t e n t / t w e e t ? t e x t = " , m i n L e n g t h : 5 , m a x L e n g t h : 1 4 0 , t a r g e t : " b l a n k " , c l a s s N a m e : " s h a r e " , p l a c e m e n t : " t o p " , } ; } ) ; ; 
 
 / *   / w e b s i t e _ b l o g / s t a t i c / s r c / j s / w e b s i t e _ b l o g . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ b l o g . w e b s i t e _ b l o g ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   d o m = r e q u i r e ( ' w e b . d o m ' ) ; c o n s t   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e B l o g = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . w e b s i t e _ b l o g ' , e v e n t s : { ' c l i c k   # o _ w b l o g _ n e x t _ c o n t a i n e r ' : ' _ o n N e x t B l o g C l i c k ' , ' c l i c k   # o _ w b l o g _ p o s t _ c o n t e n t _ j u m p ' : ' _ o n C o n t e n t A n c h o r C l i c k ' , ' c l i c k   . o _ t w i t t e r ,   . o _ f a c e b o o k ,   . o _ l i n k e d i n ,   . o _ g o o g l e ,   . o _ t w i t t e r _ c o m p l e t e ,   . o _ f a c e b o o k _ c o m p l e t e ,   . o _ l i n k e d i n _ c o m p l e t e ,   . o _ g o o g l e _ c o m p l e t e ' : ' _ o n S h a r e A r t i c l e ' , } , s t a r t : f u n c t i o n ( ) { $ ( ' . j s _ t w e e t ,   . j s _ c o m m e n t ' ) . s h a r e ( { } ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ o n N e x t B l o g C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   s e l f = t h i s ; v a r   $ e l = $ ( e v . c u r r e n t T a r g e t ) ; v a r   n e x I n f o = $ e l . f i n d ( ' # o _ w b l o g _ n e x t _ p o s t _ i n f o ' ) . d a t a ( ) ; $ e l . f i n d ( ' . o _ r e c o r d _ c o v e r _ c o n t a i n e r ' ) . a d d C l a s s ( n e x I n f o . s i z e + '   ' + n e x I n f o . t e x t ) . e n d ( ) . f i n d ( ' . o _ w b l o g _ t o g g l e ' ) . t o g g l e C l a s s ( ' d - n o n e ' ) ; c o n s t   p l a c e h o l d e r = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; p l a c e h o l d e r . s t y l e . m i n H e i g h t = ' 1 0 0 v h ' ; t h i s . $ ( ' # o _ w b l o g _ n e x t _ c o n t a i n e r ' ) . a p p e n d ( p l a c e h o l d e r ) ; _ . d e f e r ( f u n c t i o n ( ) { s e l f . _ f o r u m S c r o l l A c t i o n ( $ e l , 3 0 0 , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = n e x I n f o . u r l ; } ) ; } ) ; } , _ o n C o n t e n t A n c h o r C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; e v . s t o p I m m e d i a t e P r o p a g a t i o n ( ) ; v a r   $ e l = $ ( e v . c u r r e n t T a r g e t . h a s h ) ; t h i s . _ f o r u m S c r o l l A c t i o n ( $ e l , 5 0 0 , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h a s h = ' b l o g _ c o n t e n t ' ; } ) ; } , _ o n S h a r e A r t i c l e : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   u r l = ' ' ; v a r   $ e l e m e n t = $ ( e v . c u r r e n t T a r g e t ) ; v a r   b l o g P o s t T i t l e = e n c o d e U R I C o m p o n e n t ( $ ( ' # o _ w b l o g _ p o s t _ n a m e ' ) . h t m l ( ) | | ' ' ) ; v a r   a r t i c l e U R L = e n c o d e U R I C o m p o n e n t ( w i n d o w . l o c a t i o n . h r e f ) ; i f ( $ e l e m e n t . h a s C l a s s ( ' o _ t w i t t e r ' ) ) { u r l = ' h t t p s : / / t w i t t e r . c o m / i n t e n t / t w e e t ? t w _ p = t w e e t b u t t o n & t e x t = A m a z i n g   b l o g   a r t i c l e   :   ' + b l o g P o s t T i t l e + " !   " + a r t i c l e U R L ; } e l s e   i f ( $ e l e m e n t . h a s C l a s s ( ' o _ f a c e b o o k ' ) ) { u r l = ' h t t p s : / / w w w . f a c e b o o k . c o m / s h a r e r / s h a r e r . p h p ? u = ' + a r t i c l e U R L ; } e l s e   i f ( $ e l e m e n t . h a s C l a s s ( ' o _ l i n k e d i n ' ) ) { u r l = ' h t t p s : / / w w w . l i n k e d i n . c o m / s h a r i n g / s h a r e - o f f s i t e / ? u r l = ' + a r t i c l e U R L ; } 
 w i n d o w . o p e n ( u r l , ' ' , ' m e n u b a r = n o ,   w i d t h = 5 0 0 ,   h e i g h t = 4 0 0 ' ) ; } , _ f o r u m S c r o l l A c t i o n : f u n c t i o n ( $ e l , d u r a t i o n , c a l l b a c k ) { d o m . s c r o l l T o ( $ e l [ 0 ] , { d u r a t i o n : d u r a t i o n } ) . t h e n ( ( ) = > c a l l b a c k ( ) ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ b l o g / s t a t i c / s r c / s n i p p e t s / s _ l a t e s t _ p o s t s / 0 0 0 . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ b l o g . s _ l a t e s t _ p o s t s _ f r o n t e n d ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; p u b l i c W i d g e t . r e g i s t r y . j s _ g e t _ p o s t s = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . j s _ g e t _ p o s t s ' , d i s a b l e d I n E d i t a b l e M o d e : f a l s e , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; c o n s t   d a t a = s e l f . $ t a r g e t [ 0 ] . d a t a s e t ; c o n s t   l i m i t = p a r s e I n t ( d a t a . p o s t s L i m i t ) | | 4 ; c o n s t   b l o g I D = p a r s e I n t ( d a t a . f i l t e r B y B l o g I d ) ; i f ( d a t a . t e m p l a t e & & d a t a . t e m p l a t e . e n d s W i t h ( ' . s _ l a t e s t _ p o s t s _ b i g _ o r i z o n t a l _ t e m p l a t e ' ) ) { d a t a . t e m p l a t e = ' w e b s i t e _ b l o g . s _ l a t e s t _ p o s t s _ h o r i z o n t a l _ t e m p l a t e ' ; } 
 c o n s t   t e m p l a t e = d a t a . t e m p l a t e | | ' w e b s i t e _ b l o g . s _ l a t e s t _ p o s t s _ l i s t _ t e m p l a t e ' ; c o n s t   l o a d i n g = d a t a . l o a d i n g = = = ' t r u e ' ; c o n s t   o r d e r = d a t a . o r d e r | | ' p u b l i s h e d _ d a t e   d e s c ' ; t h i s . $ t a r g e t . e m p t y ( ) ; t h i s . $ t a r g e t . a t t r ( ' c o n t e n t e d i t a b l e ' , ' F a l s e ' ) ; v a r   d o m a i n = [ ] ; i f ( b l o g I D ) { d o m a i n . p u s h ( [ ' b l o g _ i d ' , ' = ' , b l o g I D ] ) ; } 
 i f ( o r d e r . i n c l u d e s ( ' v i s i t s ' ) ) { d o m a i n . p u s h ( [ ' v i s i t s ' , ' ! = ' , f a l s e ] ) ; } 
 v a r   p r o m = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e ) { s e l f . _ r p c ( { r o u t e : ' / b l o g / r e n d e r _ l a t e s t _ p o s t s ' , p a r a m s : { t e m p l a t e : t e m p l a t e , d o m a i n : d o m a i n , l i m i t : l i m i t , o r d e r : o r d e r , } , } ) . t h e n ( f u n c t i o n ( p o s t s ) { v a r   $ p o s t s = $ ( p o s t s ) . f i l t e r ( ' . s _ l a t e s t _ p o s t s _ p o s t ' ) ; i f ( ! $ p o s t s . l e n g t h ) { s e l f . $ t a r g e t . a p p e n d ( $ ( ' < d i v / > ' , { c l a s s : ' c o l - m d - 6   o f f s e t - m d - 3 ' } ) . a p p e n d ( $ ( ' < d i v / > ' , { c l a s s : ' a l e r t   a l e r t - w a r n i n g   a l e r t - d i s m i s s i b l e   t e x t - c e n t e r ' , t e x t : _ t ( " N o   b l o g   p o s t   w a s   f o u n d .   M a k e   s u r e   y o u r   p o s t s   a r e   p u b l i s h e d . " ) , } ) ) ) ; r e s o l v e ( ) ; } 
 i f ( l o a d i n g ) { s e l f . _ s h o w L o a d i n g ( $ p o s t s ) ; } e l s e { s e l f . $ t a r g e t . h t m l ( $ p o s t s ) ; } 
 r e s o l v e ( ) ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( ) { i f ( s e l f . e d i t a b l e M o d e ) { s e l f . $ t a r g e t . a p p e n d ( $ ( ' < p / > ' , { c l a s s : ' t e x t - d a n g e r ' , t e x t : _ t ( " A n   e r r o r   o c c u r e d   w i t h   t h i s   l a t e s t   p o s t s   b l o c k .   I f   t h e   p r o b l e m   p e r s i s t s ,   p l e a s e   c o n s i d e r   d e l e t i n g   i t   a n d   a d d i n g   a   n e w   o n e " ) , } ) ) ; } 
 r e s o l v e ( ) ; } ) ; } ) ; r e t u r n   P r o m i s e . a l l ( [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , p r o m ] ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . $ t a r g e t . e m p t y ( ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ s h o w L o a d i n g : f u n c t i o n ( $ p o s t s ) { v a r   s e l f = t h i s ; _ . e a c h ( $ p o s t s , f u n c t i o n ( p o s t , i ) { v a r   $ p o s t = $ ( p o s t ) ; v a r   $ p r o g r e s s = $ p o s t . f i n d ( ' . s _ l a t e s t _ p o s t s _ l o a d e r ' ) ; v a r   b g U r l = $ p o s t . f i n d ( ' . o _ r e c o r d _ c o v e r _ i m a g e ' ) . c s s ( ' b a c k g r o u n d - i m a g e ' ) . r e p l a c e ( ' u r l ( ' , ' ' ) . r e p l a c e ( ' ) ' , ' ' ) . r e p l a c e ( / \ " / g i , " " ) | | ' n o n e ' ; $ p o s t . a p p e n d T o ( s e l f . $ t a r g e t ) ; i f ( b g U r l = = = ' n o n e ' ) { $ p o s t . a d d C l a s s ( ' s _ l a t e s t _ p o s t s _ l o a d e r _ n o _ c o v e r ' ) ; $ p r o g r e s s . r e m o v e ( ) ; r e t u r n ; } 
 $ p r o g r e s s . f i n d ( ' >   d i v ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) . c s s ( ' a n i m a t i o n - d e l a y ' , i * 2 0 0 + ' m s ' ) ; v a r   $ d u m m y I m g = $ ( ' < i m g / > ' , { s r c : b g U r l } ) ; v a r   t i m e r = s e t T i m e o u t ( f u n c t i o n ( ) { $ p o s t . f i n d ( ' . o _ r e c o r d _ c o v e r _ i m a g e ' ) . a d d C l a s s ( ' b g - 2 0 0 ' ) ; $ p r o g r e s s . r e m o v e ( ) ; } , 1 0 0 0 0 ) ; w U t i l s . o n c e A l l I m a g e s L o a d e d ( $ d u m m y I m g ) . t h e n ( f u n c t i o n ( ) { $ p r o g r e s s . f a d e O u t ( 5 0 0 , f u n c t i o n ( ) { $ p r o g r e s s . r e m o v e C l a s s ( ' d - f l e x ' ) ; } ) ; $ d u m m y I m g . r e m o v e ( ) ; c l e a r T i m e o u t ( t i m e r ) ; } ) ; } ) ; } , } ) ; } ) ; ; 
 
 / *   / m a i l / s t a t i c / s r c / j s / u t i l s . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' m a i l . u t i l s ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; f u n c t i o n   p a r s e A n d T r a n s f o r m ( h t m l S t r i n g , t r a n s f o r m F u n c t i o n ) { v a r   o p e n T o k e n = " O P E N " + D a t e . n o w ( ) ; v a r   s t r i n g = h t m l S t r i n g . r e p l a c e ( / & l t ; / g , o p e n T o k e n ) ; v a r   c h i l d r e n ; t r y { c h i l d r e n = $ ( ' < d i v > ' ) . h t m l ( s t r i n g ) . c o n t e n t s ( ) ; } c a t c h ( e ) { c h i l d r e n = $ ( ' < d i v > ' ) . h t m l ( ' < p r e > ' + s t r i n g + ' < / p r e > ' ) . c o n t e n t s ( ) ; } 
 r e t u r n   _ p a r s e A n d T r a n s f o r m ( c h i l d r e n , t r a n s f o r m F u n c t i o n ) . r e p l a c e ( n e w   R e g E x p ( o p e n T o k e n , " g " ) , " & l t ; " ) ; } 
 f u n c t i o n   _ p a r s e A n d T r a n s f o r m ( n o d e s , t r a n s f o r m F u n c t i o n ) { r e t u r n   _ . m a p ( n o d e s , f u n c t i o n ( n o d e ) { r e t u r n   t r a n s f o r m F u n c t i o n ( n o d e , f u n c t i o n ( ) { r e t u r n   _ p a r s e A n d T r a n s f o r m ( n o d e . c h i l d N o d e s , t r a n s f o r m F u n c t i o n ) ; } ) ; } ) . j o i n ( " " ) ; } 
 v a r   u r l R e g e x p = / \ b ( ? : h t t p s ? : \ / \ / \ d { 1 , 3 } ( ? : \ . \ d { 1 , 3 } ) { 3 } | ( ? : h t t p s ? : \ / \ / | ( ? : w w w \ . ) ) [ - a - z 0 - 9 @ : % . _ + ~ # = ] { 2 , 2 5 6 } \ . [ a - z ] { 2 , 1 3 } ) \ b ( ? : [ - a - z 0 - 9 @ : % _ + . ~ # ? & ' $ / / = ; ] * ) / g i ; f u n c t i o n   l i n k i f y ( t e x t , a t t r s ) { a t t r s = a t t r s | | { } ; i f ( a t t r s . t a r g e t = = = u n d e f i n e d ) { a t t r s . t a r g e t = ' _ b l a n k ' ; } 
 i f ( a t t r s . t a r g e t = = = ' _ b l a n k ' ) { a t t r s . r e l = ' n o r e f e r r e r   n o o p e n e r ' ; } 
 a t t r s = _ . m a p ( a t t r s , f u n c t i o n ( v a l u e , k e y ) { r e t u r n   k e y + ' = " ' + _ . e s c a p e ( v a l u e ) + ' " ' ; } ) . j o i n ( '   ' ) ; r e t u r n   t e x t . r e p l a c e ( u r l R e g e x p , f u n c t i o n ( u r l ) { v a r   h r e f = ( ! / ^ h t t p s ? : \ / \ / / i . t e s t ( u r l ) ) ? " h t t p : / / " + u r l : u r l ; r e t u r n ' < a   ' + a t t r s + '   h r e f = " ' + h r e f + ' " > ' + u r l + ' < / a > ' ; } ) ; } 
 f u n c t i o n   a d d L i n k ( n o d e , t r a n s f o r m C h i l d r e n ) { i f ( n o d e . n o d e T y p e = = = 3 ) { c o n s t   l i n k i f i e d = l i n k i f y ( n o d e . d a t a ) ; i f ( l i n k i f i e d ! = = n o d e . d a t a ) { c o n s t   d i v = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; d i v . i n n e r H T M L = l i n k i f i e d ; f o r ( c o n s t   c h i l d N o d e   o f [ . . . d i v . c h i l d N o d e s ] ) { n o d e . p a r e n t N o d e . i n s e r t B e f o r e ( c h i l d N o d e , n o d e ) ; } 
 n o d e . p a r e n t N o d e . r e m o v e C h i l d ( n o d e ) ; r e t u r n   l i n k i f i e d ; } 
 r e t u r n   n o d e . t e x t C o n t e n t ; } 
 i f ( n o d e . t a g N a m e = = = " A " ) r e t u r n   n o d e . o u t e r H T M L ; t r a n s f o r m C h i l d r e n ( ) ; r e t u r n   n o d e . o u t e r H T M L ; } 
 f u n c t i o n   h t m l T o T e x t C o n t e n t I n l i n e ( h t m l S t r i n g ) { c o n s t   f r a g m e n t = d o c u m e n t . c r e a t e D o c u m e n t F r a g m e n t ( ) ; c o n s t   d i v = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; f r a g m e n t . a p p e n d C h i l d ( d i v ) ; h t m l S t r i n g = h t m l S t r i n g . r e p l a c e ( / < b r \ s * \ / ? > / g i , '   ' ) ; t r y { d i v . i n n e r H T M L = h t m l S t r i n g ; } c a t c h ( e ) { d i v . i n n e r H T M L = ` < p r e > $ { h t m l S t r i n g } < / p r e > ` ; } 
 r e t u r n   d i v . t e x t C o n t e n t . t r i m ( ) . r e p l a c e ( / [ \ n \ r ] / g , ' ' ) . r e p l a c e ( / \ s \ s + / g , '   ' ) ; } 
 f u n c t i o n   s t r i p H T M L ( n o d e , t r a n s f o r m C h i l d r e n ) { i f ( n o d e . n o d e T y p e = = = 3 ) r e t u r n   n o d e . d a t a ; i f ( n o d e . t a g N a m e = = = " B R " ) r e t u r n " \ n " ; r e t u r n   t r a n s f o r m C h i l d r e n ( ) ; } 
 f u n c t i o n   i n l i n e ( n o d e , t r a n s f o r m _ c h i l d r e n ) { i f ( n o d e . n o d e T y p e = = = 3 ) r e t u r n   n o d e . d a t a ; i f ( n o d e . n o d e T y p e = = = 8 ) r e t u r n " " ; i f ( n o d e . t a g N a m e = = = " B R " ) r e t u r n "   " ; i f ( n o d e . t a g N a m e . m a t c h ( / ^ ( A | P | D I V | P R E | B L O C K Q U O T E ) $ / ) ) r e t u r n   t r a n s f o r m _ c h i l d r e n ( ) ; n o d e . i n n e r H T M L = t r a n s f o r m _ c h i l d r e n ( ) ; r e t u r n   n o d e . o u t e r H T M L ; } 
 f u n c t i o n   p a r s e E m a i l ( t e x t ) { i f ( t e x t ) { v a r   r e s u l t = t e x t . m a t c h ( / ( . * ) < ( . * @ . * ) > / ) ; i f ( r e s u l t ) { r e t u r n [ _ . s t r . t r i m ( r e s u l t [ 1 ] ) , _ . s t r . t r i m ( r e s u l t [ 2 ] ) ] ; } 
 r e s u l t = t e x t . m a t c h ( / ( . * @ . * ) / ) ; i f ( r e s u l t ) { r e t u r n [ _ . s t r . t r i m ( r e s u l t [ 1 ] ) , _ . s t r . t r i m ( r e s u l t [ 1 ] ) ] ; } 
 r e t u r n [ t e x t , f a l s e ] ; } } 
 f u n c t i o n   e s c a p e A n d C o m p a c t T e x t C o n t e n t ( c o n t e n t ) { l e t   v a l u e = _ . e s c a p e ( c o n t e n t ) . t r i m ( ) ; v a l u e = v a l u e . r e p l a c e ( / ( \ r | \ n ) { 2 , } / g , ' < b r / > < b r / > ' ) ; v a l u e = v a l u e . r e p l a c e ( / ( \ r | \ n ) / g , ' < b r / > ' ) ; v a l u e = v a l u e . r e p l a c e ( /   / g , ' & n b s p ; ' ) . r e p l a c e ( / ( [ ^ > ] ) & n b s p ; ( [ ^ < ] ) / g , ' $ 1   $ 2 ' ) ; r e t u r n   v a l u e ; } 
 f u n c t i o n   g e t T e x t T o H T M L ( t e x t ) { r e t u r n   t e x t . r e p l a c e ( / ( ( ? : h t t p s ? | f t p ) : \ / \ / [ \ S ] + ) / g , ' < a   h r e f = " $ 1 " > $ 1 < / a >   ' ) . r e p l a c e ( / [ \ n \ r ] / g , ' < b r / > ' ) ; } 
 f u n c t i o n   t i m e F r o m N o w ( d a t e ) { i f ( m o m e n t ( ) . d i f f ( d a t e , ' s e c o n d s ' ) < 4 5 ) { r e t u r n   _ t ( " n o w " ) ; } 
 r e t u r n   d a t e . f r o m N o w ( ) ; } 
 r e t u r n { a d d L i n k : a d d L i n k , g e t T e x t T o H T M L : g e t T e x t T o H T M L , h t m l T o T e x t C o n t e n t I n l i n e , i n l i n e : i n l i n e , l i n k i f y : l i n k i f y , p a r s e A n d T r a n s f o r m : p a r s e A n d T r a n s f o r m , p a r s e E m a i l : p a r s e E m a i l , s t r i p H T M L : s t r i p H T M L , t i m e F r o m N o w : t i m e F r o m N o w , e s c a p e A n d C o m p a c t T e x t C o n t e n t , } ; } ) ; ; 
 
 / *   / w e b s i t e _ l i v e c h a t / s t a t i c / s r c / b u g f i x / p u b l i c _ b u g f i x . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ l i v e c h a t / s t a t i c / s r c / b u g f i x / b u g f i x . j s ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; } ) ; ; 
 
 / *   / i m _ l i v e c h a t / s t a t i c / s r c / l e g a c y / p u b l i c _ l i v e c h a t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . i m _ l i v e c h a t ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; r e q u i r e ( ' b u s . B u s S e r v i c e ' ) ; v a r   c o n c u r r e n c y = r e q u i r e ( ' w e b . c o n c u r r e n c y ' ) ; v a r   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   W e b s i t e L i v e c h a t = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . m o d e l . W e b s i t e L i v e c h a t ' ) ; v a r   W e b s i t e L i v e c h a t M e s s a g e = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . m o d e l . W e b s i t e L i v e c h a t M e s s a g e ' ) ; v a r   W e b s i t e L i v e c h a t W i n d o w = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . W e b s i t e L i v e c h a t W i n d o w ' ) ; v a r   _ t = c o r e . _ t ; v a r   Q W e b = c o r e . q w e b ; v a r   L I V E C H A T _ C O O K I E _ H I S T O R Y = ' i m _ l i v e c h a t _ h i s t o r y ' ; v a r   H I S T O R Y _ L I M I T = 1 5 ; v a r   R A T I N G _ T O _ E M O J I = { " 1 0 " : " =
" , " 5 " : " =" , " 1 " : " =" } ; v a r   p a g e = w i n d o w . l o c a t i o n . h r e f . r e p l a c e ( / ^ . * \ / \ / [ ^ / ] + / , ' ' ) ; v a r   p a g e H i s t o r y = u t i l s . g e t _ c o o k i e ( L I V E C H A T _ C O O K I E _ H I S T O R Y ) ; v a r   u r l H i s t o r y = [ ] ; i f ( p a g e H i s t o r y ) { u r l H i s t o r y = J S O N . p a r s e ( p a g e H i s t o r y ) | | [ ] ; } 
 i f ( ! _ . c o n t a i n s ( u r l H i s t o r y , p a g e ) ) { u r l H i s t o r y . p u s h ( p a g e ) ; w h i l e ( u r l H i s t o r y . l e n g t h > H I S T O R Y _ L I M I T ) { u r l H i s t o r y . s h i f t ( ) ; } 
 u t i l s . s e t _ c o o k i e ( L I V E C H A T _ C O O K I E _ H I S T O R Y , J S O N . s t r i n g i f y ( u r l H i s t o r y ) , 6 0 * 6 0 * 2 4 ) ; } 
 v a r   L i v e c h a t B u t t o n = W i d g e t . e x t e n d ( { c l a s s N a m e : ' o p e n e r p   o _ l i v e c h a t _ b u t t o n   d - p r i n t - n o n e ' , c u s t o m _ e v e n t s : { ' c l o s e _ c h a t _ w i n d o w ' : ' _ o n C l o s e C h a t W i n d o w ' , ' p o s t _ m e s s a g e _ c h a t _ w i n d o w ' : ' _ o n P o s t M e s s a g e C h a t W i n d o w ' , ' s a v e _ c h a t _ w i n d o w ' : ' _ o n S a v e C h a t W i n d o w ' , ' u p d a t e d _ t y p i n g _ p a r t n e r s ' : ' _ o n U p d a t e d T y p i n g P a r t n e r s ' , ' u p d a t e d _ u n r e a d _ c o u n t e r ' : ' _ o n U p d a t e d U n r e a d C o u n t e r ' , } , e v e n t s : { ' c l i c k ' : ' _ o p e n C h a t ' } , i n i t : f u n c t i o n ( p a r e n t , s e r v e r U R L , o p t i o n s ) { t h i s . _ s u p e r ( p a r e n t ) ; t h i s . o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { i n p u t _ p l a c e h o l d e r : _ t ( " A s k   s o m e t h i n g   . . . " ) , d e f a u l t _ u s e r n a m e : _ t ( " V i s i t o r " ) , b u t t o n _ t e x t : _ t ( " C h a t   w i t h   o n e   o f   o u r   c o l l a b o r a t o r s " ) , d e f a u l t _ m e s s a g e : _ t ( " H o w   m a y   I   h e l p   y o u ? " ) , } ) ; t h i s . _ h i s t o r y = n u l l ; t h i s . _ l i v e c h a t = n u l l ; t h i s . _ c h a t W i n d o w = n u l l ; t h i s . _ m e s s a g e s = [ ] ; t h i s . _ s e r v e r U R L = s e r v e r U R L ; } , w i l l S t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   c o o k i e = u t i l s . g e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' ) ; v a r   r e a d y ; i f ( ! c o o k i e ) { r e a d y = s e s s i o n . r p c ( ' / i m _ l i v e c h a t / i n i t ' , { c h a n n e l _ i d : t h i s . o p t i o n s . c h a n n e l _ i d } ) . t h e n ( f u n c t i o n ( r e s u l t ) { i f ( ! r e s u l t . a v a i l a b l e _ f o r _ m e ) { r e t u r n   P r o m i s e . r e j e c t ( ) ; } 
 s e l f . _ r u l e = r e s u l t . r u l e ; } ) ; } e l s e { v a r   c h a n n e l = J S O N . p a r s e ( c o o k i e ) ; r e a d y = s e s s i o n . r p c ( ' / m a i l / c h a t _ h i s t o r y ' , { u u i d : c h a n n e l . u u i d , l i m i t : 1 0 0 } ) . t h e n ( f u n c t i o n ( h i s t o r y ) { s e l f . _ h i s t o r y = h i s t o r y ; } ) ; } 
 r e t u r n   r e a d y . t h e n ( t h i s . _ l o a d Q W e b T e m p l a t e . b i n d ( t h i s ) ) ; } , s t a r t : f u n c t i o n ( ) { t h i s . $ e l . t e x t ( t h i s . o p t i o n s . b u t t o n _ t e x t ) ; i f ( t h i s . _ h i s t o r y ) { _ . e a c h ( t h i s . _ h i s t o r y . r e v e r s e ( ) , t h i s . _ a d d M e s s a g e . b i n d ( t h i s ) ) ; t h i s . _ o p e n C h a t ( ) ; } e l s e   i f ( ! c o n f i g . d e v i c e . i s M o b i l e & & t h i s . _ r u l e . a c t i o n = = = ' a u t o _ p o p u p ' ) { v a r   a u t o P o p u p C o o k i e = u t i l s . g e t _ c o o k i e ( ' i m _ l i v e c h a t _ a u t o _ p o p u p ' ) ; i f ( ! a u t o P o p u p C o o k i e | | J S O N . p a r s e ( a u t o P o p u p C o o k i e ) ) { t h i s . _ a u t o P o p u p T i m e o u t = s e t T i m e o u t ( t h i s . _ o p e n C h a t . b i n d ( t h i s ) , t h i s . _ r u l e . a u t o _ p o p u p _ t i m e r * 1 0 0 0 ) ; } } 
 t h i s . c a l l ( ' b u s _ s e r v i c e ' , ' o n N o t i f i c a t i o n ' , t h i s , t h i s . _ o n N o t i f i c a t i o n ) ; i f ( t h i s . o p t i o n s . b u t t o n _ b a c k g r o u n d _ c o l o r ) { t h i s . $ e l . c s s ( ' b a c k g r o u n d - c o l o r ' , t h i s . o p t i o n s . b u t t o n _ b a c k g r o u n d _ c o l o r ) ; } 
 i f ( t h i s . o p t i o n s . b u t t o n _ t e x t _ c o l o r ) { t h i s . $ e l . c s s ( ' c o l o r ' , t h i s . o p t i o n s . b u t t o n _ t e x t _ c o l o r ) ; } 
 v a r   p w a B a n n e r H e i g h t = $ ( ' . o _ p w a _ i n s t a l l _ b a n n e r ' ) . o u t e r H e i g h t ( t r u e ) ; i f ( p w a B a n n e r H e i g h t ) { t h i s . $ e l . c s s ( ' b o t t o m ' , p w a B a n n e r H e i g h t + ' p x ' ) ; } 
 r e t u r n   t h i s . _ s u p e r ( ) ; } , _ a d d M e s s a g e : f u n c t i o n ( d a t a , o p t i o n s ) { o p t i o n s = _ . e x t e n d ( { } , t h i s . o p t i o n s , o p t i o n s , { s e r v e r U R L : t h i s . _ s e r v e r U R L , } ) ; v a r   m e s s a g e = n e w   W e b s i t e L i v e c h a t M e s s a g e ( t h i s , d a t a , o p t i o n s ) ; v a r   h a s A l r e a d y M e s s a g e = _ . s o m e ( t h i s . _ m e s s a g e s , f u n c t i o n ( m s g ) { r e t u r n   m e s s a g e . g e t I D ( ) = = = m s g . g e t I D ( ) ; } ) ; i f ( h a s A l r e a d y M e s s a g e ) { r e t u r n ; } 
 i f ( t h i s . _ l i v e c h a t ) { t h i s . _ l i v e c h a t . a d d M e s s a g e ( m e s s a g e ) ; } 
 i f ( o p t i o n s & & o p t i o n s . p r e p e n d ) { t h i s . _ m e s s a g e s . u n s h i f t ( m e s s a g e ) ; } e l s e { t h i s . _ m e s s a g e s . p u s h ( m e s s a g e ) ; } } , _ a s k F e e d b a c k : f u n c t i o n ( ) { t h i s . _ c h a t W i n d o w . $ ( ' . o _ t h r e a d _ c o m p o s e r   i n p u t ' ) . p r o p ( ' d i s a b l e d ' , t r u e ) ; v a r   f e e d b a c k = n e w   F e e d b a c k ( t h i s , t h i s . _ l i v e c h a t ) ; t h i s . _ c h a t W i n d o w . r e p l a c e C o n t e n t W i t h ( f e e d b a c k ) ; f e e d b a c k . o n ( ' s e n d _ m e s s a g e ' , t h i s , t h i s . _ s e n d M e s s a g e ) ; f e e d b a c k . o n ( ' f e e d b a c k _ s e n t ' , t h i s , t h i s . _ c l o s e C h a t ) ; } , _ c l o s e C h a t : f u n c t i o n ( ) { t h i s . _ c h a t W i n d o w . d e s t r o y ( ) ; u t i l s . s e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' , " " , - 1 ) ; } , _ h a n d l e N o t i f i c a t i o n : f u n c t i o n ( n o t i f i c a t i o n ) { c o n s t [ l i v e c h a t U U I D , n o t i f i c a t i o n D a t a ] = n o t i f i c a t i o n ; i f ( t h i s . _ l i v e c h a t & & ( l i v e c h a t U U I D = = = t h i s . _ l i v e c h a t . g e t U U I D ( ) ) ) { i f ( n o t i f i c a t i o n D a t a . _ t y p e = = = ' h i s t o r y _ c o m m a n d ' ) { c o n s t   c o o k i e = u t i l s . g e t _ c o o k i e ( L I V E C H A T _ C O O K I E _ H I S T O R Y ) ; c o n s t   h i s t o r y = c o o k i e ? J S O N . p a r s e ( c o o k i e ) : [ ] ; s e s s i o n . r p c ( ' / i m _ l i v e c h a t / h i s t o r y ' , { p i d : t h i s . _ l i v e c h a t . g e t O p e r a t o r P I D ( ) [ 0 ] , c h a n n e l _ u u i d : t h i s . _ l i v e c h a t . g e t U U I D ( ) , p a g e _ h i s t o r y : h i s t o r y , } ) ; } e l s e   i f ( n o t i f i c a t i o n D a t a . i n f o = = = ' t y p i n g _ s t a t u s ' ) { c o n s t   p a r t n e r I D = n o t i f i c a t i o n D a t a . p a r t n e r _ i d ; i f ( p a r t n e r I D = = = t h i s . o p t i o n s . c u r r e n t _ p a r t n e r _ i d ) { r e t u r n ; } 
 i f ( n o t i f i c a t i o n D a t a . i s _ t y p i n g ) { t h i s . _ l i v e c h a t . r e g i s t e r T y p i n g ( { p a r t n e r I D } ) ; } e l s e { t h i s . _ l i v e c h a t . u n r e g i s t e r T y p i n g ( { p a r t n e r I D } ) ; } } e l s e   i f ( ' b o d y ' i n   n o t i f i c a t i o n D a t a ) { i f ( t h i s . _ m e s s a g e s . s o m e ( m e s s a g e = > m e s s a g e . g e t I D ( ) = = = n o t i f i c a t i o n D a t a . i d ) ) { r e t u r n ; } 
 t h i s . _ a d d M e s s a g e ( n o t i f i c a t i o n D a t a ) ; i f ( t h i s . _ c h a t W i n d o w . i s F o l d e d ( ) | | ! t h i s . _ c h a t W i n d o w . i s A t B o t t o m ( ) ) { t h i s . _ l i v e c h a t . i n c r e m e n t U n r e a d C o u n t e r ( ) ; } 
 t h i s . _ r e n d e r M e s s a g e s ( ) ; } } } , _ l o a d Q W e b T e m p l a t e : f u n c t i o n ( ) { r e t u r n   s e s s i o n . r p c ( ' / i m _ l i v e c h a t / l o a d _ t e m p l a t e s ' ) . t h e n ( f u n c t i o n ( t e m p l a t e s ) { _ . e a c h ( t e m p l a t e s , f u n c t i o n ( t e m p l a t e ) { Q W e b . a d d _ t e m p l a t e ( t e m p l a t e ) ; } ) ; } ) ; } , _ o p e n C h a t : _ . d e b o u n c e ( f u n c t i o n ( ) { i f ( t h i s . _ o p e n i n g C h a t ) { r e t u r n ; } 
 v a r   s e l f = t h i s ; v a r   c o o k i e = u t i l s . g e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' ) ; v a r   d e f ; t h i s . _ o p e n i n g C h a t = t r u e ; c l e a r T i m e o u t ( t h i s . _ a u t o P o p u p T i m e o u t ) ; i f ( c o o k i e ) { d e f = P r o m i s e . r e s o l v e ( J S O N . p a r s e ( c o o k i e ) ) ; } e l s e { t h i s . _ m e s s a g e s = [ ] ; d e f = s e s s i o n . r p c ( ' / i m _ l i v e c h a t / g e t _ s e s s i o n ' , { c h a n n e l _ i d : t h i s . o p t i o n s . c h a n n e l _ i d , a n o n y m o u s _ n a m e : t h i s . o p t i o n s . d e f a u l t _ u s e r n a m e , p r e v i o u s _ o p e r a t o r _ i d : t h i s . _ g e t _ p r e v i o u s _ o p e r a t o r _ i d ( ) , } , { s h a d o w : t r u e } ) ; } 
 d e f . t h e n ( f u n c t i o n ( l i v e c h a t D a t a ) { i f ( ! l i v e c h a t D a t a | | ! l i v e c h a t D a t a . o p e r a t o r _ p i d ) { t r y { s e l f . d i s p l a y N o t i f i c a t i o n ( { m e s s a g e : _ t ( " N o   a v a i l a b l e   c o l l a b o r a t o r ,   p l e a s e   t r y   a g a i n   l a t e r . " ) , s t i c k y : t r u e , } ) ; } c a t c h ( e r r ) { c o n s o l e . w a r n ( _ t ( " N o   a v a i l a b l e   c o l l a b o r a t o r ,   p l e a s e   t r y   a g a i n   l a t e r . " ) ) ; } } e l s e { s e l f . _ l i v e c h a t = n e w   W e b s i t e L i v e c h a t ( { p a r e n t : s e l f , d a t a : l i v e c h a t D a t a } ) ; r e t u r n   s e l f . _ o p e n C h a t W i n d o w ( ) . t h e n ( f u n c t i o n ( ) { i f ( ! s e l f . _ h i s t o r y ) { s e l f . _ s e n d W e l c o m e M e s s a g e ( ) ; } 
 s e l f . _ r e n d e r M e s s a g e s ( ) ; s e l f . c a l l ( ' b u s _ s e r v i c e ' , ' a d d C h a n n e l ' , s e l f . _ l i v e c h a t . g e t U U I D ( ) ) ; s e l f . c a l l ( ' b u s _ s e r v i c e ' , ' s t a r t P o l l i n g ' ) ; u t i l s . s e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' , u t i l s . u n a c c e n t ( J S O N . s t r i n g i f y ( s e l f . _ l i v e c h a t . t o D a t a ( ) ) ) , 6 0 * 6 0 ) ; u t i l s . s e t _ c o o k i e ( ' i m _ l i v e c h a t _ a u t o _ p o p u p ' , J S O N . s t r i n g i f y ( f a l s e ) , 6 0 * 6 0 ) ; i f ( l i v e c h a t D a t a . o p e r a t o r _ p i d [ 0 ] ) { v a r   o p e r a t o r P i d I d = l i v e c h a t D a t a . o p e r a t o r _ p i d [ 0 ] ; v a r   o n e W e e k = 7 * 2 4 * 6 0 * 6 0 ; u t i l s . s e t _ c o o k i e ( ' i m _ l i v e c h a t _ p r e v i o u s _ o p e r a t o r _ p i d ' , o p e r a t o r P i d I d , o n e W e e k ) ; } } ) ; } } ) . t h e n ( f u n c t i o n ( ) { s e l f . _ o p e n i n g C h a t = f a l s e ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( ) { s e l f . _ o p e n i n g C h a t = f a l s e ; } ) ; } , 2 0 0 , t r u e ) , _ g e t _ p r e v i o u s _ o p e r a t o r _ i d : f u n c t i o n ( ) { v a r   c o o k i e = u t i l s . g e t _ c o o k i e ( ' i m _ l i v e c h a t _ p r e v i o u s _ o p e r a t o r _ p i d ' ) ; i f ( c o o k i e ) { r e t u r n   c o o k i e ; } 
 r e t u r n   n u l l ; } , _ o p e n C h a t W i n d o w : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   o p t i o n s = { d i s p l a y S t a r s : f a l s e , h e a d e r B a c k g r o u n d C o l o r : t h i s . o p t i o n s . h e a d e r _ b a c k g r o u n d _ c o l o r , p l a c e h o l d e r : t h i s . o p t i o n s . i n p u t _ p l a c e h o l d e r | | " " , t i t l e C o l o r : t h i s . o p t i o n s . t i t l e _ c o l o r , } ; t h i s . _ c h a t W i n d o w = n e w   W e b s i t e L i v e c h a t W i n d o w ( t h i s , t h i s . _ l i v e c h a t , o p t i o n s ) ; r e t u r n   t h i s . _ c h a t W i n d o w . a p p e n d T o ( $ ( ' b o d y ' ) ) . t h e n ( f u n c t i o n ( ) { v a r   c s s P r o p s = { b o t t o m : 0 } ; c s s P r o p s [ _ t . d a t a b a s e . p a r a m e t e r s . d i r e c t i o n = = = ' r t l ' ? ' l e f t ' : ' r i g h t ' ] = 0 ; s e l f . _ c h a t W i n d o w . $ e l . c s s ( c s s P r o p s ) ; s e l f . $ e l . h i d e ( ) ; } ) ; } , _ r e n d e r M e s s a g e s : f u n c t i o n ( ) { v a r   s h o u l d S c r o l l = ! t h i s . _ c h a t W i n d o w . i s F o l d e d ( ) & & t h i s . _ c h a t W i n d o w . i s A t B o t t o m ( ) ; t h i s . _ l i v e c h a t . s e t M e s s a g e s ( t h i s . _ m e s s a g e s ) ; t h i s . _ c h a t W i n d o w . r e n d e r ( ) ; i f ( s h o u l d S c r o l l ) { t h i s . _ c h a t W i n d o w . s c r o l l T o B o t t o m ( ) ; } } , _ s e n d M e s s a g e : f u n c t i o n ( m e s s a g e ) { v a r   s e l f = t h i s ; t h i s . _ l i v e c h a t . _ n o t i f y M y s e l f T y p i n g ( { t y p i n g : f a l s e } ) ; r e t u r n   s e s s i o n . r p c ( ' / m a i l / c h a t _ p o s t ' , { u u i d : t h i s . _ l i v e c h a t . g e t U U I D ( ) , m e s s a g e _ c o n t e n t : m e s s a g e . c o n t e n t } ) . t h e n ( f u n c t i o n ( m e s s a g e I d ) { i f ( ! m e s s a g e I d ) { t r y { s e l f . d i s p l a y N o t i f i c a t i o n ( { m e s s a g e : _ t ( " S e s s i o n   e x p i r e d . . .   P l e a s e   r e f r e s h   a n d   t r y   a g a i n . " ) , s t i c k y : t r u e , } ) ; } c a t c h ( e r r ) { c o n s o l e . w a r n ( _ t ( " S e s s i o n   e x p i r e d . . .   P l e a s e   r e f r e s h   a n d   t r y   a g a i n . " ) ) ; } 
 s e l f . _ c l o s e C h a t ( ) ; } 
 s e l f . _ c h a t W i n d o w . s c r o l l T o B o t t o m ( ) ; } ) ; } , _ s e n d W e l c o m e M e s s a g e : f u n c t i o n ( ) { i f ( t h i s . o p t i o n s . d e f a u l t _ m e s s a g e ) { t h i s . _ a d d M e s s a g e ( { i d : ' _ w e l c o m e ' , a t t a c h m e n t _ i d s : [ ] , a u t h o r _ i d : t h i s . _ l i v e c h a t . g e t O p e r a t o r P I D ( ) , b o d y : t h i s . o p t i o n s . d e f a u l t _ m e s s a g e , c h a n n e l _ i d s : [ t h i s . _ l i v e c h a t . g e t I D ( ) ] , d a t e : t i m e . d a t e t i m e _ t o _ s t r ( n e w   D a t e ( ) ) , } , { p r e p e n d : t r u e } ) ; } } , _ o n C l o s e C h a t W i n d o w : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; v a r   i s C o m p o s e r D i s a b l e d = t h i s . _ c h a t W i n d o w . $ ( ' . o _ t h r e a d _ c o m p o s e r   i n p u t ' ) . p r o p ( ' d i s a b l e d ' ) ; v a r   s h o u l d A s k F e e d b a c k = ! i s C o m p o s e r D i s a b l e d & & _ . f i n d ( t h i s . _ m e s s a g e s , f u n c t i o n ( m e s s a g e ) { r e t u r n   m e s s a g e . g e t I D ( ) ! = = ' _ w e l c o m e ' ; } ) ; i f ( s h o u l d A s k F e e d b a c k ) { t h i s . _ c h a t W i n d o w . t o g g l e F o l d ( f a l s e ) ; t h i s . _ a s k F e e d b a c k ( ) ; } e l s e { t h i s . _ c l o s e C h a t ( ) ; } } , _ o n N o t i f i c a t i o n : f u n c t i o n ( n o t i f i c a t i o n s ) { v a r   s e l f = t h i s ; _ . e a c h ( n o t i f i c a t i o n s , f u n c t i o n ( n o t i f i c a t i o n ) { s e l f . _ h a n d l e N o t i f i c a t i o n ( n o t i f i c a t i o n ) ; } ) ; } , _ o n P o s t M e s s a g e C h a t W i n d o w : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; v a r   s e l f = t h i s ; v a r   m e s s a g e D a t a = e v . d a t a . m e s s a g e D a t a ; t h i s . _ s e n d M e s s a g e ( m e s s a g e D a t a ) . g u a r d e d C a t c h ( f u n c t i o n ( r e a s o n ) { r e a s o n . e v e n t . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e l f . _ s e n d M e s s a g e ( m e s s a g e D a t a ) ; } ) ; } , _ o n S a v e C h a t W i n d o w : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; u t i l s . s e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' , u t i l s . u n a c c e n t ( J S O N . s t r i n g i f y ( t h i s . _ l i v e c h a t . t o D a t a ( ) ) ) , 6 0 * 6 0 ) ; } , _ o n U p d a t e d T y p i n g P a r t n e r s ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; t h i s . _ c h a t W i n d o w . r e n d e r H e a d e r ( ) ; } , _ o n U p d a t e d U n r e a d C o u n t e r : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; t h i s . _ c h a t W i n d o w . r e n d e r H e a d e r ( ) ; } , } ) ; v a r   F e e d b a c k = W i d g e t . e x t e n d ( { t e m p l a t e : ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . F e e d B a c k ' , e v e n t s : { ' c l i c k   . o _ l i v e c h a t _ r a t i n g _ c h o i c e s   i m g ' : ' _ o n C l i c k S m i l e y ' , ' c l i c k   . o _ l i v e c h a t _ n o _ f e e d b a c k   s p a n ' : ' _ o n C l i c k N o F e e d b a c k ' , ' c l i c k   . o _ r a t i n g _ s u b m i t _ b u t t o n ' : ' _ o n C l i c k S e n d ' , ' c l i c k   . o _ e m a i l _ c h a t _ b u t t o n ' : ' _ o n E m a i l C h a t ' , ' c l i c k   . o _ l i v e c h a t _ e m a i l _ e r r o r   . a l e r t - l i n k ' : ' _ o n T r y A g a i n ' , } , i n i t : f u n c t i o n ( p a r e n t , l i v e c h a t ) { t h i s . _ s u p e r ( p a r e n t ) ; t h i s . _ l i v e c h a t = l i v e c h a t ; t h i s . s e r v e r _ o r i g i n = s e s s i o n . o r i g i n ; t h i s . r a t i n g = u n d e f i n e d ; t h i s . d p = n e w   c o n c u r r e n c y . D r o p P r e v i o u s ( ) ; } , _ s e n d F e e d b a c k : f u n c t i o n ( r e a s o n ) { v a r   s e l f = t h i s ; v a r   a r g s = { u u i d : t h i s . _ l i v e c h a t . g e t U U I D ( ) , r a t e : t h i s . r a t i n g , r e a s o n : r e a s o n , } ; t h i s . d p . a d d ( s e s s i o n . r p c ( ' / i m _ l i v e c h a t / f e e d b a c k ' , a r g s ) ) . t h e n ( f u n c t i o n ( ) { v a r   e m o j i = R A T I N G _ T O _ E M O J I [ s e l f . r a t i n g ] | | " ? ? " ; v a r   c o n t e n t = _ . s t r . s p r i n t f ( _ t ( " R a t i n g :   % s " ) , e m o j i ) ; i f ( r e a s o n ) { c o n t e n t + = "   \ n " + r e a s o n ; } 
 s e l f . t r i g g e r ( ' s e n d _ m e s s a g e ' , { c o n t e n t : c o n t e n t , i s F e e d b a c k : t r u e } ) ; } ) ; } , _ s h o w T h a n k s M e s s a g e : f u n c t i o n ( ) { t h i s . $ ( ' . o _ l i v e c h a t _ r a t i n g _ b o x ' ) . e m p t y ( ) . a p p e n d ( $ ( ' < d i v   / > ' , { t e x t : _ t ( ' T h a n k   y o u   f o r   y o u r   f e e d b a c k ' ) , c l a s s : ' t e x t - m u t e d ' } ) ) ; } , _ o n C l i c k N o F e e d b a c k : f u n c t i o n ( ) { t h i s . t r i g g e r ( ' f e e d b a c k _ s e n t ' ) ; } , _ o n C l i c k S e n d : f u n c t i o n ( ) { t h i s . $ ( ' . o _ l i v e c h a t _ r a t i n g _ r e a s o n ' ) . h i d e ( ) ; t h i s . _ s h o w T h a n k s M e s s a g e ( ) ; i f ( _ . i s N u m b e r ( t h i s . r a t i n g ) ) { t h i s . _ s e n d F e e d b a c k ( t h i s . $ ( ' t e x t a r e a ' ) . v a l ( ) ) ; } } , _ o n C l i c k S m i l e y : f u n c t i o n ( e v ) { t h i s . r a t i n g = p a r s e I n t ( $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' v a l u e ' ) ) ; t h i s . $ ( ' . o _ l i v e c h a t _ r a t i n g _ c h o i c e s   i m g ' ) . r e m o v e C l a s s ( ' s e l e c t e d ' ) ; t h i s . $ ( ' . o _ l i v e c h a t _ r a t i n g _ c h o i c e s   i m g [ d a t a - v a l u e = " ' + t h i s . r a t i n g + ' " ] ' ) . a d d C l a s s ( ' s e l e c t e d ' ) ; i f ( t h i s . r a t i n g ! = = 5 ) { t h i s . $ ( ' . o _ l i v e c h a t _ r a t i n g _ r e a s o n ' ) . s h o w ( ) ; } e l s e { t h i s . $ ( ' . o _ l i v e c h a t _ r a t i n g _ r e a s o n ' ) . h i d e ( ) ; t h i s . _ s h o w T h a n k s M e s s a g e ( ) ; t h i s . _ s e n d F e e d b a c k ( ) ; } } , _ o n E m a i l C h a t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   $ e m a i l = t h i s . $ ( ' # o _ e m a i l ' ) ; i f ( u t i l s . i s _ e m a i l ( $ e m a i l . v a l ( ) ) ) { $ e m a i l . r e m o v e A t t r ( ' t i t l e ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) . p r o p ( ' d i s a b l e d ' , t r u e ) ; t h i s . $ ( ' . o _ e m a i l _ c h a t _ b u t t o n ' ) . p r o p ( ' d i s a b l e d ' , t r u e ) ; t h i s . _ r p c ( { r o u t e : ' / i m _ l i v e c h a t / e m a i l _ l i v e c h a t _ t r a n s c r i p t ' , p a r a m s : { u u i d : t h i s . _ l i v e c h a t . g e t U U I D ( ) , e m a i l : $ e m a i l . v a l ( ) , } } ) . t h e n ( f u n c t i o n ( ) { s e l f . $ ( ' . o _ l i v e c h a t _ e m a i l ' ) . h t m l ( $ ( ' < s t r o n g   / > ' , { t e x t : _ t ( ' C o n v e r s a t i o n   S e n t ' ) } ) ) ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( ) { s e l f . $ ( ' . o _ l i v e c h a t _ e m a i l ' ) . h i d e ( ) ; s e l f . $ ( ' . o _ l i v e c h a t _ e m a i l _ e r r o r ' ) . s h o w ( ) ; } ) ; } e l s e { $ e m a i l . a d d C l a s s ( ' i s - i n v a l i d ' ) . p r o p ( ' t i t l e ' , _ t ( ' I n v a l i d   e m a i l   a d d r e s s ' ) ) ; } } , _ o n T r y A g a i n : f u n c t i o n ( ) { t h i s . $ ( ' # o _ e m a i l ' ) . p r o p ( ' d i s a b l e d ' , f a l s e ) ; t h i s . $ ( ' . o _ e m a i l _ c h a t _ b u t t o n ' ) . p r o p ( ' d i s a b l e d ' , f a l s e ) ; t h i s . $ ( ' . o _ l i v e c h a t _ e m a i l _ e r r o r ' ) . h i d e ( ) ; t h i s . $ ( ' . o _ l i v e c h a t _ e m a i l ' ) . s h o w ( ) ; } , } ) ; r e t u r n { L i v e c h a t B u t t o n : L i v e c h a t B u t t o n , F e e d b a c k : F e e d b a c k , } ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . m o d e l . W e b s i t e L i v e c h a t ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   A b s t r a c t T h r e a d = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . A b s t r a c t T h r e a d ' ) ; v a r   T h r e a d T y p i n g M i x i n = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . T h r e a d T y p i n g M i x i n ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   W e b s i t e L i v e c h a t = A b s t r a c t T h r e a d . e x t e n d ( T h r e a d T y p i n g M i x i n , { i n i t : f u n c t i o n ( p a r a m s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; T h r e a d T y p i n g M i x i n . i n i t . c a l l ( t h i s , a r g u m e n t s ) ; t h i s . _ m e m b e r s = [ ] ; t h i s . _ o p e r a t o r P I D = p a r a m s . d a t a . o p e r a t o r _ p i d ; t h i s . _ u u i d = p a r a m s . d a t a . u u i d ; i f ( p a r a m s . d a t a . m e s s a g e _ u n r e a d _ c o u n t e r ! = = u n d e f i n e d ) { t h i s . _ u n r e a d C o u n t e r = p a r a m s . d a t a . m e s s a g e _ u n r e a d _ c o u n t e r ; } 
 i f ( _ . i s B o o l e a n ( p a r a m s . d a t a . f o l d e d ) ) { t h i s . _ f o l d e d = p a r a m s . d a t a . f o l d e d ; } e l s e { t h i s . _ f o l d e d = p a r a m s . d a t a . s t a t e = = = ' f o l d e d ' ; } 
 t h i s . _ m e m b e r s . p u s h ( { i d : t h i s . _ o p e r a t o r P I D [ 0 ] , n a m e : t h i s . _ o p e r a t o r P I D [ 1 ] } ) ; } , g e t M e s s a g e s : f u n c t i o n ( ) { r e t u r n   t h i s . _ m e s s a g e s ; } , g e t O p e r a t o r P I D : f u n c t i o n ( ) { r e t u r n   t h i s . _ o p e r a t o r P I D ; } , g e t U U I D : f u n c t i o n ( ) { r e t u r n   t h i s . _ u u i d ; } , i n c r e m e n t U n r e a d C o u n t e r : f u n c t i o n ( ) { t h i s . _ i n c r e m e n t U n r e a d C o u n t e r ( ) ; } , s e t M e s s a g e s : f u n c t i o n ( m e s s a g e s ) { t h i s . _ m e s s a g e s = m e s s a g e s ; } , t o D a t a : f u n c t i o n ( ) { r e t u r n { f o l d e d : t h i s . i s F o l d e d ( ) , i d : t h i s . g e t I D ( ) , m e s s a g e _ u n r e a d _ c o u n t e r : t h i s . g e t U n r e a d C o u n t e r ( ) , o p e r a t o r _ p i d : t h i s . g e t O p e r a t o r P I D ( ) , n a m e : t h i s . g e t N a m e ( ) , u u i d : t h i s . g e t U U I D ( ) , } ; } , _ i s T y p i n g M y s e l f I n f o : f u n c t i o n ( p a r a m s ) { r e t u r n   p a r a m s . i s W e b s i t e U s e r ; } , _ n o t i f y M y s e l f T y p i n g : f u n c t i o n ( p a r a m s ) { r e t u r n   s e s s i o n . r p c ( ' / i m _ l i v e c h a t / n o t i f y _ t y p i n g ' , { u u i d : t h i s . g e t U U I D ( ) , i s _ t y p i n g : p a r a m s . t y p i n g , } , { s h a d o w : t r u e } ) ; } , _ w a r n U p d a t e d T y p i n g P a r t n e r s : f u n c t i o n ( ) { t h i s . t r i g g e r _ u p ( ' u p d a t e d _ t y p i n g _ p a r t n e r s ' ) ; } , _ w a r n U p d a t e d U n r e a d C o u n t e r : f u n c t i o n ( ) { t h i s . t r i g g e r _ u p ( ' u p d a t e d _ u n r e a d _ c o u n t e r ' ) ; } , _ o n T y p i n g M e s s a g e A d d e d : f u n c t i o n ( m e s s a g e ) { v a r   o p e r a t o r I D = t h i s . g e t O p e r a t o r P I D ( ) [ 0 ] ; i f ( m e s s a g e . h a s A u t h o r ( ) & & m e s s a g e . g e t A u t h o r I D ( ) = = = o p e r a t o r I D ) { t h i s . u n r e g i s t e r T y p i n g ( { p a r t n e r I D : o p e r a t o r I D } ) ; } } , } ) ; r e t u r n   W e b s i t e L i v e c h a t ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . m o d e l . W e b s i t e L i v e c h a t M e s s a g e ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   A b s t r a c t M e s s a g e = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . A b s t r a c t M e s s a g e ' ) ; v a r   W e b s i t e L i v e c h a t M e s s a g e = A b s t r a c t M e s s a g e . e x t e n d ( { i n i t : f u n c t i o n ( p a r e n t , d a t a , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ d e f a u l t U s e r n a m e = o p t i o n s . d e f a u l t _ u s e r n a m e ; t h i s . _ s e r v e r U R L = o p t i o n s . s e r v e r U R L ; } , g e t A v a t a r S o u r c e : f u n c t i o n ( ) { v a r   s o u r c e = t h i s . _ s e r v e r U R L ; i f ( t h i s . h a s A u t h o r ( ) ) { s o u r c e + = ' / w e b / p a r t n e r _ i m a g e / ' + t h i s . g e t A u t h o r I D ( ) ; } e l s e { s o u r c e + = ' / m a i l / s t a t i c / s r c / i m g / s m i l e y / a v a t a r . j p g ' ; } 
 r e t u r n   s o u r c e ; } , g e t D i s p l a y e d A u t h o r : f u n c t i o n ( ) { r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) | | t h i s . _ d e f a u l t U s e r n a m e ; } , } ) ; r e t u r n   W e b s i t e L i v e c h a t M e s s a g e ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . W e b s i t e L i v e c h a t W i n d o w ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   A b s t r a c t T h r e a d W i n d o w = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . A b s t r a c t T h r e a d W i n d o w ' ) ; v a r   L i v e c h a t W i n d o w = A b s t r a c t T h r e a d W i n d o w . e x t e n d ( { e v e n t s : _ . e x t e n d ( A b s t r a c t T h r e a d W i n d o w . p r o t o t y p e . e v e n t s , { ' i n p u t   . o _ c o m p o s e r _ t e x t _ f i e l d ' : ' _ o n I n p u t ' , } ) , i n i t ( p a r e n t , t h r e a d , o p t i o n s = { } ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ t h r e a d = t h r e a d ; } , a s y n c   s t a r t ( ) { a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( t h i s . o p t i o n s . h e a d e r B a c k g r o u n d C o l o r ) { t h i s . $ ( ' . o _ t h r e a d _ w i n d o w _ h e a d e r ' ) . c s s ( ' b a c k g r o u n d - c o l o r ' , t h i s . o p t i o n s . h e a d e r B a c k g r o u n d C o l o r ) ; } 
 i f ( t h i s . o p t i o n s . t i t l e C o l o r ) { t h i s . $ ( ' . o _ t h r e a d _ w i n d o w _ h e a d e r ' ) . c s s ( ' c o l o r ' , t h i s . o p t i o n s . t i t l e C o l o r ) ; } } , c l o s e : f u n c t i o n ( ) { t h i s . t r i g g e r _ u p ( ' c l o s e _ c h a t _ w i n d o w ' ) ; } , r e p l a c e C o n t e n t W i t h : f u n c t i o n ( $ e l e m e n t ) { $ e l e m e n t . r e p l a c e ( t h i s . _ t h r e a d W i d g e t . $ e l ) ; } , t o g g l e F o l d : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . t r i g g e r _ u p ( ' s a v e _ c h a t _ w i n d o w ' ) ; t h i s . u p d a t e V i s u a l F o l d S t a t e ( ) ; } , _ p o s t M e s s a g e : f u n c t i o n ( m e s s a g e D a t a ) { t h i s . t r i g g e r _ u p ( ' p o s t _ m e s s a g e _ c h a t _ w i n d o w ' , { m e s s a g e D a t a : m e s s a g e D a t a } ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ o n I n p u t : f u n c t i o n ( ) { i f ( t h i s . h a s T h r e a d ( ) & & t h i s . _ t h r e a d . h a s T y p i n g N o t i f i c a t i o n ( ) ) { v a r   i s T y p i n g = t h i s . $ i n p u t . v a l ( ) . l e n g t h > 0 ; t h i s . _ t h r e a d . s e t M y s e l f T y p i n g ( { t y p i n g : i s T y p i n g } ) ; } } , } ) ; r e t u r n   L i v e c h a t W i n d o w ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . A b s t r a c t T h r e a d ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   M i x i n s = r e q u i r e ( ' w e b . m i x i n s ' ) ; v a r   A b s t r a c t T h r e a d = C l a s s . e x t e n d ( M i x i n s . E v e n t D i s p a t c h e r M i x i n , { i n i t : f u n c t i o n ( p a r a m s ) { M i x i n s . E v e n t D i s p a t c h e r M i x i n . i n i t . c a l l ( t h i s , a r g u m e n t s ) ; t h i s . s e t P a r e n t ( p a r a m s . p a r e n t ) ; t h i s . _ f o l d e d = f a l s e ; t h i s . _ i d = p a r a m s . d a t a . i d ; t h i s . _ n a m e = p a r a m s . d a t a . n a m e ; t h i s . _ s t a t u s = p a r a m s . d a t a . s t a t u s | | ' ' ; t h i s . _ u n r e a d C o u n t e r = 0 ; } , a d d M e s s a g e : f u n c t i o n ( m e s s a g e ) { t h i s . _ a d d M e s s a g e . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . t r i g g e r ( ' m e s s a g e _ a d d e d ' , m e s s a g e ) ; } , f o l d : f u n c t i o n ( f o l d e d ) { t h i s . _ f o l d e d = f o l d e d ; } , g e t I D : f u n c t i o n ( ) { r e t u r n   t h i s . _ i d ; } , g e t M e s s a g e s : f u n c t i o n ( ) { } , g e t N a m e : f u n c t i o n ( ) { r e t u r n   t h i s . _ n a m e ; } , g e t S t a t u s : f u n c t i o n ( ) { r e t u r n   t h i s . _ s t a t u s ; } , g e t T i t l e : f u n c t i o n ( ) { r e t u r n   t h i s . g e t N a m e ( ) ; } , g e t T y p e : f u n c t i o n ( ) { } , g e t U n r e a d C o u n t e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ u n r e a d C o u n t e r ; } , h a s M e s s a g e s : f u n c t i o n ( ) { r e t u r n ! _ . i s E m p t y ( t h i s . g e t M e s s a g e s ( ) ) ; } , h a s S e e n F e a t u r e : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , i s F o l d e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ f o l d e d ; } , m a r k A s R e a d : f u n c t i o n ( ) { i f ( t h i s . _ u n r e a d C o u n t e r > 0 ) { r e t u r n   t h i s . _ m a r k A s R e a d ( ) ; } 
 r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , p o s t M e s s a g e : f u n c t i o n ( ) { r e t u r n   t h i s . _ p o s t M e s s a g e . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( t h i s . t r i g g e r . b i n d ( t h i s , ' m e s s a g e _ p o s t e d ' ) ) ; } , r e s e t U n r e a d C o u n t e r : f u n c t i o n ( ) { t h i s . _ u n r e a d C o u n t e r = 0 ; t h i s . _ w a r n U p d a t e d U n r e a d C o u n t e r ( ) ; } , _ a d d M e s s a g e : f u n c t i o n ( m e s s a g e ) { } , _ i n c r e m e n t U n r e a d C o u n t e r : f u n c t i o n ( ) { t h i s . _ u n r e a d C o u n t e r + + ; } , _ m a r k A s R e a d : f u n c t i o n ( ) { t h i s . r e s e t U n r e a d C o u n t e r ( ) ; r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , _ p o s t M e s s a g e : f u n c t i o n ( ) { r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , _ w a r n U p d a t e d U n r e a d C o u n t e r : f u n c t i o n ( ) { } , } ) ; r e t u r n   A b s t r a c t T h r e a d ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . T h r e a d T y p i n g M i x i n ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   C C T h r o t t l e F u n c t i o n = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . C C T h r o t t l e F u n c t i o n ' ) ; v a r   T i m e r = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . T i m e r ' ) ; v a r   T i m e r s = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . T i m e r s ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; v a r   T h r e a d T y p i n g M i x i n = { _ D E F A U L T _ T Y P I N G _ P A R T N E R _ I D : ' _ d e f a u l t ' , _ D E F A U L T _ T Y P I N G _ P A R T N E R _ N A M E : ' S o m e o n e ' , i n i t : f u n c t i o n ( ) { t h i s . _ l a s t N o t i f i e d M y s e l f T y p i n g = f a l s e ; t h i s . _ m y s e l f L o n g T y p i n g T i m e r = n e w   T i m e r ( { d u r a t i o n : 5 0 * 1 0 0 0 , o n T i m e o u t : t h i s . _ o n M y s e l f L o n g T y p i n g T i m e o u t . b i n d ( t h i s ) , } ) ; t h i s . _ m y s e l f T y p i n g I n a c t i v i t y T i m e r = n e w   T i m e r ( { d u r a t i o n : 5 * 1 0 0 0 , o n T i m e o u t : t h i s . _ o n M y s e l f T y p i n g I n a c t i v i t y T i m e o u t . b i n d ( t h i s ) , } ) ; t h i s . _ o t h e r s T y p i n g T i m e r s = n e w   T i m e r s ( { d u r a t i o n : 6 0 * 1 0 0 0 , o n T i m e o u t : t h i s . _ o n O t h e r s T y p i n g T i m e o u t . b i n d ( t h i s ) , } ) ; t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g = C C T h r o t t l e F u n c t i o n ( { d u r a t i o n : 2 . 5 * 1 0 0 0 , f u n c : t h i s . _ o n N o t i f y M y s e l f T y p i n g . b i n d ( t h i s ) , } ) ; t h i s . _ t y p i n g P a r t n e r I D s = [ ] ; t h i s . o n ( ' m e s s a g e _ a d d e d ' , t h i s , t h i s . _ o n T y p i n g M e s s a g e A d d e d ) ; t h i s . o n ( ' m e s s a g e _ p o s t e d ' , t h i s , t h i s . _ o n T y p i n g M e s s a g e P o s t e d ) ; } , g e t T y p i n g M e m b e r s T o T e x t : f u n c t i o n ( ) { v a r   t y p i n g P a r t n e r I D s = t h i s . _ t y p i n g P a r t n e r I D s ; v a r   t y p i n g M e m b e r s = _ . f i l t e r ( t h i s . _ m e m b e r s , f u n c t i o n ( m e m b e r ) { r e t u r n   _ . c o n t a i n s ( t y p i n g P a r t n e r I D s , m e m b e r . i d ) ; } ) ; v a r   s o r t e d T y p i n g M e m b e r s = _ . s o r t B y ( t y p i n g M e m b e r s , f u n c t i o n ( m e m b e r ) { r e t u r n   _ . i n d e x O f ( t y p i n g P a r t n e r I D s , m e m b e r . i d ) ; } ) ; v a r   d i s p l a y a b l e T y p i n g M e m b e r s = s o r t e d T y p i n g M e m b e r s . s l i c e ( 0 , 3 ) ; i f ( d i s p l a y a b l e T y p i n g M e m b e r s . l e n g t h = = = 0 ) { r e t u r n ' ' ; } e l s e   i f ( d i s p l a y a b l e T y p i n g M e m b e r s . l e n g t h = = = 1 ) { r e t u r n   _ . s t r . s p r i n t f ( _ t ( " % s   i s   t y p i n g . . . " ) , d i s p l a y a b l e T y p i n g M e m b e r s [ 0 ] . n a m e ) ; } e l s e   i f ( d i s p l a y a b l e T y p i n g M e m b e r s . l e n g t h = = = 2 ) { r e t u r n   _ . s t r . s p r i n t f ( _ t ( " % s   a n d   % s   a r e   t y p i n g . . . " ) , d i s p l a y a b l e T y p i n g M e m b e r s [ 0 ] . n a m e , d i s p l a y a b l e T y p i n g M e m b e r s [ 1 ] . n a m e ) ; } e l s e { r e t u r n   _ . s t r . s p r i n t f ( _ t ( " % s ,   % s   a n d   m o r e   a r e   t y p i n g . . . " ) , d i s p l a y a b l e T y p i n g M e m b e r s [ 0 ] . n a m e , d i s p l a y a b l e T y p i n g M e m b e r s [ 1 ] . n a m e ) ; } } , h a s T y p i n g N o t i f i c a t i o n : f u n c t i o n ( ) { r e t u r n   t r u e ; } , i s S o m e o n e T y p i n g : f u n c t i o n ( ) { r e t u r n ! ( _ . i s E m p t y ( t h i s . _ t y p i n g P a r t n e r I D s ) ) ; } , r e g i s t e r T y p i n g : f u n c t i o n ( p a r a m s ) { i f ( t h i s . _ i s T y p i n g M y s e l f I n f o ( p a r a m s ) ) { r e t u r n ; } 
 v a r   p a r t n e r I D = p a r a m s . p a r t n e r I D ; t h i s . _ o t h e r s T y p i n g T i m e r s . r e g i s t e r T i m e r ( { t i m e o u t C a l l b a c k A r g u m e n t s : [ p a r t n e r I D ] , t i m e r I D : p a r t n e r I D , } ) ; i f ( _ . c o n t a i n s ( t h i s . _ t y p i n g P a r t n e r I D s , p a r t n e r I D ) ) { r e t u r n ; } 
 t h i s . _ t y p i n g P a r t n e r I D s . p u s h ( p a r t n e r I D ) ; t h i s . _ w a r n U p d a t e d T y p i n g P a r t n e r s ( ) ; } , s e t M y s e l f T y p i n g : f u n c t i o n ( p a r a m s ) { v a r   t y p i n g = p a r a m s . t y p i n g ; i f ( t h i s . _ l a s t N o t i f i e d M y s e l f T y p i n g = = = t y p i n g ) { t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g . c a n c e l ( ) ; } e l s e { t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g ( p a r a m s ) ; } 
 i f ( t y p i n g ) { t h i s . _ m y s e l f T y p i n g I n a c t i v i t y T i m e r . r e s e t ( ) ; } e l s e { t h i s . _ m y s e l f T y p i n g I n a c t i v i t y T i m e r . c l e a r ( ) ; } } , u n r e g i s t e r T y p i n g : f u n c t i o n ( p a r a m s ) { v a r   p a r t n e r I D = p a r a m s . p a r t n e r I D ; t h i s . _ o t h e r s T y p i n g T i m e r s . u n r e g i s t e r T i m e r ( { t i m e r I D : p a r t n e r I D } ) ; i f ( ! _ . c o n t a i n s ( t h i s . _ t y p i n g P a r t n e r I D s , p a r t n e r I D ) ) { r e t u r n ; } 
 t h i s . _ t y p i n g P a r t n e r I D s = _ . r e j e c t ( t h i s . _ t y p i n g P a r t n e r I D s , f u n c t i o n ( i d ) { r e t u r n   i d = = = p a r t n e r I D ; } ) ; t h i s . _ w a r n U p d a t e d T y p i n g P a r t n e r s ( ) ; } , _ i s T y p i n g M y s e l f I n f o : f u n c t i o n ( p a r a m s ) { r e t u r n   f a l s e ; } , _ n o t i f y M y s e l f T y p i n g : f u n c t i o n ( p a r a m s ) { r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , _ w a r n U p d a t e d T y p i n g P a r t n e r s : f u n c t i o n ( ) { } , _ o n M y s e l f L o n g T y p i n g T i m e o u t : f u n c t i o n ( ) { t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g . c l e a r ( ) ; t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g ( { t y p i n g : t r u e } ) ; } , _ o n M y s e l f T y p i n g I n a c t i v i t y T i m e o u t : f u n c t i o n ( ) { t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g . c l e a r ( ) ; t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g ( { t y p i n g : f a l s e } ) ; } , _ o n N o t i f y M y s e l f T y p i n g : f u n c t i o n ( p a r a m s ) { v a r   t y p i n g = p a r a m s . t y p i n g ; t h i s . _ l a s t N o t i f i e d M y s e l f T y p i n g = t y p i n g ; t h i s . _ n o t i f y M y s e l f T y p i n g ( p a r a m s ) ; i f ( t y p i n g ) { t h i s . _ m y s e l f L o n g T y p i n g T i m e r . r e s e t ( ) ; } e l s e { t h i s . _ m y s e l f L o n g T y p i n g T i m e r . c l e a r ( ) ; } } , _ o n O t h e r s T y p i n g T i m e o u t : f u n c t i o n ( p a r t n e r I D ) { t h i s . u n r e g i s t e r T y p i n g ( { p a r t n e r I D : p a r t n e r I D } ) ; } , _ o n T y p i n g M e s s a g e A d d e d : f u n c t i o n ( m e s s a g e ) { v a r   p a r t n e r I D = m e s s a g e . h a s A u t h o r ( ) ? m e s s a g e . g e t A u t h o r I D ( ) : t h i s . _ D E F A U L T _ T Y P I N G _ P A R T N E R _ I D ; t h i s . u n r e g i s t e r T y p i n g ( { p a r t n e r I D : p a r t n e r I D } ) ; } , _ o n T y p i n g M e s s a g e P o s t e d : f u n c t i o n ( ) { t h i s . _ l a s t N o t i f i e d M y s e l f T y p i n g = f a l s e ; t h i s . _ t h r o t t l e N o t i f y M y s e l f T y p i n g . c l e a r ( ) ; t h i s . _ m y s e l f L o n g T y p i n g T i m e r . c l e a r ( ) ; t h i s . _ m y s e l f T y p i n g I n a c t i v i t y T i m e r . c l e a r ( ) ; } , } ; r e t u r n   T h r e a d T y p i n g M i x i n ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . A b s t r a c t M e s s a g e ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   m a i l U t i l s = r e q u i r e ( ' m a i l . u t i l s ' ) ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   _ t = c o r e . _ t ; v a r   A b s t r a c t M e s s a g e = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( p a r e n t , d a t a ) { t h i s . _ a t t a c h m e n t I D s = d a t a . a t t a c h m e n t _ i d s | | [ ] ; t h i s . _ b o d y = d a t a . b o d y | | " " ; t h i s . _ d a t e = d a t a . d a t e ? m o m e n t ( t i m e . s t r _ t o _ d a t e t i m e ( d a t a . d a t e ) ) : m o m e n t ( ) ; t h i s . _ i d = d a t a . i d ; t h i s . _ i s D i s c u s s i o n = d a t a . i s _ d i s c u s s i o n ; t h i s . _ i s N o t i f i c a t i o n = d a t a . i s _ n o t i f i c a t i o n ; t h i s . _ s e r v e r A u t h o r I D = d a t a . a u t h o r _ i d ; t h i s . _ t y p e = d a t a . m e s s a g e _ t y p e | | u n d e f i n e d ; t h i s . _ p r o c e s s A t t a c h m e n t U R L ( ) ; t h i s . _ a t t a c h m e n t I D s . f o r E a c h ( f u n c t i o n ( a t t a c h m e n t ) { a t t a c h m e n t . f i l e n a m e = a t t a c h m e n t . f i l e n a m e | | a t t a c h m e n t . n a m e | | _ t ( " u n n a m e d " ) ; } ) ; } , g e t A t t a c h m e n t s : f u n c t i o n ( ) { r e t u r n   t h i s . _ a t t a c h m e n t I D s ; } , g e t A u t h o r I D : f u n c t i o n ( ) { i f ( ! t h i s . h a s A u t h o r ( ) ) { r e t u r n - 1 ; } 
 r e t u r n   t h i s . _ s e r v e r A u t h o r I D [ 0 ] ; } , g e t A u t h o r I m S t a t u s : f u n c t i o n ( ) { r e t u r n   u n d e f i n e d ; } , g e t A v a t a r S o u r c e : f u n c t i o n ( ) { i f ( t h i s . h a s A u t h o r ( ) ) { r e t u r n ' / w e b / i m a g e / r e s . p a r t n e r / ' + t h i s . g e t A u t h o r I D ( ) + ' / i m a g e _ 1 2 8 ' ; } } , g e t B o d y : f u n c t i o n ( ) { r e t u r n   t h i s . _ b o d y ; } , g e t D a t e : f u n c t i o n ( ) { r e t u r n   t h i s . _ d a t e ; } , g e t D a t e D a y : f u n c t i o n ( ) { v a r   d a t e = t h i s . g e t D a t e ( ) . f o r m a t ( ' Y Y Y Y - M M - D D ' ) ; i f ( d a t e = = = m o m e n t ( ) . f o r m a t ( ' Y Y Y Y - M M - D D ' ) ) { r e t u r n   _ t ( " T o d a y " ) ; } e l s e   i f ( d a t e = = = m o m e n t ( ) . s u b t r a c t ( 1 , ' d a y s ' ) . f o r m a t ( ' Y Y Y Y - M M - D D ' ) ) { r e t u r n   _ t ( " Y e s t e r d a y " ) ; } 
 r e t u r n   t h i s . g e t D a t e ( ) . f o r m a t ( ' L L ' ) ; } , g e t D i s p l a y e d A u t h o r : f u n c t i o n ( ) { r e t u r n   t h i s . h a s A u t h o r ( ) ? t h i s . _ g e t A u t h o r N a m e ( ) : n u l l ; } , g e t I D : f u n c t i o n ( ) { r e t u r n   t h i s . _ i d ; } , g e t I m a g e A t t a c h m e n t s : f u n c t i o n ( ) { r e t u r n   _ . f i l t e r ( t h i s . g e t A t t a c h m e n t s ( ) , f u n c t i o n ( a t t a c h m e n t ) { r e t u r n   a t t a c h m e n t . m i m e t y p e & & a t t a c h m e n t . m i m e t y p e . s p l i t ( ' / ' ) [ 0 ] = = = ' i m a g e ' ; } ) ; } , g e t N o n I m a g e A t t a c h m e n t s : f u n c t i o n ( ) { r e t u r n   _ . d i f f e r e n c e ( t h i s . g e t A t t a c h m e n t s ( ) , t h i s . g e t I m a g e A t t a c h m e n t s ( ) ) ; } , g e t N o t i f i c a t i o n I c o n ( ) { i f ( ! t h i s . h a s N o t i f i c a t i o n s E r r o r ( ) ) { r e t u r n ' f a   f a - e n v e l o p e - o ' ; } 
 r e t u r n ' f a   f a - e n v e l o p e ' ; } , g e t N o t i f i c a t i o n s ( ) { r e t u r n [ ] ; } , g e t N o t i f i c a t i o n T e x t ( ) { r e t u r n ' ' ; } , g e t T i m e E l a p s e d : f u n c t i o n ( ) { r e t u r n   m a i l U t i l s . t i m e F r o m N o w ( t h i s . g e t D a t e ( ) ) ; } , g e t T y p e : f u n c t i o n ( ) { r e t u r n   t h i s . _ t y p e ; } , h a s A t t a c h m e n t s : f u n c t i o n ( ) { r e t u r n   t h i s . g e t A t t a c h m e n t s ( ) . l e n g t h > 0 ; } , h a s A u t h o r : f u n c t i o n ( ) { r e t u r n ! ! ( t h i s . _ s e r v e r A u t h o r I D & & t h i s . _ s e r v e r A u t h o r I D [ 0 ] ) ; } , h a s E m a i l F r o m : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , h a s I m a g e A t t a c h m e n t s : f u n c t i o n ( ) { r e t u r n   _ . s o m e ( t h i s . g e t A t t a c h m e n t s ( ) , f u n c t i o n ( a t t a c h m e n t ) { r e t u r n   a t t a c h m e n t . m i m e t y p e & & a t t a c h m e n t . m i m e t y p e . s p l i t ( ' / ' ) [ 0 ] = = = ' i m a g e ' ; } ) ; } , h a s N o n I m a g e A t t a c h m e n t s : f u n c t i o n ( ) { r e t u r n   _ . s o m e ( t h i s . g e t A t t a c h m e n t s ( ) , f u n c t i o n ( a t t a c h m e n t ) { r e t u r n ! ( a t t a c h m e n t . m i m e t y p e & & a t t a c h m e n t . m i m e t y p e . s p l i t ( ' / ' ) [ 0 ] = = = ' i m a g e ' ) ; } ) ; } , h a s N o t i f i c a t i o n s ( ) { r e t u r n   t h i s . g e t N o t i f i c a t i o n s ( ) . l e n g t h > 0 ; } , h a s N o t i f i c a t i o n s E r r o r ( ) { r e t u r n   t h i s . g e t N o t i f i c a t i o n s ( ) . s o m e ( n o t i f = > n o t i f . n o t i f i c a t i o n _ s t a t u s = = = ' e x c e p t i o n ' | | n o t i f . n o t i f i c a t i o n _ s t a t u s = = = ' b o u n c e ' ) ; } , o r i g i n a t e s F r o m C h a n n e l : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , h a s S u b j e c t : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , i s E m p t y : f u n c t i o n ( ) { r e t u r n ! t h i s . h a s T r a c k i n g V a l u e s ( ) & & ! t h i s . h a s A t t a c h m e n t s ( ) & & ! t h i s . g e t B o d y ( ) ; } , h a s S u b t y p e D e s c r i p t i o n : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , h a s T r a c k i n g V a l u e s : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , i s D i s c u s s i o n : f u n c t i o n ( ) { r e t u r n   t h i s . _ i s D i s c u s s i o n ; } , i s L i n k e d T o D o c u m e n t T h r e a d : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , i s N e e d a c t i o n : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , i s N o t e : f u n c t i o n ( ) { r e t u r n   t h i s . _ i s N o t e ; } , i s N o t i f i c a t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . _ i s N o t i f i c a t i o n ; } , i s S t a r r e d : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , i s S y s t e m N o t i f i c a t i o n : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , n e e d s M o d e r a t i o n : f u n c t i o n ( ) { r e t u r n   f a l s e ; } , r e m o v e A t t a c h m e n t s : f u n c t i o n ( a t t a c h m e n t I D s ) { t h i s . _ a t t a c h m e n t I D s = _ . r e j e c t ( t h i s . _ a t t a c h m e n t I D s , f u n c t i o n ( a t t a c h m e n t ) { r e t u r n   _ . c o n t a i n s ( a t t a c h m e n t I D s , a t t a c h m e n t . i d ) ; } ) ; } , s h o u l d R e d i r e c t T o A u t h o r : f u n c t i o n ( ) { r e t u r n ! t h i s . _ i s M y s e l f A u t h o r ( ) ; } , _ g e t A u t h o r N a m e : f u n c t i o n ( ) { i f ( ! t h i s . h a s A u t h o r ( ) ) { r e t u r n " " ; } 
 r e t u r n   t h i s . _ s e r v e r A u t h o r I D [ 1 ] ; } , _ i s M y s e l f A u t h o r : f u n c t i o n ( ) { r e t u r n   t h i s . h a s A u t h o r ( ) & & ( t h i s . g e t A u t h o r I D ( ) = = = s e s s i o n . p a r t n e r _ i d ) ; } , _ p r o c e s s A t t a c h m e n t U R L : f u n c t i o n ( ) { _ . e a c h ( t h i s . g e t A t t a c h m e n t s ( ) , f u n c t i o n ( a t t a c h m e n t ) { a t t a c h m e n t . u r l = ' / w e b / c o n t e n t / ' + a t t a c h m e n t . i d + ' ? d o w n l o a d = t r u e ' ; } ) ; } , } ) ; r e t u r n   A b s t r a c t M e s s a g e ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . A b s t r a c t T h r e a d W i n d o w ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   T h r e a d W i d g e t = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . w i d g e t . T h r e a d ' ) ; v a r   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   A b s t r a c t T h r e a d W i n d o w = W i d g e t . e x t e n d ( { t e m p l a t e : ' i m _ l i v e c h a t . l e g a c y . m a i l . A b s t r a c t T h r e a d W i n d o w ' , c u s t o m _ e v e n t s : { d o c u m e n t _ v i e w e r _ c l o s e d : ' _ o n D o c u m e n t V i e w e r C l o s e ' , } , e v e n t s : { ' c l i c k   . o _ t h r e a d _ w i n d o w _ c l o s e ' : ' _ o n C l i c k C l o s e ' , ' c l i c k   . o _ t h r e a d _ w i n d o w _ t i t l e ' : ' _ o n C l i c k F o l d ' , ' c l i c k   . o _ c o m p o s e r _ t e x t _ f i e l d ' : ' _ o n C o m p o s e r C l i c k ' , ' c l i c k   . o _ m a i l _ t h r e a d ' : ' _ o n T h r e a d W i n d o w C l i c k e d ' , ' k e y d o w n   . o _ c o m p o s e r _ t e x t _ f i e l d ' : ' _ o n K e y d o w n ' , ' k e y p r e s s   . o _ c o m p o s e r _ t e x t _ f i e l d ' : ' _ o n K e y p r e s s ' , } , F O L D _ A N I M A T I O N _ D U R A T I O N : 2 0 0 , H E I G H T _ O P E N : ' 4 0 0 p x ' , H E I G H T _ F O L D E D : ' 3 4 p x ' , i n i t : f u n c t i o n ( p a r e n t , t h r e a d , o p t i o n s ) { t h i s . _ s u p e r ( p a r e n t ) ; t h i s . o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { a u t o f o c u s : t r u e , d i s p l a y S t a r s : t r u e , d i s p l a y R e p l y I c o n s : f a l s e , d i s p l a y N o t i f i c a t i o n I c o n s : f a l s e , p l a c e h o l d e r : _ t ( " S a y   s o m e t h i n g " ) , } ) ; t h i s . _ h i d d e n = f a l s e ; t h i s . _ t h r e a d = t h r e a d | | n u l l ; t h i s . _ d e b o u n c e d O n S c r o l l = _ . d e b o u n c e ( t h i s . _ o n S c r o l l . b i n d ( t h i s ) , 1 0 0 ) ; i f ( ! t h i s . h a s T h r e a d ( ) ) { t h i s . _ f o l d e d = f a l s e ; } } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ i n p u t = t h i s . $ ( ' . o _ c o m p o s e r _ t e x t _ f i e l d ' ) ; t h i s . $ h e a d e r = t h i s . $ ( ' . o _ t h r e a d _ w i n d o w _ h e a d e r ' ) ; v a r   o p t i o n s = { d i s p l a y M a r k A s R e a d : f a l s e , d i s p l a y S t a r s : t h i s . o p t i o n s . d i s p l a y S t a r s , } ; i f ( t h i s . _ t h r e a d & & t h i s . _ t h r e a d . _ t y p e = = = ' d o c u m e n t _ t h r e a d ' ) { o p t i o n s . d i s p l a y D o c u m e n t L i n k s = f a l s e ; } 
 t h i s . _ t h r e a d W i d g e t = n e w   T h r e a d W i d g e t ( t h i s , o p t i o n s ) ; t h i s . $ e l . c s s ( { t r a n s i t i o n : ' h e i g h t   ' + t h i s . F O L D _ A N I M A T I O N _ D U R A T I O N + ' m s   l i n e a r ' } ) ; i f ( t h i s . i s F o l d e d ( ) ) { t h i s . $ e l . c s s ( ' h e i g h t ' , t h i s . H E I G H T _ F O L D E D ) ; } e l s e   i f ( t h i s . o p t i o n s . a u t o f o c u s ) { t h i s . _ f o c u s I n p u t ( ) ; } 
 i f ( ! c o n f i g . d e v i c e . i s M o b i l e ) { v a r   m a r g i n _ d i r = _ t . d a t a b a s e . p a r a m e t e r s . d i r e c t i o n = = = " r t l " ? " m a r g i n - l e f t " : " m a r g i n - r i g h t " ; t h i s . $ e l . c s s ( m a r g i n _ d i r , $ . p o s i t i o n . s c r o l l b a r W i d t h ( ) ) ; } 
 v a r   d e f = t h i s . _ t h r e a d W i d g e t . r e p l a c e ( t h i s . $ ( ' . o _ t h r e a d _ w i n d o w _ c o n t e n t ' ) ) . t h e n ( f u n c t i o n ( ) { s e l f . _ t h r e a d W i d g e t . $ e l . o n ( ' s c r o l l ' , s e l f , s e l f . _ d e b o u n c e d O n S c r o l l ) ; } ) ; r e t u r n   P r o m i s e . a l l ( [ t h i s . _ s u p e r ( ) , d e f ] ) ; } , d o _ h i d e : f u n c t i o n ( ) { t h i s . _ h i d d e n = t r u e ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d o _ s h o w : f u n c t i o n ( ) { t h i s . _ h i d d e n = f a l s e ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d o _ t o g g l e : f u n c t i o n ( d i s p l a y ) { t h i s . _ h i d d e n = _ . i s B o o l e a n ( d i s p l a y ) ? ! d i s p l a y : ! t h i s . _ h i d d e n ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , c l o s e : f u n c t i o n ( ) { } , g e t I D : f u n c t i o n ( ) { r e t u r n   t h i s . _ g e t T h r e a d I D ( ) ; } , g e t T h r e a d : f u n c t i o n ( ) { i f ( ! t h i s . h a s T h r e a d ( ) ) { r e t u r n   u n d e f i n e d ; } 
 r e t u r n   t h i s . _ t h r e a d ; } , g e t T h r e a d S t a t u s : f u n c t i o n ( ) { i f ( ! t h i s . h a s T h r e a d ( ) ) { r e t u r n   u n d e f i n e d ; } 
 r e t u r n   t h i s . _ t h r e a d . g e t S t a t u s ( ) ; } , g e t T i t l e : f u n c t i o n ( ) { i f ( ! t h i s . h a s T h r e a d ( ) ) { r e t u r n   _ t ( " U n d e f i n e d " ) ; } 
 r e t u r n   t h i s . _ t h r e a d . g e t T i t l e ( ) ; } , g e t U n r e a d C o u n t e r : f u n c t i o n ( ) { i f ( ! t h i s . h a s T h r e a d ( ) ) { r e t u r n   0 ; } 
 r e t u r n   t h i s . _ t h r e a d . g e t U n r e a d C o u n t e r ( ) ; } , h a s T h r e a d : f u n c t i o n ( ) { r e t u r n ! ! t h i s . _ t h r e a d ; } , i s A t B o t t o m : f u n c t i o n ( ) { r e t u r n   t h i s . _ t h r e a d W i d g e t . i s A t B o t t o m ( ) ; } , i s F o l d e d : f u n c t i o n ( ) { i f ( ! t h i s . h a s T h r e a d ( ) ) { r e t u r n   t h i s . _ f o l d e d ; } 
 r e t u r n   t h i s . _ t h r e a d . i s F o l d e d ( ) ; } , i s M o b i l e : f u n c t i o n ( ) { r e t u r n   c o n f i g . d e v i c e . i s M o b i l e ; } , i s H i d d e n : f u n c t i o n ( ) { r e t u r n   t h i s . _ h i d d e n ; } , n e e d s C o m p o s e r : f u n c t i o n ( ) { r e t u r n   t h i s . h a s T h r e a d ( ) ; } , r e n d e r : f u n c t i o n ( ) { t h i s . r e n d e r H e a d e r ( ) ; i f ( t h i s . h a s T h r e a d ( ) ) { t h i s . _ t h r e a d W i d g e t . r e n d e r ( t h i s . _ t h r e a d , { d i s p l a y L o a d M o r e : f a l s e } ) ; } } , r e n d e r H e a d e r : f u n c t i o n ( ) { v a r   o p t i o n s = t h i s . _ g e t H e a d e r R e n d e r i n g O p t i o n s ( ) ; t h i s . $ h e a d e r . h t m l ( Q W e b . r e n d e r ( ' i m _ l i v e c h a t . l e g a c y . m a i l . A b s t r a c t T h r e a d W i n d o w . H e a d e r C o n t e n t ' , o p t i o n s ) ) ; } , s c r o l l T o B o t t o m : f u n c t i o n ( ) { t h i s . _ t h r e a d W i d g e t . s c r o l l T o B o t t o m ( ) ; } , t o g g l e F o l d : f u n c t i o n ( f o l d e d ) { i f ( ! _ . i s B o o l e a n ( f o l d e d ) ) { f o l d e d = ! t h i s . i s F o l d e d ( ) ; } 
 t h i s . _ u p d a t e T h r e a d F o l d S t a t e ( f o l d e d ) ; } , u p d a t e V i s u a l F o l d S t a t e : f u n c t i o n ( ) { i f ( ! t h i s . i s F o l d e d ( ) ) { t h i s . _ t h r e a d W i d g e t . s c r o l l T o B o t t o m ( ) ; i f ( t h i s . o p t i o n s . a u t o f o c u s ) { t h i s . _ f o c u s I n p u t ( ) ; } } 
 v a r   h e i g h t = t h i s . i s F o l d e d ( ) ? t h i s . H E I G H T _ F O L D E D : t h i s . H E I G H T _ O P E N ; t h i s . $ e l . c s s ( { h e i g h t : h e i g h t } ) ; } , _ f o c u s I n p u t : f u n c t i o n ( ) { i f ( c o n f i g . d e v i c e . t o u c h & & c o n f i g . d e v i c e . s i z e _ c l a s s < = c o n f i g . d e v i c e . S I Z E S . S M ) { r e t u r n ; } 
 t h i s . $ i n p u t . f o c u s ( ) ; } , _ g e t H e a d e r R e n d e r i n g O p t i o n s : f u n c t i o n ( ) { r e t u r n { s t a t u s : t h i s . g e t T h r e a d S t a t u s ( ) , t h r e a d : t h i s . g e t T h r e a d ( ) , t i t l e : t h i s . g e t T i t l e ( ) , u n r e a d C o u n t e r : t h i s . g e t U n r e a d C o u n t e r ( ) , w i d g e t : t h i s , } ; } , _ g e t T h r e a d I D : f u n c t i o n ( ) { i f ( ! t h i s . h a s T h r e a d ( ) ) { r e t u r n ' _ b l a n k ' ; } 
 r e t u r n   t h i s . _ t h r e a d . g e t I D ( ) ; } , _ h a s F o c u s : f u n c t i o n ( ) { r e t u r n   t h i s . $ i n p u t . i s ( ' : f o c u s ' ) ; } , _ p o s t M e s s a g e : f u n c t i o n ( m e s s a g e D a t a ) { v a r   s e l f = t h i s ; i f ( ! t h i s . h a s T h r e a d ( ) ) { r e t u r n ; } 
 t h i s . _ t h r e a d . p o s t M e s s a g e ( m e s s a g e D a t a ) . t h e n ( f u n c t i o n ( ) { s e l f . _ t h r e a d W i d g e t . s c r o l l T o B o t t o m ( ) ; } ) ; } , _ u p d a t e T h r e a d F o l d S t a t e : f u n c t i o n ( f o l d e d ) { i f ( t h i s . h a s T h r e a d ( ) ) { t h i s . _ t h r e a d . f o l d ( f o l d e d ) ; } e l s e { t h i s . _ f o l d e d = f o l d e d ; t h i s . u p d a t e V i s u a l F o l d S t a t e ( ) ; } } , _ o n C l i c k C l o s e : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; e v . p r e v e n t D e f a u l t ( ) ; i f ( t h i s . h a s T h r e a d ( ) & & t h i s . _ t h r e a d . g e t U n r e a d C o u n t e r ( ) > 0 & & ! t h i s . i s F o l d e d ( ) ) { t h i s . _ t h r e a d . m a r k A s R e a d ( ) ; } 
 t h i s . c l o s e ( ) ; } , _ o n C l i c k F o l d : f u n c t i o n ( ) { i f ( ! c o n f i g . d e v i c e . i s M o b i l e ) { t h i s . t o g g l e F o l d ( ) ; } } , _ o n C o m p o s e r C l i c k : f u n c t i o n ( e v ) { i f ( $ ( e v . t a r g e t ) . c l o s e s t ( ' a ,   b u t t o n ' ) . l e n g t h ) { r e t u r n ; } 
 t h i s . _ f o c u s I n p u t ( ) ; } , _ o n D o c u m e n t V i e w e r C l o s e : f u n c t i o n ( ) { t h i s . _ f o c u s I n p u t ( ) ; } , _ o n K e y d o w n : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; i f ( e v . w h i c h = = = 1 3 ) { v a r   c o n t e n t = _ . s t r . t r i m ( t h i s . $ i n p u t . v a l ( ) ) ; v a r   m e s s a g e D a t a = { c o n t e n t : c o n t e n t , a t t a c h m e n t _ i d s : [ ] , p a r t n e r _ i d s : [ ] , } ; t h i s . $ i n p u t . v a l ( ' ' ) ; i f ( c o n t e n t ) { t h i s . _ p o s t M e s s a g e ( m e s s a g e D a t a ) ; } } } , _ o n K e y p r e s s : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; } , _ o n S c r o l l : f u n c t i o n ( ) { i f ( t h i s . h a s T h r e a d ( ) & & t h i s . i s A t B o t t o m ( ) ) { t h i s . _ t h r e a d . m a r k A s R e a d ( ) ; } } , _ o n T h r e a d W i n d o w C l i c k e d : f u n c t i o n ( ) { v a r   s e l e c t O b j = w i n d o w . g e t S e l e c t i o n ( ) ; i f ( s e l e c t O b j . a n c h o r O f f s e t = = = s e l e c t O b j . f o c u s O f f s e t ) { t h i s . $ i n p u t . f o c u s ( ) ; } } , } ) ; r e t u r n   A b s t r a c t T h r e a d W i n d o w ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . C C T h r o t t l e F u n c t i o n O b j e c t ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   C C T h r o t t l e F u n c t i o n O b j e c t = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( p a r a m s ) { t h i s . _ a r g u m e n t s = u n d e f i n e d ; t h i s . _ c o o l d o w n T i m e o u t = u n d e f i n e d ; t h i s . _ d u r a t i o n = p a r a m s . d u r a t i o n ; t h i s . _ f u n c = p a r a m s . f u n c ; t h i s . _ s h o u l d C a l l F u n c t i o n A f t e r C D = f a l s e ; } , c a n c e l : f u n c t i o n ( ) { t h i s . _ a r g u m e n t s = u n d e f i n e d ; t h i s . _ s h o u l d C a l l F u n c t i o n A f t e r C D = f a l s e ; } , c l e a r : f u n c t i o n ( ) { i f ( t h i s . _ c o o l d o w n T i m e o u t ) { c l e a r T i m e o u t ( t h i s . _ c o o l d o w n T i m e o u t ) ; t h i s . _ o n C o o l d o w n T i m e o u t ( ) ; } } , d o : f u n c t i o n ( ) { t h i s . _ a r g u m e n t s = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s ) ; i f ( t h i s . _ c o o l d o w n T i m e o u t = = = u n d e f i n e d ) { t h i s . _ c a l l F u n c t i o n ( ) ; } e l s e { t h i s . _ s h o u l d C a l l F u n c t i o n A f t e r C D = t r u e ; } } , _ c a l l F u n c t i o n : f u n c t i o n ( ) { t h i s . _ f u n c . a p p l y ( n u l l , t h i s . _ a r g u m e n t s ) ; t h i s . _ c o o l d o w n ( ) ; } , _ c o o l d o w n : f u n c t i o n ( ) { t h i s . c a n c e l ( ) ; t h i s . _ c o o l d o w n T i m e o u t = s e t T i m e o u t ( t h i s . _ o n C o o l d o w n T i m e o u t . b i n d ( t h i s ) , t h i s . _ d u r a t i o n ) ; } , _ o n C o o l d o w n T i m e o u t : f u n c t i o n ( ) { i f ( t h i s . _ s h o u l d C a l l F u n c t i o n A f t e r C D ) { t h i s . _ c a l l F u n c t i o n ( ) ; } e l s e { t h i s . _ c o o l d o w n T i m e o u t = u n d e f i n e d ; } } , } ) ; r e t u r n   C C T h r o t t l e F u n c t i o n O b j e c t ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . C C T h r o t t l e F u n c t i o n ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   C C T h r o t t l e F u n c t i o n O b j e c t = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . C C T h r o t t l e F u n c t i o n O b j e c t ' ) ; v a r   C C T h r o t t l e F u n c t i o n = f u n c t i o n ( p a r a m s ) { v a r   d u r a t i o n = p a r a m s . d u r a t i o n ; v a r   f u n c = p a r a m s . f u n c ; v a r   t h r o t t l e F u n c t i o n O b j e c t = n e w   C C T h r o t t l e F u n c t i o n O b j e c t ( { d u r a t i o n : d u r a t i o n , f u n c : f u n c , } ) ; v a r   c a l l a b l e = f u n c t i o n ( ) { r e t u r n   t h r o t t l e F u n c t i o n O b j e c t . d o . a p p l y ( t h r o t t l e F u n c t i o n O b j e c t , a r g u m e n t s ) ; } ; c a l l a b l e . c a n c e l = f u n c t i o n ( ) { t h r o t t l e F u n c t i o n O b j e c t . c a n c e l ( ) ; } ; c a l l a b l e . c l e a r = f u n c t i o n ( ) { t h r o t t l e F u n c t i o n O b j e c t . c l e a r ( ) ; } ; r e t u r n   c a l l a b l e ; } ; r e t u r n   C C T h r o t t l e F u n c t i o n ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . T i m e r ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   T i m e r = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( p a r a m s ) { t h i s . _ d u r a t i o n = p a r a m s . d u r a t i o n ; t h i s . _ t i m e o u t = u n d e f i n e d ; t h i s . _ t i m e o u t C a l l b a c k = p a r a m s . o n T i m e o u t ; } , c l e a r : f u n c t i o n ( ) { c l e a r T i m e o u t ( t h i s . _ t i m e o u t ) ; } , r e s e t : f u n c t i o n ( ) { t h i s . c l e a r ( ) ; t h i s . s t a r t ( ) ; } , s t a r t : f u n c t i o n ( ) { t h i s . _ t i m e o u t = s e t T i m e o u t ( t h i s . _ o n T i m e o u t . b i n d ( t h i s ) , t h i s . _ d u r a t i o n ) ; } , _ o n T i m e o u t : f u n c t i o n ( ) { t h i s . _ t i m e o u t C a l l b a c k ( ) ; } , } ) ; r e t u r n   T i m e r ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . T i m e r s ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   T i m e r = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . m o d e l . T i m e r ' ) ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   T i m e r s = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( p a r a m s ) { t h i s . _ d u r a t i o n = p a r a m s . d u r a t i o n ; t h i s . _ t i m e o u t C a l l b a c k = p a r a m s . o n T i m e o u t ; t h i s . _ t i m e r s = { } ; } , r e g i s t e r T i m e r : f u n c t i o n ( p a r a m s ) { v a r   t i m e r I D = p a r a m s . t i m e r I D ; i f ( t h i s . _ t i m e r s [ t i m e r I D ] ) { t h i s . _ t i m e r s [ t i m e r I D ] . c l e a r ( ) ; } 
 v a r   t i m e r P a r a m s = { d u r a t i o n : t h i s . _ d u r a t i o n , o n T i m e o u t : t h i s . _ t i m e o u t C a l l b a c k , } ; i f ( ' t i m e o u t C a l l b a c k A r g u m e n t s ' i n   p a r a m s ) { t i m e r P a r a m s . o n T i m e o u t = t h i s . _ t i m e o u t C a l l b a c k . b i n d . a p p l y ( t h i s . _ t i m e o u t C a l l b a c k , [ n u l l ] . c o n c a t ( p a r a m s . t i m e o u t C a l l b a c k A r g u m e n t s ) ) ; } e l s e { t i m e r P a r a m s . o n T i m e o u t = t h i s . _ t i m e o u t C a l l b a c k ; } 
 t h i s . _ t i m e r s [ t i m e r I D ] = n e w   T i m e r ( t i m e r P a r a m s ) ; t h i s . _ t i m e r s [ t i m e r I D ] . s t a r t ( ) ; } , u n r e g i s t e r T i m e r : f u n c t i o n ( p a r a m s ) { v a r   t i m e r I D = p a r a m s . t i m e r I D ; i f ( t h i s . _ t i m e r s [ t i m e r I D ] ) { t h i s . _ t i m e r s [ t i m e r I D ] . c l e a r ( ) ; d e l e t e   t h i s . _ t i m e r s [ t i m e r I D ] ; } } , } ) ; r e t u r n   T i m e r s ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . w i d g e t . T h r e a d ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   D o c u m e n t V i e w e r = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . D o c u m e n t V i e w e r ' ) ; v a r   m a i l U t i l s = r e q u i r e ( ' m a i l . u t i l s ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   _ l t = c o r e . _ l t ; v a r   O R D E R = { A S C : 1 , D E S C : - 1 , } ; v a r   R E A D _ M O R E = _ l t ( " r e a d   m o r e " ) ; v a r   R E A D _ L E S S = _ l t ( " r e a d   l e s s " ) ; v a r   T h r e a d W i d g e t = W i d g e t . e x t e n d ( { c l a s s N a m e : ' o _ m a i l _ t h r e a d ' , e v e n t s : { ' c l i c k   a ' : ' _ o n C l i c k R e d i r e c t ' , ' c l i c k   i m g ' : ' _ o n C l i c k R e d i r e c t ' , ' c l i c k   s t r o n g ' : ' _ o n C l i c k R e d i r e c t ' , ' c l i c k   . o _ t h r e a d _ s h o w _ m o r e ' : ' _ o n C l i c k S h o w M o r e ' , ' c l i c k   . o _ a t t a c h m e n t _ d o w n l o a d ' : ' _ o n A t t a c h m e n t D o w n l o a d ' , ' c l i c k   . o _ a t t a c h m e n t _ v i e w ' : ' _ o n A t t a c h m e n t V i e w ' , ' c l i c k   . o _ a t t a c h m e n t _ d e l e t e _ c r o s s ' : ' _ o n D e l e t e A t t a c h m e n t ' , ' c l i c k   . o _ t h r e a d _ m e s s a g e _ n e e d a c t i o n ' : ' _ o n C l i c k M e s s a g e N e e d a c t i o n ' , ' c l i c k   . o _ t h r e a d _ m e s s a g e _ s t a r ' : ' _ o n C l i c k M e s s a g e S t a r ' , ' c l i c k   . o _ t h r e a d _ m e s s a g e _ r e p l y ' : ' _ o n C l i c k M e s s a g e R e p l y ' , ' c l i c k   . o e _ m a i l _ e x p a n d ' : ' _ o n C l i c k M a i l E x p a n d ' , ' c l i c k   . o _ t h r e a d _ m e s s a g e ' : ' _ o n C l i c k M e s s a g e ' , ' c l i c k ' : ' _ o n C l i c k ' , ' c l i c k   . o _ t h r e a d _ m e s s a g e _ n o t i f i c a t i o n _ e r r o r ' : ' _ o n C l i c k M e s s a g e N o t i f i c a t i o n E r r o r ' , ' c l i c k   . o _ t h r e a d _ m e s s a g e _ m o d e r a t i o n ' : ' _ o n C l i c k M e s s a g e M o d e r a t i o n ' , ' c h a n g e   . m o d e r a t i o n _ c h e c k b o x ' : ' _ o n C h a n g e M o d e r a t i o n C h e c k b o x ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . a t t a c h m e n t s = [ ] ; t h i s . _ e n a b l e d O p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { d i s p l a y O r d e r : O R D E R . A S C , d i s p l a y M a r k A s R e a d : t r u e , d i s p l a y M o d e r a t i o n C o m m a n d s : f a l s e , d i s p l a y S t a r s : t r u e , d i s p l a y D o c u m e n t L i n k s : t r u e , d i s p l a y A v a t a r s : t r u e , s q u a s h C l o s e M e s s a g e s : t r u e , d i s p l a y N o t i f i c a t i o n I c o n s : t r u e , d i s p l a y R e p l y I c o n s : f a l s e , l o a d M o r e O n S c r o l l : f a l s e , h a s M e s s a g e A t t a c h m e n t D e l e t a b l e : f a l s e , } ) ; t h i s . _ d i s a b l e d O p t i o n s = { d i s p l a y O r d e r : t h i s . _ e n a b l e d O p t i o n s . d i s p l a y O r d e r , d i s p l a y M a r k A s R e a d : f a l s e , d i s p l a y M o d e r a t i o n C o m m a n d s : f a l s e , d i s p l a y S t a r s : f a l s e , d i s p l a y D o c u m e n t L i n k s : f a l s e , d i s p l a y A v a t a r s : t h i s . _ e n a b l e d O p t i o n s . d i s p l a y A v a t a r s , s q u a s h C l o s e M e s s a g e s : f a l s e , d i s p l a y N o t i f i c a t i o n I c o n s : f a l s e , d i s p l a y R e p l y I c o n s : f a l s e , l o a d M o r e O n S c r o l l : t h i s . _ e n a b l e d O p t i o n s . l o a d M o r e O n S c r o l l , h a s M e s s a g e A t t a c h m e n t D e l e t a b l e : f a l s e , } ; t h i s . _ s e l e c t e d M e s s a g e I D = n u l l ; t h i s . _ c u r r e n t T h r e a d I D = n u l l ; t h i s . _ m e s s a g e M a i l P o p o v e r = n u l l ; t h i s . _ m e s s a g e S e e n P o p o v e r = n u l l ; t h i s . _ o p e n e d S e e n P o p o v e r I D s = [ ] ; } , d e s t r o y : f u n c t i o n ( ) { c l e a r I n t e r v a l ( t h i s . _ u p d a t e T i m e s t a m p s I n t e r v a l ) ; i f ( t h i s . _ m e s s a g e M a i l P o p o v e r ) { t h i s . _ m e s s a g e M a i l P o p o v e r . p o p o v e r ( ' h i d e ' ) ; } 
 i f ( t h i s . _ m e s s a g e S e e n P o p o v e r ) { t h i s . _ m e s s a g e S e e n P o p o v e r . p o p o v e r ( ' h i d e ' ) ; } 
 t h i s . _ d e s t r o y O p e n S e e n P o p o v e r I D s ( ) ; t h i s . _ s u p e r ( ) ; } , r e n d e r : f u n c t i o n ( t h r e a d , o p t i o n s ) { v a r   s e l f = t h i s ; v a r   s h o u l d S c r o l l T o B o t t o m A f t e r R e n d e r i n g = f a l s e ; i f ( t h i s . _ c u r r e n t T h r e a d I D = = = t h r e a d . g e t I D ( ) & & t h i s . i s A t B o t t o m ( ) ) { s h o u l d S c r o l l T o B o t t o m A f t e r R e n d e r i n g = t r u e ; } 
 t h i s . _ c u r r e n t T h r e a d I D = t h r e a d . g e t I D ( ) ; v a r   m e s s a g e s = _ . c l o n e ( t h r e a d . g e t M e s s a g e s ( { d o m a i n : o p t i o n s . d o m a i n | | [ ] } ) ) ; v a r   m o d e O p t i o n s = o p t i o n s . i s C r e a t e M o d e ? t h i s . _ d i s a b l e d O p t i o n s : t h i s . _ e n a b l e d O p t i o n s ; t h i s . a t t a c h m e n t s = _ . u n i q ( _ . f l a t t e n ( _ . m a p ( m e s s a g e s , f u n c t i o n ( m e s s a g e ) { r e t u r n   m e s s a g e . g e t A t t a c h m e n t s ( ) ; } ) ) ) ; o p t i o n s = _ . e x t e n d ( { } , m o d e O p t i o n s , o p t i o n s , { s e l e c t e d M e s s a g e I D : t h i s . _ s e l e c t e d M e s s a g e I D , } ) ; v a r   d i s p l a y A u t h o r M e s s a g e s = { } ; v a r   p r e v M e s s a g e ; _ . e a c h ( m e s s a g e s , f u n c t i o n ( m e s s a g e ) { i f ( ! p r e v M e s s a g e | | ( M a t h . a b s ( m e s s a g e . g e t D a t e ( ) . d i f f ( p r e v M e s s a g e . g e t D a t e ( ) ) ) > 6 0 0 0 0 ) | | p r e v M e s s a g e . g e t T y p e ( ) ! = = ' c o m m e n t ' | | m e s s a g e . g e t T y p e ( ) ! = = ' c o m m e n t ' | | ( p r e v M e s s a g e . g e t A u t h o r I D ( ) ! = = m e s s a g e . g e t A u t h o r I D ( ) ) | | ( ( p r e v M e s s a g e . i s L i n k e d T o D o c u m e n t T h r e a d ( ) & & m e s s a g e . i s L i n k e d T o D o c u m e n t T h r e a d ( ) ) & & ( p r e v M e s s a g e . g e t D o c u m e n t M o d e l ( ) ! = = m e s s a g e . g e t D o c u m e n t M o d e l ( ) | | p r e v M e s s a g e . g e t D o c u m e n t I D ( ) ! = = m e s s a g e . g e t D o c u m e n t I D ( ) ) ) ) { d i s p l a y A u t h o r M e s s a g e s [ m e s s a g e . g e t I D ( ) ] = t r u e ; } e l s e { d i s p l a y A u t h o r M e s s a g e s [ m e s s a g e . g e t I D ( ) ] = ! o p t i o n s . s q u a s h C l o s e M e s s a g e s ; } 
 p r e v M e s s a g e = m e s s a g e ; } ) ; i f ( m o d e O p t i o n s . d i s p l a y O r d e r = = = O R D E R . D E S C ) { m e s s a g e s . r e v e r s e ( ) ; } 
 t h i s . $ e l . h t m l ( Q W e b . r e n d e r ( ' i m _ l i v e c h a t . l e g a c y . m a i l . w i d g e t . T h r e a d ' , { t h r e a d : t h r e a d , d i s p l a y A u t h o r M e s s a g e s : d i s p l a y A u t h o r M e s s a g e s , o p t i o n s : o p t i o n s , O R D E R : O R D E R , d a t e F o r m a t : t i m e . g e t L a n g D a t e t i m e F o r m a t ( ) , } ) ) ; _ . e a c h ( m e s s a g e s , f u n c t i o n ( m e s s a g e ) { v a r   $ m e s s a g e = s e l f . $ ( ' . o _ t h r e a d _ m e s s a g e [ d a t a - m e s s a g e - i d = " ' + m e s s a g e . g e t I D ( ) + ' " ] ' ) ; $ m e s s a g e . f i n d ( ' . o _ m a i l _ t i m e s t a m p ' ) . d a t a ( ' d a t e ' , m e s s a g e . g e t D a t e ( ) ) ; s e l f . _ i n s e r t R e a d M o r e ( $ m e s s a g e ) ; } ) ; i f ( s h o u l d S c r o l l T o B o t t o m A f t e r R e n d e r i n g ) { t h i s . s c r o l l T o B o t t o m ( ) ; } 
 i f ( ! t h i s . _ u p d a t e T i m e s t a m p s I n t e r v a l ) { t h i s . u p d a t e T i m e s t a m p s I n t e r v a l = s e t I n t e r v a l ( f u n c t i o n ( ) { s e l f . _ u p d a t e T i m e s t a m p s ( ) ; } , 1 0 0 0 * 6 0 ) ; } 
 t h i s . _ r e n d e r M e s s a g e N o t i f i c a t i o n P o p o v e r ( m e s s a g e s ) ; i f ( t h r e a d . h a s S e e n F e a t u r e ( ) ) { t h i s . _ r e n d e r M e s s a g e S e e n P o p o v e r ( t h r e a d , m e s s a g e s ) ; } } , r e n d e r L o a d i n g : f u n c t i o n ( ) { t h i s . $ e l . h t m l ( Q W e b . r e n d e r ( ' i m _ l i v e c h a t . l e g a c y . m a i l . w i d g e t . T h r e a d L o a d i n g ' ) ) ; } , g e t S c r o l l t o p : f u n c t i o n ( ) { r e t u r n   t h i s . $ e l . s c r o l l T o p ( ) ; } , i s A t B o t t o m : f u n c t i o n ( ) { v a r   f u l l H e i g h t = t h i s . e l . s c r o l l H e i g h t ; v a r   t o p H i d d e n H e i g h t = t h i s . $ e l . s c r o l l T o p ( ) ; v a r   v i s i b l e H e i g h t = t h i s . $ e l . o u t e r H e i g h t ( ) ; v a r   b o t t o m H i d d e n H e i g h t = f u l l H e i g h t - t o p H i d d e n H e i g h t - v i s i b l e H e i g h t ; r e t u r n   b o t t o m H i d d e n H e i g h t < 5 ; } , r e m o v e M e s s a g e A n d R e n d e r : f u n c t i o n ( m e s s a g e I D , t h r e a d , o p t i o n s ) { v a r   s e l f = t h i s ; t h i s . _ c u r r e n t T h r e a d I D = t h r e a d . g e t I D ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { s e l f . $ ( ' . o _ t h r e a d _ m e s s a g e [ d a t a - m e s s a g e - i d = " ' + m e s s a g e I D + ' " ] ' ) . f a d e O u t ( { d o n e : f u n c t i o n ( ) { i f ( s e l f . _ c u r r e n t T h r e a d I D = = = t h r e a d . g e t I D ( ) ) { s e l f . r e n d e r ( t h r e a d , o p t i o n s ) ; } 
 r e s o l v e ( ) ; } , d u r a t i o n : 2 0 0 , } ) ; } ) ; } , s c r o l l T o B o t t o m : f u n c t i o n ( ) { t h i s . $ e l . s c r o l l T o p ( t h i s . e l . s c r o l l H e i g h t ) ; } , s c r o l l T o M e s s a g e : f u n c t i o n ( o p t i o n s ) { v a r   $ t a r g e t = t h i s . $ ( ' . o _ t h r e a d _ m e s s a g e [ d a t a - m e s s a g e - i d = " ' + o p t i o n s . m e s s a g e I D + ' " ] ' ) ; i f ( o p t i o n s . o n l y I f N e c e s s a r y ) { v a r   d e l t a = $ t a r g e t . p a r e n t ( ) . h e i g h t ( ) - $ t a r g e t . h e i g h t ( ) ; v a r   o f f s e t = d e l t a < 0 ? 0 : d e l t a - ( $ t a r g e t . o f f s e t ( ) . t o p - $ t a r g e t . o f f s e t P a r e n t ( ) . o f f s e t ( ) . t o p ) ; o f f s e t = - M a t h . m i n ( o f f s e t , 0 ) ; t h i s . $ e l . s c r o l l T o ( " + = " + o f f s e t + " p x " , o p t i o n s . d u r a t i o n ) ; } e l s e   i f ( $ t a r g e t . l e n g t h ) { t h i s . $ e l . s c r o l l T o ( $ t a r g e t ) ; } } , s c r o l l T o P o s i t i o n : f u n c t i o n ( p o s i t i o n ) { i f ( p o s i t i o n ) { t h i s . $ e l . s c r o l l T o p ( p o s i t i o n ) ; } e l s e { t h i s . s c r o l l T o B o t t o m ( ) ; } } , t o g g l e M o d e r a t i o n C h e c k b o x e s : f u n c t i o n ( c h e c k e d ) { t h i s . $ ( ' . m o d e r a t i o n _ c h e c k b o x ' ) . p r o p ( ' c h e c k e d ' , c h e c k e d ) ; } , u n s e l e c t M e s s a g e : f u n c t i o n ( ) { t h i s . $ ( ' . o _ t h r e a d _ m e s s a g e ' ) . r e m o v e C l a s s ( ' o _ t h r e a d _ s e l e c t e d _ m e s s a g e ' ) ; t h i s . _ s e l e c t e d M e s s a g e I D = n u l l ; } , _ d e s t r o y O p e n S e e n P o p o v e r I D s : f u n c t i o n ( ) { _ . e a c h ( t h i s . _ o p e n e d S e e n P o p o v e r I D s , f u n c t i o n ( p o p o v e r I D ) { $ ( ' # ' + p o p o v e r I D ) . r e m o v e ( ) ; } ) ; t h i s . _ o p e n e d S e e n P o p o v e r I D s = [ ] ; } , _ i n s e r t R e a d M o r e : f u n c t i o n ( $ e l e m e n t ) { v a r   s e l f = t h i s ; v a r   g r o u p s = [ ] ; v a r   r e a d M o r e N o d e s ; v a r   $ c h i l d r e n = $ e l e m e n t . c o n t e n t s ( ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n   t h i s . n o d e T y p e = = = 1 | | t h i s . n o d e T y p e = = = 3 & & t h i s . n o d e V a l u e . t r i m ( ) ; } ) ; _ . e a c h ( $ c h i l d r e n , f u n c t i o n ( c h i l d ) { v a r   $ c h i l d = $ ( c h i l d ) ; i f ( c h i l d . n o d e T y p e = = = 3 & & $ c h i l d . p r e v A l l ( ' [ i d * = " s t o p S p e l l i n g " ] ' ) . l e n g t h > 0 ) { $ c h i l d = $ ( ' < s p a n > ' , { t e x t : c h i l d . t e x t C o n t e n t , ' d a t a - o - m a i l - q u o t e ' : ' 1 ' , } ) ; c h i l d . p a r e n t N o d e . r e p l a c e C h i l d ( $ c h i l d [ 0 ] , c h i l d ) ; } 
 i f ( $ c h i l d . a t t r ( ' d a t a - o - m a i l - q u o t e ' ) | | ( $ c h i l d . g e t ( 0 ) . n o d e N a m e = = = ' B R ' & & $ c h i l d . p r e v ( ' [ d a t a - o - m a i l - q u o t e = " 1 " ] ' ) . l e n g t h > 0 ) ) { i f ( ! r e a d M o r e N o d e s ) { r e a d M o r e N o d e s = [ ] ; g r o u p s . p u s h ( r e a d M o r e N o d e s ) ; } 
 $ c h i l d . h i d e ( ) ; r e a d M o r e N o d e s . p u s h ( $ c h i l d ) ; } e l s e { r e a d M o r e N o d e s = u n d e f i n e d ; s e l f . _ i n s e r t R e a d M o r e ( $ c h i l d ) ; } } ) ; _ . e a c h ( g r o u p s , f u n c t i o n ( g r o u p ) { v a r   $ r e a d M o r e = $ ( ' < a > ' , { c l a s s : ' o _ m a i l _ r e a d _ m o r e ' , h r e f : ' # ' , t e x t : R E A D _ M O R E , } ) . i n s e r t B e f o r e ( g r o u p [ 0 ] ) ; v a r   i s R e a d M o r e = t r u e ; $ r e a d M o r e . c l i c k ( f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; i s R e a d M o r e = ! i s R e a d M o r e ; _ . e a c h ( g r o u p , f u n c t i o n ( $ c h i l d ) { $ c h i l d . h i d e ( ) ; $ c h i l d . t o g g l e ( ! i s R e a d M o r e ) ; } ) ; $ r e a d M o r e . t e x t ( i s R e a d M o r e ? R E A D _ M O R E : R E A D _ L E S S ) ; } ) ; } ) ; } , _ o n D e l e t e A t t a c h m e n t : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; v a r   $ t a r g e t = $ ( e v . c u r r e n t T a r g e t ) ; t h i s . t r i g g e r _ u p ( ' d e l e t e _ a t t a c h m e n t ' , { a t t a c h m e n t I d : $ t a r g e t . d a t a ( ' i d ' ) , a t t a c h m e n t N a m e : $ t a r g e t . d a t a ( ' n a m e ' ) } ) ; } , _ r e d i r e c t : _ . d e b o u n c e ( f u n c t i o n ( o p t i o n s ) { i f ( ' c h a n n e l I D ' i n   o p t i o n s ) { t h i s . t r i g g e r ( ' r e d i r e c t _ t o _ c h a n n e l ' , o p t i o n s . c h a n n e l I D ) ; } e l s e { t h i s . t r i g g e r ( ' r e d i r e c t ' , o p t i o n s . m o d e l , o p t i o n s . i d ) ; } } , 5 0 0 , t r u e ) , _ r e n d e r M e s s a g e N o t i f i c a t i o n P o p o v e r ( m e s s a g e s ) { i f ( t h i s . _ m e s s a g e M a i l P o p o v e r ) { t h i s . _ m e s s a g e M a i l P o p o v e r . p o p o v e r ( ' h i d e ' ) ; } 
 i f ( ! t h i s . $ ( ' . o _ t h r e a d _ t o o l t i p ' ) . l e n g t h ) { r e t u r n ; } 
 t h i s . _ m e s s a g e M a i l P o p o v e r = t h i s . $ ( ' . o _ t h r e a d _ t o o l t i p ' ) . p o p o v e r ( { h t m l : t r u e , b o u n d a r y : ' v i e w p o r t ' , p l a c e m e n t : ' a u t o ' , t r i g g e r : ' h o v e r ' , o f f s e t : ' 0 ,   1 ' , c o n t e n t : f u n c t i o n ( ) { v a r   m e s s a g e I D = $ ( t h i s ) . d a t a ( ' m e s s a g e - i d ' ) ; v a r   m e s s a g e = _ . f i n d ( m e s s a g e s , f u n c t i o n ( m e s s a g e ) { r e t u r n   m e s s a g e . g e t I D ( ) = = = m e s s a g e I D ; } ) ; r e t u r n   Q W e b . r e n d e r ( ' i m _ l i v e c h a t . l e g a c y . m a i l . w i d g e t . T h r e a d . M e s s a g e . M a i l T o o l t i p ' , { n o t i f i c a t i o n s : m e s s a g e . g e t N o t i f i c a t i o n s ( ) , } ) ; } , } ) ; } , _ r e n d e r M e s s a g e S e e n P o p o v e r : f u n c t i o n ( t h r e a d , m e s s a g e s ) { v a r   s e l f = t h i s ; t h i s . _ d e s t r o y O p e n S e e n P o p o v e r I D s ( ) ; i f ( t h i s . _ m e s s a g e S e e n P o p o v e r ) { t h i s . _ m e s s a g e S e e n P o p o v e r . p o p o v e r ( ' h i d e ' ) ; } 
 i f ( ! t h i s . $ ( ' . o _ t h r e a d _ m e s s a g e _ c o r e   . o _ m a i l _ t h r e a d _ m e s s a g e _ s e e n _ i c o n ' ) . l e n g t h ) { r e t u r n ; } 
 t h i s . _ m e s s a g e S e e n P o p o v e r = t h i s . $ ( ' . o _ t h r e a d _ m e s s a g e _ c o r e   . o _ m a i l _ t h r e a d _ m e s s a g e _ s e e n _ i c o n ' ) . p o p o v e r ( { h t m l : t r u e , b o u n d a r y : ' v i e w p o r t ' , p l a c e m e n t : ' a u t o ' , t r i g g e r : ' h o v e r ' , o f f s e t : ' 0 ,   1 ' , c o n t e n t : f u n c t i o n ( ) { v a r   $ t h i s = $ ( t h i s ) ; s e l f . _ o p e n e d S e e n P o p o v e r I D s . p u s h ( $ t h i s . a t t r ( ' a r i a - d e s c r i b e d b y ' ) ) ; v a r   m e s s a g e I D = $ t h i s . d a t a ( ' m e s s a g e - i d ' ) ; v a r   m e s s a g e = _ . f i n d ( m e s s a g e s , f u n c t i o n ( m e s s a g e ) { r e t u r n   m e s s a g e . g e t I D ( ) = = = m e s s a g e I D ; } ) ; r e t u r n   Q W e b . r e n d e r ( ' i m _ l i v e c h a t . l e g a c y . m a i l . w i d g e t . T h r e a d . M e s s a g e . S e e n I c o n P o p o v e r C o n t e n t ' , { t h r e a d : t h r e a d , m e s s a g e : m e s s a g e , } ) ; } , } ) ; } , _ u p d a t e T i m e s t a m p s : f u n c t i o n ( ) { v a r   i s A t B o t t o m = t h i s . i s A t B o t t o m ( ) ; t h i s . $ ( ' . o _ m a i l _ t i m e s t a m p ' ) . e a c h ( f u n c t i o n ( ) { v a r   d a t e = $ ( t h i s ) . d a t a ( ' d a t e ' ) ; $ ( t h i s ) . h t m l ( m a i l U t i l s . t i m e F r o m N o w ( d a t e ) ) ; } ) ; i f ( i s A t B o t t o m & & ! t h i s . i s A t B o t t o m ( ) ) { t h i s . s c r o l l T o B o t t o m ( ) ; } } , _ o n A t t a c h m e n t D o w n l o a d : f u n c t i o n ( e v e n t ) { e v e n t . s t o p P r o p a g a t i o n ( ) ; } , _ o n A t t a c h m e n t V i e w : f u n c t i o n ( e v e n t ) { e v e n t . s t o p P r o p a g a t i o n ( ) ; v a r   a c t i v e A t t a c h m e n t I D = $ ( e v e n t . c u r r e n t T a r g e t ) . d a t a ( ' i d ' ) ; i f ( a c t i v e A t t a c h m e n t I D ) { v a r   a t t a c h m e n t V i e w e r = n e w   D o c u m e n t V i e w e r ( t h i s , t h i s . a t t a c h m e n t s , a c t i v e A t t a c h m e n t I D ) ; a t t a c h m e n t V i e w e r . a p p e n d T o ( $ ( ' b o d y ' ) ) ; } } , _ o n C h a n g e M o d e r a t i o n C h e c k b o x : f u n c t i o n ( e v ) { t h i s . t r i g g e r _ u p ( ' u p d a t e _ m o d e r a t i o n _ b u t t o n s ' ) ; } , _ o n C l i c k : f u n c t i o n ( ) { i f ( t h i s . _ s e l e c t e d M e s s a g e I D ) { t h i s . u n s e l e c t M e s s a g e ( ) ; t h i s . t r i g g e r ( ' u n s e l e c t _ m e s s a g e ' ) ; } } , _ o n C l i c k M a i l E x p a n d : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; } , _ o n C l i c k M e s s a g e : f u n c t i o n ( e v ) { $ ( e v . c u r r e n t T a r g e t ) . t o g g l e C l a s s ( ' o _ t h r e a d _ s e l e c t e d _ m e s s a g e ' ) ; } , _ o n C l i c k M e s s a g e N e e d a c t i o n : f u n c t i o n ( e v ) { v a r   m e s s a g e I D = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' m e s s a g e - i d ' ) ; t h i s . t r i g g e r ( ' m a r k _ a s _ r e a d ' , m e s s a g e I D ) ; } , _ o n C l i c k M e s s a g e N o t i f i c a t i o n E r r o r ( e v ) { c o n s t   m e s s a g e I D = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' m e s s a g e - i d ' ) ; t h i s . d o _ a c t i o n ( ' m a i l . m a i l _ r e s e n d _ m e s s a g e _ a c t i o n ' , { a d d i t i o n a l _ c o n t e x t : { m a i l _ m e s s a g e _ t o _ r e s e n d : m e s s a g e I D , } } ) ; } , _ o n C l i c k M e s s a g e R e p l y : f u n c t i o n ( e v ) { t h i s . _ s e l e c t e d M e s s a g e I D = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' m e s s a g e - i d ' ) ; t h i s . $ ( ' . o _ t h r e a d _ m e s s a g e ' ) . r e m o v e C l a s s ( ' o _ t h r e a d _ s e l e c t e d _ m e s s a g e ' ) ; t h i s . $ ( ' . o _ t h r e a d _ m e s s a g e [ d a t a - m e s s a g e - i d = " ' + t h i s . _ s e l e c t e d M e s s a g e I D + ' " ] ' ) . a d d C l a s s ( ' o _ t h r e a d _ s e l e c t e d _ m e s s a g e ' ) ; t h i s . t r i g g e r ( ' s e l e c t _ m e s s a g e ' , t h i s . _ s e l e c t e d M e s s a g e I D ) ; e v . s t o p P r o p a g a t i o n ( ) ; } , _ o n C l i c k M e s s a g e S t a r : f u n c t i o n ( e v ) { v a r   m e s s a g e I D = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' m e s s a g e - i d ' ) ; t h i s . t r i g g e r ( ' t o g g l e _ s t a r _ s t a t u s ' , m e s s a g e I D ) ; } , _ o n C l i c k M e s s a g e M o d e r a t i o n : f u n c t i o n ( e v ) { v a r   $ b u t t o n = $ ( e v . c u r r e n t T a r g e t ) ; v a r   m e s s a g e I D = $ b u t t o n . d a t a ( ' m e s s a g e - i d ' ) ; v a r   d e c i s i o n = $ b u t t o n . d a t a ( ' d e c i s i o n ' ) ; t h i s . t r i g g e r _ u p ( ' m e s s a g e _ m o d e r a t i o n ' , { m e s s a g e I D : m e s s a g e I D , d e c i s i o n : d e c i s i o n , } ) ; } , _ o n C l i c k R e d i r e c t : f u n c t i o n ( e v ) { i f ( $ ( e v . t a r g e t ) . d a t a ( ' o e - f i e l d ' ) ! = = u n d e f i n e d ) { r e t u r n ; } 
 v a r   i d = $ ( e v . t a r g e t ) . d a t a ( ' o e - i d ' ) ; i f ( i d ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   m o d e l = $ ( e v . t a r g e t ) . d a t a ( ' o e - m o d e l ' ) ; v a r   o p t i o n s ; i f ( m o d e l & & ( m o d e l ! = = ' m a i l . c h a n n e l ' ) ) { o p t i o n s = { m o d e l : m o d e l , i d : i d } ; } e l s e { o p t i o n s = { c h a n n e l I D : i d } ; } 
 t h i s . _ r e d i r e c t ( o p t i o n s ) ; } } , _ o n C l i c k S h o w M o r e : f u n c t i o n ( ) { t h i s . t r i g g e r ( ' l o a d _ m o r e _ m e s s a g e s ' ) ; } , } ) ; T h r e a d W i d g e t . O R D E R = O R D E R ; r e t u r n   T h r e a d W i d g e t ; } ) ; o d o o . d e f i n e ( ' i m _ l i v e c h a t . l e g a c y . m a i l . D o c u m e n t V i e w e r ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   S C R O L L _ Z O O M _ S T E P = 0 . 1 ; v a r   Z O O M _ S T E P = 0 . 5 ; v a r   D o c u m e n t V i e w e r = W i d g e t . e x t e n d ( { t e m p l a t e : " i m _ l i v e c h a t . l e g a c y . m a i l . D o c u m e n t V i e w e r " , e v e n t s : { ' c l i c k   . o _ d o w n l o a d _ b t n ' : ' _ o n D o w n l o a d ' , ' c l i c k   . o _ v i e w e r _ i m g ' : ' _ o n I m a g e C l i c k e d ' , ' c l i c k   . o _ v i e w e r _ v i d e o ' : ' _ o n V i d e o C l i c k e d ' , ' c l i c k   . m o v e _ n e x t ' : ' _ o n N e x t ' , ' c l i c k   . m o v e _ p r e v i o u s ' : ' _ o n P r e v i o u s ' , ' c l i c k   . o _ r o t a t e ' : ' _ o n R o t a t e ' , ' c l i c k   . o _ z o o m _ i n ' : ' _ o n Z o o m I n ' , ' c l i c k   . o _ z o o m _ o u t ' : ' _ o n Z o o m O u t ' , ' c l i c k   . o _ z o o m _ r e s e t ' : ' _ o n Z o o m R e s e t ' , ' c l i c k   . o _ c l o s e _ b t n ,   . o _ v i e w e r _ i m g _ w r a p p e r ' : ' _ o n C l o s e ' , ' c l i c k   . o _ p r i n t _ b t n ' : ' _ o n P r i n t ' , ' D O M M o u s e S c r o l l   . o _ v i e w e r _ c o n t e n t ' : ' _ o n S c r o l l ' , ' m o u s e w h e e l   . o _ v i e w e r _ c o n t e n t ' : ' _ o n S c r o l l ' , ' k e y d o w n ' : ' _ o n K e y d o w n ' , ' k e y u p ' : ' _ o n K e y U p ' , ' m o u s e d o w n   . o _ v i e w e r _ i m g ' : ' _ o n S t a r t D r a g ' , ' m o u s e m o v e   . o _ v i e w e r _ c o n t e n t ' : ' _ o n D r a g ' , ' m o u s e u p   . o _ v i e w e r _ c o n t e n t ' : ' _ o n E n d D r a g ' } , i n i t : f u n c t i o n ( p a r e n t , a t t a c h m e n t s , a c t i v e A t t a c h m e n t I D ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . a t t a c h m e n t = _ . f i l t e r ( a t t a c h m e n t s , f u n c t i o n ( a t t a c h m e n t ) { v a r   m a t c h = a t t a c h m e n t . t y p e = = = ' u r l ' ? a t t a c h m e n t . u r l . m a t c h ( " ( y o u t u | . p n g | . j p g | . g i f ) " ) : a t t a c h m e n t . m i m e t y p e . m a t c h ( " ( i m a g e | v i d e o | a p p l i c a t i o n / p d f | t e x t ) " ) ; i f ( m a t c h ) { a t t a c h m e n t . f i l e T y p e = m a t c h [ 1 ] ; i f ( m a t c h [ 1 ] . m a t c h ( " ( . p n g | . j p g | . g i f ) " ) ) { a t t a c h m e n t . f i l e T y p e = ' i m a g e ' ; } 
 i f ( m a t c h [ 1 ] = = = ' y o u t u ' ) { v a r   y o u t u b e _ a r r a y = a t t a c h m e n t . u r l . s p l i t ( ' / ' ) ; v a r   y o u t u b e _ t o k e n = y o u t u b e _ a r r a y [ y o u t u b e _ a r r a y . l e n g t h - 1 ] ; i f ( y o u t u b e _ t o k e n . i n d e x O f ( ' w a t c h ' ) ! = = - 1 ) { y o u t u b e _ t o k e n = y o u t u b e _ t o k e n . s p l i t ( ' v = ' ) [ 1 ] ; v a r   a m p = y o u t u b e _ t o k e n . i n d e x O f ( ' & ' ) ; i f ( a m p ! = = - 1 ) { y o u t u b e _ t o k e n = y o u t u b e _ t o k e n . s u b s t r i n g ( 0 , a m p ) ; } } 
 a t t a c h m e n t . y o u t u b e = y o u t u b e _ t o k e n ; } 
 r e t u r n   t r u e ; } } ) ; t h i s . a c t i v e A t t a c h m e n t = _ . f i n d W h e r e ( a t t a c h m e n t s , { i d : a c t i v e A t t a c h m e n t I D } ) ; t h i s . m o d e l N a m e = ' i r . a t t a c h m e n t ' ; t h i s . _ r e s e t ( ) ; } , s t a r t : f u n c t i o n ( ) { t h i s . $ e l . m o d a l ( ' s h o w ' ) ; t h i s . $ e l . o n ( ' h i d d e n . b s . m o d a l ' , _ . b i n d ( t h i s . _ o n D e s t r o y , t h i s ) ) ; t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . o n ( " l o a d " , _ . b i n d ( t h i s . _ o n I m a g e L o a d e d , t h i s ) ) ; t h i s . $ ( ' [ d a t a - t o g g l e = " t o o l t i p " ] ' ) . t o o l t i p ( { d e l a y : 0 } ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d e s t r o y : f u n c t i o n ( ) { i f ( t h i s . i s D e s t r o y e d ( ) ) { r e t u r n ; } 
 t h i s . t r i g g e r _ u p ( ' d o c u m e n t _ v i e w e r _ c l o s e d ' ) ; t h i s . $ e l . m o d a l ( ' h i d e ' ) ; t h i s . $ e l . r e m o v e ( ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ n e x t : f u n c t i o n ( ) { v a r   i n d e x = _ . f i n d I n d e x ( t h i s . a t t a c h m e n t , t h i s . a c t i v e A t t a c h m e n t ) ; i n d e x = ( i n d e x + 1 ) % t h i s . a t t a c h m e n t . l e n g t h ; t h i s . a c t i v e A t t a c h m e n t = t h i s . a t t a c h m e n t [ i n d e x ] ; t h i s . _ u p d a t e C o n t e n t ( ) ; } , _ p r e v i o u s : f u n c t i o n ( ) { v a r   i n d e x = _ . f i n d I n d e x ( t h i s . a t t a c h m e n t , t h i s . a c t i v e A t t a c h m e n t ) ; i n d e x = i n d e x = = = 0 ? t h i s . a t t a c h m e n t . l e n g t h - 1 : i n d e x - 1 ; t h i s . a c t i v e A t t a c h m e n t = t h i s . a t t a c h m e n t [ i n d e x ] ; t h i s . _ u p d a t e C o n t e n t ( ) ; } , _ r e s e t : f u n c t i o n ( ) { t h i s . s c a l e = 1 ; t h i s . d r a g S t a r t X = t h i s . d r a g s t o p X = 0 ; t h i s . d r a g S t a r t Y = t h i s . d r a g s t o p Y = 0 ; } , _ u p d a t e C o n t e n t : f u n c t i o n ( ) { t h i s . $ ( ' . o _ v i e w e r _ c o n t e n t ' ) . h t m l ( Q W e b . r e n d e r ( ' i m _ l i v e c h a t . l e g a c y . m a i l . D o c u m e n t V i e w e r . C o n t e n t ' , { w i d g e t : t h i s } ) ) ; t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . o n ( " l o a d " , _ . b i n d ( t h i s . _ o n I m a g e L o a d e d , t h i s ) ) ; t h i s . $ ( ' [ d a t a - t o g g l e = " t o o l t i p " ] ' ) . t o o l t i p ( { d e l a y : 0 } ) ; t h i s . _ r e s e t ( ) ; } , _ g e t T r a n s f o r m : f u n c t i o n ( s c a l e , a n g l e ) { r e t u r n ' s c a l e 3 d ( ' + s c a l e + ' ,   ' + s c a l e + ' ,   1 )   r o t a t e ( ' + a n g l e + ' d e g ) ' ; } , _ r o t a t e : f u n c t i o n ( a n g l e ) { t h i s . _ r e s e t ( ) ; v a r   n e w _ a n g l e = ( t h i s . a n g l e | | 0 ) + a n g l e ; t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . c s s ( ' t r a n s f o r m ' , t h i s . _ g e t T r a n s f o r m ( t h i s . s c a l e , n e w _ a n g l e ) ) ; t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . c s s ( ' m a x - w i d t h ' , n e w _ a n g l e % 1 8 0 ! = = 0 ? $ ( d o c u m e n t ) . h e i g h t ( ) : ' 1 0 0 % ' ) ; t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . c s s ( ' m a x - h e i g h t ' , n e w _ a n g l e % 1 8 0 ! = = 0 ? $ ( d o c u m e n t ) . w i d t h ( ) : ' 1 0 0 % ' ) ; t h i s . a n g l e = n e w _ a n g l e ; } , _ z o o m : f u n c t i o n ( s c a l e ) { i f ( s c a l e > 0 . 5 ) { t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . c s s ( ' t r a n s f o r m ' , t h i s . _ g e t T r a n s f o r m ( s c a l e , t h i s . a n g l e | | 0 ) ) ; t h i s . s c a l e = s c a l e ; } 
 t h i s . $ ( ' . o _ z o o m _ r e s e t ' ) . a d d ( ' . o _ z o o m _ o u t ' ) . t o g g l e C l a s s ( ' d i s a b l e d ' , s c a l e = = = 1 ) ; } , _ o n C l o s e : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; t h i s . d e s t r o y ( ) ; } , _ o n D e s t r o y : f u n c t i o n ( ) { t h i s . d e s t r o y ( ) ; } , _ o n D o w n l o a d : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; w i n d o w . l o c a t i o n = ' / w e b / c o n t e n t / ' + t h i s . m o d e l N a m e + ' / ' + t h i s . a c t i v e A t t a c h m e n t . i d + ' / ' + ' d a t a s ' + ' ? d o w n l o a d = t r u e ' ; } , _ o n D r a g : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; i f ( t h i s . e n a b l e D r a g ) { v a r   $ i m a g e = t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) ; v a r   $ z o o m e r = t h i s . $ ( ' . o _ v i e w e r _ z o o m e r ' ) ; v a r   t o p = $ i m a g e . p r o p ( ' o f f s e t H e i g h t ' ) * t h i s . s c a l e > $ z o o m e r . h e i g h t ( ) ? e . c l i e n t Y - t h i s . d r a g S t a r t Y : 0 ; v a r   l e f t = $ i m a g e . p r o p ( ' o f f s e t W i d t h ' ) * t h i s . s c a l e > $ z o o m e r . w i d t h ( ) ? e . c l i e n t X - t h i s . d r a g S t a r t X : 0 ; $ z o o m e r . c s s ( " t r a n s f o r m " , " t r a n s l a t e 3 d ( " + l e f t + " p x ,   " + t o p + " p x ,   0 ) " ) ; $ i m a g e . c s s ( ' c u r s o r ' , ' m o v e ' ) ; } } , _ o n E n d D r a g : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; i f ( t h i s . e n a b l e D r a g ) { t h i s . e n a b l e D r a g = f a l s e ; t h i s . d r a g s t o p X = e . c l i e n t X - t h i s . d r a g S t a r t X ; t h i s . d r a g s t o p Y = e . c l i e n t Y - t h i s . d r a g S t a r t Y ; t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . c s s ( ' c u r s o r ' , ' ' ) ; } } , _ o n I m a g e C l i c k e d : f u n c t i o n ( e ) { e . s t o p P r o p a g a t i o n ( ) ; } , _ o n I m a g e L o a d e d : f u n c t i o n ( ) { t h i s . $ ( ' . o _ l o a d i n g _ i m g ' ) . h i d e ( ) ; } , _ o n K e y d o w n : f u n c t i o n ( e ) { s w i t c h ( e . w h i c h ) { c a s e   $ . u i . k e y C o d e . R I G H T : e . p r e v e n t D e f a u l t ( ) ; t h i s . _ n e x t ( ) ; b r e a k ; c a s e   $ . u i . k e y C o d e . L E F T : e . p r e v e n t D e f a u l t ( ) ; t h i s . _ p r e v i o u s ( ) ; b r e a k ; } } , _ o n K e y U p : f u n c t i o n ( e ) { s w i t c h ( e . w h i c h ) { c a s e   $ . u i . k e y C o d e . E S C A P E : e . p r e v e n t D e f a u l t ( ) ; t h i s . _ o n C l o s e ( e ) ; b r e a k ; } } , _ o n N e x t : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; t h i s . _ n e x t ( ) ; } , _ o n P r e v i o u s : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; t h i s . _ p r e v i o u s ( ) ; } , _ o n P r i n t : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   s r c = t h i s . $ ( ' . o _ v i e w e r _ i m g ' ) . p r o p ( ' s r c ' ) ; v a r   s c r i p t = Q W e b . r e n d e r ( ' i m _ l i v e c h a t . l e g a c y . m a i l . P r i n t I m a g e ' , { s r c : s r c } ) ; v a r   p r i n t W i n d o w = w i n d o w . o p e n ( ' a b o u t : b l a n k ' , " _ n e w " ) ; p r i n t W i n d o w . d o c u m e n t . o p e n ( ) ; p r i n t W i n d o w . d o c u m e n t . w r i t e ( s c r i p t ) ; p r i n t W i n d o w . d o c u m e n t . c l o s e ( ) ; } , _ o n S c r o l l : f u n c t i o n ( e ) { v a r   s c a l e ; i f ( e . o r i g i n a l E v e n t . w h e e l D e l t a > 0 | | e . o r i g i n a l E v e n t . d e t a i l < 0 ) { s c a l e = t h i s . s c a l e + S C R O L L _ Z O O M _ S T E P ; t h i s . _ z o o m ( s c a l e ) ; } e l s e { s c a l e = t h i s . s c a l e - S C R O L L _ Z O O M _ S T E P ; t h i s . _ z o o m ( s c a l e ) ; } } , _ o n S t a r t D r a g : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; t h i s . e n a b l e D r a g = t r u e ; t h i s . d r a g S t a r t X = e . c l i e n t X - ( t h i s . d r a g s t o p X | | 0 ) ; t h i s . d r a g S t a r t Y = e . c l i e n t Y - ( t h i s . d r a g s t o p Y | | 0 ) ; } , _ o n V i d e o C l i c k e d : f u n c t i o n ( e ) { e . s t o p P r o p a g a t i o n ( ) ; v a r   v i d e o E l e m e n t = e . t a r g e t ; i f ( v i d e o E l e m e n t . p a u s e d ) { v i d e o E l e m e n t . p l a y ( ) ; } e l s e { v i d e o E l e m e n t . p a u s e ( ) ; } } , _ o n R o t a t e : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; t h i s . _ r o t a t e ( 9 0 ) ; } , _ o n Z o o m I n : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   s c a l e = t h i s . s c a l e + Z O O M _ S T E P ; t h i s . _ z o o m ( s c a l e ) ; } , _ o n Z o o m O u t : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   s c a l e = t h i s . s c a l e - Z O O M _ S T E P ; t h i s . _ z o o m ( s c a l e ) ; } , _ o n Z o o m R e s e t : f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; t h i s . $ ( ' . o _ v i e w e r _ z o o m e r ' ) . c s s ( " t r a n s f o r m " , " " ) ; t h i s . _ z o o m ( 1 ) ; } , } ) ; r e t u r n   D o c u m e n t V i e w e r ; } ) ; ; 
 
 / *   / w e b s i t e _ l i v e c h a t / s t a t i c / s r c / l e g a c y / p u b l i c _ l i v e c h a t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ l i v e c h a t . l e g a c y . w e b s i t e _ l i v e c h a t . l i v e c h a t _ r e q u e s t ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   L i v e c h a t B u t t o n = r e q u i r e ( ' i m _ l i v e c h a t . l e g a c y . i m _ l i v e c h a t . i m _ l i v e c h a t ' ) . L i v e c h a t B u t t o n ; L i v e c h a t B u t t o n . i n c l u d e ( { w i l l S t a r t : f u n c t i o n ( ) { i f ( t h i s . o p t i o n s . c h a t _ r e q u e s t _ s e s s i o n ) { u t i l s . s e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' , J S O N . s t r i n g i f y ( t h i s . o p t i o n s . c h a t _ r e q u e s t _ s e s s i o n ) , 6 0 * 6 0 ) ; } 
 r e t u r n   t h i s . _ s u p e r ( ) ; } , _ o n C l o s e C h a t W i n d o w : f u n c t i o n ( e v ) { t h i s . _ s u p e r ( e v ) ; v a r   c o o k i e = u t i l s . g e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' ) ; i f ( c o o k i e ) { v a r   c h a n n e l = J S O N . p a r s e ( c o o k i e ) ; s e s s i o n . r p c ( ' / i m _ l i v e c h a t / v i s i t o r _ l e a v e _ s e s s i o n ' , { u u i d : c h a n n e l . u u i d } ) ; u t i l s . s e t _ c o o k i e ( ' i m _ l i v e c h a t _ s e s s i o n ' , " " , - 1 ) ; } } , } ) ; r e t u r n { L i v e c h a t B u t t o n : L i v e c h a t B u t t o n , } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . s l i d e s ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p ' , s t a r t : f u n c t i o n ( p a r e n t ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; _ . e a c h ( $ ( " t i m e a g o . t i m e a g o " ) , f u n c t i o n ( e l ) { v a r   d a t e t i m e = $ ( e l ) . a t t r ( ' d a t e t i m e ' ) ; v a r   d a t e t i m e O b j = t i m e . s t r _ t o _ d a t e t i m e ( d a t e t i m e ) ; v a r   d i s p l a y S t r = ' ' ; i f ( d a t e t i m e O b j & & n e w   D a t e ( ) . g e t T i m e ( ) - d a t e t i m e O b j . g e t T i m e ( ) > 7 * 2 4 * 6 0 * 6 0 * 1 0 0 0 ) { d i s p l a y S t r = m o m e n t ( d a t e t i m e O b j ) . f o r m a t ( ' l l ' ) ; } e l s e { d i s p l a y S t r = m o m e n t ( d a t e t i m e O b j ) . f r o m N o w ( ) ; } 
 $ ( e l ) . t e x t ( d i s p l a y S t r ) ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , } ) ; r e t u r n   p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s ; } ) ; o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . s l i d e s _ e m b e d ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; r e q u i r e ( ' w e b s i t e _ s l i d e s . s l i d e s ' ) ; v a r   S l i d e S o c i a l E m b e d = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { e v e n t s : { ' c h a n g e   i n p u t ' : ' _ o n C h a n g e P a g e ' , } , i n i t : f u n c t i o n ( p a r e n t , m a x P a g e ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . m a x _ p a g e = m a x P a g e | | f a l s e ; } , _ u p d a t e E m b e d d e d C o d e : f u n c t i o n ( p a g e ) { v a r   $ e m b e d I n p u t = t h i s . $ ( ' . s l i d e _ e m b e d _ c o d e ' ) ; v a r   n e w C o d e = $ e m b e d I n p u t . v a l ( ) . r e p l a c e ( / ( p a g e = ) . * ? ( [ ^ \ d ] + ) / , ' $ 1 ' + p a g e + ' $ 2 ' ) ; $ e m b e d I n p u t . v a l ( n e w C o d e ) ; } , _ o n C h a n g e P a g e : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   i n p u t = t h i s . $ ( ' i n p u t ' ) ; v a r   p a g e = p a r s e I n t ( i n p u t . v a l ( ) ) ; i f ( t h i s . m a x _ p a g e & & ! ( p a g e > 0 & & p a g e < = t h i s . m a x _ p a g e ) ) { p a g e = 1 ; } 
 t h i s . _ u p d a t e E m b e d d e d C o d e ( p a g e ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s E m b e d = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p ' , s t a r t : f u n c t i o n ( p a r e n t ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; $ ( ' i f r a m e . o _ w s l i d e s _ i f r a m e _ v i e w e r ' ) . o n ( ' r e a d y ' , t h i s . _ o n I f r a m e V i e w e r R e a d y . b i n d ( t h i s ) ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ o n I f r a m e V i e w e r R e a d y : f u n c t i o n ( e v ) { v a r   $ i f r a m e = $ ( e v . c u r r e n t T a r g e t ) ; v a r   m a x P a g e = $ i f r a m e . c o n t e n t s ( ) . f i n d ( ' # p a g e _ c o u n t ' ) . v a l ( ) ; n e w   S l i d e S o c i a l E m b e d ( t h i s , m a x P a g e ) . a t t a c h T o ( $ ( ' . o e _ s l i d e _ j s _ e m b e d _ c o d e _ w i d g e t ' ) ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ s h a r e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . s l i d e s _ s h a r e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; r e q u i r e ( ' w e b s i t e _ s l i d e s . s l i d e s ' ) ; v a r   S h a r e M a i l = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { e v e n t s : { ' c l i c k   b u t t o n ' : ' _ s e n d M a i l ' , } , _ s e n d M a i l : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   i n p u t = t h i s . $ ( ' i n p u t ' ) ; v a r   s l i d e I D = t h i s . $ ( ' b u t t o n ' ) . d a t a ( ' s l i d e - i d ' ) ; i f ( i n p u t . v a l ( ) & & i n p u t [ 0 ] . c h e c k V a l i d i t y ( ) ) { t h i s . $ e l . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / s e n d _ s h a r e _ e m a i l ' , p a r a m s : { s l i d e _ i d : s l i d e I D , e m a i l : i n p u t . v a l ( ) , } , } ) . t h e n ( f u n c t i o n ( ) { s e l f . $ e l . h t m l ( $ ( ' < d i v   c l a s s = " a l e r t   a l e r t - i n f o "   r o l e = " a l e r t " > < s t r o n g > T h a n k   y o u ! < / s t r o n g >   M a i l   h a s   b e e n   s e n t . < / d i v > ' ) ) ; } ) ; } e l s e { t h i s . $ e l . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; i n p u t . f o c u s ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s S h a r e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p ' , e v e n t s : { ' c l i c k   a . o _ w s l i d e s _ j s _ s o c i a l _ s h a r e ' : ' _ o n S l i d e s S o c i a l S h a r e ' , ' c l i c k   . o _ c l i p b o a r d _ b u t t o n ' : ' _ o n S h a r e L i n k C o p y ' , } , s t a r t : f u n c t i o n ( p a r e n t ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; d e f s . p u s h ( n e w   S h a r e M a i l ( t h i s ) . a t t a c h T o ( $ ( ' . o e _ s l i d e _ j s _ s h a r e _ e m a i l ' ) ) ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ o n S l i d e s S o c i a l S h a r e : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   p o p U p U R L = $ ( e v . c u r r e n t T a r g e t ) . a t t r ( ' h r e f ' ) ; v a r   p o p U p = w i n d o w . o p e n ( p o p U p U R L , ' S h a r e   D i a l o g ' , ' w i d t h = 6 2 6 , h e i g h t = 4 3 6 ' ) ; $ ( w i n d o w ) . o n ( ' f o c u s ' , f u n c t i o n ( ) { i f ( p o p U p . c l o s e d ) { $ ( w i n d o w ) . o f f ( ' f o c u s ' ) ; } } ) ; } , _ o n S h a r e L i n k C o p y : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   $ c l i p b o a r d B t n = $ ( e v . c u r r e n t T a r g e t ) ; $ c l i p b o a r d B t n . t o o l t i p ( { t i t l e : " C o p i e d   ! " , t r i g g e r : " m a n u a l " , p l a c e m e n t : " b o t t o m " } ) ; v a r   s e l f = t h i s ; v a r   c l i p b o a r d = n e w   C l i p b o a r d J S ( ' # ' + $ c l i p b o a r d B t n [ 0 ] . i d , { t a r g e t : f u n c t i o n ( ) { v a r   s h a r e _ l i n k _ e l = s e l f . $ ( ' # w s l i d e s _ s h a r e _ l i n k _ i d _ ' + $ c l i p b o a r d B t n [ 0 ] . i d . s p l i t ( ' i d _ ' ) [ 1 ] ) ; r e t u r n   s h a r e _ l i n k _ e l [ 0 ] ; } , c o n t a i n e r : t h i s . e l } ) ; c l i p b o a r d . o n ( ' s u c c e s s ' , f u n c t i o n ( ) { c l i p b o a r d . d e s t r o y ( ) ; $ c l i p b o a r d B t n . t o o l t i p ( ' s h o w ' ) ; _ . d e l a y ( f u n c t i o n ( ) { $ c l i p b o a r d B t n . t o o l t i p ( " h i d e " ) ; } , 8 0 0 ) ; } ) ; c l i p b o a r d . o n ( ' e r r o r ' , f u n c t i o n ( e ) { c o n s o l e . l o g ( e ) ; c l i p b o a r d . d e s t r o y ( ) ; } ) } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ u p l o a d . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . u p l o a d _ m o d a l ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   S l i d e U p l o a d D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s l i d e . u p l o a d . m o d a l ' , e v e n t s : _ . e x t e n d ( { } , D i a l o g . p r o t o t y p e . e v e n t s , { ' c l i c k   . o _ w s l i d e s _ j s _ u p l o a d _ i n s t a l l _ b u t t o n ' : ' _ o n C l i c k I n s t a l l M o d u l e ' , ' c l i c k   . o _ w s l i d e s _ s e l e c t _ t y p e ' : ' _ o n C l i c k S l i d e T y p e I c o n ' , ' c h a n g e   i n p u t # u p l o a d ' : ' _ o n C h a n g e S l i d e U p l o a d ' , ' c h a n g e   i n p u t # u r l ' : ' _ o n C h a n g e S l i d e U r l ' , } ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : _ t ( " U p l o a d   a   d o c u m e n t " ) , s i z e : ' m e d i u m ' , } ) ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; t h i s . _ s e t u p ( ) ; t h i s . c h a n n e l I D = p a r s e I n t ( o p t i o n s . c h a n n e l I d , 1 0 ) ; t h i s . d e f a u l t C a t e g o r y I D = p a r s e I n t ( o p t i o n s . c a t e g o r y I d , 1 0 ) ; t h i s . c a n U p l o a d = o p t i o n s . c a n U p l o a d = = = ' T r u e ' ; t h i s . c a n P u b l i s h = o p t i o n s . c a n P u b l i s h = = = ' T r u e ' ; t h i s . m o d u l e s T o I n s t a l l = o p t i o n s . m o d u l e s T o I n s t a l l ? J S O N . p a r s e ( o p t i o n s . m o d u l e s T o I n s t a l l . r e p l a c e ( / ' / g , ' " ' ) ) : n u l l ; t h i s . m o d u l e s T o I n s t a l l S t a t u s = n u l l ; t h i s . s e t ( ' s t a t e ' , ' _ s e l e c t ' ) ; t h i s . o n ( ' c h a n g e : s t a t e ' , t h i s , t h i s . _ o n C h a n g e T y p e ) ; t h i s . s e t ( ' c a n _ s u b m i t _ f o r m ' , f a l s e ) ; t h i s . o n ( ' c h a n g e : c a n _ s u b m i t _ f o r m ' , t h i s , t h i s . _ o n C h a n g e C a n S u b m i t F o r m ) ; t h i s . f i l e = { } ; t h i s . i s V a l i d U r l = t r u e ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . _ r e s e t M o d a l B u t t o n ( ) ; } ) ; } , _ a l e r t D i s p l a y : f u n c t i o n ( m e s s a g e ) { t h i s . _ a l e r t R e m o v e ( ) ; $ ( ' < d i v / > ' , { " c l a s s " : ' a l e r t   a l e r t - w a r n i n g ' , i d : ' u p l o a d - a l e r t ' , r o l e : ' a l e r t ' } ) . t e x t ( m e s s a g e ) . i n s e r t B e f o r e ( t h i s . $ ( ' f o r m ' ) ) ; } , _ a l e r t R e m o v e : f u n c t i o n ( ) { t h i s . $ ( ' # u p l o a d - a l e r t ' ) . r e m o v e ( ) ; } , _ b i n d S e l e c t 2 D r o p d o w n : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ ( ' # c a t e g o r y _ i d ' ) . s e l e c t 2 ( t h i s . _ s e l e c t 2 W r a p p e r ( _ t ( ' S e c t i o n ' ) , f a l s e , f u n c t i o n ( ) { r e t u r n   s e l f . _ r p c ( { r o u t e : ' / s l i d e s / c a t e g o r y / s e a r c h _ r e a d ' , p a r a m s : { f i e l d s : [ ' n a m e ' ] , d o m a i n : [ [ ' c h a n n e l _ i d ' , ' = ' , s e l f . c h a n n e l I D ] ] , } } ) ; } ) ) ; t h i s . $ ( ' # t a g _ i d s ' ) . s e l e c t 2 ( t h i s . _ s e l e c t 2 W r a p p e r ( _ t ( ' T a g s ' ) , t r u e , f u n c t i o n ( ) { r e t u r n   s e l f . _ r p c ( { r o u t e : ' / s l i d e s / t a g / s e a r c h _ r e a d ' , p a r a m s : { f i e l d s : [ ' n a m e ' ] , d o m a i n : [ ] , } } ) ; } ) ) ; } , _ f e t c h U r l P r e v i e w : f u n c t i o n ( u r l ) { r e t u r n   t h i s . _ r p c ( { r o u t e : ' / s l i d e s / p r e p a r e _ p r e v i e w / ' , p a r a m s : { ' u r l ' : u r l , ' c h a n n e l _ i d ' : t h i s . c h a n n e l I D } , } ) ; } , _ f o r m S e t F i e l d V a l u e : f u n c t i o n ( f i e l d I d , v a l u e ) { t h i s . $ ( ' f o r m ' ) . f i n d ( ' # ' + f i e l d I d ) . v a l ( v a l u e ) ; } , _ f o r m G e t F i e l d V a l u e : f u n c t i o n ( f i e l d I d ) { r e t u r n   t h i s . $ ( ' # ' + f i e l d I d ) . v a l ( ) ; } , _ f o r m V a l i d a t e : f u n c t i o n ( ) { v a r   f o r m = t h i s . $ ( " f o r m " ) ; f o r m . a d d C l a s s ( ' w a s - v a l i d a t e d ' ) ; r e t u r n   f o r m [ 0 ] . c h e c k V a l i d i t y ( ) & & t h i s . i s V a l i d U r l ; } , _ f o r m V a l i d a t e G e t V a l u e s : f u n c t i o n ( f o r c e P u b l i s h e d ) { v a r   c a n v a s = t h i s . $ ( ' # d a t a _ c a n v a s ' ) [ 0 ] ; v a r   v a l u e s = _ . e x t e n d ( { ' c h a n n e l _ i d ' : t h i s . c h a n n e l I D , ' n a m e ' : t h i s . _ f o r m G e t F i e l d V a l u e ( ' n a m e ' ) , ' u r l ' : t h i s . _ f o r m G e t F i e l d V a l u e ( ' u r l ' ) , ' d e s c r i p t i o n ' : t h i s . _ f o r m G e t F i e l d V a l u e ( ' d e s c r i p t i o n ' ) , ' d u r a t i o n ' : t h i s . _ f o r m G e t F i e l d V a l u e ( ' d u r a t i o n ' ) , ' i s _ p u b l i s h e d ' : f o r c e P u b l i s h e d , } , t h i s . _ g e t S e l e c t 2 D r o p d o w n V a l u e s ( ) ) ; i f ( _ . c o n t a i n s ( t h i s . s l i d e _ t y p e _ d a t a ) , t h i s . g e t ( ' s t a t e ' ) ) { v a l u e s [ ' s l i d e _ t y p e ' ] = t h i s . g e t ( ' s t a t e ' ) ; } 
 i f ( t h i s . f i l e . t y p e = = = ' a p p l i c a t i o n / p d f ' ) { _ . e x t e n d ( v a l u e s , { ' i m a g e _ 1 9 2 0 ' : c a n v a s . t o D a t a U R L ( ) . s p l i t ( ' , ' ) [ 1 ] , ' s l i d e _ t y p e ' : c a n v a s . h e i g h t > c a n v a s . w i d t h ? ' d o c u m e n t ' : ' p r e s e n t a t i o n ' , ' m i m e _ t y p e ' : t h i s . f i l e . t y p e , ' d a t a s ' : t h i s . f i l e . d a t a } ) ; } e l s e   i f ( v a l u e s [ ' s l i d e _ t y p e ' ] = = = ' w e b p a g e ' ) { _ . e x t e n d ( v a l u e s , { ' m i m e _ t y p e ' : ' t e x t / h t m l ' , ' i m a g e _ 1 9 2 0 ' : t h i s . f i l e . t y p e = = = ' i m a g e / s v g + x m l ' ? t h i s . _ s v g T o P n g ( ) : t h i s . f i l e . d a t a , } ) ; } e l s e   i f ( / ^ i m a g e \ / . * / . t e s t ( t h i s . f i l e . t y p e ) ) { i f ( v a l u e s [ ' s l i d e _ t y p e ' ] = = = ' p r e s e n t a t i o n ' ) { _ . e x t e n d ( v a l u e s , { ' s l i d e _ t y p e ' : ' i n f o g r a p h i c ' , ' m i m e _ t y p e ' : t h i s . f i l e . t y p e = = = ' i m a g e / s v g + x m l ' ? ' i m a g e / p n g ' : t h i s . f i l e . t y p e , ' d a t a s ' : t h i s . f i l e . t y p e = = = ' i m a g e / s v g + x m l ' ? t h i s . _ s v g T o P n g ( ) : t h i s . f i l e . d a t a } ) ; } e l s e { _ . e x t e n d ( v a l u e s , { ' i m a g e _ 1 9 2 0 ' : t h i s . f i l e . t y p e = = = ' i m a g e / s v g + x m l ' ? t h i s . _ s v g T o P n g ( ) : t h i s . f i l e . d a t a , } ) ; } } 
 r e t u r n   v a l u e s ; } , _ f i l e R e s e t : f u n c t i o n ( ) { v a r   c o n t r o l = t h i s . $ ( ' # u p l o a d ' ) ; c o n t r o l . r e p l a c e W i t h ( c o n t r o l = c o n t r o l . c l o n e ( t r u e ) ) ; t h i s . f i l e . n a m e = f a l s e ; } , _ g e t M o d a l B u t t o n s : f u n c t i o n ( ) { v a r   b t n L i s t = [ ] ; v a r   s t a t e = t h i s . g e t ( ' s t a t e ' ) ; i f ( s t a t e = = = ' _ s e l e c t ' ) { b t n L i s t . p u s h ( { t e x t : _ t ( " C a n c e l " ) , c l a s s e s : ' o _ w _ s l i d e _ c a n c e l ' , c l o s e : t r u e } ) ; } e l s e   i f ( s t a t e = = = ' _ i m p o r t ' ) { i f ( ! t h i s . m o d u l e s T o I n s t a l l S t a t u s . i n s t a l l i n g ) { b t n L i s t . p u s h ( { t e x t : t h i s . m o d u l e s T o I n s t a l l S t a t u s . f a i l e d ? _ t ( " R e t r y " ) : _ t ( " I n s t a l l " ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . _ o n C l i c k I n s t a l l M o d u l e C o n f i r m . b i n d ( t h i s ) } ) ; } 
 b t n L i s t . p u s h ( { t e x t : _ t ( " D i s c a r d " ) , c l a s s e s : ' o _ w _ s l i d e _ g o _ b a c k ' , c l i c k : t h i s . _ o n C l i c k G o B a c k . b i n d ( t h i s ) } ) ; } e l s e   i f ( s t a t e ! = = ' _ u p l o a d ' ) { i f ( t h i s . c a n U p l o a d ) { i f ( t h i s . c a n P u b l i s h ) { b t n L i s t . p u s h ( { t e x t : _ t ( " S a v e   &   P u b l i s h " ) , c l a s s e s : ' b t n - p r i m a r y   o _ w _ s l i d e _ u p l o a d   o _ w _ s l i d e _ u p l o a d _ p u b l i s h e d ' , c l i c k : t h i s . _ o n C l i c k F o r m S u b m i t . b i n d ( t h i s ) } ) ; b t n L i s t . p u s h ( { t e x t : _ t ( " S a v e " ) , c l a s s e s : ' o _ w _ s l i d e _ u p l o a d ' , c l i c k : t h i s . _ o n C l i c k F o r m S u b m i t . b i n d ( t h i s ) } ) ; } e l s e { b t n L i s t . p u s h ( { t e x t : _ t ( " S a v e " ) , c l a s s e s : ' b t n - p r i m a r y   o _ w _ s l i d e _ u p l o a d ' , c l i c k : t h i s . _ o n C l i c k F o r m S u b m i t . b i n d ( t h i s ) } ) ; } } 
 b t n L i s t . p u s h ( { t e x t : _ t ( " D i s c a r d " ) , c l a s s e s : ' o _ w _ s l i d e _ g o _ b a c k ' , c l i c k : t h i s . _ o n C l i c k G o B a c k . b i n d ( t h i s ) } ) ; } 
 r e t u r n   b t n L i s t ; } , _ g e t S e l e c t 2 D r o p d o w n V a l u e s : f u n c t i o n ( ) { v a r   r e s u l t = { } ; v a r   s e l f = t h i s ; v a r   t a g V a l u e s = [ ] ; _ . e a c h ( t h i s . $ ( ' # t a g _ i d s ' ) . s e l e c t 2 ( ' d a t a ' ) , f u n c t i o n ( v a l ) { i f ( v a l . c r e a t e ) { t a g V a l u e s . p u s h ( [ 0 , 0 , { ' n a m e ' : v a l . t e x t } ] ) ; } e l s e { t a g V a l u e s . p u s h ( [ 4 , v a l . i d ] ) ; } } ) ; i f ( t a g V a l u e s ) { r e s u l t [ ' t a g _ i d s ' ] = t a g V a l u e s ; } 
 i f ( ! s e l f . d e f a u l t C a t e g o r y I D ) { v a r   c a t e g o r y V a l u e = t h i s . $ ( ' # c a t e g o r y _ i d ' ) . s e l e c t 2 ( ' d a t a ' ) ; i f ( c a t e g o r y V a l u e & & c a t e g o r y V a l u e . c r e a t e ) { r e s u l t [ ' c a t e g o r y _ i d ' ] = [ 0 , { ' n a m e ' : c a t e g o r y V a l u e . t e x t } ] ; } e l s e   i f ( c a t e g o r y V a l u e ) { r e s u l t [ ' c a t e g o r y _ i d ' ] = [ c a t e g o r y V a l u e . i d ] ; t h i s . c a t e g o r y I D = c a t e g o r y V a l u e . i d ; } } e l s e { r e s u l t [ ' c a t e g o r y _ i d ' ] = [ s e l f . d e f a u l t C a t e g o r y I D ] ; t h i s . c a t e g o r y I D = s e l f . d e f a u l t C a t e g o r y I D ; } 
 r e t u r n   r e s u l t ; } , _ r e s e t M o d a l B u t t o n : f u n c t i o n ( ) { t h i s . s e t _ b u t t o n s ( t h i s . _ g e t M o d a l B u t t o n s ( ) ) ; } , _ s e l e c t 2 W r a p p e r : f u n c t i o n ( t a g , m u l t i , f e t c h F N C , n a m e K e y ) { n a m e K e y = n a m e K e y | | ' n a m e ' ; v a r   v a l u e s = { w i d t h : ' 1 0 0 % ' , p l a c e h o l d e r : t a g , a l l o w C l e a r : t r u e , f o r m a t N o M a t c h e s : f a l s e , s e l e c t i o n _ d a t a : f a l s e , f e t c h _ r p c _ f n c : f e t c h F N C , f o r m a t S e l e c t i o n : f u n c t i o n ( d a t a ) { i f ( d a t a . t a g ) { d a t a . t e x t = d a t a . t a g ; } 
 r e t u r n   d a t a . t e x t ; } , c r e a t e S e a r c h C h o i c e : f u n c t i o n ( t e r m , d a t a ) { v a r   a d d e d T a g s = $ ( t h i s . o p t s . e l e m e n t ) . s e l e c t 2 ( ' d a t a ' ) ; i f ( _ . f i l t e r ( _ . u n i o n ( a d d e d T a g s , d a t a ) , f u n c t i o n ( t a g ) { r e t u r n   t a g . t e x t . t o L o w e r C a s e ( ) . l o c a l e C o m p a r e ( t e r m . t o L o w e r C a s e ( ) ) = = = 0 ; } ) . l e n g t h = = = 0 ) { i f ( t h i s . o p t s . c a n _ c r e a t e ) { r e t u r n { i d : _ . u n i q u e I d ( ' t a g _ ' ) , c r e a t e : t r u e , t a g : t e r m , t e x t : _ . s t r . s p r i n t f ( _ t ( " C r e a t e   n e w   % s   ' % s ' " ) , t a g , t e r m ) , } ; } e l s e { r e t u r n   u n d e f i n e d ; } } } , f i l l _ d a t a : f u n c t i o n ( q u e r y , d a t a ) { v a r   s e l f = t h i s , t a g s = { r e s u l t s : [ ] } ; _ . e a c h ( d a t a , f u n c t i o n ( o b j ) { i f ( s e l f . m a t c h e r ( q u e r y . t e r m , o b j [ n a m e K e y ] ) ) { t a g s . r e s u l t s . p u s h ( { i d : o b j . i d , t e x t : o b j [ n a m e K e y ] } ) ; } } ) ; q u e r y . c a l l b a c k ( t a g s ) ; } , q u e r y : f u n c t i o n ( q u e r y ) { v a r   s e l f = t h i s ; i f ( ! t h i s . s e l e c t i o n _ d a t a ) { t h i s . f e t c h _ r p c _ f n c ( ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . c a n _ c r e a t e = d a t a . c a n _ c r e a t e ; s e l f . f i l l _ d a t a ( q u e r y , d a t a . r e a d _ r e s u l t s ) ; s e l f . s e l e c t i o n _ d a t a = d a t a . r e a d _ r e s u l t s ; } ) ; } e l s e { t h i s . f i l l _ d a t a ( q u e r y , t h i s . s e l e c t i o n _ d a t a ) ; } } } ; i f ( m u l t i ) { v a l u e s [ ' m u l t i p l e ' ] = t r u e ; } 
 r e t u r n   v a l u e s ; } , _ s e t u p : f u n c t i o n ( ) { t h i s . s l i d e _ t y p e _ d a t a = { p r e s e n t a t i o n : { i c o n : ' f a - f i l e - p d f - o ' , l a b e l : _ t ( ' P r e s e n t a t i o n ' ) , t e m p l a t e : ' w e b s i t e . s l i d e . u p l o a d . m o d a l . p r e s e n t a t i o n ' , } , w e b p a g e : { i c o n : ' f a - f i l e - t e x t ' , l a b e l : _ t ( ' W e b   P a g e ' ) , t e m p l a t e : ' w e b s i t e . s l i d e . u p l o a d . m o d a l . w e b p a g e ' , } , v i d e o : { i c o n : ' f a - v i d e o - c a m e r a ' , l a b e l : _ t ( ' V i d e o ' ) , t e m p l a t e : ' w e b s i t e . s l i d e . u p l o a d . m o d a l . v i d e o ' , } , q u i z : { i c o n : ' f a - q u e s t i o n - c i r c l e ' , l a b e l : _ t ( ' Q u i z ' ) , t e m p l a t e : ' w e b s i t e . s l i d e . u p l o a d . q u i z ' } } ; } , _ s h o w P r e v i e w C o l u m n : f u n c t i o n ( ) { t h i s . $ ( ' . o _ s l i d e _ t u t o r i a l ' ) . a d d C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' . o _ s l i d e _ p r e v i e w ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } , _ h i d e P r e v i e w C o l u m n : f u n c t i o n ( ) { t h i s . $ ( ' . o _ s l i d e _ t u t o r i a l ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' . o _ s l i d e _ p r e v i e w ' ) . a d d C l a s s ( ' d - n o n e ' ) ; } , _ s v g T o P n g : f u n c t i o n ( ) { v a r   i m g = t h i s . $ e l . f i n d ( ' i m g # s l i d e - i m a g e ' ) [ 0 ] ; v a r   c a n v a s = d o c u m e n t . c r e a t e E l e m e n t ( ' c a n v a s ' ) ; c a n v a s . w i d t h = i m g . w i d t h ; c a n v a s . h e i g h t = i m g . h e i g h t ; c a n v a s . g e t C o n t e x t ( ' 2 d ' ) . d r a w I m a g e ( i m g , 0 , 0 ) ; r e t u r n   c a n v a s . t o D a t a U R L ( ' i m a g e / p n g ' ) . s p l i t ( ' , ' ) [ 1 ] ; } , _ o n C h a n g e T y p e : f u n c t i o n ( ) { v a r   c u r r e n t T y p e = t h i s . g e t ( ' s t a t e ' ) ; v a r   t m p l ; t h i s . $ m o d a l . f i n d ( ' . m o d a l - d i a l o g ' ) . r e m o v e C l a s s ( ' m o d a l - l g ' ) ; i f ( c u r r e n t T y p e = = = ' _ s e l e c t ' ) { t m p l = ' w e b s i t e . s l i d e . u p l o a d . m o d a l . s e l e c t ' ; } e l s e   i f ( c u r r e n t T y p e = = = ' _ u p l o a d ' ) { t m p l = ' w e b s i t e . s l i d e . u p l o a d . m o d a l . u p l o a d i n g ' ; } e l s e   i f ( c u r r e n t T y p e = = = ' _ i m p o r t ' ) { t m p l = ' w e b s i t e . s l i d e . u p l o a d . m o d a l . i m p o r t ' ; } e l s e { t m p l = t h i s . s l i d e _ t y p e _ d a t a [ c u r r e n t T y p e ] [ ' t e m p l a t e ' ] ; t h i s . $ m o d a l . f i n d ( ' . m o d a l - d i a l o g ' ) . a d d C l a s s ( ' m o d a l - l g ' ) ; } 
 t h i s . $ ( ' . o _ w _ s l i d e _ u p l o a d _ m o d a l _ c o n t a i n e r ' ) . e m p t y ( ) ; t h i s . $ ( ' . o _ w _ s l i d e _ u p l o a d _ m o d a l _ c o n t a i n e r ' ) . a p p e n d ( Q W e b . r e n d e r ( t m p l , { w i d g e t : t h i s } ) ) ; t h i s . _ r e s e t M o d a l B u t t o n ( ) ; i f ( c u r r e n t T y p e = = = ' _ i m p o r t ' ) { t h i s . s e t _ t i t l e ( _ t ( " N e w   C e r t i f i c a t i o n " ) ) ; } e l s e { t h i s . s e t _ t i t l e ( _ t ( " U p l o a d   a   d o c u m e n t " ) ) ; } } , _ o n C h a n g e C a n S u b m i t F o r m : f u n c t i o n ( e v ) { i f ( t h i s . g e t ( ' c a n _ s u b m i t _ f o r m ' ) ) { t h i s . $ ( ' . o _ w _ s l i d e _ u p l o a d ' ) . b u t t o n ( ' r e s e t ' ) ; } e l s e { t h i s . $ ( ' . o _ w _ s l i d e _ u p l o a d ' ) . b u t t o n ( ' l o a d i n g ' ) ; } } , _ o n C h a n g e S l i d e U p l o a d : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; t h i s . _ a l e r t R e m o v e ( ) ; v a r   $ i n p u t = $ ( e v . c u r r e n t T a r g e t ) ; v a r   p r e v e n t O n c h a n g e = $ i n p u t . d a t a ( ' p r e v e n t O n c h a n g e ' ) ; v a r   $ p r e v i e w = s e l f . $ ( ' # s l i d e - i m a g e ' ) ; v a r   f i l e = e v . t a r g e t . f i l e s [ 0 ] ; i f ( ! f i l e ) { t h i s . $ ( ' # s l i d e - i m a g e ' ) . a t t r ( ' s r c ' , ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / i m g / d o c u m e n t . p n g ' ) ; t h i s . _ h i d e P r e v i e w C o l u m n ( ) ; r e t u r n ; } 
 v a r   i s I m a g e = / ^ i m a g e \ / . * / . t e s t ( f i l e . t y p e ) ; v a r   l o a d e d = f a l s e ; t h i s . f i l e . n a m e = f i l e . n a m e ; t h i s . f i l e . t y p e = f i l e . t y p e ; i f ( ! ( i s I m a g e | | t h i s . f i l e . t y p e = = = ' a p p l i c a t i o n / p d f ' ) ) { t h i s . _ a l e r t D i s p l a y ( _ t ( " I n v a l i d   f i l e   t y p e .   P l e a s e   s e l e c t   p d f   o r   i m a g e   f i l e " ) ) ; t h i s . _ f i l e R e s e t ( ) ; t h i s . _ h i d e P r e v i e w C o l u m n ( ) ; r e t u r n ; } 
 i f ( f i l e . s i z e / 1 0 2 4 / 1 0 2 4 > 2 5 ) { t h i s . _ a l e r t D i s p l a y ( _ t ( " F i l e   i s   t o o   b i g .   F i l e   s i z e   c a n n o t   e x c e e d   2 5 M B " ) ) ; t h i s . _ f i l e R e s e t ( ) ; t h i s . _ h i d e P r e v i e w C o l u m n ( ) ; r e t u r n ; } 
 u t i l s . g e t D a t a U R L F r o m F i l e ( f i l e ) . t h e n ( f u n c t i o n ( b u f f e r ) { i f ( i s I m a g e ) { $ p r e v i e w . a t t r ( ' s r c ' , b u f f e r ) ; } 
 b u f f e r = b u f f e r . s p l i t ( ' , ' ) [ 1 ] ; s e l f . f i l e . d a t a = b u f f e r ; s e l f . _ s h o w P r e v i e w C o l u m n ( ) ; } ) ; i f ( f i l e . t y p e = = = ' a p p l i c a t i o n / p d f ' ) { v a r   A r r a y R e a d e r = n e w   F i l e R e a d e r ( ) ; t h i s . s e t ( ' c a n _ s u b m i t _ f o r m ' , f a l s e ) ; A r r a y R e a d e r . r e a d A s A r r a y B u f f e r ( f i l e ) ; A r r a y R e a d e r . o n l o a d = f u n c t i o n ( e v t ) { v a r   b u f f e r = e v t . t a r g e t . r e s u l t ; v a r   p a s s w o r d N e e d e d = f u n c t i o n ( ) { s e l f . _ a l e r t D i s p l a y ( _ t ( " Y o u   c a n   n o t   u p l o a d   p a s s w o r d   p r o t e c t e d   f i l e . " ) ) ; s e l f . _ f i l e R e s e t ( ) ; s e l f . s e t ( ' c a n _ s u b m i t _ f o r m ' , t r u e ) ; } ; U t i l = w i n d o w . p d f j s L i b . U t i l ; w i n d o w . p d f j s L i b . g e t D o c u m e n t ( n e w   U i n t 8 A r r a y ( b u f f e r ) , n u l l , p a s s w o r d N e e d e d ) . t h e n ( f u n c t i o n   g e t P d f ( p d f ) { s e l f . _ f o r m S e t F i e l d V a l u e ( ' d u r a t i o n ' , ( p d f . _ p d f I n f o . n u m P a g e s | | 0 ) * 5 ) ; p d f . g e t P a g e ( 1 ) . t h e n ( f u n c t i o n   g e t F i r s t P a g e ( p a g e ) { v a r   s c a l e = 1 ; v a r   v i e w p o r t = p a g e . g e t V i e w p o r t ( s c a l e ) ; v a r   c a n v a s = d o c u m e n t . g e t E l e m e n t B y I d ( ' d a t a _ c a n v a s ' ) ; v a r   c o n t e x t = c a n v a s . g e t C o n t e x t ( ' 2 d ' ) ; c a n v a s . h e i g h t = v i e w p o r t . h e i g h t ; c a n v a s . w i d t h = v i e w p o r t . w i d t h ; p a g e . r e n d e r ( { c a n v a s C o n t e x t : c o n t e x t , v i e w p o r t : v i e w p o r t } ) . t h e n ( f u n c t i o n ( ) { v a r   i m a g e D a t a = s e l f . $ ( ' # d a t a _ c a n v a s ' ) [ 0 ] . t o D a t a U R L ( ) ; $ p r e v i e w . a t t r ( ' s r c ' , i m a g e D a t a ) ; i f ( l o a d e d ) { s e l f . s e t ( ' c a n _ s u b m i t _ f o r m ' , t r u e ) ; } 
 l o a d e d = t r u e ; s e l f . _ s h o w P r e v i e w C o l u m n ( ) ; } ) ; } ) ; } ) ; } ; } 
 i f ( ! p r e v e n t O n c h a n g e ) { v a r   i n p u t = f i l e . n a m e ; v a r   i n p u t V a l = i n p u t . s u b s t r ( 0 , i n p u t . l a s t I n d e x O f ( ' . ' ) ) | | i n p u t ; i f ( t h i s . _ f o r m G e t F i e l d V a l u e ( ' n a m e ' ) = = = " " ) { t h i s . _ f o r m S e t F i e l d V a l u e ( ' n a m e ' , i n p u t V a l ) ; } } } , _ o n C h a n g e S l i d e U r l : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   u r l = $ ( e v . t a r g e t ) . v a l ( ) ; t h i s . _ a l e r t R e m o v e ( ) ; t h i s . i s V a l i d U r l = f a l s e ; t h i s . s e t ( ' c a n _ s u b m i t _ f o r m ' , f a l s e ) ; t h i s . _ f e t c h U r l P r e v i e w ( u r l ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . s e t ( ' c a n _ s u b m i t _ f o r m ' , t r u e ) ; i f ( d a t a . e r r o r ) { s e l f . _ a l e r t D i s p l a y ( d a t a . e r r o r ) ; } e l s e { i f ( d a t a . c o m p l e t i o n _ t i m e ) { s e l f . _ f o r m S e t F i e l d V a l u e ( ' d u r a t i o n ' , M a t h . r o u n d ( d a t a . c o m p l e t i o n _ t i m e * 6 0 ) ) ; } 
 s e l f . $ ( ' # s l i d e - i m a g e ' ) . a t t r ( ' s r c ' , d a t a . u r l _ s r c ) ; s e l f . _ f o r m S e t F i e l d V a l u e ( ' n a m e ' , d a t a . t i t l e ) ; s e l f . _ f o r m S e t F i e l d V a l u e ( ' d e s c r i p t i o n ' , d a t a . d e s c r i p t i o n ) ; s e l f . i s V a l i d U r l = t r u e ; s e l f . _ s h o w P r e v i e w C o l u m n ( ) ; } } ) ; } , _ o n C l i c k I n s t a l l M o d u l e : f u n c t i o n ( e v ) { v a r   $ b t n = $ ( e v . c u r r e n t T a r g e t ) ; v a r   m o d u l e I d = $ b t n . d a t a ( ' m o d u l e I d ' ) ; i f ( t h i s . m o d u l e s T o I n s t a l l S t a t u s ) { t h i s . s e t ( ' s t a t e ' , ' _ i m p o r t ' ) ; i f ( t h i s . m o d u l e s T o I n s t a l l S t a t u s . i n s t a l l i n g ) { t h i s . $ ( ' # o _ w s l i d e s _ i n s t a l l _ m o d u l e _ t e x t ' ) . t e x t ( _ . s t r . s p r i n t f ( _ t ( ' A l r e a d y   i n s t a l l i n g   " % s " . ' ) , t h i s . m o d u l e s T o I n s t a l l S t a t u s . n a m e ) ) ; } e l s e   i f ( t h i s . m o d u l e s T o I n s t a l l S t a t u s . f a i l e d ) { t h i s . $ ( ' # o _ w s l i d e s _ i n s t a l l _ m o d u l e _ t e x t ' ) . t e x t ( _ . s t r . s p r i n t f ( _ t ( ' F a i l e d   t o   i n s t a l l   " % s " . ' ) , t h i s . m o d u l e s T o I n s t a l l S t a t u s . n a m e ) ) ; } } e l s e { t h i s . m o d u l e s T o I n s t a l l S t a t u s = _ . e x t e n d ( { } , _ . f i n d ( t h i s . m o d u l e s T o I n s t a l l , f u n c t i o n ( i t e m ) { r e t u r n   i t e m . i d = = = m o d u l e I d ; } ) ) ; t h i s . s e t ( ' s t a t e ' , ' _ i m p o r t ' ) ; t h i s . $ ( ' # o _ w s l i d e s _ i n s t a l l _ m o d u l e _ t e x t ' ) . t e x t ( _ . s t r . s p r i n t f ( _ t ( ' D o   y o u   w a n t   t o   i n s t a l l   t h e   " % s "   a p p ? ' ) , t h i s . m o d u l e s T o I n s t a l l S t a t u s . n a m e ) ) ; } } , _ o n C l i c k I n s t a l l M o d u l e C o n f i r m : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   $ e l = t h i s . $ ( ' # o _ w s l i d e s _ i n s t a l l _ m o d u l e _ t e x t ' ) ; $ e l . t e x t ( _ . s t r . s p r i n t f ( _ t ( ' I n s t a l l i n g   " % s " . ' ) , t h i s . m o d u l e s T o I n s t a l l S t a t u s . n a m e ) ) ; t h i s . m o d u l e s T o I n s t a l l S t a t u s . i n s t a l l i n g = t r u e ; t h i s . _ r e s e t M o d a l B u t t o n ( ) ; t h i s . _ r p c ( { m o d e l : ' i r . m o d u l e . m o d u l e ' , m e t h o d : ' b u t t o n _ i m m e d i a t e _ i n s t a l l ' , a r g s : [ [ t h i s . m o d u l e s T o I n s t a l l S t a t u s . i d ] ] , } ) . t h e n ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = w i n d o w . l o c a t i o n . o r i g i n + w i n d o w . l o c a t i o n . p a t h n a m e + ' ? e n a b l e _ s l i d e _ u p l o a d ' ; } , f u n c t i o n ( ) { $ e l . t e x t ( _ . s t r . s p r i n t f ( _ t ( ' F a i l e d   t o   i n s t a l l   " % s " . ' ) , s e l f . m o d u l e s T o I n s t a l l S t a t u s . n a m e ) ) ; s e l f . m o d u l e s T o I n s t a l l S t a t u s . i n s t a l l i n g = f a l s e ; s e l f . m o d u l e s T o I n s t a l l S t a t u s . f a i l e d = t r u e ; s e l f . _ r e s e t M o d a l B u t t o n ( ) ; } ) ; } , _ o n C l i c k G o B a c k : f u n c t i o n ( ) { t h i s . s e t ( ' s t a t e ' , ' _ s e l e c t ' ) ; t h i s . i s V a l i d U r l = t r u e ; i f ( t h i s . m o d u l e s T o I n s t a l l S t a t u s & & ! t h i s . m o d u l e s T o I n s t a l l S t a t u s . i n s t a l l i n g ) { t h i s . m o d u l e s T o I n s t a l l S t a t u s = n u l l ; } } , _ o n C l i c k F o r m S u b m i t : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   $ b t n = $ ( e v . c u r r e n t T a r g e t ) ; i f ( t h i s . _ f o r m V a l i d a t e ( ) ) { v a r   v a l u e s = t h i s . _ f o r m V a l i d a t e G e t V a l u e s ( $ b t n . h a s C l a s s ( ' o _ w _ s l i d e _ u p l o a d _ p u b l i s h e d ' ) ) ; v a r   o l d T y p e = t h i s . g e t ( ' s t a t e ' ) ; t h i s . s e t ( ' s t a t e ' , ' _ u p l o a d ' ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / s l i d e s / a d d _ s l i d e ' , p a r a m s : v a l u e s , } ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . _ o n F o r m S u b m i t D o n e ( d a t a , o l d T y p e ) ; } ) ; } } , _ o n F o r m S u b m i t D o n e : f u n c t i o n ( d a t a , o l d T y p e ) { i f ( d a t a . e r r o r ) { t h i s . s e t ( ' s t a t e ' , o l d T y p e ) ; t h i s . _ a l e r t D i s p l a y ( d a t a . e r r o r ) ; } e l s e { w i n d o w . l o c a t i o n = d a t a . u r l ; } } , _ o n C l i c k S l i d e T y p e I c o n : f u n c t i o n ( e v ) { v a r   $ e l e m = t h i s . $ ( e v . c u r r e n t T a r g e t ) ; v a r   s l i d e T y p e = $ e l e m . d a t a ( ' s l i d e T y p e ' ) ; t h i s . s e t ( ' s t a t e ' , s l i d e T y p e ) ; t h i s . _ b i n d S e l e c t 2 D r o p d o w n ( ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s U p l o a d = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ s l i d e _ u p l o a d ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ u p l o a d . x m l ' ] , e v e n t s : { ' c l i c k ' : ' _ o n U p l o a d C l i c k ' , } , s t a r t : f u n c t i o n ( ) { i f ( t h i s . $ e l . a t t r ( ' d a t a - o p e n - m o d a l ' ) ) { t h i s . $ e l . r e m o v e A t t r ( ' d a t a - o p e n - m o d a l ' ) ; t h i s . _ o p e n D i a l o g ( t h i s . $ e l ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ o p e n D i a l o g : f u n c t i o n ( $ e l e m e n t ) { v a r   d a t a = $ e l e m e n t . d a t a ( ) ; r e t u r n   n e w   S l i d e U p l o a d D i a l o g ( t h i s , d a t a ) . o p e n ( ) ; } , _ o n U p l o a d C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ o p e n D i a l o g ( $ ( e v . c u r r e n t T a r g e t ) ) ; } , } ) ; r e t u r n { S l i d e U p l o a d D i a l o g : S l i d e U p l o a d D i a l o g , w e b s i t e S l i d e s U p l o a d : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s U p l o a d } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c a t e g o r y _ a d d . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . c a t e g o r y . a d d ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; v a r   C a t e g o r y A d d D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' s l i d e s . c a t e g o r y . a d d ' , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : _ t ( ' A d d   a   s e c t i o n ' ) , s i z e : ' m e d i u m ' , b u t t o n s : [ { t e x t : _ t ( ' S a v e ' ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . _ o n C l i c k F o r m S u b m i t . b i n d ( t h i s ) } , { t e x t : _ t ( ' D i s c a r d ' ) , c l o s e : t r u e } ] } ) ; t h i s . c h a n n e l I d = o p t i o n s . c h a n n e l I d ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; } , _ f o r m V a l i d a t e : f u n c t i o n ( $ f o r m ) { $ f o r m . a d d C l a s s ( ' w a s - v a l i d a t e d ' ) ; r e t u r n   $ f o r m [ 0 ] . c h e c k V a l i d i t y ( ) ; } , _ o n C l i c k F o r m S u b m i t : f u n c t i o n ( e v ) { v a r   $ f o r m = t h i s . $ ( ' # s l i d e _ c a t e g o r y _ a d d _ f o r m ' ) ; i f ( t h i s . _ f o r m V a l i d a t e ( $ f o r m ) ) { $ f o r m . s u b m i t ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s C a t e g o r y A d d = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ s l i d e _ s e c t i o n _ a d d ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ m a n a g e m e n t . x m l ' ] , e v e n t s : { ' c l i c k ' : ' _ o n A d d S e c t i o n C l i c k ' , } , _ o p e n D i a l o g : f u n c t i o n ( c h a n n e l I d ) { n e w   C a t e g o r y A d d D i a l o g ( t h i s , { c h a n n e l I d : c h a n n e l I d } ) . o p e n ( ) ; } , _ o n A d d S e c t i o n C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ o p e n D i a l o g ( $ ( e v . c u r r e n t T a r g e t ) . a t t r ( ' c h a n n e l _ i d ' ) ) ; } , } ) ; r e t u r n { c a t e g o r y A d d D i a l o g : C a t e g o r y A d d D i a l o g , w e b s i t e S l i d e s C a t e g o r y A d d : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s C a t e g o r y A d d } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ s l i d e _ a r c h i v e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . s l i d e . a r c h i v e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; v a r   S l i d e A r c h i v e D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' s l i d e s . s l i d e . a r c h i v e ' , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : _ t ( ' A r c h i v e   S l i d e ' ) , s i z e : ' m e d i u m ' , b u t t o n s : [ { t e x t : _ t ( ' A r c h i v e ' ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . _ o n C l i c k A r c h i v e . b i n d ( t h i s ) } , { t e x t : _ t ( ' C a n c e l ' ) , c l o s e : t r u e } ] } ) ; t h i s . $ s l i d e T a r g e t = o p t i o n s . s l i d e T a r g e t ; t h i s . s l i d e I d = t h i s . $ s l i d e T a r g e t . d a t a ( ' s l i d e I d ' ) ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; } , _ c h e c k F o r E m p t y S e c t i o n s : f u n c t i o n ( ) { $ ( ' . o _ w s l i d e s _ s l i d e _ l i s t _ c a t e g o r y ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ c a t e g o r y H e a d e r = $ ( t h i s ) . f i n d ( ' . o _ w s l i d e s _ s l i d e _ l i s t _ c a t e g o r y _ h e a d e r ' ) ; v a r   c a t e g o r y S l i d e C o u n t = $ ( t h i s ) . f i n d ( ' . o _ w s l i d e s _ s l i d e s _ l i s t _ s l i d e : n o t ( . o _ n o t _ e d i t a b l e ) ' ) . l e n g t h ; v a r   $ e m p t y F l a g C o n t a i n e r = $ c a t e g o r y H e a d e r . f i n d ( ' . o _ w s l i d e s _ s l i d e s _ l i s t _ d r a g ' ) . f i r s t ( ) ; v a r   $ e m p t y F l a g = $ e m p t y F l a g C o n t a i n e r . f i n d ( ' s m a l l ' ) ; i f ( c a t e g o r y S l i d e C o u n t = = = 0 & & $ e m p t y F l a g . l e n g t h = = = 0 ) { $ e m p t y F l a g C o n t a i n e r . a p p e n d ( $ ( ' < s m a l l > ' , { ' c l a s s ' : " m l - 1   t e x t - m u t e d   f o n t - w e i g h t - b o l d " , t e x t : _ t ( " ( e m p t y ) " ) } ) ) ; } } ) ; } , _ o n C l i c k A r c h i v e : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / a r c h i v e ' , p a r a m s : { s l i d e _ i d : t h i s . s l i d e I d } , } ) . t h e n ( f u n c t i o n ( i s A r c h i v e d ) { i f ( i s A r c h i v e d ) { s e l f . $ s l i d e T a r g e t . c l o s e s t ( ' . o _ w s l i d e s _ s l i d e s _ l i s t _ s l i d e ' ) . r e m o v e ( ) ; s e l f . _ c h e c k F o r E m p t y S e c t i o n s ( ) ; } 
 s e l f . c l o s e ( ) ; } ) ; } } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s S l i d e A r c h i v e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ s l i d e _ a r c h i v e ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ m a n a g e m e n t . x m l ' ] , e v e n t s : { ' c l i c k ' : ' _ o n A r c h i v e S l i d e C l i c k ' , } , _ o p e n D i a l o g : f u n c t i o n ( $ s l i d e T a r g e t ) { n e w   S l i d e A r c h i v e D i a l o g ( t h i s , { s l i d e T a r g e t : $ s l i d e T a r g e t } ) . o p e n ( ) ; } , _ o n A r c h i v e S l i d e C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   $ s l i d e T a r g e t = $ ( e v . c u r r e n t T a r g e t ) ; t h i s . _ o p e n D i a l o g ( $ s l i d e T a r g e t ) ; } , } ) ; r e t u r n { s l i d e A r c h i v e D i a l o g : S l i d e A r c h i v e D i a l o g , w e b s i t e S l i d e s S l i d e A r c h i v e : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s S l i d e A r c h i v e } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ s l i d e _ t o g g l e _ i s _ p r e v i e w . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . s l i d e . p r e v i e w ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s S l i d e T o g g l e I s P r e v i e w = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ s l i d e _ t o g g l e _ i s _ p r e v i e w ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ m a n a g e m e n t . x m l ' ] , e v e n t s : { ' c l i c k ' : ' _ o n P r e v i e w S l i d e C l i c k ' , } , _ t o g g l e S l i d e P r e v i e w : f u n c t i o n ( $ s l i d e T a r g e t ) { t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / t o g g l e _ i s _ p r e v i e w ' , p a r a m s : { s l i d e _ i d : $ s l i d e T a r g e t . d a t a ( ' s l i d e I d ' ) } , } ) . t h e n ( f u n c t i o n ( i s P r e v i e w ) { i f ( i s P r e v i e w ) { $ s l i d e T a r g e t . r e m o v e C l a s s ( ' b a d g e - l i g h t   b a d g e - h i d e   b o r d e r ' ) ; $ s l i d e T a r g e t . a d d C l a s s ( ' b a d g e - s u c c e s s ' ) ; } e l s e { $ s l i d e T a r g e t . r e m o v e C l a s s ( ' b a d g e - s u c c e s s ' ) ; $ s l i d e T a r g e t . a d d C l a s s ( ' b a d g e - l i g h t   b a d g e - h i d e   b o r d e r ' ) ; } } ) ; } , _ o n P r e v i e w S l i d e C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ t o g g l e S l i d e P r e v i e w ( $ ( e v . c u r r e n t T a r g e t ) ) ; } , } ) ; r e t u r n { w e b s i t e S l i d e s S l i d e T o g g l e I s P r e v i e w : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s S l i d e T o g g l e I s P r e v i e w } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ s l i d e _ l i k e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . s l i d e s . s l i d e . l i k e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; r e q u i r e ( ' w e b s i t e _ s l i d e s . s l i d e s ' ) ; v a r   _ t = c o r e . _ t ; v a r   S l i d e L i k e W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { e v e n t s : { ' c l i c k   . o _ w s l i d e s _ j s _ s l i d e _ l i k e _ u p ' : ' _ o n C l i c k U p ' , ' c l i c k   . o _ w s l i d e s _ j s _ s l i d e _ l i k e _ d o w n ' : ' _ o n C l i c k D o w n ' , } , _ p o p o v e r A l e r t : f u n c t i o n ( $ e l , m e s s a g e ) { $ e l . p o p o v e r ( { t r i g g e r : ' f o c u s ' , p l a c e m e n t : ' b o t t o m ' , c o n t a i n e r : ' b o d y ' , h t m l : t r u e , c o n t e n t : f u n c t i o n ( ) { r e t u r n   m e s s a g e ; } } ) . p o p o v e r ( ' s h o w ' ) ; } , _ o n C l i c k : f u n c t i o n ( s l i d e I d , v o t e T y p e ) { v a r   s e l f = t h i s ; t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / l i k e ' , p a r a m s : { s l i d e _ i d : s l i d e I d , u p v o t e : v o t e T y p e = = = ' l i k e ' , } , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( ! d a t a . e r r o r ) { s e l f . $ e l . f i n d ( ' s p a n . o _ w s l i d e s _ j s _ s l i d e _ l i k e _ u p   s p a n ' ) . t e x t ( d a t a . l i k e s ) ; s e l f . $ e l . f i n d ( ' s p a n . o _ w s l i d e s _ j s _ s l i d e _ l i k e _ d o w n   s p a n ' ) . t e x t ( d a t a . d i s l i k e s ) ; } e l s e { i f ( d a t a . e r r o r = = = ' p u b l i c _ u s e r ' ) { v a r   m e s s a g e = _ t ( ' P l e a s e   < a   h r e f = " / w e b / l o g i n ? r e d i r e c t = % s " > l o g i n < / a >   t o   v o t e   t h i s   l e s s o n ' ) ; v a r   s i g n u p A l l o w e d = d a t a . e r r o r _ s i g n u p _ a l l o w e d | | f a l s e ; i f ( s i g n u p A l l o w e d ) { m e s s a g e = _ t ( ' P l e a s e   < a   h r e f = " / w e b / s i g n u p ? r e d i r e c t = % s " > c r e a t e   a n   a c c o u n t < / a >   t o   v o t e   t h i s   l e s s o n ' ) ; } 
 s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ . s t r . s p r i n t f ( m e s s a g e , ( d o c u m e n t . U R L ) ) ) ; } e l s e   i f ( d a t a . e r r o r = = = ' v o t e _ d o n e ' ) { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' Y o u   h a v e   a l r e a d y   v o t e d   f o r   t h i s   l e s s o n ' ) ) ; } e l s e   i f ( d a t a . e r r o r = = = ' s l i d e _ a c c e s s ' ) { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' Y o u   d o n \ ' t   h a v e   a c c e s s   t o   t h i s   l e s s o n ' ) ) ; } e l s e   i f ( d a t a . e r r o r = = = ' c h a n n e l _ m e m b e r s h i p _ r e q u i r e d ' ) { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' Y o u   m u s t   b e   m e m b e r   o f   t h i s   c o u r s e   t o   v o t e ' ) ) ; } e l s e   i f ( d a t a . e r r o r = = = ' c h a n n e l _ c o m m e n t _ d i s a b l e d ' ) { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' V o t e s   a n d   c o m m e n t s   a r e   d i s a b l e d   f o r   t h i s   c o u r s e ' ) ) ; } e l s e   i f ( d a t a . e r r o r = = = ' c h a n n e l _ k a r m a _ r e q u i r e d ' ) { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' Y o u   d o n \ ' t   h a v e   e n o u g h   k a r m a   t o   v o t e ' ) ) ; } e l s e { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' U n k n o w n   e r r o r ' ) ) ; } } } ) ; } , _ o n C l i c k U p : f u n c t i o n ( e v ) { v a r   s l i d e I d = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' s l i d e - i d ' ) ; r e t u r n   t h i s . _ o n C l i c k ( s l i d e I d , ' l i k e ' ) ; } , _ o n C l i c k D o w n : f u n c t i o n ( e v ) { v a r   s l i d e I d = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' s l i d e - i d ' ) ; r e t u r n   t h i s . _ o n C l i c k ( s l i d e I d , ' d i s l i k e ' ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s S l i d e L i k e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p ' , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; $ ( ' . o _ w s l i d e s _ j s _ s l i d e _ l i k e ' ) . e a c h ( f u n c t i o n ( ) { d e f s . p u s h ( n e w   S l i d e L i k e W i d g e t ( s e l f ) . a t t a c h T o ( $ ( t h i s ) ) ) ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , } ) ; r e t u r n { s l i d e L i k e W i d g e t : S l i d e L i k e W i d g e t , w e b s i t e S l i d e s S l i d e L i k e : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s S l i d e L i k e } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ s l i d e s _ l i s t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . c o u r s e . s l i d e s . l i s t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s C o u r s e S l i d e s L i s t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ s l i d e s _ l i s t ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ u p l o a d . x m l ' ] , s t a r t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . c h a n n e l I d = t h i s . $ e l . d a t a ( ' c h a n n e l I d ' ) ; t h i s . _ u p d a t e H r e f ( ) ; t h i s . _ b i n d S o r t a b l e ( ) ; } , _ b i n d S o r t a b l e : f u n c t i o n ( ) { t h i s . $ ( ' u l . o _ w s l i d e s _ j s _ s l i d e s _ l i s t _ c o n t a i n e r ' ) . s o r t a b l e ( { h a n d l e : ' . o _ w s l i d e s _ s l i d e s _ l i s t _ d r a g ' , s t o p : t h i s . _ r e o r d e r S l i d e s . b i n d ( t h i s ) , i t e m s : ' . o _ w s l i d e s _ s l i d e _ l i s t _ c a t e g o r y ' , p l a c e h o l d e r : ' o _ w s l i d e s _ s l i d e s _ l i s t _ s l i d e _ h i l i g h t   p o s i t i o n - r e l a t i v e   m b - 1 ' } ) ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ s l i d e s _ l i s t _ c o n t a i n e r   u l ' ) . s o r t a b l e ( { h a n d l e : ' . o _ w s l i d e s _ s l i d e s _ l i s t _ d r a g ' , c o n n e c t W i t h : ' . o _ w s l i d e s _ j s _ s l i d e s _ l i s t _ c o n t a i n e r   u l ' , s t o p : t h i s . _ r e o r d e r S l i d e s . b i n d ( t h i s ) , i t e m s : ' . o _ w s l i d e s _ s l i d e s _ l i s t _ s l i d e : n o t ( . o _ w s l i d e s _ j s _ s l i d e s _ l i s t _ e m p t y ) ' , p l a c e h o l d e r : ' o _ w s l i d e s _ s l i d e s _ l i s t _ s l i d e _ h i l i g h t   p o s i t i o n - r e l a t i v e   m b - 1 ' } ) ; } , _ c h e c k F o r E m p t y S e c t i o n s : f u n c t i o n ( ) { t h i s . $ ( ' . o _ w s l i d e s _ s l i d e _ l i s t _ c a t e g o r y ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ c a t e g o r y H e a d e r = $ ( t h i s ) . f i n d ( ' . o _ w s l i d e s _ s l i d e _ l i s t _ c a t e g o r y _ h e a d e r ' ) ; v a r   c a t e g o r y S l i d e C o u n t = $ ( t h i s ) . f i n d ( ' . o _ w s l i d e s _ s l i d e s _ l i s t _ s l i d e : n o t ( . o _ n o t _ e d i t a b l e ) ' ) . l e n g t h ; v a r   $ e m p t y F l a g C o n t a i n e r = $ c a t e g o r y H e a d e r . f i n d ( ' . o _ w s l i d e s _ s l i d e s _ l i s t _ d r a g ' ) . f i r s t ( ) ; v a r   $ e m p t y F l a g = $ e m p t y F l a g C o n t a i n e r . f i n d ( ' s m a l l ' ) ; i f ( c a t e g o r y S l i d e C o u n t = = = 0 & & $ e m p t y F l a g . l e n g t h = = = 0 ) { $ e m p t y F l a g C o n t a i n e r . a p p e n d ( $ ( ' < s m a l l > ' , { ' c l a s s ' : " m l - 1   t e x t - m u t e d   f o n t - w e i g h t - b o l d " , t e x t : _ t ( " ( e m p t y ) " ) } ) ) ; } e l s e   i f ( c a t e g o r y S l i d e C o u n t > 0 & & $ e m p t y F l a g . l e n g t h > 0 ) { $ e m p t y F l a g . r e m o v e ( ) ; } } ) ; } , _ g e t S l i d e s : f u n c t i o n ( ) { v a r   c a t e g o r i e s = [ ] ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l i s t _ i t e m ' ) . e a c h ( f u n c t i o n ( ) { c a t e g o r i e s . p u s h ( p a r s e I n t ( $ ( t h i s ) . d a t a ( ' s l i d e I d ' ) ) ) ; } ) ; r e t u r n   c a t e g o r i e s ; } , _ r e o r d e r S l i d e s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; s e l f . _ r p c ( { r o u t e : ' / w e b / d a t a s e t / r e s e q u e n c e ' , p a r a m s : { m o d e l : " s l i d e . s l i d e " , i d s : s e l f . _ g e t S l i d e s ( ) } } ) . t h e n ( f u n c t i o n ( r e s ) { s e l f . _ c h e c k F o r E m p t y S e c t i o n s ( ) ; } ) ; } , _ u p d a t e H r e f : f u n c t i o n ( ) { t h i s . $ ( " . o _ w s l i d e s _ j s _ s l i d e s _ l i s t _ s l i d e _ l i n k " ) . e a c h ( f u n c t i o n ( ) { v a r   h r e f = $ ( t h i s ) . a t t r ( ' h r e f ' ) ; v a r   o p e r a t o r = h r e f . i n d e x O f ( ' ? ' ) ! = = - 1 ? ' & ' : ' ? ' ; $ ( t h i s ) . a t t r ( ' h r e f ' , h r e f + o p e r a t o r + " f u l l s c r e e n = 1 " ) ; } ) ; } } ) ; r e t u r n   p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s C o u r s e S l i d e s L i s t ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ f u l l s c r e e n _ p l a y e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 v a r   o n Y o u T u b e I f r a m e A P I R e a d y = u n d e f i n e d ; o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . f u l l s c r e e n ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   Q u i z = r e q u i r e ( ' w e b s i t e _ s l i d e s . q u i z ' ) . Q u i z ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; r e q u i r e ( ' w e b s i t e _ s l i d e s . c o u r s e . j o i n . w i d g e t ' ) ; v a r   f i n d S l i d e = f u n c t i o n ( s l i d e L i s t , m a t c h e r ) { v a r   s l i d e M a t c h = _ . m a t c h e r ( m a t c h e r ) ; r e t u r n   _ . f i n d ( s l i d e L i s t , s l i d e M a t c h ) ; } ; v a r   V i d e o P l a y e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s l i d e s . f u l l s c r e e n . v i d e o ' , y o u t u b e U r l : ' h t t p s : / / w w w . y o u t u b e . c o m / i f r a m e _ a p i ' , i n i t : f u n c t i o n ( p a r e n t , s l i d e ) { t h i s . s l i d e = s l i d e ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   P r o m i s e . a l l ( [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ l o a d Y o u t u b e A P I ( ) ] ) . t h e n ( f u n c t i o n ( ) { s e l f . _ s e t u p Y o u t u b e P l a y e r ( ) ; } ) ; } , _ l o a d Y o u t u b e A P I : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   p r o m = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { i f ( $ ( d o c u m e n t ) . f i n d ( ' s c r i p t [ s r c = " ' + s e l f . y o u t u b e U r l + ' " ] ' ) . l e n g t h = = = 0 ) { v a r   $ y o u t u b e E l e m e n t = $ ( ' < s c r i p t / > ' , { s r c : s e l f . y o u t u b e U r l } ) ; $ ( d o c u m e n t . h e a d ) . a p p e n d ( $ y o u t u b e E l e m e n t ) ; o n Y o u T u b e I f r a m e A P I R e a d y = f u n c t i o n ( ) { r e s o l v e ( ) ; } ; } e l s e { r e s o l v e ( ) ; } } ) ; r e t u r n   p r o m ; } , _ s e t u p Y o u t u b e P l a y e r : f u n c t i o n ( ) { t h i s . p l a y e r = n e w   Y T . P l a y e r ( ' y o u t u b e - p l a y e r ' + t h i s . s l i d e . i d , { h o s t : ' h t t p s : / / w w w . y o u t u b e . c o m ' , p l a y e r V a r s : { ' a u t o p l a y ' : 1 , ' o r i g i n ' : w i n d o w . l o c a t i o n . o r i g i n } , e v e n t s : { ' o n S t a t e C h a n g e ' : t h i s . _ o n P l a y e r S t a t e C h a n g e . b i n d ( t h i s ) } } ) ; } , _ o n P l a y e r S t a t e C h a n g e : f u n c t i o n ( e v e n t ) { v a r   s e l f = t h i s ; i f ( s e l f . s l i d e . c o m p l e t e d ) { r e t u r n ; } 
 i f ( e v e n t . d a t a ! = = Y T . P l a y e r S t a t e . E N D E D ) { i f ( ! e v e n t . t a r g e t . g e t C u r r e n t T i m e ) { r e t u r n ; } 
 i f ( s e l f . t i d ) { c l e a r I n t e r v a l ( s e l f . t i d ) ; } 
 s e l f . c u r r e n t V i d e o T i m e = e v e n t . t a r g e t . g e t C u r r e n t T i m e ( ) ; s e l f . t o t a l V i d e o T i m e = e v e n t . t a r g e t . g e t D u r a t i o n ( ) ; s e l f . t i d = s e t I n t e r v a l ( f u n c t i o n ( ) { s e l f . c u r r e n t V i d e o T i m e + = 1 ; i f ( s e l f . t o t a l V i d e o T i m e & & s e l f . c u r r e n t V i d e o T i m e > s e l f . t o t a l V i d e o T i m e - 3 0 ) { c l e a r I n t e r v a l ( s e l f . t i d ) ; i f ( ! s e l f . s l i d e . h a s Q u e s t i o n & & ! s e l f . s l i d e . c o m p l e t e d ) { s e l f . t r i g g e r _ u p ( ' s l i d e _ t o _ c o m p l e t e ' , s e l f . s l i d e ) ; } } } , 1 0 0 0 ) ; } e l s e { i f ( s e l f . t i d ) { c l e a r I n t e r v a l ( s e l f . t i d ) ; } 
 t h i s . p l a y e r = u n d e f i n e d ; i f ( t h i s . s l i d e . h a s N e x t ) { t h i s . t r i g g e r _ u p ( ' s l i d e _ g o _ n e x t ' ) ; } } } , } ) ; v a r   S i d e b a r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { e v e n t s : { " c l i c k   . o _ w s l i d e s _ f s _ s i d e b a r _ l i s t _ i t e m " : ' _ o n C l i c k T a b ' , } , i n i t : f u n c t i o n ( p a r e n t , s l i d e L i s t , d e f a u l t S l i d e ) { v a r   r e s u l t = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . s l i d e E n t r i e s = s l i d e L i s t ; t h i s . s e t ( ' s l i d e E n t r y ' , d e f a u l t S l i d e ) ; r e t u r n   r e s u l t ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . o n ( ' c h a n g e : s l i d e E n t r y ' , t h i s , t h i s . _ o n C h a n g e C u r r e n t S l i d e ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { $ ( d o c u m e n t ) . k e y d o w n ( s e l f . _ o n K e y D o w n . b i n d ( s e l f ) ) ; } ) ; } , d e s t r o y : f u n c t i o n ( ) { $ ( d o c u m e n t ) . u n b i n d ( ' k e y d o w n ' , t h i s . _ o n K e y D o w n . b i n d ( t h i s ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , g o N e x t : f u n c t i o n ( ) { v a r   c u r r e n t I n d e x = t h i s . _ g e t C u r r e n t I n d e x ( ) ; i f ( c u r r e n t I n d e x < t h i s . s l i d e E n t r i e s . l e n g t h - 1 ) { t h i s . s e t ( ' s l i d e E n t r y ' , t h i s . s l i d e E n t r i e s [ c u r r e n t I n d e x + 1 ] ) ; } } , g o P r e v i o u s : f u n c t i o n ( ) { v a r   c u r r e n t I n d e x = t h i s . _ g e t C u r r e n t I n d e x ( ) ; i f ( c u r r e n t I n d e x > = 1 ) { t h i s . s e t ( ' s l i d e E n t r y ' , t h i s . s l i d e E n t r i e s [ c u r r e n t I n d e x - 1 ] ) ; } } , s e t S l i d e C o m p l e t e d : f u n c t i o n ( s l i d e I d ) { v a r   $ e l e m = t h i s . $ ( ' . f a - c i r c l e - t h i n [ d a t a - s l i d e - i d = " ' + s l i d e I d + ' " ] ' ) ; $ e l e m . r e m o v e C l a s s ( ' f a - c i r c l e - t h i n ' ) . a d d C l a s s ( ' f a - c h e c k   t e x t - s u c c e s s   o _ w s l i d e s _ s l i d e _ c o m p l e t e d ' ) ; } , u p d a t e P r o g r e s s b a r : f u n c t i o n ( c h a n n e l C o m p l e t i o n ) { v a r   c o m p l e t i o n = M a t h . m i n ( 1 0 0 , c h a n n e l C o m p l e t i o n ) ; t h i s . $ ( ' . p r o g r e s s - b a r ' ) . c s s ( ' w i d t h ' , c o m p l e t i o n + " % " ) ; t h i s . $ ( ' . o _ w s l i d e s _ p r o g r e s s _ p e r c e n t a g e ' ) . t e x t ( c o m p l e t i o n ) ; } , _ g e t C u r r e n t I n d e x : f u n c t i o n ( ) { v a r   s l i d e = t h i s . g e t ( ' s l i d e E n t r y ' ) ; v a r   c u r r e n t I n d e x = _ . f i n d I n d e x ( t h i s . s l i d e E n t r i e s , f u n c t i o n ( e n t r y ) { r e t u r n   e n t r y . i d = = = s l i d e . i d & & e n t r y . i s Q u i z = = = s l i d e . i s Q u i z ; } ) ; r e t u r n   c u r r e n t I n d e x ; } , _ o n C l i c k M i n i Q u i z : f u n c t i o n ( e v ) { v a r   s l i d e I D = p a r s e I n t ( $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ) . s l i d e _ i d ) ; t h i s . s e t ( ' s l i d e E n t r y ' , { s l i d e I D : s l i d e I D , i s M i n i Q u i z : t r u e } ) ; t h i s . t r i g g e r _ u p ( ' c h a n g e _ s l i d e ' , t h i s . g e t ( ' s l i d e E n t r y ' ) ) ; } , _ o n C l i c k T a b : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; v a r   $ e l e m = $ ( e v . c u r r e n t T a r g e t ) ; i f ( $ e l e m . d a t a ( ' c a n A c c e s s ' ) = = = ' T r u e ' ) { v a r   i s Q u i z = $ e l e m . d a t a ( ' i s Q u i z ' ) ; v a r   s l i d e I D = p a r s e I n t ( $ e l e m . d a t a ( ' i d ' ) ) ; v a r   s l i d e = f i n d S l i d e ( t h i s . s l i d e E n t r i e s , { i d : s l i d e I D , i s Q u i z : i s Q u i z } ) ; t h i s . s e t ( ' s l i d e E n t r y ' , s l i d e ) ; } } , _ o n C h a n g e C u r r e n t S l i d e : f u n c t i o n ( ) { v a r   s l i d e = t h i s . g e t ( ' s l i d e E n t r y ' ) ; t h i s . $ ( ' . o _ w s l i d e s _ f s _ s i d e b a r _ l i s t _ i t e m . a c t i v e ' ) . r e m o v e C l a s s ( ' a c t i v e ' ) ; v a r   s e l e c t o r = ' . o _ w s l i d e s _ f s _ s i d e b a r _ l i s t _ i t e m [ d a t a - i d = ' + s l i d e . i d + ' ] [ d a t a - i s - q u i z ! = " 1 " ] ' ; t h i s . $ ( s e l e c t o r ) . a d d C l a s s ( ' a c t i v e ' ) ; t h i s . t r i g g e r _ u p ( ' c h a n g e _ s l i d e ' , t h i s . g e t ( ' s l i d e E n t r y ' ) ) ; } , _ o n K e y D o w n : f u n c t i o n ( e v ) { s w i t c h ( e v . k e y ) { c a s e " A r r o w L e f t " : t h i s . g o P r e v i o u s ( ) ; b r e a k ; c a s e " A r r o w R i g h t " : t h i s . g o N e x t ( ) ; b r e a k ; } } , } ) ; v a r   S h a r e D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s l i d e . s h a r e . m o d a l ' , e v e n t s : { ' c l i c k   . o _ w s l i d e s _ j s _ s h a r e _ e m a i l   b u t t o n ' : ' _ o n S h a r e B y E m a i l C l i c k ' , ' c l i c k   a . o _ w s l i d e s _ j s _ s o c i a l _ s h a r e ' : ' _ o n S l i d e s S o c i a l S h a r e ' , ' c l i c k   . o _ c l i p b o a r d _ b u t t o n ' : ' _ o n S h a r e L i n k C o p y ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s , s l i d e ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : " S h a r e " , b u t t o n s : [ { t e x t : " C a n c e l " , c l o s e : t r u e } ] , s i z e : ' m e d i u m ' , } ) ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; t h i s . s l i d e = s l i d e ; t h i s . s e s s i o n = s e s s i o n ; } , _ o n S h a r e B y E m a i l C l i c k : f u n c t i o n ( ) { v a r   f o r m = t h i s . $ ( ' . o _ w s l i d e s _ j s _ s h a r e _ e m a i l ' ) ; v a r   i n p u t = f o r m . f i n d ( ' i n p u t ' ) ; v a r   s l i d e I D = f o r m . f i n d ( ' b u t t o n ' ) . d a t a ( ' s l i d e - i d ' ) ; i f ( i n p u t . v a l ( ) & & i n p u t [ 0 ] . c h e c k V a l i d i t y ( ) ) { f o r m . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / s e n d _ s h a r e _ e m a i l ' , p a r a m s : { s l i d e _ i d : s l i d e I D , e m a i l : i n p u t . v a l ( ) , f u l l s c r e e n : t r u e } , } ) . t h e n ( f u n c t i o n ( ) { f o r m . h t m l ( ' < d i v   c l a s s = " a l e r t   a l e r t - i n f o "   r o l e = " a l e r t " > ' + _ t ( ' < s t r o n g > T h a n k   y o u ! < / s t r o n g >   M a i l   h a s   b e e n   s e n t . ' ) + ' < / d i v > ' ) ; } ) ; } e l s e { f o r m . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; i n p u t . f o c u s ( ) ; } } , _ o n S l i d e s S o c i a l S h a r e : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   p o p U p U R L = $ ( e v . c u r r e n t T a r g e t ) . a t t r ( ' h r e f ' ) ; w i n d o w . o p e n ( p o p U p U R L , ' S h a r e   D i a l o g ' , ' w i d t h = 6 2 6 , h e i g h t = 4 3 6 ' ) ; } , _ o n S h a r e L i n k C o p y : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   $ c l i p b o a r d B t n = t h i s . $ ( ' . o _ c l i p b o a r d _ b u t t o n ' ) ; $ c l i p b o a r d B t n . t o o l t i p ( { t i t l e : " C o p i e d   ! " , t r i g g e r : " m a n u a l " , p l a c e m e n t : " b o t t o m " } ) ; v a r   s e l f = t h i s ; v a r   c l i p b o a r d = n e w   C l i p b o a r d J S ( ' . o _ c l i p b o a r d _ b u t t o n ' , { t a r g e t : f u n c t i o n ( ) { r e t u r n   s e l f . $ ( ' . o _ w s l i d e s _ j s _ s h a r e _ l i n k ' ) [ 0 ] ; } , c o n t a i n e r : t h i s . e l } ) ; c l i p b o a r d . o n ( ' s u c c e s s ' , f u n c t i o n ( ) { c l i p b o a r d . d e s t r o y ( ) ; $ c l i p b o a r d B t n . t o o l t i p ( ' s h o w ' ) ; _ . d e l a y ( f u n c t i o n ( ) { $ c l i p b o a r d B t n . t o o l t i p ( " h i d e " ) ; } , 8 0 0 ) ; } ) ; c l i p b o a r d . o n ( ' e r r o r ' , f u n c t i o n ( e ) { c l i p b o a r d . d e s t r o y ( ) ; } ) } , } ) ; v a r   S h a r e B u t t o n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { e v e n t s : { " c l i c k   . o _ w s l i d e s _ f s _ s h a r e " : ' _ o n C l i c k S h a r e S l i d e ' } , i n i t : f u n c t i o n ( e l , s l i d e ) { v a r   r e s u l t = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . s l i d e = s l i d e ; r e t u r n   r e s u l t ; } , _ o p e n D i a l o g : f u n c t i o n ( ) { r e t u r n   n e w   S h a r e D i a l o g ( t h i s , { } , t h i s . s l i d e ) . o p e n ( ) ; } , _ o n C l i c k S h a r e S l i d e : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ o p e n D i a l o g ( ) ; } , _ o n C h a n g e S l i d e : f u n c t i o n ( c u r r e n t S l i d e ) { t h i s . s l i d e = c u r r e n t S l i d e ; } } ) ; v a r   F u l l s c r e e n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { e v e n t s : { " c l i c k   . o _ w s l i d e s _ f s _ t o g g l e _ s i d e b a r " : ' _ o n C l i c k T o g g l e S i d e b a r ' , } , c u s t o m _ e v e n t s : { ' c h a n g e _ s l i d e ' : ' _ o n C h a n g e S l i d e R e q u e s t ' , ' s l i d e _ t o _ c o m p l e t e ' : ' _ o n S l i d e T o C o m p l e t e ' , ' s l i d e _ c o m p l e t e d ' : ' _ o n S l i d e C o m p l e t e d ' , ' s l i d e _ g o _ n e x t ' : ' _ o n S l i d e G o T o N e x t ' , } , i n i t : f u n c t i o n ( p a r e n t , s l i d e s , d e f a u l t S l i d e I d , c h a n n e l D a t a ) { v a r   r e s u l t = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . i n i t i a l S l i d e I D = d e f a u l t S l i d e I d ; t h i s . s l i d e s = t h i s . _ p r e p r o c e s s S l i d e D a t a ( s l i d e s ) ; t h i s . c h a n n e l = c h a n n e l D a t a ; v a r   s l i d e ; v a r   u r l P a r a m s = $ . d e p a r a m . q u e r y s t r i n g ( ) ; i f ( d e f a u l t S l i d e I d ) { s l i d e = f i n d S l i d e ( t h i s . s l i d e s , { i d : d e f a u l t S l i d e I d , i s Q u i z : u r l P a r a m s . q u i z = = = " 1 " } ) ; } e l s e { s l i d e = t h i s . s l i d e s [ 0 ] ; } 
 t h i s . s e t ( ' s l i d e ' , s l i d e ) ; t h i s . s i d e b a r = n e w   S i d e b a r ( t h i s , t h i s . s l i d e s , s l i d e ) ; t h i s . s h a r e B u t t o n = n e w   S h a r e B u t t o n ( t h i s , s l i d e ) ; r e t u r n   r e s u l t ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . o n ( ' c h a n g e : s l i d e ' , t h i s , t h i s . _ o n C h a n g e S l i d e ) ; t h i s . _ t o g g l e S i d e b a r ( ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { r e t u r n   s e l f . _ o n C h a n g e S l i d e ( ) ; } ) ; } , a t t a c h T o : f u n c t i o n ( ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; d e f s . p u s h ( t h i s . s i d e b a r . a t t a c h T o ( t h i s . $ ( ' . o _ w s l i d e s _ f s _ s i d e b a r ' ) ) ) ; d e f s . p u s h ( t h i s . s h a r e B u t t o n . a t t a c h T o ( t h i s . $ ( ' . o _ w s l i d e s _ s l i d e _ f s _ h e a d e r ' ) ) ) ; r e t u r n   $ . w h e n . a p p l y ( $ , d e f s ) ; } , _ f e t c h H t m l C o n t e n t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   c u r r e n t S l i d e = t h i s . g e t ( ' s l i d e ' ) ; r e t u r n   s e l f . _ r p c ( { r o u t e : " / s l i d e s / s l i d e / g e t _ h t m l _ c o n t e n t " , p a r a m s : { ' s l i d e _ i d ' : c u r r e n t S l i d e . i d } } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a . h t m l _ c o n t e n t ) { c u r r e n t S l i d e . h t m l C o n t e n t = d a t a . h t m l _ c o n t e n t ; } } ) ; } , _ f e t c h S l i d e C o n t e n t : f u n c t i o n ( ) { v a r   s l i d e = t h i s . g e t ( ' s l i d e ' ) ; i f ( s l i d e . t y p e = = = ' w e b p a g e ' & & ! s l i d e . i s Q u i z ) { r e t u r n   t h i s . _ f e t c h H t m l C o n t e n t ( ) ; } 
 r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , _ m a r k A s C o m p l e t e d : f u n c t i o n ( s l i d e I d , c o m p l e t i o n ) { v a r   s l i d e = f i n d S l i d e ( t h i s . s l i d e s , { i d : s l i d e I d } ) ; s l i d e . c o m p l e t e d = t r u e ; t h i s . s i d e b a r . s e t S l i d e C o m p l e t e d ( s l i d e . i d ) ; t h i s . s i d e b a r . u p d a t e P r o g r e s s b a r ( c o m p l e t i o n ) ; } , _ p r e p r o c e s s S l i d e D a t a : f u n c t i o n ( s l i d e s D a t a L i s t ) { s l i d e s D a t a L i s t . f o r E a c h ( f u n c t i o n ( s l i d e D a t a , i n d e x ) { s l i d e D a t a . h a s N e x t = i n d e x < s l i d e s D a t a L i s t . l e n g t h - 1 ; i f ( s l i d e D a t a . t y p e = = = ' v i d e o ' ) { s l i d e D a t a . e m b e d C o d e = $ ( s l i d e D a t a . e m b e d C o d e ) . a t t r ( ' s r c ' ) | | " " ; v a r   s e p a r a t o r = s l i d e D a t a . e m b e d C o d e . i n d e x O f ( " ? " ) ! = = - 1 ? " & " : " ? " ; v a r   s c h e m e = s l i d e D a t a . e m b e d C o d e . i n d e x O f ( ' / / ' ) = = = 0 ? ' h t t p s : ' : ' ' ; v a r   p a r a m s = { r e l : 0 , e n a b l e j s a p i : 1 , o r i g i n : w i n d o w . l o c a t i o n . o r i g i n } ; i f ( s l i d e D a t a . e m b e d C o d e . i n d e x O f ( " / / d r i v e . g o o g l e . c o m " ) = = = - 1 ) { p a r a m s . a u t o p l a y = 1 ; } 
 s l i d e D a t a . e m b e d U r l = s l i d e D a t a . e m b e d C o d e ? s c h e m e + s l i d e D a t a . e m b e d C o d e + s e p a r a t o r + $ . p a r a m ( p a r a m s ) : " " ; } e l s e   i f ( s l i d e D a t a . t y p e = = = ' i n f o g r a p h i c ' ) { s l i d e D a t a . e m b e d U r l = _ . s t r . s p r i n t f ( ' / w e b / i m a g e / s l i d e . s l i d e / % s / i m a g e _ 1 0 2 4 ' , s l i d e D a t a . i d ) ; } e l s e   i f ( _ . c o n t a i n s ( [ ' d o c u m e n t ' , ' p r e s e n t a t i o n ' ] , s l i d e D a t a . t y p e ) ) { s l i d e D a t a . e m b e d U r l = $ ( s l i d e D a t a . e m b e d C o d e ) . a t t r ( ' s r c ' ) ; } 
 s l i d e D a t a . i s Q u i z = ! ! s l i d e D a t a . i s Q u i z ; s l i d e D a t a . h a s Q u e s t i o n = ! ! s l i d e D a t a . h a s Q u e s t i o n ; s l i d e D a t a . _ a u t o S e t D o n e = _ . c o n t a i n s ( [ ' i n f o g r a p h i c ' , ' p r e s e n t a t i o n ' , ' d o c u m e n t ' , ' w e b p a g e ' ] , s l i d e D a t a . t y p e ) & & ! s l i d e D a t a . h a s Q u e s t i o n ; } ) ; r e t u r n   s l i d e s D a t a L i s t ; } , _ p u s h U r l S t a t e : f u n c t i o n ( ) { v a r   u r l P a r t s = w i n d o w . l o c a t i o n . p a t h n a m e . s p l i t ( ' / ' ) ; u r l P a r t s [ u r l P a r t s . l e n g t h - 1 ] = t h i s . g e t ( ' s l i d e ' ) . s l u g ; v a r   u r l = u r l P a r t s . j o i n ( ' / ' ) ; t h i s . $ ( ' . o _ w s l i d e s _ f s _ e x i t _ f u l l s c r e e n ' ) . a t t r ( ' h r e f ' , u r l ) ; v a r   p a r a m s = { ' f u l l s c r e e n ' : 1 } ; i f ( t h i s . g e t ( ' s l i d e ' ) . i s Q u i z ) { p a r a m s . q u i z = 1 ; } 
 v a r   f u l l s c r e e n U r l = _ . s t r . s p r i n t f ( ' % s ? % s ' , u r l , $ . p a r a m ( p a r a m s ) ) ; h i s t o r y . p u s h S t a t e ( n u l l , ' ' , f u l l s c r e e n U r l ) ; } , _ r e n d e r S l i d e : f u n c t i o n ( ) { v a r   s l i d e = t h i s . g e t ( ' s l i d e ' ) ; v a r   $ c o n t e n t = t h i s . $ ( ' . o _ w s l i d e s _ f s _ c o n t e n t ' ) ; $ c o n t e n t . e m p t y ( ) ; i f ( s l i d e . t y p e = = = ' q u i z ' | | s l i d e . i s Q u i z ) { $ c o n t e n t . a d d C l a s s ( ' b g - w h i t e ' ) ; v a r   Q u i z W i d g e t = n e w   Q u i z ( t h i s , s l i d e , t h i s . c h a n n e l ) ; r e t u r n   Q u i z W i d g e t . a p p e n d T o ( $ c o n t e n t ) ; } 
 i f ( _ . c o n t a i n s ( [ ' d o c u m e n t ' , ' p r e s e n t a t i o n ' , ' i n f o g r a p h i c ' ] , s l i d e . t y p e ) ) { $ c o n t e n t . h t m l ( Q W e b . r e n d e r ( ' w e b s i t e . s l i d e s . f u l l s c r e e n . c o n t e n t ' , { w i d g e t : t h i s } ) ) ; } e l s e   i f ( s l i d e . t y p e = = = ' v i d e o ' ) { t h i s . v i d e o P l a y e r = n e w   V i d e o P l a y e r ( t h i s , s l i d e ) ; r e t u r n   t h i s . v i d e o P l a y e r . a p p e n d T o ( $ c o n t e n t ) ; } e l s e   i f ( s l i d e . t y p e = = = ' w e b p a g e ' ) { v a r   $ w p C o n t a i n e r = $ ( ' < d i v > ' ) . a d d C l a s s ( ' o _ w s l i d e _ f s _ w e b p a g e _ c o n t e n t   b g - w h i t e   b l o c k   w - 1 0 0   o v e r f l o w - a u t o ' ) ; $ ( s l i d e . h t m l C o n t e n t ) . a p p e n d T o ( $ w p C o n t a i n e r ) ; $ c o n t e n t . a p p e n d ( $ w p C o n t a i n e r ) ; t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { $ t a r g e t : $ c o n t e n t , } ) ; } 
 r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , _ s e t C o m p l e t e d : f u n c t i o n ( s l i d e I d ) { v a r   s e l f = t h i s ; v a r   s l i d e = f i n d S l i d e ( t h i s . s l i d e s , { i d : s l i d e I d } ) ; i f ( ! s l i d e . c o m p l e t e d ) { r e t u r n   t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / s e t _ c o m p l e t e d ' , p a r a m s : { s l i d e _ i d : s l i d e . i d , } } ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . _ m a r k A s C o m p l e t e d ( s l i d e I d , d a t a . c h a n n e l _ c o m p l e t i o n ) ; r e t u r n   P r o m i s e . r e s o l v e ( ) ; } ) ; } 
 r e t u r n   P r o m i s e . r e s o l v e ( ) ; } , _ o n C h a n g e S l i d e : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   s l i d e = t h i s . g e t ( ' s l i d e ' ) ; s e l f . _ p u s h U r l S t a t e ( ) ; r e t u r n   t h i s . _ f e t c h S l i d e C o n t e n t ( ) . t h e n ( f u n c t i o n ( ) { v a r   w e b s i t e N a m e = d o c u m e n t . t i t l e . s p l i t ( "   |   " ) [ 1 ] ; d o c u m e n t . t i t l e = ( w e b s i t e N a m e ) ? s l i d e . n a m e + '   |   ' + w e b s i t e N a m e : s l i d e . n a m e ; i f ( c o n f i g . d e v i c e . s i z e _ c l a s s < c o n f i g . d e v i c e . S I Z E S . M D ) { s e l f . _ t o g g l e S i d e b a r ( ) ; } 
 r e t u r n   s e l f . _ r e n d e r S l i d e ( ) ; } ) . t h e n ( f u n c t i o n ( ) { i f ( s l i d e . _ a u t o S e t D o n e & & ! s e s s i o n . i s _ w e b s i t e _ u s e r ) { i f ( [ ' d o c u m e n t ' , ' p r e s e n t a t i o n ' ] . i n c l u d e s ( s l i d e . t y p e ) ) { s e l f . e l . q u e r y S e l e c t o r ( ' i f r a m e . o _ w s l i d e s _ i f r a m e _ v i e w e r ' ) . a d d E v e n t L i s t e n e r ( ' l o a d ' , ( ) = > s e l f . _ s e t C o m p l e t e d ( s l i d e . i d ) ) ; } e l s e { r e t u r n   s e l f . _ s e t C o m p l e t e d ( s l i d e . i d ) ; } } } ) ; } , _ o n C h a n g e S l i d e R e q u e s t : f u n c t i o n ( e v ) { v a r   s l i d e D a t a = e v . d a t a ; v a r   n e w S l i d e = f i n d S l i d e ( t h i s . s l i d e s , { i d : s l i d e D a t a . i d , i s Q u i z : s l i d e D a t a . i s Q u i z | | f a l s e , } ) ; t h i s . s e t ( ' s l i d e ' , n e w S l i d e ) ; t h i s . s h a r e B u t t o n . _ o n C h a n g e S l i d e ( n e w S l i d e ) ; } , _ o n S l i d e C o m p l e t e d : f u n c t i o n ( e v ) { v a r   s l i d e = e v . d a t a . s l i d e ; v a r   c o m p l e t i o n = e v . d a t a . c o m p l e t i o n ; t h i s . _ m a r k A s C o m p l e t e d ( s l i d e . i d , c o m p l e t i o n ) ; } , _ o n S l i d e T o C o m p l e t e : f u n c t i o n ( e v ) { i f ( ! s e s s i o n . i s _ w e b s i t e _ u s e r ) { v a r   s l i d e I d = e v . d a t a . i d ; t h i s . _ s e t C o m p l e t e d ( s l i d e I d ) ; } } , _ o n S l i d e G o T o N e x t : f u n c t i o n ( e v ) { t h i s . s i d e b a r . g o N e x t ( ) ; } , _ o n C l i c k T o g g l e S i d e b a r : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ t o g g l e S i d e b a r ( ) ; } , _ t o g g l e S i d e b a r : f u n c t i o n ( ) { t h i s . $ ( ' . o _ w s l i d e s _ f s _ s i d e b a r ' ) . t o g g l e C l a s s ( ' o _ w s l i d e s _ f s _ s i d e b a r _ h i d d e n ' ) ; t h i s . $ ( ' . o _ w s l i d e s _ f s _ t o g g l e _ s i d e b a r ' ) . t o g g l e C l a s s ( ' a c t i v e ' ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s F u l l s c r e e n P l a y e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ f s _ m a i n ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ f u l l s c r e e n . x m l ' , ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ s h a r e . x m l ' ] , s t a r t : f u n c t i o n ( ) { v a r   p r o m s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; v a r   f u l l s c r e e n = n e w   F u l l s c r e e n ( t h i s , t h i s . _ g e t S l i d e s ( ) , t h i s . _ g e t C u r r e n t S l i d e I D ( ) , t h i s . _ e x t r a c t C h a n n e l D a t a ( ) ) ; p r o m s . p u s h ( f u l l s c r e e n . a t t a c h T o ( " . o _ w s l i d e s _ f s _ m a i n " ) ) ; r e t u r n   P r o m i s e . a l l ( p r o m s ) ; } , _ e x t r a c t C h a n n e l D a t a : f u n c t i o n ( ) { r e t u r n   t h i s . $ e l . d a t a ( ) ; } , _ g e t C u r r e n t S l i d e I D : f u n c t i o n ( ) { r e t u r n   p a r s e I n t ( t h i s . $ ( ' . o _ w s l i d e s _ f s _ s i d e b a r _ l i s t _ i t e m . a c t i v e ' ) . d a t a ( ' i d ' ) ) ; } , _ g e t S l i d e s : f u n c t i o n ( ) { v a r   $ s l i d e s = t h i s . $ ( ' . o _ w s l i d e s _ f s _ s i d e b a r _ l i s t _ i t e m [ d a t a - c a n - a c c e s s = " T r u e " ] ' ) ; v a r   s l i d e L i s t = [ ] ; $ s l i d e s . e a c h ( f u n c t i o n ( ) { v a r   s l i d e D a t a = $ ( t h i s ) . d a t a ( ) ; s l i d e L i s t . p u s h ( s l i d e D a t a ) ; } ) ; r e t u r n   s l i d e L i s t ; } , } ) ; r e t u r n   F u l l s c r e e n ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ j o i n . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . c o u r s e . j o i n . w i d g e t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; v a r   C o u r s e J o i n W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' s l i d e . c o u r s e . j o i n ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ c o u r s e _ j o i n . x m l ' ] , e v e n t s : { ' c l i c k   . o _ w s l i d e s _ j s _ c o u r s e _ j o i n _ l i n k ' : ' _ o n C l i c k J o i n ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . c h a n n e l = o p t i o n s . c h a n n e l ; t h i s . i s M e m b e r = o p t i o n s . i s M e m b e r ; t h i s . p u b l i c U s e r = o p t i o n s . p u b l i c U s e r ; t h i s . j o i n M e s s a g e = o p t i o n s . j o i n M e s s a g e | | _ t ( ' J o i n   C o u r s e ' ) , t h i s . b e f o r e J o i n = o p t i o n s . b e f o r e J o i n | | P r o m i s e . r e s o l v e ( ) ; t h i s . a f t e r J o i n = o p t i o n s . a f t e r J o i n | | f u n c t i o n ( ) { d o c u m e n t . l o c a t i o n . r e l o a d ( ) ; } ; } , _ o n C l i c k J o i n : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; i f ( t h i s . c h a n n e l . c h a n n e l E n r o l l ! = = ' i n v i t e ' ) { i f ( t h i s . p u b l i c U s e r ) { t h i s . b e f o r e J o i n ( ) . t h e n ( t h i s . _ r e d i r e c t T o L o g i n . b i n d ( t h i s ) ) ; } e l s e   i f ( ! t h i s . i s M e m b e r & & t h i s . c h a n n e l . c h a n n e l E n r o l l = = = ' p u b l i c ' ) { t h i s . j o i n C h a n n e l ( t h i s . c h a n n e l . c h a n n e l I d ) ; } } } , _ r e d i r e c t T o L o g i n : f u n c t i o n ( ) { v a r   u r l ; i f ( t h i s . c h a n n e l . c h a n n e l E n r o l l = = = ' p u b l i c ' ) { u r l = w i n d o w . l o c a t i o n . p a t h n a m e ; i f ( d o c u m e n t . l o c a t i o n . h r e f . i n d e x O f ( " f u l l s c r e e n " ) ! = = - 1 ) { u r l + = ' ? f u l l s c r e e n = 1 ' ; } } e l s e { u r l = ` / s l i d e s / $ { t h i s . c h a n n e l . c h a n n e l I d } ` ; } 
 d o c u m e n t . l o c a t i o n = _ . s t r . s p r i n t f ( ' / w e b / l o g i n ? r e d i r e c t = % s ' , e n c o d e U R I C o m p o n e n t ( u r l ) ) ; } , _ p o p o v e r A l e r t : f u n c t i o n ( $ e l , m e s s a g e ) { $ e l . p o p o v e r ( { t r i g g e r : ' f o c u s ' , p l a c e m e n t : ' b o t t o m ' , c o n t a i n e r : ' b o d y ' , h t m l : t r u e , c o n t e n t : f u n c t i o n ( ) { r e t u r n   m e s s a g e ; } } ) . p o p o v e r ( ' s h o w ' ) ; } , j o i n C h a n n e l : f u n c t i o n ( c h a n n e l I d ) { v a r   s e l f = t h i s ; t h i s . _ r p c ( { r o u t e : ' / s l i d e s / c h a n n e l / j o i n ' , p a r a m s : { c h a n n e l _ i d : c h a n n e l I d , } , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( ! d a t a . e r r o r ) { s e l f . a f t e r J o i n ( ) ; } e l s e { i f ( d a t a . e r r o r = = = ' p u b l i c _ u s e r ' ) { v a r   m e s s a g e = _ t ( ' P l e a s e   < a   h r e f = " / w e b / l o g i n ? r e d i r e c t = % s " > l o g i n < / a >   t o   j o i n   t h i s   c o u r s e ' ) ; v a r   s i g n u p A l l o w e d = d a t a . e r r o r _ s i g n u p _ a l l o w e d | | f a l s e ; i f ( s i g n u p A l l o w e d ) { m e s s a g e = _ t ( ' P l e a s e   < a   h r e f = " / w e b / s i g n u p ? r e d i r e c t = % s " > c r e a t e   a n   a c c o u n t < / a >   t o   j o i n   t h i s   c o u r s e ' ) ; } 
 s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ . s t r . s p r i n t f ( m e s s a g e , ( d o c u m e n t . U R L ) ) ) ; } e l s e   i f ( d a t a . e r r o r = = = ' j o i n _ d o n e ' ) { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' Y o u   h a v e   a l r e a d y   j o i n e d   t h i s   c h a n n e l ' ) ) ; } e l s e { s e l f . _ p o p o v e r A l e r t ( s e l f . $ e l , _ t ( ' U n k n o w n   e r r o r ' ) ) ; } } } ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s C o u r s e J o i n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ c o u r s e _ j o i n _ l i n k ' , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   p r o m s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; v a r   d a t a = s e l f . $ e l . d a t a ( ) ; v a r   o p t i o n s = { c h a n n e l : { c h a n n e l E n r o l l : d a t a . c h a n n e l E n r o l l , c h a n n e l I d : d a t a . c h a n n e l I d } } ; $ ( ' . o _ w s l i d e s _ j s _ c o u r s e _ j o i n ' ) . e a c h ( f u n c t i o n ( ) { p r o m s . p u s h ( n e w   C o u r s e J o i n W i d g e t ( s e l f , o p t i o n s ) . a t t a c h T o ( $ ( t h i s ) ) ) ; } ) ; r e t u r n   P r o m i s e . a l l ( p r o m s ) ; } , } ) ; r e t u r n { c o u r s e J o i n W i d g e t : C o u r s e J o i n W i d g e t , w e b s i t e S l i d e s C o u r s e J o i n : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s C o u r s e J o i n } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ e n r o l l _ e m a i l . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . c o u r s e . e n r o l l ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; v a r   S l i d e E n r o l l D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' s l i d e . c o u r s e . j o i n . r e q u e s t ' , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s , m o d a l O p t i o n s ) { m o d a l O p t i o n s = _ . d e f a u l t s ( m o d a l O p t i o n s | | { } , { t i t l e : _ t ( ' R e q u e s t   A c c e s s . ' ) , s i z e : ' m e d i u m ' , b u t t o n s : [ { t e x t : _ t ( ' Y e s ' ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . _ o n S e n d R e q u e s t . b i n d ( t h i s ) } , { t e x t : _ t ( ' C a n c e l ' ) , c l o s e : t r u e } ] } ) ; t h i s . $ e l e m e n t = o p t i o n s . $ e l e m e n t ; t h i s . c h a n n e l I d = o p t i o n s . c h a n n e l I d ; t h i s . _ s u p e r ( p a r e n t , m o d a l O p t i o n s ) ; } , _ o n S e n d R e q u e s t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . _ r p c ( { m o d e l : ' s l i d e . c h a n n e l ' , m e t h o d : ' a c t i o n _ r e q u e s t _ a c c e s s ' , a r g s : [ s e l f . c h a n n e l I d ] } ) . t h e n ( f u n c t i o n ( r e s u l t ) { i f ( r e s u l t . e r r o r ) { s e l f . $ e l e m e n t . r e p l a c e W i t h ( ' < d i v   c l a s s = " a l e r t   a l e r t - d a n g e r "   r o l e = " a l e r t " > < s t r o n g > ' + r e s u l t . e r r o r + ' < / s t r o n g > < / d i v > ' ) ; } e l s e   i f ( r e s u l t . d o n e ) { s e l f . $ e l e m e n t . r e p l a c e W i t h ( ' < d i v   c l a s s = " a l e r t   a l e r t - s u c c e s s "   r o l e = " a l e r t " > < s t r o n g > ' + _ t ( ' R e q u e s t   s e n t   ! ' ) + ' < / s t r o n g > < / d i v > ' ) ; } e l s e { s e l f . $ e l e m e n t . r e p l a c e W i t h ( ' < d i v   c l a s s = " a l e r t   a l e r t - d a n g e r "   r o l e = " a l e r t " > < s t r o n g > ' + _ t ( ' U n k n o w n   e r r o r ,   t r y   a g a i n . ' ) + ' < / s t r o n g > < / d i v > ' ) ; } 
 s e l f . c l o s e ( ) ; } ) ; } } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s E n r o l l = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ c h a n n e l _ e n r o l l ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ c o u r s e _ j o i n . x m l ' ] , e v e n t s : { ' c l i c k ' : ' _ o n S e n d R e q u e s t C l i c k ' , } , _ o p e n D i a l o g : f u n c t i o n ( c h a n n e l I d ) { n e w   S l i d e E n r o l l D i a l o g ( t h i s , { c h a n n e l I d : c h a n n e l I d , $ e l e m e n t : t h i s . $ e l } ) . o p e n ( ) ; } , _ o n S e n d R e q u e s t C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ o p e n D i a l o g ( $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' c h a n n e l I d ' ) ) ; } } ) ; r e t u r n { s l i d e E n r o l l D i a l o g : S l i d e E n r o l l D i a l o g , w e b s i t e S l i d e s E n r o l l : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s E n r o l l } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ q u i z . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . q u i z ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   C o u r s e J o i n W i d g e t = r e q u i r e ( ' w e b s i t e _ s l i d e s . c o u r s e . j o i n . w i d g e t ' ) . c o u r s e J o i n W i d g e t ; v a r   Q u e s t i o n F o r m W i d g e t = r e q u i r e ( ' w e b s i t e _ s l i d e s . q u i z . q u e s t i o n . f o r m ' ) ; v a r   S l i d e Q u i z F i n i s h M o d a l = r e q u i r e ( ' w e b s i t e _ s l i d e s . q u i z . f i n i s h ' ) ; v a r   S l i d e E n r o l l D i a l o g = r e q u i r e ( ' w e b s i t e _ s l i d e s . c o u r s e . e n r o l l ' ) . s l i d e E n r o l l D i a l o g ; v a r   Q W e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   Q u i z = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' s l i d e . s l i d e . q u i z ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ q u i z . x m l ' , ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ c o u r s e _ j o i n . x m l ' ] , e v e n t s : { " c l i c k   . o _ w s l i d e s _ q u i z _ a n s w e r " : ' _ o n A n s w e r C l i c k ' , " c l i c k   . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ s u b m i t " : ' _ s u b m i t Q u i z ' , " c l i c k   . o _ w s l i d e s _ q u i z _ m o d a l _ b t n " : ' _ o n C l i c k N e x t ' , " c l i c k   . o _ w s l i d e s _ q u i z _ c o n t i n u e " : ' _ o n C l i c k N e x t ' , " c l i c k   . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ r e s e t " : ' _ o n C l i c k R e s e t ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ a d d ' : ' _ o n C r e a t e Q u i z C l i c k ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ e d i t _ q u e s t i o n ' : ' _ o n E d i t Q u e s t i o n C l i c k ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ d e l e t e _ q u e s t i o n ' : ' _ o n D e l e t e Q u e s t i o n C l i c k ' , ' c l i c k   . o _ w s l i d e s _ j s _ c h a n n e l _ e n r o l l ' : ' _ o n S e n d R e q u e s t T o R e s p o n s i b l e C l i c k ' , } , c u s t o m _ e v e n t s : { d i s p l a y _ c r e a t e d _ q u e s t i o n : ' _ d i s p l a y C r e a t e d Q u e s t i o n ' , d i s p l a y _ u p d a t e d _ q u e s t i o n : ' _ d i s p l a y U p d a t e d Q u e s t i o n ' , r e s e t _ d i s p l a y : ' _ r e s e t D i s p l a y ' , d e l e t e _ q u e s t i o n : ' _ d e l e t e Q u e s t i o n ' , } , i n i t : f u n c t i o n ( p a r e n t , s l i d e _ d a t a , c h a n n e l _ d a t a , q u i z _ d a t a ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . s l i d e = _ . d e f a u l t s ( s l i d e _ d a t a , { i d : 0 , n a m e : ' ' , h a s N e x t : f a l s e , c o m p l e t e d : f a l s e , i s M e m b e r : f a l s e , } ) ; t h i s . q u i z = q u i z _ d a t a | | f a l s e ; i f ( t h i s . q u i z ) { t h i s . q u i z . q u e s t i o n s C o u n t = q u i z _ d a t a . q u e s t i o n s . l e n g t h ; } 
 t h i s . i s M e m b e r = s l i d e _ d a t a . i s M e m b e r | | f a l s e ; t h i s . p u b l i c U s e r = s e s s i o n . i s _ w e b s i t e _ u s e r ; t h i s . u s e r I d = s e s s i o n . u s e r _ i d ; t h i s . r e d i r e c t U R L = e n c o d e U R I C o m p o n e n t ( d o c u m e n t . U R L ) ; t h i s . c h a n n e l = c h a n n e l _ d a t a ; } , w i l l S t a r t : f u n c t i o n ( ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; i f ( ! t h i s . q u i z ) { d e f s . p u s h ( t h i s . _ f e t c h Q u i z ( ) ) ; } 
 r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . _ r e n d e r V a l i d a t i o n I n f o ( ) ; s e l f . _ b i n d S o r t a b l e ( ) ; s e l f . _ c h e c k L o c a t i o n H r e f ( ) ; i f ( ! s e l f . i s M e m b e r ) { s e l f . _ r e n d e r J o i n W i d g e t ( ) ; } e l s e   i f ( s e l f . s l i d e . s e s s i o n A n s w e r s ) { s e l f . _ a p p l y S e s s i o n A n s w e r s ( ) ; s e l f . _ s u b m i t Q u i z ( ) ; } } ) ; } , _ a l e r t S h o w : f u n c t i o n ( a l e r t C o d e ) { v a r   m e s s a g e = _ t ( ' T h e r e   w a s   a n   e r r o r   v a l i d a t i n g   t h i s   q u i z . ' ) ; i f ( a l e r t C o d e = = = ' s l i d e _ q u i z _ i n c o m p l e t e ' ) { m e s s a g e = _ t ( ' A l l   q u e s t i o n s   m u s t   b e   a n s w e r e d   ! ' ) ; } e l s e   i f ( a l e r t C o d e = = = ' s l i d e _ q u i z _ d o n e ' ) { m e s s a g e = _ t ( ' T h i s   q u i z   i s   a l r e a d y   d o n e .   R e t a k i n g   i t   i s   n o t   p o s s i b l e . ' ) ; } e l s e   i f ( a l e r t C o d e = = = ' p u b l i c _ u s e r ' ) { m e s s a g e = _ t ( ' Y o u   m u s t   b e   l o g g e d   t o   s u b m i t   t h e   q u i z . ' ) ; } 
 t h i s . d i s p l a y N o t i f i c a t i o n ( { t y p e : ' w a r n i n g ' , m e s s a g e : m e s s a g e , s t i c k y : t r u e } ) ; } , _ b i n d S o r t a b l e : f u n c t i o n ( ) { t h i s . $ e l . s o r t a b l e ( { h a n d l e : ' . o _ w s l i d e s _ j s _ q u i z _ s e q u e n c e _ h a n d l e r ' , i t e m s : ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' , s t o p : t h i s . _ r e o r d e r Q u e s t i o n s . b i n d ( t h i s ) , p l a c e h o l d e r : ' o _ w s l i d e s _ j s _ q u i z _ s e q u e n c e _ h i g h l i g h t   p o s i t i o n - r e l a t i v e   m y - 3 ' } ) ; } , _ g e t Q u e s t i o n s I d s : f u n c t i o n ( ) { r e t u r n   t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) . m a p ( f u n c t i o n ( ) { r e t u r n   $ ( t h i s ) . d a t a ( ' q u e s t i o n - i d ' ) ; } ) . g e t ( ) ; } , _ m o d i f y Q u e s t i o n s S e q u e n c e : f u n c t i o n ( ) { t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) . e a c h ( f u n c t i o n ( i n d e x , q u e s t i o n ) { $ ( q u e s t i o n ) . f i n d ( ' s p a n . o _ w s l i d e s _ q u i z _ q u e s t i o n _ s e q u e n c e ' ) . t e x t ( i n d e x + 1 ) ; } ) ; } , _ r e o r d e r Q u e s t i o n s : f u n c t i o n ( ) { t h i s . _ r p c ( { r o u t e : ' / w e b / d a t a s e t / r e s e q u e n c e ' , p a r a m s : { m o d e l : " s l i d e . q u e s t i o n " , i d s : t h i s . _ g e t Q u e s t i o n s I d s ( ) } } ) . t h e n ( t h i s . _ m o d i f y Q u e s t i o n s S e q u e n c e . b i n d ( t h i s ) ) } , _ f e t c h Q u i z : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   s e l f . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / q u i z / g e t ' , p a r a m s : { ' s l i d e _ i d ' : s e l f . s l i d e . i d , } } ) . t h e n ( f u n c t i o n ( q u i z _ d a t a ) { s e l f . q u i z = { q u e s t i o n s : q u i z _ d a t a . s l i d e _ q u e s t i o n s | | [ ] , q u e s t i o n s C o u n t : q u i z _ d a t a . s l i d e _ q u e s t i o n s . l e n g t h , q u i z A t t e m p t s C o u n t : q u i z _ d a t a . q u i z _ a t t e m p t s _ c o u n t | | 0 , q u i z K a r m a G a i n : q u i z _ d a t a . q u i z _ k a r m a _ g a i n | | 0 , q u i z K a r m a W o n : q u i z _ d a t a . q u i z _ k a r m a _ w o n | | 0 , } ; } ) ; } , _ h i d e E d i t O p t i o n s : f u n c t i o n ( ) { t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n   . o _ w s l i d e s _ j s _ q u i z _ e d i t _ d e l , ' + '   . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n   . o _ w s l i d e s _ j s _ q u i z _ s e q u e n c e _ h a n d l e r ' ) . a d d C l a s s ( ' d - n o n e ' ) ; } , _ d i s a b l e A n s w e r s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) . a d d C l a s s ( ' c o m p l e t e d - d i s a b l e d ' ) ; t h i s . $ ( ' i n p u t [ t y p e = r a d i o ] ' ) . e a c h ( f u n c t i o n ( ) { $ ( t h i s ) . p r o p ( ' d i s a b l e d ' , s e l f . s l i d e . c o m p l e t e d ) ; } ) ; } , _ r e n d e r A n s w e r s H i g h l i g h t i n g A n d C o m m e n t s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ q u e s t i o n = $ ( t h i s ) ; v a r   q u e s t i o n I d = $ q u e s t i o n . d a t a ( ' q u e s t i o n I d ' ) ; v a r   i s C o r r e c t = s e l f . q u i z . a n s w e r s [ q u e s t i o n I d ] . i s _ c o r r e c t ; $ q u e s t i o n . f i n d ( ' a . o _ w s l i d e s _ q u i z _ a n s w e r ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ a n s w e r = $ ( t h i s ) ; $ a n s w e r . f i n d ( ' i . f a ' ) . a d d C l a s s ( ' d - n o n e ' ) ; i f ( $ a n s w e r . f i n d ( ' i n p u t [ t y p e = r a d i o ] ' ) [ 0 ] . c h e c k e d ) { i f ( i s C o r r e c t ) { $ a n s w e r . r e m o v e C l a s s ( ' l i s t - g r o u p - i t e m - d a n g e r ' ) . a d d C l a s s ( ' l i s t - g r o u p - i t e m - s u c c e s s ' ) ; $ a n s w e r . f i n d ( ' i . f a - c h e c k - c i r c l e ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } e l s e { $ a n s w e r . r e m o v e C l a s s ( ' l i s t - g r o u p - i t e m - s u c c e s s ' ) . a d d C l a s s ( ' l i s t - g r o u p - i t e m - d a n g e r ' ) ; $ a n s w e r . f i n d ( ' i . f a - t i m e s - c i r c l e ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; $ a n s w e r . f i n d ( ' l a b e l   i n p u t ' ) . p r o p ( ' c h e c k e d ' , f a l s e ) ; } } e l s e { $ a n s w e r . r e m o v e C l a s s ( ' l i s t - g r o u p - i t e m - d a n g e r   l i s t - g r o u p - i t e m - s u c c e s s ' ) ; $ a n s w e r . f i n d ( ' i . f a - c i r c l e ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } } ) ; v a r   c o m m e n t = s e l f . q u i z . a n s w e r s [ q u e s t i o n I d ] . c o m m e n t ; i f ( c o m m e n t ) { $ q u e s t i o n . f i n d ( ' . o _ w s l i d e s _ q u i z _ a n s w e r _ i n f o ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; $ q u e s t i o n . f i n d ( ' . o _ w s l i d e s _ q u i z _ a n s w e r _ c o m m e n t ' ) . t e x t ( c o m m e n t ) ; } } ) ; } , _ a p p l y S e s s i o n A n s w e r s : f u n c t i o n ( ) { i f ( ! t h i s . s l i d e . s e s s i o n A n s w e r s | | t h i s . s l i d e . s e s s i o n A n s w e r s . l e n g t h = = = 0 ) { r e t u r n ; } 
 v a r   s e l f = t h i s ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ q u e s t i o n = $ ( t h i s ) ; $ q u e s t i o n . f i n d ( ' a . o _ w s l i d e s _ q u i z _ a n s w e r ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ a n s w e r = $ ( t h i s ) ; i f ( ! $ a n s w e r . f i n d ( ' i n p u t [ t y p e = r a d i o ] ' ) [ 0 ] . c h e c k e d & & _ . c o n t a i n s ( s e l f . s l i d e . s e s s i o n A n s w e r s , $ a n s w e r . d a t a ( ' a n s w e r I d ' ) ) ) { $ a n s w e r . f i n d ( ' i n p u t [ t y p e = r a d i o ] ' ) . p r o p ( ' c h e c k e d ' , t r u e ) ; } } ) ; } ) ; t h i s . s l i d e . s e s s i o n A n s w e r s = f a l s e ; } , _ r e n d e r V a l i d a t i o n I n f o : f u n c t i o n ( ) { v a r   $ v a l i d a t i o n E l e m = t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ v a l i d a t i o n ' ) ; $ v a l i d a t i o n E l e m . h t m l ( Q W e b . r e n d e r ( ' s l i d e . s l i d e . q u i z . v a l i d a t i o n ' , { ' w i d g e t ' : t h i s } ) ) ; } , _ r e n d e r J o i n W i d g e t : f u n c t i o n ( ) { v a r   $ w i d g e t L o c a t i o n = t h i s . $ ( " . o _ w s l i d e s _ j o i n _ c o u r s e _ w i d g e t " ) ; i f ( $ w i d g e t L o c a t i o n . l e n g t h ! = = 0 ) { v a r   c o u r s e J o i n W i d g e t = n e w   C o u r s e J o i n W i d g e t ( t h i s , { i s Q u i z : t r u e , c h a n n e l : t h i s . c h a n n e l , i s M e m b e r : t h i s . i s M e m b e r , p u b l i c U s e r : t h i s . p u b l i c U s e r , b e f o r e J o i n : t h i s . _ s a v e Q u i z A n s w e r s T o S e s s i o n . b i n d ( t h i s ) , a f t e r J o i n : t h i s . _ a f t e r J o i n . b i n d ( t h i s ) , j o i n M e s s a g e : _ t ( ' J o i n   &   S u b m i t ' ) , } ) ; c o u r s e J o i n W i d g e t . a p p e n d T o ( $ w i d g e t L o c a t i o n ) ; i f ( ! t h i s . p u b l i c U s e r & & c o u r s e J o i n W i d g e t . c h a n n e l . c h a n n e l E n r o l l = = = ' p u b l i c ' & & t h i s . s l i d e . s e s s i o n A n s w e r s ) { c o u r s e J o i n W i d g e t . j o i n C h a n n e l ( t h i s . c h a n n e l . c h a n n e l I d ) ; } } } , _ g e t Q u i z A n s w e r s : f u n c t i o n ( ) { r e t u r n   t h i s . $ ( ' i n p u t [ t y p e = r a d i o ] : c h e c k e d ' ) . m a p ( f u n c t i o n ( i n d e x , e l e m e n t ) { r e t u r n   p a r s e I n t ( $ ( e l e m e n t ) . v a l ( ) ) ; } ) . g e t ( ) ; } , _ s u b m i t Q u i z : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / q u i z / s u b m i t ' , p a r a m s : { s l i d e _ i d : s e l f . s l i d e . i d , a n s w e r _ i d s : t h i s . _ g e t Q u i z A n s w e r s ( ) , } } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a . e r r o r ) { s e l f . _ a l e r t S h o w ( d a t a . e r r o r ) ; } e l s e { s e l f . q u i z = _ . e x t e n d ( s e l f . q u i z , d a t a ) ; i f ( d a t a . c o m p l e t e d ) { s e l f . _ d i s a b l e A n s w e r s ( ) ; n e w   S l i d e Q u i z F i n i s h M o d a l ( s e l f , { q u i z : s e l f . q u i z , h a s N e x t : s e l f . s l i d e . h a s N e x t , u s e r I d : s e l f . u s e r I d } ) . o p e n ( ) ; s e l f . s l i d e . c o m p l e t e d = t r u e ; s e l f . t r i g g e r _ u p ( ' s l i d e _ c o m p l e t e d ' , { s l i d e : s e l f . s l i d e , c o m p l e t i o n : d a t a . c h a n n e l _ c o m p l e t i o n } ) ; } 
 s e l f . _ h i d e E d i t O p t i o n s ( ) ; s e l f . _ r e n d e r A n s w e r s H i g h l i g h t i n g A n d C o m m e n t s ( ) ; s e l f . _ r e n d e r V a l i d a t i o n I n f o ( ) ; } } ) ; } , _ g e t Q u e s t i o n D e t a i l s : f u n c t i o n ( $ e l e m ) { v a r   a n s w e r s = [ ] ; $ e l e m . f i n d ( ' . o _ w s l i d e s _ q u i z _ a n s w e r ' ) . e a c h ( f u n c t i o n ( ) { a n s w e r s . p u s h ( { ' i d ' : $ ( t h i s ) . d a t a ( ' a n s w e r I d ' ) , ' t e x t _ v a l u e ' : $ ( t h i s ) . d a t a ( ' t e x t ' ) , ' i s _ c o r r e c t ' : $ ( t h i s ) . d a t a ( ' i s C o r r e c t ' ) , ' c o m m e n t ' : $ ( t h i s ) . d a t a ( ' c o m m e n t ' ) } ) ; } ) ; r e t u r n { ' i d ' : $ e l e m . d a t a ( ' q u e s t i o n I d ' ) , ' s e q u e n c e ' : p a r s e I n t ( $ e l e m . f i n d ( ' . o _ w s l i d e s _ q u i z _ q u e s t i o n _ s e q u e n c e ' ) . t e x t ( ) ) , ' t e x t ' : $ e l e m . d a t a ( ' t i t l e ' ) , ' a n s w e r s ' : a n s w e r s , } ; } , _ c h e c k L o c a t i o n H r e f : f u n c t i o n ( ) { i f ( w i n d o w . l o c a t i o n . h r e f . i n c l u d e s ( ' q u i z _ q u i c k _ c r e a t e ' ) ) { t h i s . _ o n C r e a t e Q u i z C l i c k ( ) ; } } , _ o n A n s w e r C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; i f ( ! t h i s . s l i d e . c o m p l e t e d ) { $ ( e v . c u r r e n t T a r g e t ) . f i n d ( ' i n p u t [ t y p e = r a d i o ] ' ) . p r o p ( ' c h e c k e d ' , t r u e ) ; } } , _ o n C l i c k N e x t : f u n c t i o n ( e v ) { i f ( t h i s . s l i d e . h a s N e x t ) { t h i s . t r i g g e r _ u p ( ' s l i d e _ g o _ n e x t ' ) ; } } , _ o n C l i c k R e s e t : f u n c t i o n ( ) { t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / q u i z / r e s e t ' , p a r a m s : { s l i d e _ i d : t h i s . s l i d e . i d } } ) . t h e n ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( ) ; } ) ; } , _ s a v e Q u i z A n s w e r s T o S e s s i o n : f u n c t i o n ( ) { v a r   q u i z A n s w e r s = t h i s . _ g e t Q u i z A n s w e r s ( ) ; i f ( q u i z A n s w e r s . l e n g t h = = = t h i s . q u i z . q u e s t i o n s . l e n g t h ) { r e t u r n   t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / q u i z / s a v e _ t o _ s e s s i o n ' , p a r a m s : { ' q u i z _ a n s w e r s ' : { ' s l i d e _ i d ' : t h i s . s l i d e . i d , ' s l i d e _ a n s w e r s ' : q u i z A n s w e r s } , } } ) ; } e l s e { t h i s . _ a l e r t S h o w ( ' s l i d e _ q u i z _ i n c o m p l e t e ' ) ; r e t u r n   P r o m i s e . r e j e c t ( ' T h e   q u i z   i s   i n c o m p l e t e ' ) ; } } , _ a f t e r J o i n : f u n c t i o n ( ) { t h i s . i s M e m b e r = t r u e ; t h i s . _ r e n d e r V a l i d a t i o n I n f o ( ) ; t h i s . _ a p p l y S e s s i o n A n s w e r s ( ) ; t h i s . _ s u b m i t Q u i z ( ) ; } , _ o n C r e a t e Q u i z C l i c k : f u n c t i o n ( ) { v a r   $ e l e m = t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ n e w _ q u e s t i o n ' ) ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ q u i z _ a d d ' ) . a d d C l a s s ( ' d - n o n e ' ) ; n e w   Q u e s t i o n F o r m W i d g e t ( t h i s , { s l i d e I d : t h i s . s l i d e . i d , s e q u e n c e : t h i s . q u i z . q u e s t i o n s C o u n t + 1 } ) . a p p e n d T o ( $ e l e m ) ; } , _ o n E d i t Q u e s t i o n C l i c k : f u n c t i o n ( e v ) { v a r   $ e d i t e d Q u e s t i o n = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) ; v a r   q u e s t i o n = t h i s . _ g e t Q u e s t i o n D e t a i l s ( $ e d i t e d Q u e s t i o n ) ; n e w   Q u e s t i o n F o r m W i d g e t ( t h i s , { e d i t e d Q u e s t i o n : $ e d i t e d Q u e s t i o n , q u e s t i o n : q u e s t i o n , s l i d e I d : t h i s . s l i d e . i d , s e q u e n c e : q u e s t i o n . s e q u e n c e , u p d a t e : t r u e } ) . i n s e r t A f t e r ( $ e d i t e d Q u e s t i o n ) ; $ e d i t e d Q u e s t i o n . h i d e ( ) ; } , _ o n D e l e t e Q u e s t i o n C l i c k : f u n c t i o n ( e v ) { v a r   q u e s t i o n = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) ; n e w   C o n f i r m a t i o n D i a l o g ( t h i s , { q u e s t i o n I d : q u e s t i o n . d a t a ( ' q u e s t i o n I d ' ) , q u e s t i o n T i t l e : q u e s t i o n . d a t a ( ' t i t l e ' ) } ) . o p e n ( ) ; } , _ o n S e n d R e q u e s t T o R e s p o n s i b l e C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   c h a n n e l I d = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' c h a n n e l I d ' ) ; n e w   S l i d e E n r o l l D i a l o g ( t h i s , { c h a n n e l I d : c h a n n e l I d , $ e l e m e n t : $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . a l e r t . a l e r t - i n f o ' ) } ) . o p e n ( ) ; } , _ d i s p l a y C r e a t e d Q u e s t i o n : f u n c t i o n ( e v e n t ) { v a r   $ l a s t Q u e s t i o n = t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n : l a s t ' ) ; i f ( $ l a s t Q u e s t i o n . l e n g t h ! = = 0 ) { $ l a s t Q u e s t i o n . a f t e r ( e v e n t . d a t a . n e w Q u e s t i o n R e n d e r e d T e m p l a t e ) ; } e l s e { t h i s . $ e l . p r e p e n d ( e v e n t . d a t a . n e w Q u e s t i o n R e n d e r e d T e m p l a t e ) ; } 
 t h i s . q u i z . q u e s t i o n s C o u n t + + ; e v e n t . d a t a . q u e s t i o n F o r m W i d g e t . d e s t r o y ( ) ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ q u i z _ a d d _ q u e s t i o n ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } , _ d i s p l a y U p d a t e d Q u e s t i o n : f u n c t i o n ( e v e n t ) { v a r   q u e s t i o n F o r m W i d g e t = e v e n t . d a t a . q u e s t i o n F o r m W i d g e t ; e v e n t . d a t a . $ e d i t e d Q u e s t i o n . r e p l a c e W i t h ( e v e n t . d a t a . n e w Q u e s t i o n R e n d e r e d T e m p l a t e ) ; q u e s t i o n F o r m W i d g e t . d e s t r o y ( ) ; } , _ r e s e t D i s p l a y : f u n c t i o n ( e v e n t ) { v a r   q u e s t i o n F o r m W i d g e t = e v e n t . d a t a . q u e s t i o n F o r m W i d g e t ; i f ( q u e s t i o n F o r m W i d g e t . u p d a t e ) { q u e s t i o n F o r m W i d g e t . $ e d i t e d Q u e s t i o n . s h o w ( ) ; } e l s e { i f ( t h i s . q u i z . q u e s t i o n s C o u n t > 0 ) { t h i s . $ ( ' . o _ w s l i d e s _ j s _ q u i z _ a d d _ q u e s t i o n ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } e l s e { t h i s . $ ( ' . o _ w s l i d e s _ j s _ q u i z _ a d d _ q u i z ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } } 
 q u e s t i o n F o r m W i d g e t . d e s t r o y ( ) ; } , _ d e l e t e Q u e s t i o n : f u n c t i o n ( e v e n t ) { v a r   q u e s t i o n I d = e v e n t . d a t a . q u e s t i o n I d ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n [ d a t a - q u e s t i o n - i d = ' + q u e s t i o n I d + ' ] ' ) . r e m o v e ( ) ; t h i s . q u i z . q u e s t i o n s C o u n t - - ; t h i s . _ r e o r d e r Q u e s t i o n s ( ) ; v a r   $ n e w Q u e s t i o n S e q u e n c e = t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ n e w _ q u e s t i o n   . o _ w s l i d e s _ q u i z _ q u e s t i o n _ s e q u e n c e ' ) ; $ n e w Q u e s t i o n S e q u e n c e . t e x t ( p a r s e I n t ( $ n e w Q u e s t i o n S e q u e n c e . t e x t ( ) ) - 1 ) ; i f ( t h i s . q u i z . q u e s t i o n s C o u n t = = = 0 & & ! t h i s . $ ( ' . o _ w s i l d e s _ q u i z _ q u e s t i o n _ i n p u t ' ) . l e n g t h ) { t h i s . $ ( ' . o _ w s l i d e s _ j s _ q u i z _ a d d _ q u i z ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ q u i z _ a d d _ q u e s t i o n ' ) . a d d C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ v a l i d a t i o n ' ) . a d d C l a s s ( ' d - n o n e ' ) ; } } , } ) ; v a r   C o n f i r m a t i o n D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' s l i d e . q u i z . c o n f i r m . d e l e t i o n ' , x m l D e p e n d e n c i e s : D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ q u i z _ c r e a t e . x m l ' ] ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : _ t ( ' D e l e t e   Q u e s t i o n ' ) , b u t t o n s : [ { t e x t : _ t ( ' Y e s ' ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . _ o n C o n f i r m C l i c k } , { t e x t : _ t ( ' N o ' ) , c l o s e : t r u e } ] , s i z e : ' m e d i u m ' } ) ; t h i s . q u e s t i o n I d = o p t i o n s . q u e s t i o n I d ; t h i s . q u e s t i o n T i t l e = o p t i o n s . q u e s t i o n T i t l e ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ o n C o n f i r m C l i c k : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . _ r p c ( { m o d e l : ' s l i d e . q u e s t i o n ' , m e t h o d : ' u n l i n k ' , a r g s : [ t h i s . q u e s t i o n I d ] , } ) . t h e n ( f u n c t i o n ( ) { s e l f . t r i g g e r _ u p ( ' d e l e t e _ q u e s t i o n ' , { q u e s t i o n I d : s e l f . q u e s t i o n I d } ) ; s e l f . c l o s e ( ) ; } ) ; } } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s Q u i z N o F u l l s c r e e n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ l e s s o n _ m a i n ' , c u s t o m _ e v e n t s : { s l i d e _ g o _ n e x t : ' _ o n Q u i z N e x t S l i d e ' , s l i d e _ c o m p l e t e d : ' _ o n Q u i z C o m p l e t e d ' , } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . q u i z W i d g e t s = [ ] ; v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z ' ) . e a c h ( f u n c t i o n ( ) { v a r   s l i d e D a t a = $ ( t h i s ) . d a t a ( ) ; v a r   c h a n n e l D a t a = s e l f . _ e x t r a c t C h a n n e l D a t a ( s l i d e D a t a ) ; s l i d e D a t a . q u i z D a t a = { q u e s t i o n s : s e l f . _ e x t r a c t Q u e s t i o n s A n d A n s w e r s ( ) , s e s s i o n A n s w e r s : s l i d e D a t a . s e s s i o n A n s w e r s | | [ ] , q u i z K a r m a M a x : s l i d e D a t a . q u i z K a r m a M a x , q u i z K a r m a W o n : s l i d e D a t a . q u i z K a r m a W o n , q u i z K a r m a G a i n : s l i d e D a t a . q u i z K a r m a G a i n , q u i z A t t e m p t s C o u n t : s l i d e D a t a . q u i z A t t e m p t s C o u n t , } ; d e f s . p u s h ( n e w   Q u i z ( s e l f , s l i d e D a t a , c h a n n e l D a t a , s l i d e D a t a . q u i z D a t a ) . a t t a c h T o ( $ ( t h i s ) ) ) ; } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ o n Q u i z C o m p l e t e d : f u n c t i o n ( e v ) { v a r   s l i d e = e v . d a t a . s l i d e ; v a r   c o m p l e t i o n = e v . d a t a . c o m p l e t i o n ; t h i s . $ ( ' # o _ w s l i d e s _ l e s s o n _ a s i d e _ s l i d e _ c h e c k _ ' + s l i d e . i d ) . a d d C l a s s ( ' t e x t - s u c c e s s   f a - c h e c k ' ) . r e m o v e C l a s s ( ' t e x t - 6 0 0   f a - c i r c l e - o ' ) ; $ ( ' . o _ w s l i d e s _ l e s s o n _ h e a d e r   . p r o g r e s s - b a r ' ) . c s s ( ' w i d t h ' , c o m p l e t i o n + " % " ) ; $ ( ' . o _ w s l i d e s _ l e s s o n _ h e a d e r   . p r o g r e s s   s p a n ' ) . t e x t ( _ . s t r . s p r i n t f ( " % s   % % " , c o m p l e t i o n ) ) ; } , _ o n Q u i z N e x t S l i d e : f u n c t i o n ( ) { v a r   u r l = t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z ' ) . d a t a ( ' n e x t - s l i d e - u r l ' ) ; w i n d o w . l o c a t i o n . r e p l a c e ( u r l ) ; } , _ e x t r a c t C h a n n e l D a t a : f u n c t i o n ( s l i d e D a t a ) { r e t u r n { c h a n n e l I d : s l i d e D a t a . c h a n n e l I d , c h a n n e l E n r o l l : s l i d e D a t a . c h a n n e l E n r o l l , c h a n n e l R e q u e s t e d A c c e s s : s l i d e D a t a . c h a n n e l R e q u e s t e d A c c e s s | | f a l s e , s i g n u p A l l o w e d : s l i d e D a t a . s i g n u p A l l o w e d } ; } , _ e x t r a c t Q u e s t i o n s A n d A n s w e r s : f u n c t i o n ( ) { v a r   q u e s t i o n s = [ ] ; t h i s . $ ( ' . o _ w s l i d e s _ j s _ l e s s o n _ q u i z _ q u e s t i o n ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ q u e s t i o n = $ ( t h i s ) ; v a r   a n s w e r s = [ ] ; $ q u e s t i o n . f i n d ( ' . o _ w s l i d e s _ q u i z _ a n s w e r ' ) . e a c h ( f u n c t i o n ( ) { v a r   $ a n s w e r = $ ( t h i s ) ; a n s w e r s . p u s h ( { i d : $ a n s w e r . d a t a ( ' a n s w e r I d ' ) , t e x t : $ a n s w e r . d a t a ( ' t e x t ' ) , } ) ; } ) ; q u e s t i o n s . p u s h ( { i d : $ q u e s t i o n . d a t a ( ' q u e s t i o n I d ' ) , t i t l e : $ q u e s t i o n . d a t a ( ' t i t l e ' ) , a n s w e r _ i d s : a n s w e r s , } ) ; } ) ; r e t u r n   q u e s t i o n s ; } , } ) ; r e t u r n { Q u i z : Q u i z , C o n f i r m a t i o n D i a l o g : C o n f i r m a t i o n D i a l o g , w e b s i t e S l i d e s Q u i z N o F u l l s c r e e n : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s Q u i z N o F u l l s c r e e n } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ q u i z _ q u e s t i o n _ f o r m . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . q u i z . q u e s t i o n . f o r m ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   Q u e s t i o n F o r m W i d g e t = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' s l i d e . q u i z . q u e s t i o n . i n p u t ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / s l i d e _ q u i z _ c r e a t e . x m l ' ] , e v e n t s : { ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ v a l i d a t e _ q u e s t i o n ' : ' _ v a l i d a t e Q u e s t i o n ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ c a n c e l _ q u e s t i o n ' : ' _ c a n c e l V a l i d a t i o n ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ c o m m e n t _ a n s w e r ' : ' _ t o g g l e A n s w e r L i n e C o m m e n t ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ a d d _ a n s w e r ' : ' _ a d d A n s w e r L i n e ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ r e m o v e _ a n s w e r ' : ' _ r e m o v e A n s w e r L i n e ' , ' c l i c k   . o _ w s l i d e s _ j s _ q u i z _ r e m o v e _ a n s w e r _ c o m m e n t ' : ' _ r e m o v e A n s w e r L i n e C o m m e n t ' , ' c h a n g e   . o _ w s l i d e s _ j s _ q u i z _ a n s w e r _ c o m m e n t   >   i n p u t [ t y p e = t e x t ] ' : ' _ o n C o m m e n t C h a n g e d ' } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . $ e d i t e d Q u e s t i o n = o p t i o n s . e d i t e d Q u e s t i o n ; t h i s . q u e s t i o n = o p t i o n s . q u e s t i o n | | { } ; t h i s . u p d a t e = o p t i o n s . u p d a t e ; t h i s . s e q u e n c e = o p t i o n s . s e q u e n c e ; t h i s . s l i d e I d = o p t i o n s . s l i d e I d ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . $ ( ' . o _ w s l i d e s _ q u i z _ q u e s t i o n   i n p u t ' ) . f o c u s ( ) ; } ) ; } , _ o n C o m m e n t C h a n g e d : f u n c t i o n ( e v e n t ) { v a r   i n p u t = e v e n t . c u r r e n t T a r g e t ; v a r   c o m m e n t I c o n = $ ( i n p u t ) . c l o s e s t ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r ' ) . f i n d ( ' . o _ w s l i d e s _ j s _ q u i z _ c o m m e n t _ a n s w e r ' ) ; i f ( i n p u t . v a l u e . t r i m ( ) ! = = ' ' ) { c o m m e n t I c o n . a d d C l a s s ( ' t e x t - p r i m a r y ' ) ; c o m m e n t I c o n . r e m o v e C l a s s ( ' t e x t - m u t e d ' ) ; } e l s e { c o m m e n t I c o n . a d d C l a s s ( ' t e x t - m u t e d ' ) ; c o m m e n t I c o n . r e m o v e C l a s s ( ' t e x t - p r i m a r y ' ) ; } } , _ t o g g l e A n s w e r L i n e C o m m e n t : f u n c t i o n ( e v ) { v a r   c o m m e n t L i n e = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r ' ) . f i n d ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r _ c o m m e n t ' ) . t o g g l e C l a s s ( ' d - n o n e ' ) ; c o m m e n t L i n e . f i n d ( ' i n p u t [ t y p e = t e x t ] ' ) . f o c u s ( ) ; } , _ a d d A n s w e r L i n e : f u n c t i o n ( e v ) { $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r ' ) . a f t e r ( Q W e b . r e n d e r ( ' s l i d e . q u i z . a n s w e r . l i n e ' ) ) ; } , _ r e m o v e A n s w e r L i n e : f u n c t i o n ( e v ) { i f ( t h i s . $ ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r ' ) . l e n g t h > 1 ) { $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r ' ) . r e m o v e ( ) ; } } , _ r e m o v e A n s w e r L i n e C o m m e n t : f u n c t i o n ( e v ) { v a r   c o m m e n t L i n e = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r _ c o m m e n t ' ) . a d d C l a s s ( ' d - n o n e ' ) ; c o m m e n t L i n e . f i n d ( ' i n p u t [ t y p e = t e x t ] ' ) . v a l ( ' ' ) . c h a n g e ( ) ; } , _ v a l i d a t e Q u e s t i o n : f u n c t i o n ( e v ) { t h i s . _ c r e a t e O r U p d a t e Q u e s t i o n ( { u p d a t e : $ ( e v . c u r r e n t T a r g e t ) . h a s C l a s s ( ' o _ w s l i d e s _ j s _ q u i z _ u p d a t e ' ) , } ) ; } , _ c a n c e l V a l i d a t i o n : f u n c t i o n ( ) { t h i s . t r i g g e r _ u p ( ' r e s e t _ d i s p l a y ' , { q u e s t i o n F o r m W i d g e t : t h i s , } ) ; } , _ c r e a t e O r U p d a t e Q u e s t i o n : f u n c t i o n ( o p t i o n s ) { v a r   s e l f = t h i s ; v a r   $ f o r m = t h i s . $ ( ' f o r m ' ) ; i f ( t h i s . _ i s V a l i d F o r m ( $ f o r m ) ) { v a r   v a l u e s = t h i s . _ s e r i a l i z e F o r m ( $ f o r m ) ; t h i s . _ r p c ( { r o u t e : ' / s l i d e s / s l i d e / q u i z / q u e s t i o n _ a d d _ o r _ u p d a t e ' , p a r a m s : v a l u e s } ) . t h e n ( f u n c t i o n ( r e n d e r e d Q u e s t i o n ) { i f ( o p t i o n s . u p d a t e ) { s e l f . t r i g g e r _ u p ( ' d i s p l a y _ u p d a t e d _ q u e s t i o n ' , { n e w Q u e s t i o n R e n d e r e d T e m p l a t e : r e n d e r e d Q u e s t i o n , $ e d i t e d Q u e s t i o n : s e l f . $ e d i t e d Q u e s t i o n , q u e s t i o n F o r m W i d g e t : s e l f , } ) ; } e l s e { s e l f . t r i g g e r _ u p ( ' d i s p l a y _ c r e a t e d _ q u e s t i o n ' , { n e w Q u e s t i o n R e n d e r e d T e m p l a t e : r e n d e r e d Q u e s t i o n , q u e s t i o n F o r m W i d g e t : s e l f } ) ; } } ) ; } e l s e { t h i s . d i s p l a y N o t i f i c a t i o n ( { t y p e : ' w a r n i n g ' , m e s s a g e : _ t ( ' P l e a s e   f i l l   u p   t h e   q u e s t i o n ' ) , s t i c k y : t r u e } ) ; t h i s . $ ( ' . o _ w s l i d e s _ q u i z _ q u e s t i o n   i n p u t ' ) . f o c u s ( ) ; } } , _ i s V a l i d F o r m : f u n c t i o n ( $ f o r m ) { r e t u r n   $ f o r m . f i n d ( ' . o _ w s l i d e s _ q u i z _ q u e s t i o n   i n p u t [ t y p e = t e x t ] ' ) . v a l ( ) . t r i m ( ) ! = = " " ; } , _ s e r i a l i z e F o r m : f u n c t i o n ( $ f o r m ) { v a r   a n s w e r s = [ ] ; v a r   s e q u e n c e = 1 ; $ f o r m . f i n d ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r ' ) . e a c h ( f u n c t i o n ( ) { v a r   v a l u e = $ ( t h i s ) . f i n d ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r _ v a l u e ' ) . v a l ( ) ; i f ( v a l u e . t r i m ( ) ! = = " " ) { v a r   a n s w e r = { ' s e q u e n c e ' : s e q u e n c e + + , ' t e x t _ v a l u e ' : v a l u e , ' i s _ c o r r e c t ' : $ ( t h i s ) . f i n d ( ' i n p u t [ t y p e = r a d i o ] ' ) . p r o p ( ' c h e c k e d ' ) = = = t r u e , ' c o m m e n t ' : $ ( t h i s ) . f i n d ( ' . o _ w s l i d e s _ j s _ q u i z _ a n s w e r _ c o m m e n t   >   i n p u t [ t y p e = t e x t ] ' ) . v a l ( ) . t r i m ( ) } ; a n s w e r s . p u s h ( a n s w e r ) ; } } ) ; r e t u r n { ' e x i s t i n g _ q u e s t i o n _ i d ' : t h i s . $ e l . d a t a ( ' i d ' ) , ' s e q u e n c e ' : t h i s . s e q u e n c e , ' q u e s t i o n ' : $ f o r m . f i n d ( ' . o _ w s l i d e s _ q u i z _ q u e s t i o n   i n p u t [ t y p e = t e x t ] ' ) . v a l ( ) , ' s l i d e _ i d ' : t h i s . s l i d e I d , ' a n s w e r _ i d s ' : a n s w e r s } ; } , } ) ; r e t u r n   Q u e s t i o n F o r m W i d g e t ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ q u i z _ f i n i s h . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . q u i z . f i n i s h ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; v a r   S l i d e Q u i z F i n i s h M o d a l = D i a l o g . e x t e n d ( { t e m p l a t e : ' s l i d e . s l i d e . q u i z . f i n i s h ' , e v e n t s : { " c l i c k   . o _ w s l i d e s _ q u i z _ m o d a l _ b t n " : ' _ o n C l i c k N e x t ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { v a r   s e l f = t h i s ; t h i s . q u i z = o p t i o n s . q u i z ; t h i s . h a s N e x t = o p t i o n s . h a s N e x t ; t h i s . u s e r I d = o p t i o n s . u s e r I d ; o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { s i z e : ' m e d i u m ' , d i a l o g C l a s s : ' d - f l e x   p - 0 ' , t e c h n i c a l : f a l s e , r e n d e r H e a d e r : f a l s e , r e n d e r F o o t e r : f a l s e } ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . o p e n e d ( f u n c t i o n ( ) { s e l f . _ a n i m a t e P r o g r e s s B a r ( ) ; s e l f . _ a n i m a t e T e x t ( ) ; } ) } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . $ m o d a l . a d d C l a s s ( ' o _ w s l i d e s _ q u i z _ m o d a l   p t - 5 ' ) ; s e l f . $ m o d a l . f i n d ( ' . m o d a l - d i a l o g ' ) . a d d C l a s s ( ' m t - 5 ' ) ; s e l f . $ m o d a l . f i n d ( ' . m o d a l - c o n t e n t ' ) . a d d C l a s s ( ' s h a d o w - l g ' ) ; } ) ; } , _ o n C l i c k N e x t : f u n c t i o n ( ) { t h i s . t r i g g e r _ u p ( ' s l i d e _ g o _ n e x t ' ) ; t h i s . d e s t r o y ( ) ; } , _ a n i m a t e P r o g r e s s B a r : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ ( ' [ d a t a - t o g g l e = " t o o l t i p " ] ' ) . t o o l t i p ( { t r i g g e r : ' m a n u a l ' , c o n t a i n e r : ' . p r o g r e s s - b a r - t o o l t i p ' , } ) . t o o l t i p ( ' s h o w ' ) ; t h i s . $ ( ' . t o o l t i p - i n n e r ' ) . p r o p ( ' k a r m a ' , t h i s . q u i z . r a n k P r o g r e s s . p r e v i o u s _ r a n k . k a r m a ) . a n i m a t e ( { k a r m a : t h i s . q u i z . r a n k P r o g r e s s . n e w _ r a n k . k a r m a } , { d u r a t i o n : t h i s . q u i z . r a n k P r o g r e s s . l e v e l _ u p ? 1 7 0 0 : 8 0 0 , s t e p : f u n c t i o n ( n e w K a r m a ) { s e l f . $ ( ' . t o o l t i p - i n n e r ' ) . t e x t ( M a t h . c e i l ( n e w K a r m a ) ) ; s e l f . $ ( ' [ d a t a - t o g g l e = " t o o l t i p " ] ' ) . t o o l t i p ( ' u p d a t e ' ) ; } } ) ; v a r   $ p r o g r e s s B a r = t h i s . $ ( ' . p r o g r e s s - b a r ' ) ; i f ( t h i s . q u i z . r a n k P r o g r e s s . l e v e l _ u p ) { t h i s . $ ( ' . o _ w s l i d e s _ q u i z _ m o d a l _ t i t l e ' ) . t e x t ( _ t ( ' L e v e l   u p ! ' ) ) ; $ p r o g r e s s B a r . c s s ( ' w i d t h ' , ' 1 0 0 % ' ) ; _ . d e l a y ( f u n c t i o n ( ) { s e l f . $ ( ' . o _ w s l i d e s _ q u i z _ m o d a l _ r a n k _ l o w e r _ b o u n d ' ) . t e x t ( s e l f . q u i z . r a n k P r o g r e s s . n e w _ r a n k . l o w e r _ b o u n d ) ; s e l f . $ ( ' . o _ w s l i d e s _ q u i z _ m o d a l _ r a n k _ u p p e r _ b o u n d ' ) . t e x t ( s e l f . q u i z . r a n k P r o g r e s s . n e w _ r a n k . u p p e r _ b o u n d | | " " ) ; _ . d e l a y ( f u n c t i o n ( ) { $ p r o g r e s s B a r . a d d C l a s s ( ' n o - t r a n s i t i o n ' ) . w i d t h ( ' 0 % ' ) ; } , 1 ) ; _ . d e l a y ( f u n c t i o n ( ) { $ p r o g r e s s B a r . r e m o v e C l a s s ( ' n o - t r a n s i t i o n ' ) . w i d t h ( s e l f . q u i z . r a n k P r o g r e s s . n e w _ r a n k . p r o g r e s s + ' % ' ) ; } , 1 0 0 ) ; } , 8 0 0 ) ; } e l s e { $ p r o g r e s s B a r . c s s ( ' w i d t h ' , t h i s . q u i z . r a n k P r o g r e s s . n e w _ r a n k . p r o g r e s s + ' % ' ) ; } } , _ a n i m a t e T e x t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; _ . d e l a y ( f u n c t i o n ( ) { s e l f . $ ( ' h 4 . o _ w s l i d e s _ q u i z _ m o d a l _ x p _ g a i n e d ' ) . a d d C l a s s ( ' s h o w   i n ' ) ; s e l f . $ ( ' . o _ w s l i d e s _ q u i z _ m o d a l _ d i s m i s s ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } , 8 0 0 ) ; i f ( t h i s . q u i z . r a n k P r o g r e s s . l e v e l _ u p ) { _ . d e l a y ( f u n c t i o n ( ) { s e l f . $ ( ' . o _ w s l i d e s _ q u i z _ m o d a l _ r a n k _ m o t i v a t i o n a l ' ) . a d d C l a s s ( ' f a d e ' ) ; _ . d e l a y ( f u n c t i o n ( ) { s e l f . $ ( ' . o _ w s l i d e s _ q u i z _ m o d a l _ r a n k _ m o t i v a t i o n a l ' ) . h t m l ( s e l f . q u i z . r a n k P r o g r e s s . l a s t _ r a n k ? s e l f . q u i z . r a n k P r o g r e s s . d e s c r i p t i o n : s e l f . q u i z . r a n k P r o g r e s s . n e w _ r a n k . m o t i v a t i o n a l ) ; s e l f . $ ( ' . o _ w s l i d e s _ q u i z _ m o d a l _ r a n k _ m o t i v a t i o n a l ' ) . a d d C l a s s ( ' s h o w   i n ' ) ; } , 8 0 0 ) ; } , 8 0 0 ) ; } } , } ) ; r e t u r n   S l i d e Q u i z F i n i s h M o d a l ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ t a g _ a d d . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . c h a n n e l _ t a g . a d d ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; v a r   T a g C o u r s e D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s l i d e s . t a g . a d d ' , e v e n t s : _ . e x t e n d ( { } , D i a l o g . p r o t o t y p e . e v e n t s , { ' c h a n g e   i n p u t # t a g _ i d ' : ' _ o n C h a n g e T a g ' , } ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : _ t ( " A d d   a   t a g " ) , s i z e : ' m e d i u m ' , b u t t o n s : [ { t e x t : _ t ( " A d d " ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . _ o n C l i c k F o r m S u b m i t . b i n d ( t h i s ) } , { t e x t : _ t ( " D i s c a r d " ) , c l i c k : t h i s . _ o n C l i c k C l o s e . b i n d ( t h i s ) } ] } ) ; t h i s . c h a n n e l I D = p a r s e I n t ( o p t i o n s . c h a n n e l I d , 1 0 ) ; t h i s . t a g I d s = o p t i o n s . c h a n n e l T a g I d s | | [ ] ; t h i s . d e f a u l t T a g = o p t i o n s . d e f a u l t T a g ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . _ b i n d S e l e c t 2 D r o p d o w n ( ) ; s e l f . _ h i d e T a g G r o u p ( ) ; i f ( s e l f . d e f a u l t T a g ) { s e l f . _ s e t D e f a u l t S e l e c t i o n ( ) ; } } ) ; } , _ b i n d S e l e c t 2 D r o p d o w n : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ ( ' # t a g _ i d ' ) . s e l e c t 2 ( t h i s . _ s e l e c t 2 W r a p p e r ( _ t ( ' T a g ' ) , f u n c t i o n ( ) { r e t u r n   s e l f . _ r p c ( { r o u t e : ' / s l i d e s / c h a n n e l / t a g / s e a r c h _ r e a d ' , p a r a m s : { f i e l d s : [ ' n a m e ' ] , d o m a i n : [ [ ' i d ' , ' n o t   i n ' , s e l f . t a g I d s ] ] , } } ) ; } ) ) ; t h i s . $ ( ' # t a g _ g r o u p _ i d ' ) . s e l e c t 2 ( t h i s . _ s e l e c t 2 W r a p p e r ( _ t ( ' T a g   G r o u p   ( r e q u i r e d   f o r   n e w   t a g s ) ' ) , f u n c t i o n ( ) { r e t u r n   s e l f . _ r p c ( { r o u t e : ' / s l i d e s / c h a n n e l / t a g / g r o u p / s e a r c h _ r e a d ' , p a r a m s : { f i e l d s : [ ' n a m e ' ] , d o m a i n : [ ] , } } ) ; } ) ) ; } , _ s e l e c t 2 W r a p p e r : f u n c t i o n ( t a g , f e t c h F N C , n a m e K e y ) { n a m e K e y = n a m e K e y | | ' n a m e ' ; v a r   v a l u e s = { w i d t h : ' 1 0 0 % ' , p l a c e h o l d e r : t a g , a l l o w C l e a r : t r u e , f o r m a t N o M a t c h e s : f a l s e , s e l e c t i o n _ d a t a : f a l s e , f e t c h _ r p c _ f n c : f e t c h F N C , f o r m a t S e l e c t i o n : f u n c t i o n ( d a t a ) { i f ( d a t a . t a g ) { d a t a . t e x t = d a t a . t a g ; } 
 r e t u r n   d a t a . t e x t ; } , c r e a t e S e a r c h C h o i c e : f u n c t i o n ( t e r m , d a t a ) { v a r   a d d e d T a g s = $ ( t h i s . o p t s . e l e m e n t ) . s e l e c t 2 ( ' d a t a ' ) ; i f ( _ . f i l t e r ( _ . u n i o n ( a d d e d T a g s , d a t a ) , f u n c t i o n ( t a g ) { r e t u r n   t a g . t e x t . t o L o w e r C a s e ( ) . l o c a l e C o m p a r e ( t e r m . t o L o w e r C a s e ( ) ) = = = 0 ; } ) . l e n g t h = = = 0 ) { i f ( t h i s . o p t s . c a n _ c r e a t e ) { r e t u r n { i d : _ . u n i q u e I d ( ' t a g _ ' ) , c r e a t e : t r u e , t a g : t e r m , t e x t : _ . s t r . s p r i n t f ( _ t ( " C r e a t e   n e w   % s   ' % s ' " ) , t a g , t e r m ) , } ; } e l s e { r e t u r n   u n d e f i n e d ; } } } , f i l l _ d a t a : f u n c t i o n ( q u e r y , d a t a ) { v a r   t h a t = t h i s , t a g s = { r e s u l t s : [ ] } ; _ . e a c h ( d a t a , f u n c t i o n ( o b j ) { i f ( t h a t . m a t c h e r ( q u e r y . t e r m , o b j [ n a m e K e y ] ) ) { t a g s . r e s u l t s . p u s h ( { i d : o b j . i d , t e x t : o b j [ n a m e K e y ] } ) ; } } ) ; q u e r y . c a l l b a c k ( t a g s ) ; } , q u e r y : f u n c t i o n ( q u e r y ) { v a r   t h a t = t h i s ; i f ( ! t h i s . s e l e c t i o n _ d a t a ) { t h i s . f e t c h _ r p c _ f n c ( ) . t h e n ( f u n c t i o n ( d a t a ) { t h a t . c a n _ c r e a t e = d a t a . c a n _ c r e a t e ; t h a t . f i l l _ d a t a ( q u e r y , d a t a . r e a d _ r e s u l t s ) ; t h a t . s e l e c t i o n _ d a t a = d a t a . r e a d _ r e s u l t s ; } ) ; } e l s e { t h i s . f i l l _ d a t a ( q u e r y , t h i s . s e l e c t i o n _ d a t a ) ; } } } ; r e t u r n   v a l u e s ; } , _ s e t D e f a u l t S e l e c t i o n : f u n c t i o n ( ) { t h i s . $ ( ' # t a g _ i d ' ) . s e l e c t 2 ( ' d a t a ' , { i d : _ . u n i q u e I d ( ' t a g _ ' ) , t e x t : t h i s . d e f a u l t T a g , c r e a t e : t r u e } , t r u e ) ; t h i s . $ ( ' # t a g _ i d ' ) . s e l e c t 2 ( ' r e a d o n l y ' , t r u e ) ; } , _ g e t S e l e c t 2 D r o p d o w n V a l u e s : f u n c t i o n ( ) { v a r   r e s u l t = { } ; v a r   t a g = t h i s . $ ( ' # t a g _ i d ' ) . s e l e c t 2 ( ' d a t a ' ) ; i f ( t a g ) { i f ( t a g . c r e a t e ) { v a r   g r o u p = t h i s . $ ( ' # t a g _ g r o u p _ i d ' ) . s e l e c t 2 ( ' d a t a ' ) ; i f ( g r o u p ) { r e s u l t [ ' t a g _ i d ' ] = [ 0 , { ' n a m e ' : t a g . t e x t } ] 
 i f ( g r o u p . c r e a t e ) { r e s u l t [ ' g r o u p _ i d ' ] = [ 0 , { ' n a m e ' : g r o u p . t e x t } ] ; } e l s e { r e s u l t [ ' g r o u p _ i d ' ] = [ g r o u p . i d ] ; } } } e l s e { r e s u l t [ ' t a g _ i d ' ] = [ t a g . i d ] ; } } 
 r e t u r n   r e s u l t ; } , _ f o r m V a l i d a t e : f u n c t i o n ( $ f o r m ) { $ f o r m . a d d C l a s s ( ' w a s - v a l i d a t e d ' ) ; v a r   r e s u l t = $ f o r m [ 0 ] . c h e c k V a l i d i t y ( ) ; v a r   $ t a g I n p u t = t h i s . $ ( ' # t a g _ i d ' ) ; i f ( $ t a g I n p u t . l e n g t h ! = = 0 ) { v a r   $ t a g S e l e c t 2 C o n t a i n e r = $ t a g I n p u t . c l o s e s t ( ' . f o r m - g r o u p ' ) . f i n d ( ' . s e l e c t 2 - c o n t a i n e r ' ) ; $ t a g S e l e c t 2 C o n t a i n e r . r e m o v e C l a s s ( ' i s - i n v a l i d   i s - v a l i d ' ) ; i f ( $ t a g I n p u t . i s ( ' : i n v a l i d ' ) ) { $ t a g S e l e c t 2 C o n t a i n e r . a d d C l a s s ( ' i s - i n v a l i d ' ) ; } e l s e   i f ( $ t a g I n p u t . i s ( ' : v a l i d ' ) ) { $ t a g S e l e c t 2 C o n t a i n e r . a d d C l a s s ( ' i s - v a l i d ' ) ; v a r   $ t a g G r o u p I n p u t = t h i s . $ ( ' # t a g _ g r o u p _ i d ' ) ; i f ( $ t a g G r o u p I n p u t . l e n g t h ! = = 0 ) { v a r   $ t a g G r o u p S e l e c t 2 C o n t a i n e r = $ t a g G r o u p I n p u t . c l o s e s t ( ' . f o r m - g r o u p ' ) . f i n d ( ' . s e l e c t 2 - c o n t a i n e r ' ) ; i f ( $ t a g G r o u p I n p u t . i s ( ' : i n v a l i d ' ) ) { $ t a g G r o u p S e l e c t 2 C o n t a i n e r . a d d C l a s s ( ' i s - i n v a l i d ' ) ; } e l s e   i f ( $ t a g G r o u p I n p u t . i s ( ' : v a l i d ' ) ) { $ t a g G r o u p S e l e c t 2 C o n t a i n e r . a d d C l a s s ( ' i s - v a l i d ' ) ; } } } } 
 r e t u r n   r e s u l t ; } , _ a l e r t D i s p l a y : f u n c t i o n ( m e s s a g e ) { t h i s . _ a l e r t R e m o v e ( ) ; $ ( ' < d i v / > ' , { " c l a s s " : ' a l e r t   a l e r t - w a r n i n g ' , r o l e : ' a l e r t ' } ) . t e x t ( m e s s a g e ) . i n s e r t B e f o r e ( t h i s . $ ( ' f o r m ' ) ) ; } , _ a l e r t R e m o v e : f u n c t i o n ( ) { t h i s . $ ( ' . a l e r t - w a r n i n g ' ) . r e m o v e ( ) ; } , _ h i d e T a g G r o u p : f u n c t i o n ( ) { v a r   $ t a g _ g r o u p _ i d = t h i s . $ ( ' # t a g _ g r o u p _ i d ' ) ; v a r   $ t a g G r o u p S e l e c t 2 C o n t a i n e r = $ t a g _ g r o u p _ i d . c l o s e s t ( ' . f o r m - g r o u p ' ) ; $ t a g G r o u p S e l e c t 2 C o n t a i n e r . h i d e ( ) ; $ t a g _ g r o u p _ i d . r e m o v e A t t r ( " r e q u i r e d " ) ; $ t a g _ g r o u p _ i d . s e l e c t 2 ( " v a l " , " " ) ; } , _ s h o w T a g G r o u p : f u n c t i o n ( ) { v a r   $ t a g _ g r o u p _ i d = t h i s . $ ( ' # t a g _ g r o u p _ i d ' ) ; v a r   $ t a g G r o u p S e l e c t 2 C o n t a i n e r = $ t a g _ g r o u p _ i d . c l o s e s t ( ' . f o r m - g r o u p ' ) ; $ t a g G r o u p S e l e c t 2 C o n t a i n e r . s h o w ( ) ; $ t a g _ g r o u p _ i d . a t t r ( " r e q u i r e d " , " r e q u i r e d " ) ; } , _ o n C l i c k F o r m S u b m i t : f u n c t i o n ( ) { i f ( t h i s . d e f a u l t T a g & & ! t h i s . c h a n n e l I D ) { t h i s . _ c r e a t e N e w T a g ( ) ; } e l s e { t h i s . _ a d d T a g T o C h a n n e l ( ) ; } } , _ a d d T a g T o C h a n n e l : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   $ f o r m = t h i s . $ ( ' # s l i d e s _ c h a n n e l _ t a g _ a d d _ f o r m ' ) ; i f ( t h i s . _ f o r m V a l i d a t e ( $ f o r m ) ) { v a r   v a l u e s = t h i s . _ g e t S e l e c t 2 D r o p d o w n V a l u e s ( ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / s l i d e s / c h a n n e l / t a g / a d d ' , p a r a m s : { ' c h a n n e l _ i d ' : t h i s . c h a n n e l I D , ' t a g _ i d ' : v a l u e s . t a g _ i d , ' g r o u p _ i d ' : v a l u e s . g r o u p _ i d } , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a . e r r o r ) { s e l f . _ a l e r t D i s p l a y ( d a t a . e r r o r ) ; } e l s e { w i n d o w . l o c a t i o n = d a t a . u r l ; } } ) ; } } , _ c r e a t e N e w T a g : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   $ f o r m = t h i s . $ ( ' # s l i d e s _ c h a n n e l _ t a g _ a d d _ f o r m ' ) ; t h i s . $ ( ' # t a g _ i d ' ) . s e l e c t 2 ( ' r e a d o n l y ' , f a l s e ) ; v a r   v a l i d = t h i s . _ f o r m V a l i d a t e ( $ f o r m ) ; t h i s . $ ( ' # t a g _ i d ' ) . s e l e c t 2 ( ' r e a d o n l y ' , t r u e ) ; i f ( v a l i d ) { v a r   v a l u e s = t h i s . _ g e t S e l e c t 2 D r o p d o w n V a l u e s ( ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / s l i d e _ c h a n n e l _ t a g / a d d ' , p a r a m s : { ' t a g _ i d ' : v a l u e s . t a g _ i d , ' g r o u p _ i d ' : v a l u e s . g r o u p _ i d } , } ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . t r i g g e r _ u p ( ' t a g _ r e f r e s h ' , { t a g _ i d : d a t a . t a g _ i d } ) ; s e l f . c l o s e ( ) ; } ) ; } } , _ o n C l i c k C l o s e : f u n c t i o n ( ) { i f ( t h i s . d e f a u l t T a g & & ! t h i s . c h a n n e l I D ) { t h i s . t r i g g e r _ u p ( ' t a g _ r e m o v e _ n e w ' ) ; } 
 t h i s . c l o s e ( ) ; } , _ o n C h a n g e T a g : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   t a g = $ ( e v . c u r r e n t T a r g e t ) . s e l e c t 2 ( ' d a t a ' ) ; i f ( t a g & & t a g . c r e a t e ) { s e l f . _ s h o w T a g G r o u p ( ) ; } e l s e { s e l f . _ h i d e T a g G r o u p ( ) ; } } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s T a g = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ c h a n n e l _ t a g _ a d d ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ c h a n n e l _ t a g . x m l ' ] , e v e n t s : { ' c l i c k ' : ' _ o n A d d T a g C l i c k ' , } , _ o p e n D i a l o g : f u n c t i o n ( $ e l e m e n t ) { v a r   d a t a = $ e l e m e n t . d a t a ( ) ; r e t u r n   n e w   T a g C o u r s e D i a l o g ( t h i s , d a t a ) . o p e n ( ) ; } , _ o n A d d T a g C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ o p e n D i a l o g ( $ ( e v . c u r r e n t T a r g e t ) ) ; } , } ) ; r e t u r n { T a g C o u r s e D i a l o g : T a g C o u r s e D i a l o g , w e b s i t e S l i d e s T a g : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s T a g } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / s l i d e s _ c o u r s e _ u n s u b s c r i b e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . u n s u b s c r i b e _ m o d a l ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   S l i d e U n s u b s c r i b e D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' s l i d e s . c o u r s e . u n s u b s c r i b e . m o d a l ' , _ t e x t s : { t i t l e S u b s c r i b e : _ t ( " S u b s c r i b e " ) , t i t l e U n s u b s c r i b e : _ t ( " N o t i f i c a t i o n s " ) , t i t l e L e a v e C o u r s e : _ t ( " L e a v e   t h e   c o u r s e " ) } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : o p t i o n s . i s F o l l o w e r = = = ' T r u e ' ? t h i s . _ t e x t s . t i t l e S u b s c r i b e : t h i s . _ t e x t s . t i t l e U n s u b s c r i b e , s i z e : ' m e d i u m ' , } ) ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; t h i s . s e t ( ' s t a t e ' , ' _ s u b s c r i p t i o n ' ) ; t h i s . o n ( ' c h a n g e : s t a t e ' , t h i s , t h i s . _ o n C h a n g e T y p e ) ; t h i s . c h a n n e l I D = p a r s e I n t ( o p t i o n s . c h a n n e l I d , 1 0 ) ; t h i s . i s F o l l o w e r = o p t i o n s . i s F o l l o w e r = = = ' T r u e ' ; t h i s . e n r o l l = o p t i o n s . e n r o l l ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . $ ( ' i n p u t # s u b s c r i b e d ' ) . p r o p ( ' c h e c k e d ' , s e l f . i s F o l l o w e r ) ; s e l f . _ r e s e t M o d a l ( ) ; } ) ; } , g e t S u b s c r i p t i o n S t a t e : f u n c t i o n ( ) { r e t u r n   t h i s . $ ( ' i n p u t # s u b s c r i b e d ' ) . p r o p ( ' c h e c k e d ' ) ; } , _ g e t M o d a l B u t t o n s : f u n c t i o n ( ) { v a r   b t n L i s t = [ ] ; v a r   s t a t e = t h i s . g e t ( ' s t a t e ' ) ; i f ( s t a t e = = = ' _ s u b s c r i p t i o n ' ) { b t n L i s t . p u s h ( { t e x t : _ t ( " S a v e " ) , c l a s s e s : " b t n - p r i m a r y " , c l i c k : t h i s . _ o n C l i c k S u b s c r i p t i o n S u b m i t . b i n d ( t h i s ) } ) ; b t n L i s t . p u s h ( { t e x t : _ t ( " D i s c a r d " ) , c l o s e : t r u e } ) ; b t n L i s t . p u s h ( { t e x t : _ t ( " o r   L e a v e   t h e   c o u r s e " ) , c l a s s e s : " b t n - d a n g e r   m l - a u t o " , c l i c k : t h i s . _ o n C l i c k L e a v e C o u r s e . b i n d ( t h i s ) } ) ; } e l s e   i f ( s t a t e = = = ' _ l e a v e ' ) { b t n L i s t . p u s h ( { t e x t : _ t ( " L e a v e   t h e   c o u r s e " ) , c l a s s e s : " b t n - d a n g e r " , c l i c k : t h i s . _ o n C l i c k L e a v e C o u r s e S u b m i t . b i n d ( t h i s ) } ) ; b t n L i s t . p u s h ( { t e x t : _ t ( " D i s c a r d " ) , c l i c k : t h i s . _ o n C l i c k L e a v e C o u r s e C a n c e l . b i n d ( t h i s ) } ) ; } 
 r e t u r n   b t n L i s t ; } , _ r e s e t M o d a l : f u n c t i o n ( ) { v a r   s t a t e = t h i s . g e t ( ' s t a t e ' ) ; i f ( s t a t e = = = ' _ s u b s c r i p t i o n ' ) { t h i s . s e t _ t i t l e ( t h i s . i s F o l l o w e r ? t h i s . _ t e x t s . t i t l e U n s u b s c r i b e : t h i s . _ t e x t s . t i t l e S u b s c r i b e ) ; t h i s . $ ( ' i n p u t # s u b s c r i b e d ' ) . p r o p ( ' c h e c k e d ' , t h i s . i s F o l l o w e r ) ; } 
 e l s e   i f ( s t a t e = = = ' _ l e a v e ' ) { t h i s . s e t _ t i t l e ( t h i s . _ t e x t s . t i t l e L e a v e C o u r s e ) ; } 
 t h i s . s e t _ b u t t o n s ( t h i s . _ g e t M o d a l B u t t o n s ( ) ) ; } , _ o n C l i c k L e a v e C o u r s e : f u n c t i o n ( ) { t h i s . s e t ( ' s t a t e ' , ' _ l e a v e ' ) ; } , _ o n C l i c k L e a v e C o u r s e C a n c e l : f u n c t i o n ( ) { t h i s . s e t ( ' s t a t e ' , ' _ s u b s c r i p t i o n ' ) ; } , _ o n C l i c k L e a v e C o u r s e S u b m i t : f u n c t i o n ( ) { t h i s . _ r p c ( { r o u t e : ' / s l i d e s / c h a n n e l / l e a v e ' , p a r a m s : { c h a n n e l _ i d : t h i s . c h a n n e l I D } , } ) . t h e n ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( ) ; } ) ; } , _ o n C l i c k S u b s c r i p t i o n S u b m i t : f u n c t i o n ( ) { i f ( t h i s . i s F o l l o w e r = = = t h i s . g e t S u b s c r i p t i o n S t a t e ( ) ) { t h i s . d e s t r o y ( ) ; r e t u r n ; } 
 t h i s . _ r p c ( { r o u t e : t h i s . g e t S u b s c r i p t i o n S t a t e ( ) ? ' / s l i d e s / c h a n n e l / s u b s c r i b e ' : ' / s l i d e s / c h a n n e l / u n s u b s c r i b e ' , p a r a m s : { c h a n n e l _ i d : t h i s . c h a n n e l I D } , } ) . t h e n ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( ) ; } ) ; } , _ o n C h a n g e T y p e : f u n c t i o n ( ) { v a r   c u r r e n t T y p e = t h i s . g e t ( ' s t a t e ' ) ; v a r   t m p l ; i f ( c u r r e n t T y p e = = = ' _ s u b s c r i p t i o n ' ) { t m p l = ' s l i d e s . c o u r s e . u n s u b s c r i b e . m o d a l . s u b s c r i p t i o n ' ; } e l s e   i f ( c u r r e n t T y p e = = = ' _ l e a v e ' ) { t m p l = ' s l i d e s . c o u r s e . u n s u b s c r i b e . m o d a l . l e a v e ' ; } 
 t h i s . $ ( ' . o _ w _ s l i d e _ u n s u b s c r i b e _ m o d a l _ c o n t a i n e r ' ) . e m p t y ( ) ; t h i s . $ ( ' . o _ w _ s l i d e _ u n s u b s c r i b e _ m o d a l _ c o n t a i n e r ' ) . a p p e n d ( Q W e b . r e n d e r ( t m p l , { w i d g e t : t h i s } ) ) ; t h i s . _ r e s e t M o d a l ( ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s U n s u b s c r i b e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ w s l i d e s _ j s _ c h a n n e l _ u n s u b s c r i b e ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ u n s u b s c r i b e . x m l ' ] , e v e n t s : { ' c l i c k ' : ' _ o n U n s u b s c r i b e C l i c k ' , } , _ o p e n D i a l o g : f u n c t i o n ( $ e l e m e n t ) { v a r   d a t a = $ e l e m e n t . d a t a ( ) ; r e t u r n   n e w   S l i d e U n s u b s c r i b e D i a l o g ( t h i s , d a t a ) . o p e n ( ) ; } , _ o n U n s u b s c r i b e C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; t h i s . _ o p e n D i a l o g ( $ ( e v . c u r r e n t T a r g e t ) ) ; } , } ) ; r e t u r n { S l i d e U n s u b s c r i b e D i a l o g : S l i d e U n s u b s c r i b e D i a l o g , w e b s i t e S l i d e s U n s u b s c r i b e : p u b l i c W i d g e t . r e g i s t r y . w e b s i t e S l i d e s U n s u b s c r i b e } ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / t o u r s / s l i d e s _ t o u r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . s l i d e s _ t o u r ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; v a r   t o u r = r e q u i r e ( ' w e b _ t o u r . t o u r ' ) ; t o u r . r e g i s t e r ( ' s l i d e s _ t o u r ' , { u r l : ' / s l i d e s ' , } , [ { t r i g g e r : ' # n e w - c o n t e n t - m e n u   >   a ' , c o n t e n t : _ t ( " W e l c o m e   o n   y o u r   c o u r s e ' s   h o m e   p a g e .   I t ' s   s t i l l   e m p t y   f o r   n o w .   C l i c k   o n   \ " < b > N e w < / b > \ "   t o   w r i t e   y o u r   f i r s t   c o u r s e . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : ' a [ d a t a - a c t i o n = " n e w _ s l i d e _ c h a n n e l " ] ' , c o n t e n t : _ t ( " S e l e c t   < b > C o u r s e < / b >   t o   c r e a t e   i t   a n d   m a n a g e   i t . " ) , p o s i t i o n : ' b o t t o m ' , w i d t h : 2 1 0 , } , { t r i g g e r : ' i n p u t [ n a m e = " n a m e " ] ' , c o n t e n t : _ t ( " G i v e   y o u r   c o u r s e   a n   e n g a g i n g   < b > T i t l e < / b > . " ) , p o s i t i o n : ' b o t t o m ' , w i d t h : 2 8 0 , r u n : ' t e x t   M y   N e w   C o u r s e ' , } , { t r i g g e r : ' t e x t a r e a [ n a m e = " d e s c r i p t i o n " ] ' , c o n t e n t : _ t ( " G i v e   y o u r   c o u r s e   a   h e l p f u l   < b > D e s c r i p t i o n < / b > . " ) , p o s i t i o n : ' b o t t o m ' , w i d t h : 3 0 0 , r u n : ' t e x t   T h i s   c o u r s e   i s   f o r   a d v a n c e d   u s e r s . ' , } , { t r i g g e r : ' b u t t o n . b t n - p r i m a r y ' , c o n t e n t : _ t ( " C l i c k   o n   t h e   < b > C r e a t e < / b >   b u t t o n   t o   c r e a t e   y o u r   f i r s t   c o u r s e . " ) , } , { t r i g g e r : ' . o _ w s l i d e s _ j s _ s l i d e _ s e c t i o n _ a d d ' , c o n t e n t : _ t ( " C o n g r a t u l a t i o n ,   y o u r   c o u r s e   i s   c r e a t e d ,   b u t   t h e r e   i s n ' t   a n y   c o n t e n t   y e t .   F i r s t ,   l e t ' s   a d d   a   < b > S e c t i o n < / b >   t o   g i v e   y o u r   c o u r s e   a   s t r u c t u r e . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : ' i n p u t [ n a m e = " n a m e " ] ' , c o n t e n t : _ t ( " A   g o o d   c o u r s e   h a s   s t r u c t u r e   a n d   a   t a b l e   o f   c o n t e n t .   Y o u r   f i r s t   s e c t i o n   w i l l   b e   t h e   < b > I n t r o d u c t i o n < / b > . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : ' b u t t o n . b t n - p r i m a r y ' , c o n t e n t : _ t ( " C l i c k   o n   < b > S a v e < / b >   t o   a p p l y   c h a n g e s . " ) , p o s i t i o n : ' b o t t o m ' , w i d t h : 2 6 0 , } , { t r i g g e r : ' a . b t n - p r i m a r y . o _ w s l i d e s _ j s _ s l i d e _ u p l o a d ' , c o n t e n t : _ t ( " Y o u r   f i r s t   s e c t i o n   i s   c r e a t e d ,   n o w   i t ' s   t i m e   t o   a d d   l e s s o n s   t o   y o u r   c o u r s e .   C l i c k   o n   < b > A d d   C o n t e n t < / b >   t o   u p l o a d   a   d o c u m e n t ,   c r e a t e   a   w e b   p a g e   o r   l i n k   a   v i d e o . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : ' a [ d a t a - s l i d e - t y p e = " p r e s e n t a t i o n " ] ' , c o n t e n t : _ t ( " F i r s t ,   l e t ' s   a d d   a   < b > P r e s e n t a t i o n < / b > .   I t   c a n   b e   a   . p d f   o r   a n   i m a g e . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : ' i n p u t # u p l o a d ' , c o n t e n t : _ t ( " C h o o s e   a   < b > F i l e < / b >   o n   y o u r   c o m p u t e r . " ) , } , { t r i g g e r : ' i n p u t # n a m e ' , c o n t e n t : _ t ( " T h e   < b > T i t l e < / b >   o f   y o u r   l e s s o n   i s   a u t o c o m p l e t e d   b u t   y o u   c a n   c h a n g e   i t   i f   y o u   w a n t . < / b r > A   < b > P r e v i e w < / b >   o f   y o u r   f i l e   i s   a v a i l a b l e   o n   t h e   r i g h t   s i d e   o f   t h e   s c r e e n . " ) , } , { t r i g g e r : ' i n p u t # d u r a t i o n ' , c o n t e n t : _ t ( " T h e   < b > D u r a t i o n < / b >   o f   t h e   l e s s o n   i s   b a s e d   o n   t h e   n u m b e r   o f   p a g e s   o f   y o u r   d o c u m e n t .   Y o u   c a n   c h a n g e   t h i s   n u m b e r   i f   y o u r   a t t e n d e e s   w i l l   n e e d   m o r e   t i m e   t o   a s s i m i l a t e   t h e   c o n t e n t . " ) , } , { t r i g g e r : ' b u t t o n . o _ w _ s l i d e _ u p l o a d _ p u b l i s h e d ' , c o n t e n t : _ t ( " < b > S a v e   &   P u b l i s h < / b >   y o u r   l e s s o n   t o   m a k e   i t   a v a i l a b l e   t o   y o u r   a t t e n d e e s . " ) , p o s i t i o n : ' b o t t o m ' , w i d t h : 2 8 5 , } , { t r i g g e r : ' s p a n . b a d g e - i n f o : c o n t a i n s ( " N e w " ) ' , c o n t e n t : _ t ( " C o n g r a t u l a t i o n !   Y o u r   f i r s t   l e s s o n   i s   a v a i l a b l e .   L e t ' s   s e e   t h e   o p t i o n s   a v a i l a b l e   h e r e .   T h e   t a g   \ " < b > N e w < / b > \ "   i n d i c a t e   t h a t   t h i s   l e s s o n   h a s   l e s s   t h a n   7   d a y s . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : ' a [ n a m e = " o _ w s l i d e s _ l i s t _ s l i d e _ a d d _ q u i z z " ] ' , e x t r a _ t r i g g e r : ' . o _ w s l i d e s _ s l i d e s _ l i s t _ s l i d e : h o v e r ' , c o n t e n t : _ t ( " I f   y o u   w a n t   t o   b e   s u r e   t h a t   a t t e n d e e s   h a v e   u n d e r s t o o d   a n d   m e m o r i z e d   t h e   c o n t e n t ,   y o u   c a n   a d d   a   Q u i z   o n   t h e   l e s s o n .   C l i c k   o n   < b > A d d   Q u i z < / b > . " ) , } , { t r i g g e r : ' i n p u t [ n a m e = " q u e s t i o n - n a m e " ] ' , c o n t e n t : _ t ( " E n t e r   y o u r   < b > Q u e s t i o n < / b > .   B e   c l e a r   a n d   c o n c i s e . " ) , p o s i t i o n : ' l e f t ' , w i d t h : 3 3 0 , } , { t r i g g e r : ' i n p u t . o _ w s l i d e s _ j s _ q u i z _ a n s w e r _ v a l u e ' , c o n t e n t : _ t ( " E n t e r   a t   l e a s t   t w o   p o s s i b l e   < b > A n s w e r s < / b > . " ) , p o s i t i o n : ' l e f t ' , w i d t h : 2 9 0 , } , { t r i g g e r : ' a . o _ w s l i d e s _ j s _ q u i z _ i s _ c o r r e c t ' , c o n t e n t : _ t ( " M a r k   t h e   c o r r e c t   a n s w e r   b y   c h e c k i n g   t h e   < b > c o r r e c t < / b >   m a r k . " ) , p o s i t i o n : ' r i g h t ' , w i d t h : 2 3 0 , } , { t r i g g e r : ' i . o _ w s l i d e s _ j s _ q u i z _ c o m m e n t _ a n s w e r : l a s t ' , c o n t e n t : _ t ( " Y o u   c a n   a d d   < b > c o m m e n t s < / b >   o n   a n s w e r s .   T h i s   w i l l   b e   v i s i b l e   w i t h   t h e   r e s u l t s   i f   t h e   u s e r   s e l e c t   t h i s   a n s w e r . " ) , p o s i t i o n : ' r i g h t ' , } , { t r i g g e r : ' a . o _ w s l i d e s _ j s _ q u i z _ v a l i d a t e _ q u e s t i o n ' , c o n t e n t : _ t ( " < b > S a v e < / b >   y o u r   q u e s t i o n . " ) , p o s i t i o n : ' l e f t ' , w i d t h : 1 7 0 , } , { t r i g g e r : ' l i . b r e a d c r u m b - i t e m : n t h - c h i l d ( 2 ) ' , c o n t e n t : _ t ( " C l i c k   o n   y o u r   < b > C o u r s e < / b >   t o   g o   b a c k   t o   t h e   t a b l e   o f   c o n t e n t . " ) , p o s i t i o n : ' t o p ' , } , { t r i g g e r : ' l a b e l . j s _ p u b l i s h _ b t n ' , c o n t e n t : _ t ( " O n c e   y o u ' r e   d o n e ,   d o n ' t   f o r g e t   t o   < b > P u b l i s h < / b >   y o u r   c o u r s e . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : ' a . o _ w s l i d e s _ j s _ s l i d e s _ l i s t _ s l i d e _ l i n k ' , c o n t e n t : _ t ( " C o n g r a t u l a t i o n   y o u ' v e   c r e a t e d   y o u r   f i r s t   c o u r s e . < b r / > C l i c k   o n   t h e   t i t l e   o f   t h i s   c o n t e n t   t o   s e e   i t   i n   f u l l s c r e e n   m o d e . " ) , p o s i t i o n : ' b o t t o m ' , } ] ) ; } ) ; ; 
 
 / *   / p o r t a l _ r a t i n g / s t a t i c / s r c / j s / p o r t a l _ c h a t t e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' r a t i n g . p o r t a l . c h a t t e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p o r t a l C h a t t e r = r e q u i r e ( ' p o r t a l . c h a t t e r ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   _ t = c o r e . _ t ; v a r   P o r t a l C h a t t e r = p o r t a l C h a t t e r . P o r t a l C h a t t e r ; v a r   q w e b = c o r e . q w e b ; P o r t a l C h a t t e r . i n c l u d e ( { e v e n t s : _ . e x t e n d ( { } , P o r t a l C h a t t e r . p r o t o t y p e . e v e n t s , { ' c l i c k   . o _ w e b s i t e _ r a t i n g _ s e l e c t ' : ' _ o n C l i c k S t a r D o m a i n ' , ' c l i c k   . o _ w e b s i t e _ r a t i n g _ s e l e c t _ t e x t ' : ' _ o n C l i c k S t a r D o m a i n R e s e t ' , ' c l i c k   . o _ w r a t i n g _ j s _ p u b l i s h e r _ c o m m e n t _ b t n ' : ' _ o n C l i c k P u b l i s h e r C o m m e n t ' , ' c l i c k   . o _ w r a t i n g _ j s _ p u b l i s h e r _ c o m m e n t _ e d i t ' : ' _ o n C l i c k P u b l i s h e r C o m m e n t ' , ' c l i c k   . o _ w r a t i n g _ j s _ p u b l i s h e r _ c o m m e n t _ d e l e t e ' : ' _ o n C l i c k P u b l i s h e r C o m m e n t D e l e t e ' , ' c l i c k   . o _ w r a t i n g _ j s _ p u b l i s h e r _ c o m m e n t _ s u b m i t ' : ' _ o n C l i c k P u b l i s h e r C o m m e n t S u b m i t ' , ' c l i c k   . o _ w r a t i n g _ j s _ p u b l i s h e r _ c o m m e n t _ c a n c e l ' : ' _ o n C l i c k P u b l i s h e r C o m m e n t C a n c e l ' , } ) , x m l D e p e n d e n c i e s : ( P o r t a l C h a t t e r . p r o t o t y p e . x m l D e p e n d e n c i e s | | [ ] ) . c o n c a t ( [ ' / p o r t a l _ r a t i n g / s t a t i c / s r c / x m l / p o r t a l _ t o o l s . x m l ' , ' / p o r t a l _ r a t i n g / s t a t i c / s r c / x m l / p o r t a l _ c h a t t e r . x m l ' ] ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( ! _ . c o n t a i n s ( t h i s . o p t i o n s , ' d i s p l a y _ r a t i n g ' ) ) { t h i s . o p t i o n s = _ . d e f a u l t s ( t h i s . o p t i o n s , { ' d i s p l a y _ r a t i n g ' : f a l s e , ' r a t i n g _ d e f a u l t _ v a l u e ' : 0 . 0 , } ) ; } 
 t h i s . s e t ( ' r a t i n g _ c a r d _ v a l u e s ' , { } ) ; t h i s . s e t ( ' r a t i n g _ v a l u e ' , f a l s e ) ; t h i s . o n ( " c h a n g e : r a t i n g _ v a l u e " , t h i s , t h i s . _ o n C h a n g e R a t i n g D o m a i n ) ; } , p r e p r o c e s s M e s s a g e s : f u n c t i o n ( m e s s a g e s ) { v a r   s e l f = t h i s ; m e s s a g e s = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . o p t i o n s [ ' d i s p l a y _ r a t i n g ' ] ) { _ . e a c h ( m e s s a g e s , f u n c t i o n ( m , i ) { m . r a t i n g _ v a l u e = s e l f . r o u n d T o H a l f ( m [ ' r a t i n g _ v a l u e ' ] ) ; m . r a t i n g = s e l f . _ p r e p r o c e s s C o m m e n t D a t a ( m . r a t i n g , i ) ; } ) ; } 
 t h i s . m e s s a g e s = m e s s a g e s ; r e t u r n   m e s s a g e s ; } , r o u n d T o H a l f : f u n c t i o n ( v a l u e ) { v a r   c o n v e r t e d = p a r s e F l o a t ( v a l u e ) ; v a r   d e c i m a l = ( c o n v e r t e d - p a r s e I n t ( c o n v e r t e d , 1 0 ) ) ; d e c i m a l = M a t h . r o u n d ( d e c i m a l * 1 0 ) ; i f ( d e c i m a l = = = 5 ) { r e t u r n ( p a r s e I n t ( c o n v e r t e d , 1 0 ) + 0 . 5 ) ; } 
 i f ( ( d e c i m a l < 3 ) | | ( d e c i m a l > 7 ) ) { r e t u r n   M a t h . r o u n d ( c o n v e r t e d ) ; } e l s e { r e t u r n ( p a r s e I n t ( c o n v e r t e d , 1 0 ) + 0 . 5 ) ; } } , _ c h a t t e r I n i t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( r e s u l t ) { i f ( ! r e s u l t [ ' r a t i n g _ s t a t s ' ] ) { r e t u r n ; } 
 v a r   r a t i n g D a t a = { ' a v g ' : M a t h . r o u n d ( r e s u l t [ ' r a t i n g _ s t a t s ' ] [ ' a v g ' ] * 1 0 0 ) / 1 0 0 , ' p e r c e n t ' : [ ] , } ; _ . e a c h ( _ . k e y s ( r e s u l t [ ' r a t i n g _ s t a t s ' ] [ ' p e r c e n t ' ] ) . r e v e r s e ( ) , f u n c t i o n ( r a t i n g ) { i f ( r a t i n g % 2 = = = 0 ) { r a t i n g D a t a [ ' p e r c e n t ' ] . p u s h ( { ' n u m ' : r a t i n g , ' p e r c e n t ' : u t i l s . r o u n d _ p r e c i s i o n ( r e s u l t [ ' r a t i n g _ s t a t s ' ] [ ' p e r c e n t ' ] [ r a t i n g ] , 0 . 0 1 ) , } ) ; } } ) ; s e l f . s e t ( ' r a t i n g _ c a r d _ v a l u e s ' , r a t i n g D a t a ) ; } ) ; } , _ m e s s a g e F e t c h P r e p a r e P a r a m s : f u n c t i o n ( ) { v a r   p a r a m s = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . o p t i o n s [ ' d i s p l a y _ r a t i n g ' ] ) { p a r a m s [ ' r a t i n g _ i n c l u d e ' ] = t r u e ; } 
 r e t u r n   p a r a m s ; } , _ n e w P u b l i s h e r C o m m e n t D a t a : f u n c t i o n ( m e s s a g e I n d e x ) { r e t u r n { m e s _ i n d e x : m e s s a g e I n d e x , p u b l i s h e r _ i d : t h i s . o p t i o n s . p a r t n e r _ i d , p u b l i s h e r _ a v a t a r : _ . s t r . s p r i n t f ( ' / w e b / i m a g e / % s / % s / i m a g e _ 1 2 8 / 5 0 x 5 0 ' , ' r e s . p a r t n e r ' , t h i s . o p t i o n s . p a r t n e r _ i d ) , p u b l i s h e r _ n a m e : _ t ( " W r i t e   y o u r   c o m m e n t " ) , p u b l i s h e r _ d a t e t i m e : ' ' , p u b l i s h e r _ c o m m e n t : ' ' , } ; } , _ p r e p r o c e s s C o m m e n t D a t a : f u n c t i o n ( r a w R a t i n g , m e s s a g e I n d e x ) { v a r   r a t i n g D a t a = { i d : r a w R a t i n g . i d , m e s _ i n d e x : m e s s a g e I n d e x , p u b l i s h e r _ d a t e t i m e : r a w R a t i n g . p u b l i s h e r _ d a t e t i m e ? m o m e n t ( t i m e . s t r _ t o _ d a t e t i m e ( r a w R a t i n g . p u b l i s h e r _ d a t e t i m e ) ) . f o r m a t ( ' M M M M   D o   Y Y Y Y ,   h : m m : s s   a ' ) : " " , p u b l i s h e r _ c o m m e n t : r a w R a t i n g . p u b l i s h e r _ c o m m e n t ? r a w R a t i n g . p u b l i s h e r _ c o m m e n t : ' ' , } ; i f ( r a w R a t i n g . p u b l i s h e r _ i d & & r a w R a t i n g . p u b l i s h e r _ i d . l e n g t h > = 2 ) { r a t i n g D a t a . p u b l i s h e r _ i d = r a w R a t i n g . p u b l i s h e r _ i d [ 0 ] ; r a t i n g D a t a . p u b l i s h e r _ n a m e = r a w R a t i n g . p u b l i s h e r _ i d [ 1 ] ; r a t i n g D a t a . p u b l i s h e r _ a v a t a r = _ . s t r . s p r i n t f ( ' / w e b / i m a g e / % s / % s / i m a g e _ 1 2 8 / 5 0 x 5 0 ' , ' r e s . p a r t n e r ' , r a t i n g D a t a . p u b l i s h e r _ i d ) ; } 
 v a r   c o m m e n t D a t a = _ . e x t e n d ( t h i s . _ n e w P u b l i s h e r C o m m e n t D a t a ( m e s s a g e I n d e x ) , r a t i n g D a t a ) ; r e t u r n   c o m m e n t D a t a ; } , _ g e t C o m m e n t C o n t a i n e r : f u n c t i o n ( $ s o u r c e ) { r e t u r n   $ s o u r c e . p a r e n t s ( " . o _ w r a t i n g _ p u b l i s h e r _ c o n t a i n e r " ) . f i r s t ( ) . f i n d ( " . o _ w r a t i n g _ p u b l i s h e r _ c o m m e n t " ) . f i r s t ( ) ; } , _ g e t C o m m e n t B u t t o n : f u n c t i o n ( $ s o u r c e ) { r e t u r n   $ s o u r c e . p a r e n t s ( " . o _ w r a t i n g _ p u b l i s h e r _ c o n t a i n e r " ) . f i r s t ( ) . f i n d ( " . o _ w r a t i n g _ j s _ p u b l i s h e r _ c o m m e n t _ b t n " ) . f i r s t ( ) ; } , _ g e t C o m m e n t T e x t a r e a : f u n c t i o n ( $ s o u r c e ) { r e t u r n   $ s o u r c e . p a r e n t s ( " . o _ w r a t i n g _ p u b l i s h e r _ c o n t a i n e r " ) . f i r s t ( ) . f i n d ( " . o _ p o r t a l _ r a t i n g _ c o m m e n t _ i n p u t " ) . f i r s t ( ) ; } , _ f o c u s T e x t C o m m e n t : f u n c t i o n ( $ s o u r c e ) { t h i s . _ g e t C o m m e n t T e x t a r e a ( $ s o u r c e ) . f o c u s ( ) ; } , _ o n C l i c k S t a r D o m a i n : f u n c t i o n ( e v ) { v a r   $ t r = t h i s . $ ( e v . c u r r e n t T a r g e t ) ; v a r   n u m = $ t r . d a t a ( ' s t a r ' ) ; i f ( $ t r . c s s ( ' o p a c i t y ' ) = = = ' 1 ' ) { t h i s . s e t ( ' r a t i n g _ v a l u e ' , n u m ) ; t h i s . $ ( ' . o _ w e b s i t e _ r a t i n g _ s e l e c t ' ) . c s s ( { ' o p a c i t y ' : 0 . 5 , } ) ; t h i s . $ ( ' . o _ w e b s i t e _ r a t i n g _ s e l e c t _ t e x t [ d a t a - s t a r = " ' + n u m + ' " ] ' ) . c s s ( { ' v i s i b i l i t y ' : ' v i s i b l e ' , ' o p a c i t y ' : 1 , } ) ; t h i s . $ ( ' . o _ w e b s i t e _ r a t i n g _ s e l e c t [ d a t a - s t a r = " ' + n u m + ' " ] ' ) . c s s ( { ' o p a c i t y ' : 1 , } ) ; } } , _ o n C l i c k S t a r D o m a i n R e s e t : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; e v . p r e v e n t D e f a u l t ( ) ; t h i s . s e t ( ' r a t i n g _ v a l u e ' , f a l s e ) ; t h i s . $ ( ' . o _ w e b s i t e _ r a t i n g _ s e l e c t _ t e x t ' ) . c s s ( ' v i s i b i l i t y ' , ' h i d d e n ' ) ; t h i s . $ ( ' . o _ w e b s i t e _ r a t i n g _ s e l e c t ' ) . c s s ( { ' o p a c i t y ' : 1 , } ) ; } , _ o n C l i c k P u b l i s h e r C o m m e n t : f u n c t i o n ( e v ) { v a r   $ s o u r c e = t h i s . $ ( e v . c u r r e n t T a r g e t ) ; i f ( t h i s . _ g e t C o m m e n t T e x t a r e a ( $ s o u r c e ) . l e n g t h = = = 1 ) { t h i s . _ g e t C o m m e n t C o n t a i n e r ( $ s o u r c e ) . e m p t y ( ) ; r e t u r n ; } 
 v a r   m e s s a g e I n d e x = $ s o u r c e . d a t a ( " m e s _ i n d e x " ) ; v a r   d a t a = { i s _ p u b l i s h e r : t h i s . o p t i o n s [ ' i s _ u s e r _ p u b l i s h e r ' ] } ; d a t a . r a t i n g = t h i s . _ n e w P u b l i s h e r C o m m e n t D a t a ( m e s s a g e I n d e x ) ; v a r   o l d R a t i n g = t h i s . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g ; d a t a . r a t i n g . p u b l i s h e r _ c o m m e n t = o l d R a t i n g . p u b l i s h e r _ c o m m e n t ? o l d R a t i n g . p u b l i s h e r _ c o m m e n t : ' ' ; t h i s . _ g e t C o m m e n t C o n t a i n e r ( $ s o u r c e ) . h t m l ( $ ( q w e b . r e n d e r ( " p o r t a l _ r a t i n g . c h a t t e r _ r a t i n g _ p u b l i s h e r _ f o r m " , d a t a ) ) ) ; t h i s . _ f o c u s T e x t C o m m e n t ( $ s o u r c e ) ; } , _ o n C l i c k P u b l i s h e r C o m m e n t D e l e t e : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   $ s o u r c e = t h i s . $ ( e v . c u r r e n t T a r g e t ) ; v a r   m e s s a g e I n d e x = $ s o u r c e . d a t a ( " m e s _ i n d e x " ) ; v a r   r a t i n g I d = t h i s . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g . i d ; t h i s . _ r p c ( { r o u t e : ' / w e b s i t e / r a t i n g / c o m m e n t ' , p a r a m s : { " r a t i n g _ i d " : r a t i n g I d , " p u b l i s h e r _ c o m m e n t " : ' ' } } ) . t h e n ( f u n c t i o n ( r e s ) { s e l f . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g = s e l f . _ p r e p r o c e s s C o m m e n t D a t a ( r e s , m e s s a g e I n d e x ) ; s e l f . _ g e t C o m m e n t B u t t o n ( $ s o u r c e ) . r e m o v e C l a s s ( " d - n o n e " ) ; s e l f . _ g e t C o m m e n t C o n t a i n e r ( $ s o u r c e ) . e m p t y ( ) ; } ) ; } , _ o n C l i c k P u b l i s h e r C o m m e n t S u b m i t : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   $ s o u r c e = t h i s . $ ( e v . c u r r e n t T a r g e t ) ; v a r   m e s s a g e I n d e x = $ s o u r c e . d a t a ( " m e s _ i n d e x " ) ; v a r   c o m m e n t = t h i s . _ g e t C o m m e n t T e x t a r e a ( $ s o u r c e ) . v a l ( ) ; v a r   r a t i n g I d = t h i s . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g . i d ; t h i s . _ r p c ( { r o u t e : ' / w e b s i t e / r a t i n g / c o m m e n t ' , p a r a m s : { " r a t i n g _ i d " : r a t i n g I d , " p u b l i s h e r _ c o m m e n t " : c o m m e n t } } ) . t h e n ( f u n c t i o n ( r e s ) { s e l f . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g = s e l f . _ p r e p r o c e s s C o m m e n t D a t a ( r e s , m e s s a g e I n d e x ) ; i f ( s e l f . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g . p u b l i s h e r _ c o m m e n t ! = = ' ' ) { s e l f . _ g e t C o m m e n t B u t t o n ( $ s o u r c e ) . a d d C l a s s ( ' d - n o n e ' ) ; s e l f . _ g e t C o m m e n t C o n t a i n e r ( $ s o u r c e ) . h t m l ( $ ( q w e b . r e n d e r ( " p o r t a l _ r a t i n g . c h a t t e r _ r a t i n g _ p u b l i s h e r _ c o m m e n t " , { r a t i n g : s e l f . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g , i s _ p u b l i s h e r : s e l f . o p t i o n s . i s _ u s e r _ p u b l i s h e r } ) ) ) ; } e l s e { s e l f . _ g e t C o m m e n t B u t t o n ( $ s o u r c e ) . r e m o v e C l a s s ( " d - n o n e " ) ; s e l f . _ g e t C o m m e n t C o n t a i n e r ( $ s o u r c e ) . e m p t y ( ) ; } } ) ; } , _ o n C l i c k P u b l i s h e r C o m m e n t C a n c e l : f u n c t i o n ( e v ) { v a r   $ s o u r c e = t h i s . $ ( e v . c u r r e n t T a r g e t ) ; v a r   m e s s a g e I n d e x = $ s o u r c e . d a t a ( " m e s _ i n d e x " ) ; v a r   c o m m e n t = t h i s . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g . p u b l i s h e r _ c o m m e n t ; i f ( c o m m e n t ) { v a r   d a t a = { r a t i n g : t h i s . m e s s a g e s [ m e s s a g e I n d e x ] . r a t i n g , i s _ p u b l i s h e r : t h i s . o p t i o n s . i s _ u s e r _ p u b l i s h e r } ; t h i s . _ g e t C o m m e n t C o n t a i n e r ( $ s o u r c e ) . h t m l ( $ ( q w e b . r e n d e r ( " p o r t a l _ r a t i n g . c h a t t e r _ r a t i n g _ p u b l i s h e r _ c o m m e n t " , d a t a ) ) ) ; } e l s e { t h i s . _ g e t C o m m e n t C o n t a i n e r ( $ s o u r c e ) . e m p t y ( ) ; } } , _ o n C h a n g e R a t i n g D o m a i n : f u n c t i o n ( ) { v a r   d o m a i n = [ ] ; i f ( t h i s . g e t ( ' r a t i n g _ v a l u e ' ) ) { d o m a i n = [ [ ' r a t i n g _ v a l u e ' , ' = ' , t h i s . g e t ( ' r a t i n g _ v a l u e ' ) ] ] ; } 
 t h i s . _ c h a n g e C u r r e n t P a g e ( 1 , d o m a i n ) ; } , } ) ; } ) ; ; 
 
 / *   / p o r t a l _ r a t i n g / s t a t i c / s r c / j s / p o r t a l _ c o m p o s e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' r a t i n g . p o r t a l . c o m p o s e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   p o r t a l C o m p o s e r = r e q u i r e ( ' p o r t a l . c o m p o s e r ' ) ; v a r   _ t = c o r e . _ t ; v a r   P o r t a l C o m p o s e r = p o r t a l C o m p o s e r . P o r t a l C o m p o s e r ; P o r t a l C o m p o s e r . i n c l u d e ( { e v e n t s : _ . e x t e n d ( { } , P o r t a l C o m p o s e r . p r o t o t y p e . e v e n t s , { ' c l i c k   . s t a r s   i ' : ' _ o n C l i c k S t a r ' , ' m o u s e l e a v e   . s t a r s ' : ' _ o n M o u s e l e a v e S t a r B l o c k ' , ' m o u s e m o v e   . s t a r s   i ' : ' _ o n M o v e S t a r ' , ' m o u s e l e a v e   . s t a r s   i ' : ' _ o n M o v e L e a v e S t a r ' , } ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( o p t i o n s . d e f a u l t _ r a t i n g _ v a l u e ) { o p t i o n s . d e f a u l t _ r a t i n g _ v a l u e = p a r s e F l o a t ( o p t i o n s . d e f a u l t _ r a t i n g _ v a l u e ) ; } 
 t h i s . o p t i o n s = _ . d e f a u l t s ( t h i s . o p t i o n s , { ' d e f a u l t _ m e s s a g e ' : f a l s e , ' d e f a u l t _ m e s s a g e _ i d ' : f a l s e , ' d e f a u l t _ r a t i n g _ v a l u e ' : 0 . 0 , ' f o r c e _ s u b m i t _ u r l ' : f a l s e , } ) ; t h i s . l a b e l s = { ' 0 ' : " " , ' 1 ' : _ t ( " I   h a t e   i t " ) , ' 2 ' : _ t ( " I   d o n ' t   l i k e   i t " ) , ' 3 ' : _ t ( " I t ' s   o k a y " ) , ' 4 ' : _ t ( " I   l i k e   i t " ) , ' 5 ' : _ t ( " I   l o v e   i t " ) , } ; t h i s . u s e r _ c l i c k = f a l s e ; t h i s . s e t ( " s t a r _ v a l u e " , t h i s . o p t i o n s . d e f a u l t _ r a t i n g _ v a l u e ) ; t h i s . o n ( " c h a n g e : s t a r _ v a l u e " , t h i s , t h i s . _ o n C h a n g e S t a r V a l u e ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . $ i n p u t = s e l f . $ ( ' i n p u t [ n a m e = " r a t i n g _ v a l u e " ] ' ) ; s e l f . $ s t a r _ l i s t = s e l f . $ ( ' . s t a r s ' ) . f i n d ( ' i ' ) ; s e l f . s e t ( " s t a r _ v a l u e " , s e l f . o p t i o n s . d e f a u l t _ r a t i n g _ v a l u e ) ; s e l f . $ i n p u t . v a l ( s e l f . o p t i o n s . d e f a u l t _ r a t i n g _ v a l u e ) ; } ) ; } , _ o n C h a n g e S t a r V a l u e : f u n c t i o n ( ) { v a r   v a l = t h i s . g e t ( " s t a r _ v a l u e " ) ; v a r   i n d e x = M a t h . f l o o r ( v a l ) ; v a r   d e c i m a l = v a l - i n d e x ; t h i s . $ s t a r _ l i s t . r e m o v e C l a s s ( ' f a - s t a r   f a - s t a r - h a l f - o ' ) . a d d C l a s s ( ' f a - s t a r - o ' ) ; t h i s . $ ( ' . s t a r s ' ) . f i n d ( " i : l t ( " + i n d e x + " ) " ) . r e m o v e C l a s s ( ' f a - s t a r - o   f a - s t a r - h a l f - o ' ) . a d d C l a s s ( ' f a - s t a r ' ) ; i f ( d e c i m a l ) { t h i s . $ ( ' . s t a r s ' ) . f i n d ( " i : e q ( " + i n d e x + " ) " ) . r e m o v e C l a s s ( ' f a - s t a r - o   f a - s t a r   f a - s t a r - h a l f - o ' ) . a d d C l a s s ( ' f a - s t a r - h a l f - o ' ) ; } 
 t h i s . $ ( ' . r a t e _ t e x t   . b a d g e ' ) . t e x t ( t h i s . l a b e l s [ i n d e x ] ) ; } , _ o n C l i c k S t a r : f u n c t i o n ( e v ) { v a r   i n d e x = t h i s . $ ( ' . s t a r s   i ' ) . i n d e x ( e v . c u r r e n t T a r g e t ) ; t h i s . s e t ( " s t a r _ v a l u e " , i n d e x + 1 ) ; t h i s . u s e r _ c l i c k = t r u e ; t h i s . $ i n p u t . v a l ( t h i s . g e t ( " s t a r _ v a l u e " ) ) ; } , _ o n M o u s e l e a v e S t a r B l o c k : f u n c t i o n ( ) { t h i s . $ ( ' . r a t e _ t e x t ' ) . h i d e ( ) ; } , _ o n M o v e S t a r : f u n c t i o n ( e v ) { v a r   i n d e x = t h i s . $ ( ' . s t a r s   i ' ) . i n d e x ( e v . c u r r e n t T a r g e t ) ; t h i s . $ ( ' . r a t e _ t e x t ' ) . s h o w ( ) ; t h i s . s e t ( " s t a r _ v a l u e " , i n d e x + 1 ) ; } , _ o n M o v e L e a v e S t a r : f u n c t i o n ( ) { i f ( ! t h i s . u s e r _ c l i c k ) { t h i s . s e t ( " s t a r _ v a l u e " , p a r s e I n t ( t h i s . $ i n p u t . v a l ( ) ) ) ; } 
 t h i s . u s e r _ c l i c k = f a l s e ; } , } ) ; } ) ; ; 
 
 / *   / p o r t a l _ r a t i n g / s t a t i c / s r c / j s / p o r t a l _ r a t i n g _ c o m p o s e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p o r t a l . r a t i n g . c o m p o s e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   p o r t a l C o m p o s e r = r e q u i r e ( ' p o r t a l . c o m p o s e r ' ) ; v a r   P o r t a l C o m p o s e r = p o r t a l C o m p o s e r . P o r t a l C o m p o s e r ; v a r   R a t i n g P o p u p C o m p o s e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { t e m p l a t e : ' p o r t a l _ r a t i n g . P o p u p C o m p o s e r ' , x m l D e p e n d e n c i e s : [ ' / p o r t a l / s t a t i c / s r c / x m l / p o r t a l _ c h a t t e r . x m l ' , ' / p o r t a l _ r a t i n g / s t a t i c / s r c / x m l / p o r t a l _ t o o l s . x m l ' , ' / p o r t a l _ r a t i n g / s t a t i c / s r c / x m l / p o r t a l _ r a t i n g _ c o m p o s e r . x m l ' , ] , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . r a t i n g _ a v g = M a t h . r o u n d ( o p t i o n s [ ' r a t i n g A v g ' ] * 1 0 0 ) / 1 0 0 | | 0 . 0 ; t h i s . r a t i n g _ t o t a l = o p t i o n s [ ' r a t i n g T o t a l ' ] | | 0 . 0 ; t h i s . o p t i o n s = _ . d e f a u l t s ( { } , o p t i o n s , { ' t o k e n ' : f a l s e , ' r e s _ m o d e l ' : f a l s e , ' r e s _ i d ' : f a l s e , ' p i d ' : 0 , ' d i s p l a y _ c o m p o s e r ' : o p t i o n s [ ' d i s a b l e _ c o m p o s e r ' ] ? f a l s e : ! s e s s i o n . i s _ w e b s i t e _ u s e r , ' d i s p l a y _ r a t i n g ' : t r u e , ' c s r f _ t o k e n ' : o d o o . c s r f _ t o k e n , ' u s e r _ i d ' : s e s s i o n . u s e r _ i d , } ) ; } , s t a r t : f u n c t i o n ( ) { v a r   d e f s = [ ] ; d e f s . p u s h ( t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ) ; t h i s . _ c o m p o s e r = n e w   P o r t a l C o m p o s e r ( t h i s , t h i s . o p t i o n s ) ; d e f s . p u s h ( t h i s . _ c o m p o s e r . r e p l a c e ( t h i s . $ ( ' . o _ p o r t a l _ c h a t t e r _ c o m p o s e r ' ) ) ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , } ) ; p u b l i c W i d g e t . r e g i s t r y . R a t i n g P o p u p C o m p o s e r = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ r a t i n g _ p o p u p _ c o m p o s e r ' , s t a r t : f u n c t i o n ( ) { v a r   r a t i n g P o p u p D a t a = t h i s . $ e l . d a t a ( ) ; v a r   r a t i n g P o p u p = n e w   R a t i n g P o p u p C o m p o s e r ( t h i s , r a t i n g P o p u p D a t a ) ; r e t u r n   P r o m i s e . a l l ( [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) , r a t i n g P o p u p . a p p e n d T o ( t h i s . $ e l ) ] ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b _ t o u r / s t a t i c / s r c / j s / p u b l i c / t o u r _ m a n a g e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b _ t o u r . p u b l i c . T o u r M a n a g e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   T o u r M a n a g e r = r e q u i r e ( ' w e b _ t o u r . T o u r M a n a g e r ' ) ; v a r   l a z y l o a d e r = r e q u i r e ( ' w e b . p u b l i c . l a z y l o a d e r ' ) ; T o u r M a n a g e r . i n c l u d e ( { _ w a i t B e f o r e T o u r S t a r t : f u n c t i o n ( ) { r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { r e t u r n   l a z y l o a d e r . a l l S c r i p t s L o a d e d ; } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e ) { s e t T i m e o u t ( r e s o l v e ) ; } ) ; } ) ; } , } ) ; } ) ; ; 
 
 / *   / b u s / s t a t i c / s r c / j s / l o n g p o l l i n g _ b u s . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' b u s . L o n g p o l l i n g ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   B u s = r e q u i r e ( ' w e b . B u s ' ) ; v a r   S e r v i c e s M i x i n = r e q u i r e ( ' w e b . S e r v i c e s M i x i n ' ) ; v a r   L o n g p o l l i n g B u s = B u s . e x t e n d ( S e r v i c e s M i x i n , { P A R T N E R S _ P R E S E N C E _ C H E C K _ P E R I O D : 3 0 0 0 0 , E R R O R _ R E T R Y _ D E L A Y : 1 0 0 0 0 , P O L L _ R O U T E : ' / l o n g p o l l i n g / p o l l ' , _ i s A c t i v e : n u l l , _ l a s t N o t i f i c a t i o n I D : 0 , _ i s O d o o F o c u s e d : t r u e , _ p o l l R e t r y T i m e o u t : n u l l , i n i t : f u n c t i o n ( p a r e n t , p a r a m s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ i d = _ . u n i q u e I d ( ' b u s ' ) ; t h i s . _ l o n g P o l l i n g B u s I d = t h i s . _ i d ; t h i s . _ o p t i o n s = { } ; t h i s . _ c h a n n e l s = [ ] ; t h i s . _ l a s t P r e s e n c e T i m e = n e w   D a t e ( ) . g e t T i m e ( ) ; $ ( w i n d o w ) . o n ( " f o c u s . " + t h i s . _ l o n g P o l l i n g B u s I d , t h i s . _ o n F o c u s C h a n g e . b i n d ( t h i s , { f o c u s : t r u e } ) ) ; $ ( w i n d o w ) . o n ( " b l u r . " + t h i s . _ l o n g P o l l i n g B u s I d , t h i s . _ o n F o c u s C h a n g e . b i n d ( t h i s , { f o c u s : f a l s e } ) ) ; $ ( w i n d o w ) . o n ( " u n l o a d . " + t h i s . _ l o n g P o l l i n g B u s I d , t h i s . _ o n F o c u s C h a n g e . b i n d ( t h i s , { f o c u s : f a l s e } ) ) ; $ ( w i n d o w ) . o n ( " c l i c k . " + t h i s . _ l o n g P o l l i n g B u s I d , t h i s . _ o n P r e s e n c e . b i n d ( t h i s ) ) ; $ ( w i n d o w ) . o n ( " k e y d o w n . " + t h i s . _ l o n g P o l l i n g B u s I d , t h i s . _ o n P r e s e n c e . b i n d ( t h i s ) ) ; $ ( w i n d o w ) . o n ( " k e y u p . " + t h i s . _ l o n g P o l l i n g B u s I d , t h i s . _ o n P r e s e n c e . b i n d ( t h i s ) ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . s t o p P o l l i n g ( ) ; $ ( w i n d o w ) . o f f ( " f o c u s . " + t h i s . _ l o n g P o l l i n g B u s I d ) ; $ ( w i n d o w ) . o f f ( " b l u r . " + t h i s . _ l o n g P o l l i n g B u s I d ) ; $ ( w i n d o w ) . o f f ( " u n l o a d . " + t h i s . _ l o n g P o l l i n g B u s I d ) ; $ ( w i n d o w ) . o f f ( " c l i c k . " + t h i s . _ l o n g P o l l i n g B u s I d ) ; $ ( w i n d o w ) . o f f ( " k e y d o w n . " + t h i s . _ l o n g P o l l i n g B u s I d ) ; $ ( w i n d o w ) . o f f ( " k e y u p . " + t h i s . _ l o n g P o l l i n g B u s I d ) ; t h i s . _ s u p e r ( ) ; } , a d d C h a n n e l : f u n c t i o n ( c h a n n e l ) { i f ( t h i s . _ c h a n n e l s . i n d e x O f ( c h a n n e l ) = = = - 1 ) { t h i s . _ c h a n n e l s . p u s h ( c h a n n e l ) ; i f ( t h i s . _ p o l l R p c ) { t h i s . _ p o l l R p c . a b o r t ( ) ; } e l s e { t h i s . s t a r t P o l l i n g ( ) ; } } } , d e l e t e C h a n n e l : f u n c t i o n ( c h a n n e l ) { v a r   i n d e x = t h i s . _ c h a n n e l s . i n d e x O f ( c h a n n e l ) ; i f ( i n d e x ! = = - 1 ) { t h i s . _ c h a n n e l s . s p l i c e ( i n d e x , 1 ) ; i f ( t h i s . _ p o l l R p c ) { t h i s . _ p o l l R p c . a b o r t ( ) ; } } } , i s O d o o F o c u s e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ i s O d o o F o c u s e d ; } , s t a r t P o l l i n g : f u n c t i o n ( ) { i f ( t h i s . _ i s A c t i v e = = = n u l l ) { t h i s . _ p o l l = t h i s . _ p o l l . b i n d ( t h i s ) ; } 
 i f ( ! t h i s . _ i s A c t i v e ) { t h i s . _ i s A c t i v e = t r u e ; t h i s . _ p o l l ( ) ; } } , s t o p P o l l i n g : f u n c t i o n ( ) { t h i s . _ i s A c t i v e = f a l s e ; t h i s . _ c h a n n e l s = [ ] ; c l e a r T i m e o u t ( t h i s . _ p o l l R e t r y T i m e o u t ) ; i f ( t h i s . _ p o l l R p c ) { t h i s . _ p o l l R p c . a b o r t ( ) ; } } , u p d a t e O p t i o n : f u n c t i o n ( k e y , v a l u e ) { t h i s . _ o p t i o n s [ k e y ] = v a l u e ; } , _ g e t L a s t P r e s e n c e : f u n c t i o n ( ) { r e t u r n   t h i s . _ l a s t P r e s e n c e T i m e ; } , _ p o l l : f u n c t i o n ( ) { v a r   s e l f = t h i s ; i f ( ! t h i s . _ i s A c t i v e ) { r e t u r n ; } 
 v a r   n o w = n e w   D a t e ( ) . g e t T i m e ( ) ; v a r   o p t i o n s = _ . e x t e n d ( { } , t h i s . _ o p t i o n s , { b u s _ i n a c t i v i t y : n o w - t h i s . _ g e t L a s t P r e s e n c e ( ) , } ) ; v a r   d a t a = { c h a n n e l s : t h i s . _ c h a n n e l s , l a s t : t h i s . _ l a s t N o t i f i c a t i o n I D , o p t i o n s : o p t i o n s } ; t h i s . _ p o l l R p c = t h i s . _ m a k e P o l l ( d a t a ) ; t h i s . _ p o l l R p c . t h e n ( f u n c t i o n ( r e s u l t ) { s e l f . _ p o l l R p c = f a l s e ; s e l f . _ o n P o l l ( r e s u l t ) ; s e l f . _ p o l l ( ) ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( r e s u l t ) { s e l f . _ p o l l R p c = f a l s e ; r e s u l t . e v e n t . p r e v e n t D e f a u l t ( ) ; i f ( r e s u l t . m e s s a g e = = = " X m l H t t p R e q u e s t E r r o r   a b o r t " ) { s e l f . _ p o l l ( ) ; } e l s e { s e l f . _ p o l l R e t r y T i m e o u t = s e t T i m e o u t ( s e l f . _ p o l l , s e l f . E R R O R _ R E T R Y _ D E L A Y + ( M a t h . f l o o r ( ( M a t h . r a n d o m ( ) * 2 0 ) + 1 ) * 1 0 0 0 ) ) ; } } ) ; } , _ m a k e P o l l : f u n c t i o n ( d a t a ) { r e t u r n   t h i s . _ r p c ( { r o u t e : t h i s . P O L L _ R O U T E , p a r a m s : d a t a } , { s h a d o w : t r u e , t i m e o u t : 6 0 0 0 0 } ) ; } , _ o n F o c u s C h a n g e : f u n c t i o n ( p a r a m s ) { t h i s . _ i s O d o o F o c u s e d = p a r a m s . f o c u s ; i f ( p a r a m s . f o c u s ) { t h i s . _ l a s t P r e s e n c e T i m e = n e w   D a t e ( ) . g e t T i m e ( ) ; t h i s . t r i g g e r ( ' w i n d o w _ f o c u s ' , t h i s . _ i s O d o o F o c u s e d ) ; } } , _ o n P o l l : f u n c t i o n ( n o t i f i c a t i o n s ) { v a r   s e l f = t h i s ; v a r   n o t i f s = _ . m a p ( n o t i f i c a t i o n s , f u n c t i o n ( n o t i f ) { i f ( n o t i f . i d > s e l f . _ l a s t N o t i f i c a t i o n I D ) { s e l f . _ l a s t N o t i f i c a t i o n I D = n o t i f . i d ; } 
 r e t u r n [ n o t i f . c h a n n e l , n o t i f . m e s s a g e ] ; } ) ; t h i s . t r i g g e r ( " n o t i f i c a t i o n " , n o t i f s ) ; r e t u r n   n o t i f s ; } , _ o n P r e s e n c e : f u n c t i o n ( ) { t h i s . _ l a s t P r e s e n c e T i m e = n e w   D a t e ( ) . g e t T i m e ( ) ; } , } ) ; r e t u r n   L o n g p o l l i n g B u s ; } ) ; ; 
 
 / *   / b u s / s t a t i c / s r c / j s / c r o s s t a b _ b u s . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' b u s . C r o s s T a b ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   L o n g p o l l i n g = r e q u i r e ( ' b u s . L o n g p o l l i n g ' ) ; v a r   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   C r o s s T a b B u s = L o n g p o l l i n g . e x t e n d ( { T A B _ H E A R T B E A T _ P E R I O D : 1 0 0 0 0 , M A S T E R _ T A B _ H E A R T B E A T _ P E R I O D : 1 5 0 0 , H E A R T B E A T _ O U T _ O F _ D A T E _ P E R I O D : 5 0 0 0 , H E A R T B E A T _ K I L L _ O L D _ P E R I O D : 1 5 0 0 0 , L O C A L _ S T O R A G E _ P R E F I X : ' b u s ' , _ i s M a s t e r T a b : f a l s e , _ i s R e g i s t e r e d : f a l s e , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   n o w = n e w   D a t e ( ) . g e t T i m e ( ) ; t h i s . _ s a n i t i z e d O r i g i n = s e s s i o n . o r i g i n . r e p l a c e ( / : \ / { 0 , 2 } / g , ' _ ' ) ; t h i s . _ i d = _ . u n i q u e I d ( t h i s . L O C A L _ S T O R A G E _ P R E F I X ) + ' : ' + n o w ; i f ( t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' l a s t _ t s ' , 0 ) + 5 0 0 0 0 < n o w ) { t h i s . _ c a l l L o c a l S t o r a g e ( ' r e m o v e I t e m ' , ' l a s t ' ) ; } 
 t h i s . _ l a s t N o t i f i c a t i o n I D = t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' l a s t ' , 0 ) ; t h i s . c a l l ( ' l o c a l _ s t o r a g e ' , ' o n S t o r a g e ' , t h i s , t h i s . _ o n S t o r a g e ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ s u p e r ( ) ; c l e a r T i m e o u t ( t h i s . _ h e a r t b e a t T i m e o u t ) ; } , a d d C h a n n e l : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' c h a n n e l s ' , t h i s . _ c h a n n e l s ) ; } , d e l e t e C h a n n e l : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' c h a n n e l s ' , t h i s . _ c h a n n e l s ) ; } , g e t T a b I d : f u n c t i o n ( ) { r e t u r n   t h i s . _ i d ; } , i s M a s t e r T a b : f u n c t i o n ( ) { r e t u r n   t h i s . _ i s M a s t e r T a b ; } , s t a r t P o l l i n g : f u n c t i o n ( ) { i f ( t h i s . _ i s A c t i v e = = = n u l l ) { t h i s . _ h e a r t b e a t = t h i s . _ h e a r t b e a t . b i n d ( t h i s ) ; } 
 i f ( ! t h i s . _ i s R e g i s t e r e d ) { t h i s . _ i s R e g i s t e r e d = t r u e ; v a r   p e e r s = t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' p e e r s ' , { } ) ; p e e r s [ t h i s . _ i d ] = n e w   D a t e ( ) . g e t T i m e ( ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' p e e r s ' , p e e r s ) ; t h i s . _ r e g i s t e r W i n d o w U n l o a d ( ) ; i f ( ! t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' m a s t e r ' ) ) { t h i s . _ s t a r t E l e c t i o n ( ) ; } 
 t h i s . _ h e a r t b e a t ( ) ; i f ( t h i s . _ i s M a s t e r T a b ) { t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' c h a n n e l s ' , t h i s . _ c h a n n e l s ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' o p t i o n s ' , t h i s . _ o p t i o n s ) ; } e l s e { t h i s . _ c h a n n e l s = t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' c h a n n e l s ' , t h i s . _ c h a n n e l s ) ; t h i s . _ o p t i o n s = t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' o p t i o n s ' , t h i s . _ o p t i o n s ) ; } 
 r e t u r n ; } 
 i f ( t h i s . _ i s M a s t e r T a b ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } } , u p d a t e O p t i o n : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' o p t i o n s ' , t h i s . _ o p t i o n s ) ; } , _ c a l l L o c a l S t o r a g e : f u n c t i o n ( m e t h o d , k e y , p a r a m ) { r e t u r n   t h i s . c a l l ( ' l o c a l _ s t o r a g e ' , m e t h o d , t h i s . _ g e n e r a t e K e y ( k e y ) , p a r a m ) ; } , _ g e n e r a t e K e y : f u n c t i o n ( k e y ) { r e t u r n   t h i s . L O C A L _ S T O R A G E _ P R E F I X + ' . ' + t h i s . _ s a n i t i z e d O r i g i n + ' . ' + k e y ; } , _ g e t L a s t P r e s e n c e : f u n c t i o n ( ) { r e t u r n   t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' l a s t P r e s e n c e ' ) | | t h i s . _ s u p e r ( ) ; } , _ h e a r t b e a t : f u n c t i o n ( ) { v a r   n o w = n e w   D a t e ( ) . g e t T i m e ( ) ; v a r   h e a r t b e a t V a l u e = p a r s e I n t ( t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' h e a r t b e a t ' , 0 ) ) ; v a r   p e e r s = t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' p e e r s ' , { } ) ; i f ( ( h e a r t b e a t V a l u e + t h i s . H E A R T B E A T _ O U T _ O F _ D A T E _ P E R I O D ) < n o w ) { t h i s . _ s t a r t E l e c t i o n ( ) ; h e a r t b e a t V a l u e = p a r s e I n t ( t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' h e a r t b e a t ' , 0 ) ) ; } 
 i f ( t h i s . _ i s M a s t e r T a b ) { v a r   c l e a n e d P e e r s = { } ; f o r ( v a r   p e e r N a m e   i n   p e e r s ) { i f ( p e e r s [ p e e r N a m e ] + t h i s . H E A R T B E A T _ K I L L _ O L D _ P E R I O D > n o w ) { c l e a n e d P e e r s [ p e e r N a m e ] = p e e r s [ p e e r N a m e ] ; } } 
 i f ( h e a r t b e a t V a l u e ! = = t h i s . l a s t H e a r t b e a t ) { t h i s . _ i s M a s t e r T a b = f a l s e ; t h i s . l a s t H e a r t b e a t = 0 ; p e e r s [ t h i s . _ i d ] = n o w ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' p e e r s ' , p e e r s ) ; t h i s . s t o p P o l l i n g ( ) ; t h i s . t r i g g e r ( ' n o _ l o n g e r _ m a s t e r ' ) ; } e l s e { t h i s . l a s t H e a r t b e a t = n o w ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' h e a r t b e a t ' , n o w ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' p e e r s ' , c l e a n e d P e e r s ) ; } } e l s e { p e e r s [ t h i s . _ i d ] = n o w ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' p e e r s ' , p e e r s ) ; } 
 v a r   h b P e r i o d = t h i s . _ i s M a s t e r T a b ? t h i s . M A S T E R _ T A B _ H E A R T B E A T _ P E R I O D : t h i s . T A B _ H E A R T B E A T _ P E R I O D ; i f ( t h i s . _ l a s t P r e s e n c e T i m e + h b P e r i o d > n o w ) { t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' l a s t P r e s e n c e ' , t h i s . _ l a s t P r e s e n c e T i m e ) ; } 
 t h i s . _ h e a r t b e a t T i m e o u t = s e t T i m e o u t ( t h i s . _ h e a r t b e a t . b i n d ( t h i s ) , h b P e r i o d ) ; } , _ r e g i s t e r W i n d o w U n l o a d : f u n c t i o n ( ) { $ ( w i n d o w ) . o n ( ' u n l o a d . ' + t h i s . _ i d , t h i s . _ o n U n l o a d . b i n d ( t h i s ) ) ; } , _ s t a r t E l e c t i o n : f u n c t i o n ( ) { i f ( t h i s . _ i s M a s t e r T a b ) { r e t u r n ; } 
 v a r   n o w = n e w   D a t e ( ) . g e t T i m e ( ) ; v a r   p e e r s = t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' p e e r s ' , { } ) ; v a r   h e a r t b e a t K i l l O l d = n o w - t h i s . H E A R T B E A T _ K I L L _ O L D _ P E R I O D ; v a r   n e w M a s t e r ; f o r ( v a r   p e e r N a m e   i n   p e e r s ) { i f ( p e e r s [ p e e r N a m e ] < h e a r t b e a t K i l l O l d ) { c o n t i n u e ; } 
 n e w M a s t e r = p e e r N a m e ; b r e a k ; } 
 i f ( n e w M a s t e r = = = t h i s . _ i d ) { t h i s . l a s t H e a r t b e a t = n o w ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' h e a r t b e a t ' , t h i s . l a s t H e a r t b e a t ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' m a s t e r ' , t r u e ) ; t h i s . _ i s M a s t e r T a b = t r u e ; t h i s . s t a r t P o l l i n g ( ) ; t h i s . t r i g g e r ( ' b e c o m e _ m a s t e r ' ) ; d e l e t e   p e e r s [ n e w M a s t e r ] ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' p e e r s ' , p e e r s ) ; } } , _ o n F o c u s C h a n g e : f u n c t i o n ( p a r a m s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' f o c u s ' , p a r a m s . f o c u s ) ; } , _ o n P o l l : f u n c t i o n ( n o t i f i c a t i o n s ) { v a r   n o t i f s = t h i s . _ s u p e r ( n o t i f i c a t i o n s ) ; i f ( t h i s . _ i s M a s t e r T a b & & n o t i f s . l e n g t h ) { t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' l a s t ' , t h i s . _ l a s t N o t i f i c a t i o n I D ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' l a s t _ t s ' , n e w   D a t e ( ) . g e t T i m e ( ) ) ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' n o t i f i c a t i o n ' , n o t i f s ) ; } } , _ o n S t o r a g e : f u n c t i o n ( e ) { v a r   v a l u e = J S O N . p a r s e ( e . n e w V a l u e ) ; v a r   k e y = e . k e y ; i f ( t h i s . _ i s R e g i s t e r e d & & k e y = = = t h i s . _ g e n e r a t e K e y ( ' m a s t e r ' ) & & ! v a l u e ) { t h i s . _ s t a r t E l e c t i o n ( ) ; } 
 i f ( k e y = = = t h i s . _ g e n e r a t e K e y ( ' l a s t ' ) ) { t h i s . _ l a s t N o t i f i c a t i o n I D = v a l u e | | 0 ; } 
 e l s e   i f ( k e y = = = t h i s . _ g e n e r a t e K e y ( ' n o t i f i c a t i o n ' ) ) { i f ( ! t h i s . _ i s M a s t e r T a b ) { t h i s . t r i g g e r ( " n o t i f i c a t i o n " , v a l u e ) ; } } 
 e l s e   i f ( k e y = = = t h i s . _ g e n e r a t e K e y ( ' c h a n n e l s ' ) ) { v a r   c h a n n e l s = v a l u e ; _ . e a c h ( _ . d i f f e r e n c e ( t h i s . _ c h a n n e l s , c h a n n e l s ) , t h i s . d e l e t e C h a n n e l . b i n d ( t h i s ) ) ; _ . e a c h ( _ . d i f f e r e n c e ( c h a n n e l s , t h i s . _ c h a n n e l s ) , t h i s . a d d C h a n n e l . b i n d ( t h i s ) ) ; } 
 e l s e   i f ( k e y = = = t h i s . _ g e n e r a t e K e y ( ' o p t i o n s ' ) ) { t h i s . _ o p t i o n s = v a l u e ; } 
 e l s e   i f ( k e y = = = t h i s . _ g e n e r a t e K e y ( ' f o c u s ' ) ) { t h i s . _ i s O d o o F o c u s e d = v a l u e ; t h i s . t r i g g e r ( ' w i n d o w _ f o c u s ' , t h i s . _ i s O d o o F o c u s e d ) ; } } , _ o n U n l o a d : f u n c t i o n ( ) { v a r   p e e r s = t h i s . _ c a l l L o c a l S t o r a g e ( ' g e t I t e m ' , ' p e e r s ' ) | | { } ; d e l e t e   p e e r s [ t h i s . _ i d ] ; t h i s . _ c a l l L o c a l S t o r a g e ( ' s e t I t e m ' , ' p e e r s ' , p e e r s ) ; i f ( t h i s . _ i s M a s t e r T a b ) { t h i s . _ c a l l L o c a l S t o r a g e ( ' r e m o v e I t e m ' , ' m a s t e r ' ) ; } } , } ) ; r e t u r n   C r o s s T a b B u s ; } ) ; ; 
 
 / *   / b u s / s t a t i c / s r c / j s / s e r v i c e s / b u s _ s e r v i c e . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' b u s . B u s S e r v i c e ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   C r o s s T a b = r e q u i r e ( ' b u s . C r o s s T a b ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   S e r v i c e s M i x i n = r e q u i r e ( ' w e b . S e r v i c e s M i x i n ' ) ; c o n s t   s e s s i o n = r e q u i r e ( ' w e b . s e s s i o n ' ) ; v a r   B u s S e r v i c e = C r o s s T a b . e x t e n d ( S e r v i c e s M i x i n , { d e p e n d e n c i e s : [ ' l o c a l _ s t o r a g e ' ] , _ a u d i o : n u l l , i n i t : f u n c t i o n ( e n v ) { t h i s . e n v = e n v ; t h i s . _ s u p e r ( ) ; } , _ t r i g g e r _ u p : f u n c t i o n ( e v ) { i f ( e v . n a m e = = = ' c a l l _ s e r v i c e ' ) { c o n s t   p a y l o a d = e v . d a t a ; l e t   a r g s = p a y l o a d . a r g s | | [ ] ; i f ( p a y l o a d . s e r v i c e = = = ' a j a x ' & & p a y l o a d . m e t h o d = = = ' r p c ' ) { a r g s = a r g s . c o n c a t ( e v . t a r g e t ) ; } 
 c o n s t   s e r v i c e = t h i s . e n v . s e r v i c e s [ p a y l o a d . s e r v i c e ] ; c o n s t   r e s u l t = s e r v i c e [ p a y l o a d . m e t h o d ] . a p p l y ( s e r v i c e , a r g s ) ; p a y l o a d . c a l l b a c k ( r e s u l t ) ; } } , s t a r t : f u n c t i o n ( ) { } , s e n d N o t i f i c a t i o n : f u n c t i o n ( t i t l e , c o n t e n t , c a l l b a c k ) { i f ( w i n d o w . N o t i f i c a t i o n & & N o t i f i c a t i o n . p e r m i s s i o n = = = " g r a n t e d " ) { i f ( t h i s . i s M a s t e r T a b ( ) ) { t r y { t h i s . _ s e n d N a t i v e N o t i f i c a t i o n ( t i t l e , c o n t e n t , c a l l b a c k ) ; } c a t c h ( e r r o r ) { i f ( e r r o r . m e s s a g e . i n d e x O f ( ' S e r v i c e W o r k e r R e g i s t r a t i o n ' ) > - 1 ) { t h i s . d o _ n o t i f y ( t i t l e , c o n t e n t ) ; t h i s . _ b e e p ( ) ; } e l s e { t h r o w   e r r o r ; } } } } e l s e { t h i s . d o _ n o t i f y ( t i t l e , c o n t e n t ) ; i f ( t h i s . i s M a s t e r T a b ( ) ) { t h i s . _ b e e p ( ) ; } } } , o n N o t i f i c a t i o n : f u n c t i o n ( ) { t h i s . o n . a p p l y ( t h i s , [ " n o t i f i c a t i o n " ] . c o n c a t ( A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s ) ) ) ; } , _ b e e p : f u n c t i o n ( ) { i f ( t y p e o f ( A u d i o ) ! = = " u n d e f i n e d " ) { i f ( ! t h i s . _ a u d i o ) { t h i s . _ a u d i o = n e w   A u d i o ( ) ; v a r   e x t = t h i s . _ a u d i o . c a n P l a y T y p e ( " a u d i o / o g g ;   c o d e c s = v o r b i s " ) ? " . o g g " : " . m p 3 " ; t h i s . _ a u d i o . s r c = s e s s i o n . u r l ( " / m a i l / s t a t i c / s r c / a u d i o / t i n g " + e x t ) ; } 
 P r o m i s e . r e s o l v e ( t h i s . _ a u d i o . p l a y ( ) ) . c a t c h ( _ . n o o p ) ; } } , _ s e n d N a t i v e N o t i f i c a t i o n : f u n c t i o n ( t i t l e , c o n t e n t , c a l l b a c k ) { v a r   n o t i f i c a t i o n = n e w   N o t i f i c a t i o n ( _ . u n e s c a p e ( t i t l e ) , { b o d y : _ . u n e s c a p e ( c o n t e n t ) , i c o n : " / m a i l / s t a t i c / s r c / i m g / o d o o b o t _ t r a n s p a r e n t . p n g " } ) ; n o t i f i c a t i o n . o n c l i c k = f u n c t i o n ( ) { w i n d o w . f o c u s ( ) ; i f ( t h i s . c a n c e l ) { t h i s . c a n c e l ( ) ; } e l s e   i f ( t h i s . c l o s e ) { t h i s . c l o s e ( ) ; } 
 i f ( c a l l b a c k ) { c a l l b a c k ( ) ; } } ; } , } ) ; c o r e . s e r v i c e R e g i s t r y . a d d ( ' b u s _ s e r v i c e ' , B u s S e r v i c e ) ; r e t u r n   B u s S e r v i c e ; } ) ; ; 
 
 / *   / g o o g l e _ r e c a p t c h a / s t a t i c / s r c / j s / r e c a p t c h a . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' g o o g l e _ r e c a p t c h a . R e C a p t c h a V 3 ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; c o n s t   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; c o n s t   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; c o n s t   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   _ t = c o r e . _ t ; c o n s t   R e C a p t c h a = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( ) { t h i s . _ p u b l i c K e y = o d o o . r e C a p t c h a P u b l i c K e y ; } , l o a d L i b s : f u n c t i o n ( ) { i f ( t h i s . _ p u b l i c K e y ) { t h i s . _ r e c a p t c h a R e a d y = a j a x . l o a d J S ( ` h t t p s : / / w w w . r e c a p t c h a . n e t / r e c a p t c h a / a p i . j s ? r e n d e r = $ { t h i s . _ p u b l i c K e y } ` ) . t h e n ( ( ) = > n e w   P r o m i s e ( r e s o l v e = > w i n d o w . g r e c a p t c h a . r e a d y ( ( ) = > r e s o l v e ( ) ) ) ) ; r e t u r n   t h i s . _ r e c a p t c h a R e a d y . t h e n ( ( ) = > ! ! d o c u m e n t . q u e r y S e l e c t o r ( ' . g r e c a p t c h a - b a d g e ' ) ) ; } 
 r e t u r n   f a l s e ; } , g e t T o k e n : a s y n c   f u n c t i o n ( a c t i o n ) { i f ( ! t h i s . _ p u b l i c K e y ) { r e t u r n { m e s s a g e : _ t ( " N o   r e c a p t c h a   p u b l i c   k e y   s e t . " ) , } ; } 
 a w a i t   t h i s . _ r e c a p t c h a R e a d y ; t r y { r e t u r n { t o k e n : a w a i t   w i n d o w . g r e c a p t c h a . e x e c u t e ( t h i s . _ p u b l i c K e y , { a c t i o n : a c t i o n } ) } ; } c a t c h ( e ) { r e t u r n { e r r o r : _ t ( " T h e   r e c a p t c h a   p u b l i c   k e y   i s   i n v a l i d . " ) , } ; } } , } ) ; r e t u r n { R e C a p t c h a : R e C a p t c h a , } ; } ) ; ; 
 
 / *   / w e b _ u n s p l a s h / s t a t i c / s r c / j s / u n s p l a s h _ b e a c o n . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b _ u n s p l a s h . b e a c o n ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . U n s p l a s h B e a c o n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' # w r a p w r a p ' , s t a r t : f u n c t i o n ( ) { v a r   u n s p l a s h I m a g e s = _ . m a p ( t h i s . $ ( ' i m g [ s r c * = " / u n s p l a s h / " ] ' ) , f u n c t i o n ( i m g ) { r e t u r n   i m g . s r c . s p l i t ( ' / u n s p l a s h / ' ) [ 1 ] . s p l i t ( ' / ' ) [ 0 ] ; } ) ; i f ( u n s p l a s h I m a g e s . l e n g t h ) { t h i s . _ r p c ( { r o u t e : ' / w e b _ u n s p l a s h / g e t _ a p p _ i d ' , } ) . t h e n ( f u n c t i o n ( a p p I D ) { i f ( ! a p p I D ) { r e t u r n ; } 
 $ . g e t ( ' h t t p s : / / v i e w s . u n s p l a s h . c o m / v ' , { ' p h o t o _ i d ' : u n s p l a s h I m a g e s . j o i n ( ' , ' ) , ' a p p _ i d ' : a p p I D , } ) ; } ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; } ) ; ; 
 
 / *   / a u t h _ s i g n u p / s t a t i c / s r c / j s / s i g n u p . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' a u t h _ s i g n u p . s i g n u p ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . S i g n U p F o r m = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o e _ s i g n u p _ f o r m ' , e v e n t s : { ' s u b m i t ' : ' _ o n S u b m i t ' , } , _ o n S u b m i t : f u n c t i o n ( ) { v a r   $ b t n = t h i s . $ ( ' . o e _ l o g i n _ b u t t o n s   >   b u t t o n [ t y p e = " s u b m i t " ] ' ) ; $ b t n . a t t r ( ' d i s a b l e d ' , ' d i s a b l e d ' ) ; $ b t n . p r e p e n d ( ' < i   c l a s s = " f a   f a - r e f r e s h   f a - s p i n " / >   ' ) ; } , } ) ; } ) ; ; 
 
 / *   / a c c o u n t / s t a t i c / s r c / j s / a c c o u n t _ p o r t a l _ s i d e b a r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' a c c o u n t . A c c o u n t P o r t a l S i d e b a r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   d o m = r e q u i r e ( ' w e b . d o m ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   P o r t a l S i d e b a r = r e q u i r e ( ' p o r t a l . P o r t a l S i d e b a r ' ) ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; p u b l i c W i d g e t . r e g i s t r y . A c c o u n t P o r t a l S i d e b a r = P o r t a l S i d e b a r . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ i n v o i c e _ s i d e b a r ' , e v e n t s : { ' c l i c k   . o _ p o r t a l _ i n v o i c e _ p r i n t ' : ' _ o n P r i n t I n v o i c e ' , } , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   $ i n v o i c e H t m l = t h i s . $ e l . f i n d ( ' i f r a m e # i n v o i c e _ h t m l ' ) ; v a r   u p d a t e I f r a m e S i z e = t h i s . _ u p d a t e I f r a m e S i z e . b i n d ( t h i s , $ i n v o i c e H t m l ) ; $ ( w i n d o w ) . o n ( ' r e s i z e ' , u p d a t e I f r a m e S i z e ) ; v a r   i f r a m e D o c = $ i n v o i c e H t m l [ 0 ] . c o n t e n t D o c u m e n t | | $ i n v o i c e H t m l [ 0 ] . c o n t e n t W i n d o w . d o c u m e n t ; i f ( i f r a m e D o c . r e a d y S t a t e = = = ' c o m p l e t e ' ) { u p d a t e I f r a m e S i z e ( ) ; } e l s e { $ i n v o i c e H t m l . o n ( ' l o a d ' , u p d a t e I f r a m e S i z e ) ; } 
 r e t u r n   d e f ; } , _ u p d a t e I f r a m e S i z e : f u n c t i o n ( $ e l ) { v a r   $ w r a p w r a p = $ e l . c o n t e n t s ( ) . f i n d ( ' d i v # w r a p w r a p ' ) ; $ e l . h e i g h t ( 0 ) ; $ e l . h e i g h t ( $ w r a p w r a p [ 0 ] . s c r o l l H e i g h t ) ; i f ( ! u t i l s . i s V a l i d A n c h o r ( w i n d o w . l o c a t i o n . h a s h ) ) { r e t u r n ; } 
 v a r   $ t a r g e t = $ ( w i n d o w . l o c a t i o n . h a s h ) ; i f ( ! $ t a r g e t . l e n g t h ) { r e t u r n ; } 
 d o m . s c r o l l T o ( $ t a r g e t [ 0 ] , { d u r a t i o n : 0 } ) ; } , _ o n P r i n t I n v o i c e : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   h r e f = $ ( e v . c u r r e n t T a r g e t ) . a t t r ( ' h r e f ' ) ; t h i s . _ p r i n t I f r a m e C o n t e n t ( h r e f ) ; } , } ) ; } ) ; ; 
 
 / *   / p a y m e n t / s t a t i c / l i b / j q u e r y . p a y m e n t / j q u e r y . p a y m e n t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 ( f u n c t i o n ( ) { v a r   $ , c a r d F r o m N u m b e r , c a r d F r o m T y p e , c a r d s , d e f a u l t F o r m a t , f o r m a t B a c k C a r d N u m b e r , f o r m a t B a c k E x p i r y , f o r m a t C a r d N u m b e r , f o r m a t E x p i r y , f o r m a t F o r w a r d E x p i r y , f o r m a t F o r w a r d S l a s h A n d S p a c e , h a s T e x t S e l e c t e d , l u h n C h e c k , r e F o r m a t C V C , r e F o r m a t C a r d N u m b e r , r e F o r m a t E x p i r y , r e F o r m a t N u m e r i c , r e p l a c e F u l l W i d t h C h a r s , r e s t r i c t C V C , r e s t r i c t C a r d N u m b e r , r e s t r i c t E x p i r y , r e s t r i c t N u m e r i c , s a f e V a l , s e t C a r d T y p e , _ _ s l i c e = [ ] . s l i c e , _ _ i n d e x O f = [ ] . i n d e x O f | | f u n c t i o n ( i t e m ) { f o r ( v a r   i = 0 , l = t h i s . l e n g t h ; i < l ; i + + ) { i f ( i   i n   t h i s & & t h i s [ i ] = = = i t e m ) r e t u r n   i ; } r e t u r n - 1 ; } ; $ = w i n d o w . j Q u e r y | | w i n d o w . Z e p t o | | w i n d o w . $ ; $ . p a y m e n t = { } ; $ . p a y m e n t . f n = { } ; $ . f n . p a y m e n t = f u n c t i o n ( ) { v a r   a r g s , m e t h o d ; m e t h o d = a r g u m e n t s [ 0 ] , a r g s = 2 < = a r g u m e n t s . l e n g t h ? _ _ s l i c e . c a l l ( a r g u m e n t s , 1 ) : [ ] ; r e t u r n   $ . p a y m e n t . f n [ m e t h o d ] . a p p l y ( t h i s , a r g s ) ; } ; d e f a u l t F o r m a t = / ( \ d { 1 , 4 } ) / g ; $ . p a y m e n t . c a r d s = c a r d s = [ { t y p e : ' m a e s t r o ' , p a t t e r n s : [ 5 0 1 8 , 5 0 2 , 5 0 3 , 5 0 6 , 5 6 , 5 8 , 6 3 9 , 6 2 2 0 , 6 7 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 2 , 1 3 , 1 4 , 1 5 , 1 6 , 1 7 , 1 8 , 1 9 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } , { t y p e : ' f o r b r u g s f o r e n i n g e n ' , p a t t e r n s : [ 6 0 0 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 6 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } , { t y p e : ' d a n k o r t ' , p a t t e r n s : [ 5 0 1 9 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 6 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } , { t y p e : ' v i s a ' , p a t t e r n s : [ 4 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 3 , 1 6 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } , { t y p e : ' m a s t e r c a r d ' , p a t t e r n s : [ 5 1 , 5 2 , 5 3 , 5 4 , 5 5 , 2 2 , 2 3 , 2 4 , 2 5 , 2 6 , 2 7 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 6 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } , { t y p e : ' a m e x ' , p a t t e r n s : [ 3 4 , 3 7 ] , f o r m a t : / ( \ d { 1 , 4 } ) ( \ d { 1 , 6 } ) ? ( \ d { 1 , 5 } ) ? / , l e n g t h : [ 1 5 ] , c v c L e n g t h : [ 3 , 4 ] , l u h n : t r u e } , { t y p e : ' d i n e r s c l u b ' , p a t t e r n s : [ 3 0 , 3 6 , 3 8 , 3 9 ] , f o r m a t : / ( \ d { 1 , 4 } ) ( \ d { 1 , 6 } ) ? ( \ d { 1 , 4 } ) ? / , l e n g t h : [ 1 4 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } , { t y p e : ' d i s c o v e r ' , p a t t e r n s : [ 6 0 , 6 4 , 6 5 , 6 2 2 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 6 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } , { t y p e : ' u n i o n p a y ' , p a t t e r n s : [ 6 2 , 8 8 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 6 , 1 7 , 1 8 , 1 9 ] , c v c L e n g t h : [ 3 ] , l u h n : f a l s e } , { t y p e : ' j c b ' , p a t t e r n s : [ 3 5 ] , f o r m a t : d e f a u l t F o r m a t , l e n g t h : [ 1 6 ] , c v c L e n g t h : [ 3 ] , l u h n : t r u e } ] ; c a r d F r o m N u m b e r = f u n c t i o n ( n u m ) { v a r   c a r d , p , p a t t e r n , _ i , _ j , _ l e n , _ l e n 1 , _ r e f ; n u m = ( n u m + ' ' ) . r e p l a c e ( / \ D / g , ' ' ) ; f o r ( _ i = 0 , _ l e n = c a r d s . l e n g t h ; _ i < _ l e n ; _ i + + ) { c a r d = c a r d s [ _ i ] ; _ r e f = c a r d . p a t t e r n s ; f o r ( _ j = 0 , _ l e n 1 = _ r e f . l e n g t h ; _ j < _ l e n 1 ; _ j + + ) { p a t t e r n = _ r e f [ _ j ] ; p = p a t t e r n + ' ' ; i f ( n u m . s u b s t r ( 0 , p . l e n g t h ) = = = p ) { r e t u r n   c a r d ; } } } } ; c a r d F r o m T y p e = f u n c t i o n ( t y p e ) { v a r   c a r d , _ i , _ l e n ; f o r ( _ i = 0 , _ l e n = c a r d s . l e n g t h ; _ i < _ l e n ; _ i + + ) { c a r d = c a r d s [ _ i ] ; i f ( c a r d . t y p e = = = t y p e ) { r e t u r n   c a r d ; } } } ; l u h n C h e c k = f u n c t i o n ( n u m ) { v a r   d i g i t , d i g i t s , o d d , s u m , _ i , _ l e n ; o d d = t r u e ; s u m = 0 ; d i g i t s = ( n u m + ' ' ) . s p l i t ( ' ' ) . r e v e r s e ( ) ; f o r ( _ i = 0 , _ l e n = d i g i t s . l e n g t h ; _ i < _ l e n ; _ i + + ) { d i g i t = d i g i t s [ _ i ] ; d i g i t = p a r s e I n t ( d i g i t , 1 0 ) ; i f ( ( o d d = ! o d d ) ) { d i g i t * = 2 ; } 
 i f ( d i g i t > 9 ) { d i g i t - = 9 ; } 
 s u m + = d i g i t ; } 
 r e t u r n   s u m % 1 0 = = = 0 ; } ; h a s T e x t S e l e c t e d = f u n c t i o n ( $ t a r g e t ) { v a r   _ r e f ; i f ( ( $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = n u l l ) & & $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = = $ t a r g e t . p r o p ( ' s e l e c t i o n E n d ' ) ) { r e t u r n   t r u e ; } 
 i f ( ( t y p e o f   d o c u m e n t ! = = " u n d e f i n e d " & & d o c u m e n t ! = = n u l l ? ( _ r e f = d o c u m e n t . s e l e c t i o n ) ! = n u l l ? _ r e f . c r e a t e R a n g e : v o i d   0 : v o i d   0 ) ! = n u l l ) { i f ( d o c u m e n t . s e l e c t i o n . c r e a t e R a n g e ( ) . t e x t ) { r e t u r n   t r u e ; } } 
 r e t u r n   f a l s e ; } ; s a f e V a l = f u n c t i o n ( v a l u e , $ t a r g e t ) { v a r   c u r r P a i r , c u r s o r , d i g i t , e r r o r , l a s t , p r e v P a i r ; t r y { c u r s o r = $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ; } c a t c h ( _ e r r o r ) { e r r o r = _ e r r o r ; c u r s o r = n u l l ; } 
 l a s t = $ t a r g e t . v a l ( ) ; $ t a r g e t . v a l ( v a l u e ) ; i f ( c u r s o r ! = = n u l l & & $ t a r g e t . i s ( " : f o c u s " ) ) { i f ( c u r s o r = = = l a s t . l e n g t h ) { c u r s o r = v a l u e . l e n g t h ; } 
 i f ( l a s t ! = = v a l u e ) { p r e v P a i r = l a s t . s l i c e ( c u r s o r - 1 , + c u r s o r + 1 | | 9 e 9 ) ; c u r r P a i r = v a l u e . s l i c e ( c u r s o r - 1 , + c u r s o r + 1 | | 9 e 9 ) ; d i g i t = v a l u e [ c u r s o r ] ; i f ( / \ d / . t e s t ( d i g i t ) & & p r e v P a i r = = = ( " " + d i g i t + "   " ) & & c u r r P a i r = = = ( "   " + d i g i t ) ) { c u r s o r = c u r s o r + 1 ; } } 
 $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' , c u r s o r ) ; r e t u r n   $ t a r g e t . p r o p ( ' s e l e c t i o n E n d ' , c u r s o r ) ; } } ; r e p l a c e F u l l W i d t h C h a r s = f u n c t i o n ( s t r ) { v a r   c h a r s , c h r , f u l l W i d t h , h a l f W i d t h , i d x , v a l u e , _ i , _ l e n ; i f ( s t r = = n u l l ) { s t r = ' ' ; } 
 f u l l W i d t h = ' \ u f f 1 0 \ u f f 1 1 \ u f f 1 2 \ u f f 1 3 \ u f f 1 4 \ u f f 1 5 \ u f f 1 6 \ u f f 1 7 \ u f f 1 8 \ u f f 1 9 ' ; h a l f W i d t h = ' 0 1 2 3 4 5 6 7 8 9 ' ; v a l u e = ' ' ; c h a r s = s t r . s p l i t ( ' ' ) ; f o r ( _ i = 0 , _ l e n = c h a r s . l e n g t h ; _ i < _ l e n ; _ i + + ) { c h r = c h a r s [ _ i ] ; i d x = f u l l W i d t h . i n d e x O f ( c h r ) ; i f ( i d x > - 1 ) { c h r = h a l f W i d t h [ i d x ] ; } 
 v a l u e + = c h r ; } 
 r e t u r n   v a l u e ; } ; r e F o r m a t N u m e r i c = f u n c t i o n ( e ) { v a r   $ t a r g e t ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { v a r   v a l u e ; v a l u e = $ t a r g e t . v a l ( ) ; v a l u e = r e p l a c e F u l l W i d t h C h a r s ( v a l u e ) ; v a l u e = v a l u e . r e p l a c e ( / \ D / g , ' ' ) ; r e t u r n   s a f e V a l ( v a l u e , $ t a r g e t ) ; } ) ; } ; r e F o r m a t C a r d N u m b e r = f u n c t i o n ( e ) { v a r   $ t a r g e t ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { v a r   v a l u e ; v a l u e = $ t a r g e t . v a l ( ) ; v a l u e = r e p l a c e F u l l W i d t h C h a r s ( v a l u e ) ; v a l u e = $ . p a y m e n t . f o r m a t C a r d N u m b e r ( v a l u e ) ; r e t u r n   s a f e V a l ( v a l u e , $ t a r g e t ) ; } ) ; } ; f o r m a t C a r d N u m b e r = f u n c t i o n ( e ) { v a r   $ t a r g e t , c a r d , d i g i t , l e n g t h , r e , u p p e r L e n g t h , v a l u e ; d i g i t = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; i f ( ! / ^ \ d + $ / . t e s t ( d i g i t ) ) { r e t u r n ; } 
 $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; v a l u e = $ t a r g e t . v a l ( ) ; c a r d = c a r d F r o m N u m b e r ( v a l u e + d i g i t ) ; l e n g t h = ( v a l u e . r e p l a c e ( / \ D / g , ' ' ) + d i g i t ) . l e n g t h ; u p p e r L e n g t h = 1 6 ; i f ( c a r d ) { u p p e r L e n g t h = c a r d . l e n g t h [ c a r d . l e n g t h . l e n g t h - 1 ] ; } 
 i f ( l e n g t h > = u p p e r L e n g t h ) { r e t u r n ; } 
 i f ( ( $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = n u l l ) & & $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = = v a l u e . l e n g t h ) { r e t u r n ; } 
 i f ( c a r d & & c a r d . t y p e = = = ' a m e x ' ) { r e = / ^ ( \ d { 4 } | \ d { 4 } \ s \ d { 6 } ) $ / ; } e l s e { r e = / ( ? : ^ | \ s ) ( \ d { 4 } ) $ / ; } 
 i f ( r e . t e s t ( v a l u e ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   $ t a r g e t . v a l ( v a l u e + '   ' + d i g i t ) ; } ) ; } e l s e   i f ( r e . t e s t ( v a l u e + d i g i t ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   $ t a r g e t . v a l ( v a l u e + d i g i t + '   ' ) ; } ) ; } } ; f o r m a t B a c k C a r d N u m b e r = f u n c t i o n ( e ) { v a r   $ t a r g e t , v a l u e ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; v a l u e = $ t a r g e t . v a l ( ) ; i f ( e . w h i c h ! = = 8 ) { r e t u r n ; } 
 i f ( ( $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = n u l l ) & & $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = = v a l u e . l e n g t h ) { r e t u r n ; } 
 i f ( / \ d \ s $ / . t e s t ( v a l u e ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   $ t a r g e t . v a l ( v a l u e . r e p l a c e ( / \ d \ s $ / , ' ' ) ) ; } ) ; } e l s e   i f ( / \ s \ d ? $ / . t e s t ( v a l u e ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   $ t a r g e t . v a l ( v a l u e . r e p l a c e ( / \ d $ / , ' ' ) ) ; } ) ; } } ; r e F o r m a t E x p i r y = f u n c t i o n ( e ) { v a r   $ t a r g e t ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { v a r   v a l u e ; v a l u e = $ t a r g e t . v a l ( ) ; v a l u e = r e p l a c e F u l l W i d t h C h a r s ( v a l u e ) ; v a l u e = $ . p a y m e n t . f o r m a t E x p i r y ( v a l u e ) ; r e t u r n   s a f e V a l ( v a l u e , $ t a r g e t ) ; } ) ; } ; f o r m a t E x p i r y = f u n c t i o n ( e ) { v a r   $ t a r g e t , d i g i t , v a l ; d i g i t = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; i f ( ! / ^ \ d + $ / . t e s t ( d i g i t ) ) { r e t u r n ; } 
 $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; v a l = $ t a r g e t . v a l ( ) + d i g i t ; i f ( / ^ \ d $ / . t e s t ( v a l ) & & ( v a l ! = = ' 0 ' & & v a l ! = = ' 1 ' ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   $ t a r g e t . v a l ( " 0 " + v a l + "   /   " ) ; } ) ; } e l s e   i f ( / ^ \ d \ d $ / . t e s t ( v a l ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { v a r   m 1 , m 2 ; m 1 = p a r s e I n t ( v a l [ 0 ] , 1 0 ) ; m 2 = p a r s e I n t ( v a l [ 1 ] , 1 0 ) ; i f ( m 2 > 2 & & m 1 ! = = 0 ) { r e t u r n   $ t a r g e t . v a l ( " 0 " + m 1 + "   /   " + m 2 ) ; } e l s e { r e t u r n   $ t a r g e t . v a l ( " " + v a l + "   /   " ) ; } } ) ; } } ; f o r m a t F o r w a r d E x p i r y = f u n c t i o n ( e ) { v a r   $ t a r g e t , d i g i t , v a l ; d i g i t = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; i f ( ! / ^ \ d + $ / . t e s t ( d i g i t ) ) { r e t u r n ; } 
 $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; v a l = $ t a r g e t . v a l ( ) ; i f ( / ^ \ d \ d $ / . t e s t ( v a l ) ) { r e t u r n   $ t a r g e t . v a l ( " " + v a l + "   /   " ) ; } } ; f o r m a t F o r w a r d S l a s h A n d S p a c e = f u n c t i o n ( e ) { v a r   $ t a r g e t , v a l , w h i c h ; w h i c h = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; i f ( ! ( w h i c h = = = ' / ' | | w h i c h = = = '   ' ) ) { r e t u r n ; } 
 $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; v a l = $ t a r g e t . v a l ( ) ; i f ( / ^ \ d $ / . t e s t ( v a l ) & & v a l ! = = ' 0 ' ) { r e t u r n   $ t a r g e t . v a l ( " 0 " + v a l + "   /   " ) ; } } ; f o r m a t B a c k E x p i r y = f u n c t i o n ( e ) { v a r   $ t a r g e t , v a l u e ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; v a l u e = $ t a r g e t . v a l ( ) ; i f ( e . w h i c h ! = = 8 ) { r e t u r n ; } 
 i f ( ( $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = n u l l ) & & $ t a r g e t . p r o p ( ' s e l e c t i o n S t a r t ' ) ! = = v a l u e . l e n g t h ) { r e t u r n ; } 
 i f ( / \ d \ s \ / \ s $ / . t e s t ( v a l u e ) ) { e . p r e v e n t D e f a u l t ( ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   $ t a r g e t . v a l ( v a l u e . r e p l a c e ( / \ d \ s \ / \ s $ / , ' ' ) ) ; } ) ; } } ; r e F o r m a t C V C = f u n c t i o n ( e ) { v a r   $ t a r g e t ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { v a r   v a l u e ; v a l u e = $ t a r g e t . v a l ( ) ; v a l u e = r e p l a c e F u l l W i d t h C h a r s ( v a l u e ) ; v a l u e = v a l u e . r e p l a c e ( / \ D / g , ' ' ) . s l i c e ( 0 , 4 ) ; r e t u r n   s a f e V a l ( v a l u e , $ t a r g e t ) ; } ) ; } ; r e s t r i c t N u m e r i c = f u n c t i o n ( e ) { v a r   i n p u t ; i f ( e . m e t a K e y | | e . c t r l K e y ) { r e t u r n   t r u e ; } 
 i f ( e . w h i c h = = = 3 2 ) { r e t u r n   f a l s e ; } 
 i f ( e . w h i c h = = = 0 ) { r e t u r n   t r u e ; } 
 i f ( e . w h i c h < 3 3 ) { r e t u r n   t r u e ; } 
 i n p u t = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; r e t u r n ! ! / [ \ d \ s ] / . t e s t ( i n p u t ) ; } ; r e s t r i c t C a r d N u m b e r = f u n c t i o n ( e ) { v a r   $ t a r g e t , c a r d , d i g i t , v a l u e ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; d i g i t = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; i f ( ! / ^ \ d + $ / . t e s t ( d i g i t ) ) { r e t u r n ; } 
 i f ( h a s T e x t S e l e c t e d ( $ t a r g e t ) ) { r e t u r n ; } 
 v a l u e = ( $ t a r g e t . v a l ( ) + d i g i t ) . r e p l a c e ( / \ D / g , ' ' ) ; c a r d = c a r d F r o m N u m b e r ( v a l u e ) ; i f ( c a r d ) { r e t u r n   v a l u e . l e n g t h < = c a r d . l e n g t h [ c a r d . l e n g t h . l e n g t h - 1 ] ; } e l s e { r e t u r n   v a l u e . l e n g t h < = 1 6 ; } } ; r e s t r i c t E x p i r y = f u n c t i o n ( e ) { v a r   $ t a r g e t , d i g i t , v a l u e ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; d i g i t = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; i f ( ! / ^ \ d + $ / . t e s t ( d i g i t ) ) { r e t u r n ; } 
 i f ( h a s T e x t S e l e c t e d ( $ t a r g e t ) ) { r e t u r n ; } 
 v a l u e = $ t a r g e t . v a l ( ) + d i g i t ; v a l u e = v a l u e . r e p l a c e ( / \ D / g , ' ' ) ; i f ( v a l u e . l e n g t h > 6 ) { r e t u r n   f a l s e ; } } ; r e s t r i c t C V C = f u n c t i o n ( e ) { v a r   $ t a r g e t , d i g i t , v a l ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; d i g i t = S t r i n g . f r o m C h a r C o d e ( e . w h i c h ) ; i f ( ! / ^ \ d + $ / . t e s t ( d i g i t ) ) { r e t u r n ; } 
 i f ( h a s T e x t S e l e c t e d ( $ t a r g e t ) ) { r e t u r n ; } 
 v a l = $ t a r g e t . v a l ( ) + d i g i t ; r e t u r n   v a l . l e n g t h < = 4 ; } ; s e t C a r d T y p e = f u n c t i o n ( e ) { v a r   $ t a r g e t , a l l T y p e s , c a r d , c a r d T y p e , v a l ; $ t a r g e t = $ ( e . c u r r e n t T a r g e t ) ; v a l = $ t a r g e t . v a l ( ) ; c a r d T y p e = $ . p a y m e n t . c a r d T y p e ( v a l ) | | ' u n k n o w n ' ; i f ( ! $ t a r g e t . h a s C l a s s ( c a r d T y p e ) ) { a l l T y p e s = ( f u n c t i o n ( ) { v a r   _ i , _ l e n , _ r e s u l t s ; _ r e s u l t s = [ ] ; f o r ( _ i = 0 , _ l e n = c a r d s . l e n g t h ; _ i < _ l e n ; _ i + + ) { c a r d = c a r d s [ _ i ] ; _ r e s u l t s . p u s h ( c a r d . t y p e ) ; } 
 r e t u r n   _ r e s u l t s ; } ) ( ) ; $ t a r g e t . r e m o v e C l a s s ( ' u n k n o w n ' ) ; $ t a r g e t . r e m o v e C l a s s ( a l l T y p e s . j o i n ( '   ' ) ) ; $ t a r g e t . a d d C l a s s ( c a r d T y p e ) ; $ t a r g e t . t o g g l e C l a s s ( ' i d e n t i f i e d ' , c a r d T y p e ! = = ' u n k n o w n ' ) ; r e t u r n   $ t a r g e t . t r i g g e r ( ' p a y m e n t . c a r d T y p e ' , c a r d T y p e ) ; } } ; $ . p a y m e n t . f n . f o r m a t C a r d C V C = f u n c t i o n ( ) { t h i s . o n ( ' k e y p r e s s ' , r e s t r i c t N u m e r i c ) ; t h i s . o n ( ' k e y p r e s s ' , r e s t r i c t C V C ) ; t h i s . o n ( ' p a s t e ' , r e F o r m a t C V C ) ; t h i s . o n ( ' c h a n g e ' , r e F o r m a t C V C ) ; t h i s . o n ( ' i n p u t ' , r e F o r m a t C V C ) ; r e t u r n   t h i s ; } ; $ . p a y m e n t . f n . f o r m a t C a r d E x p i r y = f u n c t i o n ( ) { t h i s . o n ( ' k e y p r e s s ' , r e s t r i c t N u m e r i c ) ; t h i s . o n ( ' k e y p r e s s ' , r e s t r i c t E x p i r y ) ; t h i s . o n ( ' k e y p r e s s ' , f o r m a t E x p i r y ) ; t h i s . o n ( ' k e y p r e s s ' , f o r m a t F o r w a r d S l a s h A n d S p a c e ) ; t h i s . o n ( ' k e y p r e s s ' , f o r m a t F o r w a r d E x p i r y ) ; t h i s . o n ( ' k e y d o w n ' , f o r m a t B a c k E x p i r y ) ; t h i s . o n ( ' c h a n g e ' , r e F o r m a t E x p i r y ) ; t h i s . o n ( ' i n p u t ' , r e F o r m a t E x p i r y ) ; r e t u r n   t h i s ; } ; $ . p a y m e n t . f n . f o r m a t C a r d N u m b e r = f u n c t i o n ( ) { t h i s . o n ( ' k e y p r e s s ' , r e s t r i c t N u m e r i c ) ; t h i s . o n ( ' k e y p r e s s ' , r e s t r i c t C a r d N u m b e r ) ; t h i s . o n ( ' k e y p r e s s ' , f o r m a t C a r d N u m b e r ) ; t h i s . o n ( ' k e y d o w n ' , f o r m a t B a c k C a r d N u m b e r ) ; t h i s . o n ( ' k e y u p ' , s e t C a r d T y p e ) ; t h i s . o n ( ' p a s t e ' , r e F o r m a t C a r d N u m b e r ) ; t h i s . o n ( ' c h a n g e ' , r e F o r m a t C a r d N u m b e r ) ; t h i s . o n ( ' i n p u t ' , r e F o r m a t C a r d N u m b e r ) ; t h i s . o n ( ' i n p u t ' , s e t C a r d T y p e ) ; r e t u r n   t h i s ; } ; $ . p a y m e n t . f n . r e s t r i c t N u m e r i c = f u n c t i o n ( ) { t h i s . o n ( ' k e y p r e s s ' , r e s t r i c t N u m e r i c ) ; t h i s . o n ( ' p a s t e ' , r e F o r m a t N u m e r i c ) ; t h i s . o n ( ' c h a n g e ' , r e F o r m a t N u m e r i c ) ; t h i s . o n ( ' i n p u t ' , r e F o r m a t N u m e r i c ) ; r e t u r n   t h i s ; } ; $ . p a y m e n t . f n . c a r d E x p i r y V a l = f u n c t i o n ( ) { r e t u r n   $ . p a y m e n t . c a r d E x p i r y V a l ( $ ( t h i s ) . v a l ( ) ) ; } ; $ . p a y m e n t . c a r d E x p i r y V a l = f u n c t i o n ( v a l u e ) { v a r   m o n t h , p r e f i x , y e a r , _ r e f ; _ r e f = v a l u e . s p l i t ( / [ \ s \ / ] + / , 2 ) , m o n t h = _ r e f [ 0 ] , y e a r = _ r e f [ 1 ] ; i f ( ( y e a r ! = n u l l ? y e a r . l e n g t h : v o i d   0 ) = = = 2 & & / ^ \ d + $ / . t e s t ( y e a r ) ) { p r e f i x = ( n e w   D a t e ) . g e t F u l l Y e a r ( ) ; p r e f i x = p r e f i x . t o S t r i n g ( ) . s l i c e ( 0 , 2 ) ; y e a r = p r e f i x + y e a r ; } 
 m o n t h = p a r s e I n t ( m o n t h , 1 0 ) ; y e a r = p a r s e I n t ( y e a r , 1 0 ) ; r e t u r n { m o n t h : m o n t h , y e a r : y e a r } ; } ; $ . p a y m e n t . v a l i d a t e C a r d N u m b e r = f u n c t i o n ( n u m ) { v a r   c a r d , _ r e f ; n u m = ( n u m + ' ' ) . r e p l a c e ( / \ s + | - / g , ' ' ) ; i f ( ! / ^ \ d + $ / . t e s t ( n u m ) ) { r e t u r n   f a l s e ; } 
 c a r d = c a r d F r o m N u m b e r ( n u m ) ; i f ( ! c a r d ) { r e t u r n   f a l s e ; } 
 r e t u r n ( _ r e f = n u m . l e n g t h , _ _ i n d e x O f . c a l l ( c a r d . l e n g t h , _ r e f ) > = 0 ) & & ( c a r d . l u h n = = = f a l s e | | l u h n C h e c k ( n u m ) ) ; } ; $ . p a y m e n t . v a l i d a t e C a r d E x p i r y = f u n c t i o n ( m o n t h , y e a r ) { v a r   c u r r e n t T i m e , e x p i r y , _ r e f ; i f ( t y p e o f   m o n t h = = = ' o b j e c t ' & & ' m o n t h ' i n   m o n t h ) { _ r e f = m o n t h , m o n t h = _ r e f . m o n t h , y e a r = _ r e f . y e a r ; } 
 i f ( ! ( m o n t h & & y e a r ) ) { r e t u r n   f a l s e ; } 
 m o n t h = $ . t r i m ( m o n t h ) ; y e a r = $ . t r i m ( y e a r ) ; i f ( ! / ^ \ d + $ / . t e s t ( m o n t h ) ) { r e t u r n   f a l s e ; } 
 i f ( ! / ^ \ d + $ / . t e s t ( y e a r ) ) { r e t u r n   f a l s e ; } 
 i f ( ! ( ( 1 < = m o n t h & & m o n t h < = 1 2 ) ) ) { r e t u r n   f a l s e ; } 
 i f ( y e a r . l e n g t h = = = 2 ) { i f ( y e a r < 7 0 ) { y e a r = " 2 0 " + y e a r ; } e l s e { y e a r = " 1 9 " + y e a r ; } } 
 i f ( y e a r . l e n g t h ! = = 4 ) { r e t u r n   f a l s e ; } 
 e x p i r y = n e w   D a t e ( y e a r , m o n t h ) ; c u r r e n t T i m e = n e w   D a t e ; e x p i r y . s e t M o n t h ( e x p i r y . g e t M o n t h ( ) - 1 ) ; e x p i r y . s e t M o n t h ( e x p i r y . g e t M o n t h ( ) + 1 , 1 ) ; r e t u r n   e x p i r y > c u r r e n t T i m e ; } ; $ . p a y m e n t . v a l i d a t e C a r d C V C = f u n c t i o n ( c v c , t y p e ) { v a r   c a r d , _ r e f ; c v c = $ . t r i m ( c v c ) ; i f ( ! / ^ \ d + $ / . t e s t ( c v c ) ) { r e t u r n   f a l s e ; } 
 c a r d = c a r d F r o m T y p e ( t y p e ) ; i f ( c a r d ! = n u l l ) { r e t u r n   _ r e f = c v c . l e n g t h , _ _ i n d e x O f . c a l l ( c a r d . c v c L e n g t h , _ r e f ) > = 0 ; } e l s e { r e t u r n   c v c . l e n g t h > = 3 & & c v c . l e n g t h < = 4 ; } } ; $ . p a y m e n t . c a r d T y p e = f u n c t i o n ( n u m ) { v a r   _ r e f ; i f ( ! n u m ) { r e t u r n   n u l l ; } 
 r e t u r n ( ( _ r e f = c a r d F r o m N u m b e r ( n u m ) ) ! = n u l l ? _ r e f . t y p e : v o i d   0 ) | | n u l l ; } ; $ . p a y m e n t . f o r m a t C a r d N u m b e r = f u n c t i o n ( n u m ) { v a r   c a r d , g r o u p s , u p p e r L e n g t h , _ r e f ; n u m = n u m . r e p l a c e ( / \ D / g , ' ' ) ; c a r d = c a r d F r o m N u m b e r ( n u m ) ; i f ( ! c a r d ) { r e t u r n   n u m ; } 
 u p p e r L e n g t h = c a r d . l e n g t h [ c a r d . l e n g t h . l e n g t h - 1 ] ; n u m = n u m . s l i c e ( 0 , u p p e r L e n g t h ) ; i f ( c a r d . f o r m a t . g l o b a l ) { r e t u r n ( _ r e f = n u m . m a t c h ( c a r d . f o r m a t ) ) ! = n u l l ? _ r e f . j o i n ( '   ' ) : v o i d   0 ; } e l s e { g r o u p s = c a r d . f o r m a t . e x e c ( n u m ) ; i f ( g r o u p s = = n u l l ) { r e t u r n ; } 
 g r o u p s . s h i f t ( ) ; g r o u p s = $ . g r e p ( g r o u p s , f u n c t i o n ( n ) { r e t u r n   n ; } ) ; r e t u r n   g r o u p s . j o i n ( '   ' ) ; } } ; $ . p a y m e n t . f o r m a t E x p i r y = f u n c t i o n ( e x p i r y ) { v a r   m o n , p a r t s , s e p , y e a r ; p a r t s = e x p i r y . m a t c h ( / ^ \ D * ( \ d { 1 , 2 } ) ( \ D + ) ? ( \ d { 1 , 4 } ) ? / ) ; i f ( ! p a r t s ) { r e t u r n ' ' ; } 
 m o n = p a r t s [ 1 ] | | ' ' ; s e p = p a r t s [ 2 ] | | ' ' ; y e a r = p a r t s [ 3 ] | | ' ' ; i f ( y e a r . l e n g t h > 0 ) { s e p = '   /   ' ; } e l s e   i f ( s e p = = = '   / ' ) { m o n = m o n . s u b s t r i n g ( 0 , 1 ) ; s e p = ' ' ; } e l s e   i f ( m o n . l e n g t h = = = 2 | | s e p . l e n g t h > 0 ) { s e p = '   /   ' ; } e l s e   i f ( m o n . l e n g t h = = = 1 & & ( m o n ! = = ' 0 ' & & m o n ! = = ' 1 ' ) ) { m o n = " 0 " + m o n ; s e p = '   /   ' ; } 
 r e t u r n   m o n + s e p + y e a r ; } ; } ) . c a l l ( t h i s ) ; ; 
 
 / *   / p a y m e n t / s t a t i c / s r c / j s / p a y m e n t _ p o r t a l . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 $ ( f u n c t i o n ( ) { $ ( ' i n p u t # c c _ n u m b e r ' ) . p a y m e n t ( ' f o r m a t C a r d N u m b e r ' ) ; $ ( ' i n p u t # c c _ c v c ' ) . p a y m e n t ( ' f o r m a t C a r d C V C ' ) ; $ ( ' i n p u t # c c _ e x p i r y ' ) . p a y m e n t ( ' f o r m a t C a r d E x p i r y ' ) 
 $ ( ' i n p u t # c c _ n u m b e r ' ) . o n ( ' f o c u s o u t ' , f u n c t i o n ( e ) { v a r   v a l i d _ v a l u e = $ . p a y m e n t . v a l i d a t e C a r d N u m b e r ( t h i s . v a l u e ) ; v a r   c a r d _ t y p e = $ . p a y m e n t . c a r d T y p e ( t h i s . v a l u e ) ; i f ( c a r d _ t y p e ) { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . c h i l d r e n ( ' . c a r d _ p l a c e h o l d e r ' ) . r e m o v e C l a s s ( ) . a d d C l a s s ( ' c a r d _ p l a c e h o l d e r   ' + c a r d _ t y p e ) ; $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . c h i l d r e n ( ' i n p u t [ n a m e = " c c _ b r a n d " ] ' ) . v a l ( c a r d _ t y p e ) } 
 e l s e { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . c h i l d r e n ( ' . c a r d _ p l a c e h o l d e r ' ) . r e m o v e C l a s s ( ) . a d d C l a s s ( ' c a r d _ p l a c e h o l d e r ' ) ; } 
 i f ( v a l i d _ v a l u e ) { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ s u c c e s s ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - v a l i d ' ) ; $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; $ ( t h i s ) . s i b l i n g s ( ' . o _ i n v a l i d _ f i e l d ' ) . r e m o v e ( ) ; } 
 e l s e { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ s u c c e s s ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - v a l i d ' ) ; } } ) ; $ ( ' i n p u t # c c _ c v c ' ) . o n ( ' f o c u s o u t ' , f u n c t i o n ( e ) { v a r   c c _ n b r = $ ( t h i s ) . p a r e n t s ( ' . o e _ c c ' ) . f i n d ( ' # c c _ n u m b e r ' ) . v a l ( ) ; v a r   c a r d _ t y p e = $ . p a y m e n t . c a r d T y p e ( c c _ n b r ) ; v a r   v a l i d _ v a l u e = $ . p a y m e n t . v a l i d a t e C a r d C V C ( t h i s . v a l u e , c a r d _ t y p e ) ; i f ( v a l i d _ v a l u e ) { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ s u c c e s s ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - v a l i d ' ) ; $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; $ ( t h i s ) . s i b l i n g s ( ' . o _ i n v a l i d _ f i e l d ' ) . r e m o v e ( ) ; } 
 e l s e { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ s u c c e s s ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - v a l i d ' ) ; } } ) ; $ ( ' i n p u t # c c _ e x p i r y ' ) . o n ( ' f o c u s o u t ' , f u n c t i o n ( e ) { v a r   e x p i r y _ v a l u e = $ . p a y m e n t . c a r d E x p i r y V a l ( t h i s . v a l u e ) ; v a r   m o n t h = e x p i r y _ v a l u e . m o n t h | | ' ' ; v a r   y e a r = e x p i r y _ v a l u e . y e a r | | ' ' ; v a r   v a l i d _ v a l u e = $ . p a y m e n t . v a l i d a t e C a r d E x p i r y ( m o n t h , y e a r ) ; i f ( v a l i d _ v a l u e ) { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ s u c c e s s ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - v a l i d ' ) ; $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; $ ( t h i s ) . s i b l i n g s ( ' . o _ i n v a l i d _ f i e l d ' ) . r e m o v e ( ) ; } 
 e l s e { $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; $ ( t h i s ) . p a r e n t ( ' . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ s u c c e s s ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - v a l i d ' ) ; } } ) ; $ ( ' s e l e c t [ n a m e = " p m _ a c q u i r e r _ i d " ] ' ) . o n ( ' c h a n g e ' , f u n c t i o n ( ) { v a r   a c q u i r e r _ i d = $ ( t h i s ) . v a l ( ) ; $ ( ' . a c q u i r e r ' ) . a d d C l a s s ( ' d - n o n e ' ) ; $ ( ' . a c q u i r e r [ d a t a - a c q u i r e r - i d = " ' + a c q u i r e r _ i d + ' " ] ' ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } ) ; } ) ; ; 
 
 / *   / p a y m e n t / s t a t i c / s r c / j s / p a y m e n t _ f o r m . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p a y m e n t . p a y m e n t _ f o r m ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   _ t = c o r e . _ t ; p u b l i c W i d g e t . r e g i s t r y . P a y m e n t F o r m = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p a y m e n t _ f o r m ' , e v e n t s : { ' s u b m i t ' : ' o n S u b m i t ' , ' c l i c k   # o _ p a y m e n t _ f o r m _ p a y ' : ' p a y E v e n t ' , ' c l i c k   # o _ p a y m e n t _ f o r m _ a d d _ p m ' : ' a d d P m E v e n t ' , ' c l i c k   b u t t o n [ n a m e = " d e l e t e _ p m " ] ' : ' d e l e t e P m E v e n t ' , ' c l i c k   . o _ p a y m e n t _ f o r m _ p a y _ i c o n _ m o r e ' : ' o n C l i c k M o r e P a y m e n t I c o n ' , ' c l i c k   . o _ p a y m e n t _ a c q u i r e r _ s e l e c t ' : ' r a d i o C l i c k E v e n t ' , } , s t a r t : f u n c t i o n ( ) { t h i s . _ a d a p t P a y B u t t o n ( ) ; v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { s e l f . o p t i o n s = _ . e x t e n d ( s e l f . $ e l . d a t a ( ) , s e l f . o p t i o n s ) ; s e l f . u p d a t e N e w P a y m e n t D i s p l a y S t a t u s ( ) ; $ ( ' [ d a t a - t o g g l e = " t o o l t i p " ] ' ) . t o o l t i p ( ) ; } ) ; } , d i s p l a y E r r o r : f u n c t i o n ( t i t l e , m e s s a g e ) { v a r   $ c h e c k e d R a d i o = t h i s . $ ( ' i n p u t [ t y p e = " r a d i o " ] : c h e c k e d ' ) , a c q u i r e r I D = t h i s . g e t A c q u i r e r I d F r o m R a d i o ( $ c h e c k e d R a d i o [ 0 ] ) ; v a r   $ a c q u i r e r F o r m ; i f ( t h i s . i s N e w P a y m e n t R a d i o ( $ c h e c k e d R a d i o [ 0 ] ) ) { $ a c q u i r e r F o r m = t h i s . $ ( ' # o _ p a y m e n t _ a d d _ t o k e n _ a c q _ ' + a c q u i r e r I D ) ; } 
 e l s e   i f ( t h i s . i s F o r m P a y m e n t R a d i o ( $ c h e c k e d R a d i o [ 0 ] ) ) { $ a c q u i r e r F o r m = t h i s . $ ( ' # o _ p a y m e n t _ f o r m _ a c q _ ' + a c q u i r e r I D ) ; } 
 i f ( $ c h e c k e d R a d i o . l e n g t h = = = 0 ) { r e t u r n   n e w   D i a l o g ( n u l l , { t i t l e : _ t ( ' E r r o r :   ' ) + _ . s t r . e s c a p e H T M L ( t i t l e ) , s i z e : ' m e d i u m ' , $ c o n t e n t : " < p > " + ( _ . s t r . e s c a p e H T M L ( m e s s a g e ) | | " " ) + " < / p > " , b u t t o n s : [ { t e x t : _ t ( ' O k ' ) , c l o s e : t r u e } ] } ) . o p e n ( ) ; } e l s e { t h i s . $ ( ' # p a y m e n t _ e r r o r ' ) . r e m o v e ( ) ; v a r   m e s s a g e R e s u l t = ' < d i v   c l a s s = " a l e r t   a l e r t - d a n g e r   m b 4 "   i d = " p a y m e n t _ e r r o r " > ' ; i f ( t i t l e ! = ' ' ) { m e s s a g e R e s u l t = m e s s a g e R e s u l t + ' < b > ' + _ . s t r . e s c a p e H T M L ( t i t l e ) + ' : < / b > < / b r > ' ; } 
 m e s s a g e R e s u l t = m e s s a g e R e s u l t + _ . s t r . e s c a p e H T M L ( m e s s a g e ) + ' < / d i v > ' ; $ a c q u i r e r F o r m . a p p e n d ( m e s s a g e R e s u l t ) ; } } , h i d e E r r o r : f u n c t i o n ( ) { t h i s . $ ( ' # p a y m e n t _ e r r o r ' ) . r e m o v e ( ) ; } , g e t A c q u i r e r I d F r o m R a d i o : f u n c t i o n ( e l e m e n t ) { r e t u r n   $ ( e l e m e n t ) . d a t a ( ' a c q u i r e r - i d ' ) ; } , g e t F o r m D a t a : f u n c t i o n ( $ f o r m ) { v a r   u n i n d e x e d _ a r r a y = $ f o r m . s e r i a l i z e A r r a y ( ) ; v a r   i n d e x e d _ a r r a y = { } ; $ . m a p ( u n i n d e x e d _ a r r a y , f u n c t i o n ( n , i ) { i n d e x e d _ a r r a y [ n . n a m e ] = n . v a l u e ; } ) ; r e t u r n   i n d e x e d _ a r r a y ; } , i s F o r m P a y m e n t R a d i o : f u n c t i o n ( e l e m e n t ) { r e t u r n   $ ( e l e m e n t ) . d a t a ( ' f o r m - p a y m e n t ' ) = = = ' T r u e ' ; } , i s N e w P a y m e n t R a d i o : f u n c t i o n ( e l e m e n t ) { r e t u r n   $ ( e l e m e n t ) . d a t a ( ' s 2 s - p a y m e n t ' ) = = = ' T r u e ' ; } , u p d a t e N e w P a y m e n t D i s p l a y S t a t u s : f u n c t i o n ( ) { v a r   c h e c k e d _ r a d i o = t h i s . $ ( ' i n p u t [ t y p e = " r a d i o " ] : c h e c k e d ' ) ; t h i s . $ ( ' [ i d * = " o _ p a y m e n t _ a d d _ t o k e n _ a c q _ " ] ' ) . a d d C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' [ i d * = " o _ p a y m e n t _ f o r m _ a c q _ " ] ' ) . a d d C l a s s ( ' d - n o n e ' ) ; i f ( c h e c k e d _ r a d i o . l e n g t h ! = = 1 ) { r e t u r n ; } 
 c h e c k e d _ r a d i o = c h e c k e d _ r a d i o [ 0 ] ; v a r   a c q u i r e r _ i d = t h i s . g e t A c q u i r e r I d F r o m R a d i o ( c h e c k e d _ r a d i o ) ; i f ( t h i s . i s N e w P a y m e n t R a d i o ( c h e c k e d _ r a d i o ) ) { t h i s . $ ( ' # o _ p a y m e n t _ a d d _ t o k e n _ a c q _ ' + a c q u i r e r _ i d ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } 
 e l s e   i f ( t h i s . i s F o r m P a y m e n t R a d i o ( c h e c k e d _ r a d i o ) ) { t h i s . $ ( ' # o _ p a y m e n t _ f o r m _ a c q _ ' + a c q u i r e r _ i d ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } } , d i s a b l e B u t t o n : f u n c t i o n ( b u t t o n ) { $ ( b u t t o n ) . a t t r ( ' d i s a b l e d ' , t r u e ) ; $ ( b u t t o n ) . c h i l d r e n ( ' . f a - l o c k ' ) . r e m o v e C l a s s ( ' f a - l o c k ' ) ; $ ( b u t t o n ) . p r e p e n d ( ' < s p a n   c l a s s = " o _ l o a d e r " > < i   c l a s s = " f a   f a - r e f r e s h   f a - s p i n " > < / i > & n b s p ; < / s p a n > ' ) ; } , e n a b l e B u t t o n : f u n c t i o n ( b u t t o n ) { $ ( b u t t o n ) . a t t r ( ' d i s a b l e d ' , f a l s e ) ; $ ( b u t t o n ) . c h i l d r e n ( ' . f a ' ) . a d d C l a s s ( ' f a - l o c k ' ) ; $ ( b u t t o n ) . f i n d ( ' s p a n . o _ l o a d e r ' ) . r e m o v e ( ) ; } , _ p a r s e E r r o r : f u n c t i o n ( e ) { i f ( e . m e s s a g e . d a t a . a r g u m e n t s [ 1 ] ) { r e t u r n   e . m e s s a g e . d a t a . a r g u m e n t s [ 0 ] + e . m e s s a g e . d a t a . a r g u m e n t s [ 1 ] ; } 
 r e t u r n   e . m e s s a g e . d a t a . a r g u m e n t s [ 0 ] ; } , _ a d a p t P a y B u t t o n : f u n c t i o n ( ) { v a r   $ p a y B u t t o n = $ ( " # o _ p a y m e n t _ f o r m _ p a y " ) ; v a r   d i s a b l e d R e a s o n s = $ p a y B u t t o n . d a t a ( ' d i s a b l e d _ r e a s o n s ' ) | | { } ; $ p a y B u t t o n . p r o p ( ' d i s a b l e d ' , _ . c o n t a i n s ( d i s a b l e d R e a s o n s , t r u e ) ) ; } , p a y E v e n t : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   f o r m = t h i s . e l ; v a r   c h e c k e d _ r a d i o = t h i s . $ ( ' i n p u t [ t y p e = " r a d i o " ] : c h e c k e d ' ) ; v a r   s e l f = t h i s ; i f ( e v . t y p e = = = ' s u b m i t ' ) { v a r   b u t t o n = $ ( e v . t a r g e t ) . f i n d ( ' * [ t y p e = " s u b m i t " ] ' ) [ 0 ] } e l s e { v a r   b u t t o n = e v . t a r g e t ; } 
 i f ( c h e c k e d _ r a d i o . l e n g t h = = = 1 ) { c h e c k e d _ r a d i o = c h e c k e d _ r a d i o [ 0 ] ; v a r   a c q u i r e r _ i d = t h i s . g e t A c q u i r e r I d F r o m R a d i o ( c h e c k e d _ r a d i o ) ; v a r   a c q u i r e r _ f o r m = f a l s e ; i f ( t h i s . i s N e w P a y m e n t R a d i o ( c h e c k e d _ r a d i o ) ) { a c q u i r e r _ f o r m = t h i s . $ ( ' # o _ p a y m e n t _ a d d _ t o k e n _ a c q _ ' + a c q u i r e r _ i d ) ; } e l s e { a c q u i r e r _ f o r m = t h i s . $ ( ' # o _ p a y m e n t _ f o r m _ a c q _ ' + a c q u i r e r _ i d ) ; } 
 v a r   i n p u t s _ f o r m = $ ( ' i n p u t ' , a c q u i r e r _ f o r m ) ; v a r   d s = $ ( ' i n p u t [ n a m e = " d a t a _ s e t " ] ' , a c q u i r e r _ f o r m ) [ 0 ] ; i f ( t h i s . i s N e w P a y m e n t R a d i o ( c h e c k e d _ r a d i o ) ) { i f ( t h i s . o p t i o n s . p a r t n e r I d = = = u n d e f i n e d ) { c o n s o l e . w a r n ( ' p a y m e n t _ f o r m :   u n s e t   p a r t n e r _ i d   w h e n   a d d i n g   n e w   t o k e n ;   t h i n g s   c o u l d   g o   w r o n g ' ) ; } 
 v a r   f o r m _ d a t a = t h i s . g e t F o r m D a t a ( i n p u t s _ f o r m ) ; v a r   w r o n g _ i n p u t = f a l s e ; i n p u t s _ f o r m . t o A r r a y ( ) . f o r E a c h ( f u n c t i o n ( e l e m e n t ) { i f ( $ ( e l e m e n t ) . a t t r ( ' t y p e ' ) = = ' h i d d e n ' ) { r e t u r n   t r u e ; } 
 $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; $ ( e l e m e n t ) . s i b l i n g s ( " . o _ i n v a l i d _ f i e l d " ) . r e m o v e ( ) ; $ ( e l e m e n t ) . t r i g g e r ( " f o c u s o u t " ) ; i f ( e l e m e n t . d a t a s e t . i s R e q u i r e d & & e l e m e n t . v a l u e . l e n g t h = = = 0 ) { $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . a p p e n d ( ' < d i v   s t y l e = " c o l o r :   r e d "   c l a s s = " o _ i n v a l i d _ f i e l d "   a r i a - i n v a l i d = " t r u e " > ' + _ . s t r . e s c a p e H T M L ( " T h e   v a l u e   i s   i n v a l i d . " ) + ' < / d i v > ' ) ; w r o n g _ i n p u t = t r u e ; } 
 e l s e   i f ( $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . h a s C l a s s ( ' o _ h a s _ e r r o r ' ) ) { w r o n g _ i n p u t = t r u e ; $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . a p p e n d ( ' < d i v   s t y l e = " c o l o r :   r e d "   c l a s s = " o _ i n v a l i d _ f i e l d "   a r i a - i n v a l i d = " t r u e " > ' + _ . s t r . e s c a p e H T M L ( " T h e   v a l u e   i s   i n v a l i d . " ) + ' < / d i v > ' ) ; } } ) ; i f ( w r o n g _ i n p u t ) { r e t u r n ; } 
 t h i s . d i s a b l e B u t t o n ( b u t t o n ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : d s . d a t a s e t . c r e a t e R o u t e , p a r a m s : f o r m _ d a t a , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a . r e s u l t ) { i f ( d a t a [ ' 3 d _ s e c u r e ' ] ! = = f a l s e ) { $ ( " b o d y " ) . h t m l ( d a t a [ ' 3 d _ s e c u r e ' ] ) ; } 
 e l s e { c h e c k e d _ r a d i o . v a l u e = d a t a . i d ; f o r m . s u b m i t ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } } 
 e l s e { i f ( d a t a . e r r o r ) { s e l f . d i s p l a y E r r o r ( ' ' , d a t a . e r r o r ) ; } e l s e { s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   E r r o r ' ) , _ t ( ' e . g .   Y o u r   c r e d i t   c a r d   d e t a i l s   a r e   w r o n g .   P l e a s e   v e r i f y . ' ) ) ; } } 
 s e l f . e n a b l e B u t t o n ( b u t t o n ) ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( e r r o r ) { e r r o r . e v e n t . p r e v e n t D e f a u l t ( ) ; s e l f . e n a b l e B u t t o n ( b u t t o n ) ; s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   E r r o r ' ) , _ t ( " W e   a r e   n o t   a b l e   t o   a d d   y o u r   p a y m e n t   m e t h o d   a t   t h e   m o m e n t . " ) + 
 s e l f . _ p a r s e E r r o r ( e r r o r ) ) ; } ) ; } 
 e l s e   i f ( t h i s . i s F o r m P a y m e n t R a d i o ( c h e c k e d _ r a d i o ) ) { t h i s . d i s a b l e B u t t o n ( b u t t o n ) ; v a r   $ t x _ u r l = t h i s . $ e l . f i n d ( ' i n p u t [ n a m e = " p r e p a r e _ t x _ u r l " ] ' ) ; i f ( $ t x _ u r l . l e n g t h = = = 1 ) { v a r   f o r m _ s a v e _ t o k e n = a c q u i r e r _ f o r m . f i n d ( ' i n p u t [ n a m e = " o _ p a y m e n t _ f o r m _ s a v e _ t o k e n " ] ' ) . p r o p ( ' c h e c k e d ' ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : $ t x _ u r l [ 0 ] . v a l u e , p a r a m s : { ' a c q u i r e r _ i d ' : p a r s e I n t ( a c q u i r e r _ i d ) , ' s a v e _ t o k e n ' : f o r m _ s a v e _ t o k e n , ' a c c e s s _ t o k e n ' : s e l f . o p t i o n s . a c c e s s T o k e n , ' s u c c e s s _ u r l ' : s e l f . o p t i o n s . s u c c e s s U r l , ' e r r o r _ u r l ' : s e l f . o p t i o n s . e r r o r U r l , ' c a l l b a c k _ m e t h o d ' : s e l f . o p t i o n s . c a l l b a c k M e t h o d , ' o r d e r _ i d ' : s e l f . o p t i o n s . o r d e r I d , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { i f ( r e s u l t ) { v a r   n e w F o r m = d o c u m e n t . c r e a t e E l e m e n t ( ' f o r m ' ) ; n e w F o r m . s e t A t t r i b u t e ( " m e t h o d " , " p o s t " ) ; n e w F o r m . s e t A t t r i b u t e ( " p r o v i d e r " , c h e c k e d _ r a d i o . d a t a s e t . p r o v i d e r ) ; n e w F o r m . h i d d e n = t r u e ; n e w F o r m . i n n e r H T M L = r e s u l t ; v a r   a c t i o n _ u r l = $ ( n e w F o r m ) . f i n d ( ' i n p u t [ n a m e = " d a t a _ s e t " ] ' ) . d a t a ( ' a c t i o n U r l ' ) ; n e w F o r m . s e t A t t r i b u t e ( " a c t i o n " , a c t i o n _ u r l ) ; $ ( d o c u m e n t . g e t E l e m e n t s B y T a g N a m e ( ' b o d y ' ) [ 0 ] ) . a p p e n d ( n e w F o r m ) ; $ ( n e w F o r m ) . f i n d ( ' i n p u t [ d a t a - r e m o v e - m e ] ' ) . r e m o v e ( ) ; i f ( a c t i o n _ u r l ) { n e w F o r m . s u b m i t ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } } 
 e l s e { s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   E r r o r ' ) , _ t ( " W e   a r e   n o t   a b l e   t o   r e d i r e c t   y o u   t o   t h e   p a y m e n t   f o r m . " ) ) ; s e l f . e n a b l e B u t t o n ( b u t t o n ) ; } } ) . g u a r d e d C a t c h ( f u n c t i o n ( e r r o r ) { e r r o r . e v e n t . p r e v e n t D e f a u l t ( ) ; s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   E r r o r ' ) , _ t ( " W e   a r e   n o t   a b l e   t o   r e d i r e c t   y o u   t o   t h e   p a y m e n t   f o r m . " ) + "   " + 
 s e l f . _ p a r s e E r r o r ( e r r o r ) ) ; } ) ; } 
 e l s e { t h i s . d i s p l a y E r r o r ( _ t ( " C a n n o t   s e t u p   t h e   p a y m e n t " ) , _ t ( " W e ' r e   u n a b l e   t o   p r o c e s s   y o u r   p a y m e n t . " ) ) ; s e l f . e n a b l e B u t t o n ( b u t t o n ) ; } } 
 e l s e { t h i s . d i s a b l e B u t t o n ( b u t t o n ) ; f o r m . s u b m i t ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } } 
 e l s e { t h i s . d i s p l a y E r r o r ( _ t ( ' N o   p a y m e n t   m e t h o d   s e l e c t e d ' ) , _ t ( ' P l e a s e   s e l e c t   a   p a y m e n t   m e t h o d . ' ) ) ; t h i s . e n a b l e B u t t o n ( b u t t o n ) ; } } , a d d P m E v e n t : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; e v . p r e v e n t D e f a u l t ( ) ; v a r   c h e c k e d _ r a d i o = t h i s . $ ( ' i n p u t [ t y p e = " r a d i o " ] : c h e c k e d ' ) ; v a r   s e l f = t h i s ; i f ( e v . t y p e = = = ' s u b m i t ' ) { v a r   b u t t o n = $ ( e v . t a r g e t ) . f i n d ( ' * [ t y p e = " s u b m i t " ] ' ) [ 0 ] } e l s e { v a r   b u t t o n = e v . t a r g e t ; } 
 i f ( c h e c k e d _ r a d i o . l e n g t h = = = 1 & & t h i s . i s N e w P a y m e n t R a d i o ( c h e c k e d _ r a d i o [ 0 ] ) ) { c h e c k e d _ r a d i o = c h e c k e d _ r a d i o [ 0 ] ; v a r   a c q u i r e r _ i d = t h i s . g e t A c q u i r e r I d F r o m R a d i o ( c h e c k e d _ r a d i o ) ; v a r   a c q u i r e r _ f o r m = t h i s . $ ( ' # o _ p a y m e n t _ a d d _ t o k e n _ a c q _ ' + a c q u i r e r _ i d ) ; v a r   i n p u t s _ f o r m = $ ( ' i n p u t ' , a c q u i r e r _ f o r m ) ; v a r   f o r m _ d a t a = t h i s . g e t F o r m D a t a ( i n p u t s _ f o r m ) ; v a r   d s = $ ( ' i n p u t [ n a m e = " d a t a _ s e t " ] ' , a c q u i r e r _ f o r m ) [ 0 ] ; v a r   w r o n g _ i n p u t = f a l s e ; i n p u t s _ f o r m . t o A r r a y ( ) . f o r E a c h ( f u n c t i o n ( e l e m e n t ) { i f ( $ ( e l e m e n t ) . a t t r ( ' t y p e ' ) = = ' h i d d e n ' ) { r e t u r n   t r u e ; } 
 $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; $ ( e l e m e n t ) . s i b l i n g s ( " . o _ i n v a l i d _ f i e l d " ) . r e m o v e ( ) ; $ ( e l e m e n t ) . t r i g g e r ( " f o c u s o u t " ) ; i f ( e l e m e n t . d a t a s e t . i s R e q u i r e d & & e l e m e n t . v a l u e . l e n g t h = = = 0 ) { $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; v a r   m e s s a g e = ' < d i v   s t y l e = " c o l o r :   r e d "   c l a s s = " o _ i n v a l i d _ f i e l d "   a r i a - i n v a l i d = " t r u e " > ' + _ . s t r . e s c a p e H T M L ( " T h e   v a l u e   i s   i n v a l i d . " ) + ' < / d i v > ' ; $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . a p p e n d ( m e s s a g e ) ; w r o n g _ i n p u t = t r u e ; } 
 e l s e   i f ( $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . h a s C l a s s ( ' o _ h a s _ e r r o r ' ) ) { w r o n g _ i n p u t = t r u e ; v a r   m e s s a g e = ' < d i v   s t y l e = " c o l o r :   r e d "   c l a s s = " o _ i n v a l i d _ f i e l d "   a r i a - i n v a l i d = " t r u e " > ' + _ . s t r . e s c a p e H T M L ( " T h e   v a l u e   i s   i n v a l i d . " ) + ' < / d i v > ' ; $ ( e l e m e n t ) . c l o s e s t ( ' d i v . f o r m - g r o u p ' ) . a p p e n d ( m e s s a g e ) ; } } ) ; i f ( w r o n g _ i n p u t ) { r e t u r n ; } 
 $ ( b u t t o n ) . a t t r ( ' d i s a b l e d ' , t r u e ) ; $ ( b u t t o n ) . c h i l d r e n ( ' . f a - p l u s - c i r c l e ' ) . r e m o v e C l a s s ( ' f a - p l u s - c i r c l e ' ) ; $ ( b u t t o n ) . p r e p e n d ( ' < s p a n   c l a s s = " o _ l o a d e r " > < i   c l a s s = " f a   f a - r e f r e s h   f a - s p i n " > < / i > & n b s p ; < / s p a n > ' ) ; t h i s . _ r p c ( { r o u t e : d s . d a t a s e t . c r e a t e R o u t e , p a r a m s : f o r m _ d a t a , } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a . r e s u l t ) { i f ( d a t a [ ' 3 d _ s e c u r e ' ] ! = = f a l s e ) { $ ( " b o d y " ) . h t m l ( d a t a [ ' 3 d _ s e c u r e ' ] ) ; } 
 e l s e { i f ( f o r m _ d a t a . r e t u r n _ u r l ) { w i n d o w . l o c a t i o n = f o r m _ d a t a . r e t u r n _ u r l ; } 
 e l s e { w i n d o w . l o c a t i o n . r e l o a d ( ) ; } } } 
 e l s e { i f ( d a t a . e r r o r ) { s e l f . d i s p l a y E r r o r ( ' ' , d a t a . e r r o r ) ; } e l s e { s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   E r r o r ' ) , _ t ( ' e . g .   Y o u r   c r e d i t   c a r d   d e t a i l s   a r e   w r o n g .   P l e a s e   v e r i f y . ' ) ) ; } } 
 $ ( b u t t o n ) . a t t r ( ' d i s a b l e d ' , f a l s e ) ; $ ( b u t t o n ) . c h i l d r e n ( ' . f a ' ) . a d d C l a s s ( ' f a - p l u s - c i r c l e ' ) ; $ ( b u t t o n ) . f i n d ( ' s p a n . o _ l o a d e r ' ) . r e m o v e ( ) ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( e r r o r ) { e r r o r . e v e n t . p r e v e n t D e f a u l t ( ) ; $ ( b u t t o n ) . a t t r ( ' d i s a b l e d ' , f a l s e ) ; $ ( b u t t o n ) . c h i l d r e n ( ' . f a ' ) . a d d C l a s s ( ' f a - p l u s - c i r c l e ' ) ; $ ( b u t t o n ) . f i n d ( ' s p a n . o _ l o a d e r ' ) . r e m o v e ( ) ; s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   e r r o r ' ) , _ t ( " W e   a r e   n o t   a b l e   t o   a d d   y o u r   p a y m e n t   m e t h o d   a t   t h e   m o m e n t . < / p > " ) + 
 s e l f . _ p a r s e E r r o r ( e r r o r ) ) ; } ) ; } 
 e l s e { t h i s . d i s p l a y E r r o r ( _ t ( ' N o   p a y m e n t   m e t h o d   s e l e c t e d ' ) , _ t ( ' P l e a s e   s e l e c t   t h e   o p t i o n   t o   a d d   a   n e w   p a y m e n t   m e t h o d . ' ) ) ; } } , o n S u b m i t : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; e v . p r e v e n t D e f a u l t ( ) ; v a r   b u t t o n = $ ( e v . t a r g e t ) . f i n d ( ' * [ t y p e = " s u b m i t " ] ' ) [ 0 ] 
 i f ( b u t t o n . i d = = = ' o _ p a y m e n t _ f o r m _ p a y ' ) { r e t u r n   t h i s . p a y E v e n t ( e v ) ; } e l s e   i f ( b u t t o n . i d = = = ' o _ p a y m e n t _ f o r m _ a d d _ p m ' ) { r e t u r n   t h i s . a d d P m E v e n t ( e v ) ; } 
 r e t u r n ; } , d e l e t e P m E v e n t : f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; e v . p r e v e n t D e f a u l t ( ) ; v a r   s e l f = t h i s ; v a r   p m _ i d = p a r s e I n t ( e v . t a r g e t . v a l u e ) ; v a r   t o k e n D e l e t e = f u n c t i o n ( ) { s e l f . _ r p c ( { m o d e l : ' p a y m e n t . t o k e n ' , m e t h o d : ' u n l i n k ' , a r g s : [ p m _ i d ] , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { i f ( r e s u l t = = = t r u e ) { e v . t a r g e t . c l o s e s t ( ' d i v ' ) . r e m o v e ( ) ; } } , f u n c t i o n ( ) { s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   E r r o r ' ) , _ t ( " W e   a r e   n o t   a b l e   t o   d e l e t e   y o u r   p a y m e n t   m e t h o d   a t   t h e   m o m e n t . " ) ) ; } ) ; } ; t h i s . _ r p c ( { m o d e l : ' p a y m e n t . t o k e n ' , m e t h o d : ' g e t _ l i n k e d _ r e c o r d s ' , a r g s : [ p m _ i d ] , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { i f ( r e s u l t [ p m _ i d ] . l e n g t h > 0 ) { v a r   c o n t e n t = ' ' ; r e s u l t [ p m _ i d ] . f o r E a c h ( f u n c t i o n ( s u b ) { c o n t e n t + = ' < p > < a   h r e f = " ' + s u b . u r l + ' "   t i t l e = " ' + s u b . d e s c r i p t i o n + ' " > ' + s u b . n a m e + ' < / a > < p / > ' ; } ) ; c o n t e n t = $ ( ' < d i v > ' ) . h t m l ( _ t ( ' < p > T h i s   c a r d   i s   c u r r e n t l y   l i n k e d   t o   t h e   f o l l o w i n g   r e c o r d s : < p / > ' ) + c o n t e n t ) ; n e w   D i a l o g ( s e l f , { t i t l e : _ t ( ' W a r n i n g ! ' ) , s i z e : ' m e d i u m ' , $ c o n t e n t : c o n t e n t , b u t t o n s : [ { t e x t : _ t ( ' C o n f i r m   D e l e t i o n ' ) , c l a s s e s : ' b t n - p r i m a r y ' , c l o s e : t r u e , c l i c k : t o k e n D e l e t e } , { t e x t : _ t ( ' C a n c e l ' ) , c l o s e : t r u e } ] } ) . o p e n ( ) ; } 
 e l s e { t o k e n D e l e t e ( ) ; } } , f u n c t i o n ( e r r , e v e n t ) { s e l f . d i s p l a y E r r o r ( _ t ( ' S e r v e r   E r r o r ' ) , _ t ( " W e   a r e   n o t   a b l e   t o   d e l e t e   y o u r   p a y m e n t   m e t h o d   a t   t h e   m o m e n t . " ) + e r r . d a t a . m e s s a g e ) ; } ) ; } , o n C l i c k M o r e P a y m e n t I c o n : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; e v . s t o p P r o p a g a t i o n ( ) ; v a r   $ l i s t I t e m s = $ ( e v . c u r r e n t T a r g e t ) . p a r e n t s ( ' u l ' ) . c h i l d r e n ( ' l i ' ) ; v a r   $ m o r e I t e m = $ ( e v . c u r r e n t T a r g e t ) . p a r e n t s ( ' l i ' ) ; $ l i s t I t e m s . r e m o v e C l a s s ( ' d - n o n e ' ) ; $ m o r e I t e m . a d d C l a s s ( ' d - n o n e ' ) ; } , r a d i o C l i c k E v e n t : f u n c t i o n ( e v ) { $ ( e v . c u r r e n t T a r g e t ) . f i n d ( ' i n p u t [ t y p e = " r a d i o " ] ' ) . p r o p ( " c h e c k e d " , t r u e ) ; t h i s . u p d a t e N e w P a y m e n t D i s p l a y S t a t u s ( ) ; } , } ) ; r e t u r n   p u b l i c W i d g e t . r e g i s t r y . P a y m e n t F o r m ; } ) ; ; 
 
 / *   / p a y m e n t / s t a t i c / s r c / j s / p a y m e n t _ p r o c e s s i n g . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' p a y m e n t . p r o c e s s i n g ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   a j a x = r e q u i r e ( ' w e b . a j a x ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   _ t = c o r e . _ t ; $ . b l o c k U I . d e f a u l t s . c s s . b o r d e r = ' 0 ' ; $ . b l o c k U I . d e f a u l t s . c s s [ " b a c k g r o u n d - c o l o r " ] = ' ' ; $ . b l o c k U I . d e f a u l t s . o v e r l a y C S S [ " o p a c i t y " ] = ' 0 . 9 ' ; p u b l i c W i d g e t . r e g i s t r y . P a y m e n t P r o c e s s i n g = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p a y m e n t _ p r o c e s s i n g ' , x m l D e p e n d e n c i e s : [ ' / p a y m e n t / s t a t i c / s r c / x m l / p a y m e n t _ p r o c e s s i n g . x m l ' ] , _ p o l l C o u n t : 0 , s t a r t : f u n c t i o n ( ) { t h i s . d i s p l a y L o a d i n g ( ) ; t h i s . p o l l ( ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , s t a r t P o l l i n g : f u n c t i o n ( ) { v a r   t i m e o u t = 3 0 0 0 ; i f ( t h i s . _ p o l l C o u n t > = 1 0 & & t h i s . _ p o l l C o u n t < 2 0 ) { t i m e o u t = 1 0 0 0 0 ; } 
 e l s e   i f ( t h i s . _ p o l l C o u n t > = 2 0 ) { t i m e o u t = 3 0 0 0 0 ; } 
 s e t T i m e o u t ( t h i s . p o l l . b i n d ( t h i s ) , t i m e o u t ) ; t h i s . _ p o l l C o u n t + + ; } , p o l l : f u n c t i o n ( ) { v a r   s e l f = t h i s ; a j a x . j s o n R p c ( ' / p a y m e n t / p r o c e s s / p o l l ' , ' c a l l ' , { } ) . t h e n ( f u n c t i o n ( d a t a ) { i f ( d a t a . s u c c e s s = = = t r u e ) { s e l f . p r o c e s s P o l l e d D a t a ( d a t a . t r a n s a c t i o n s ) ; } 
 e l s e { s w i t c h ( d a t a . e r r o r ) { c a s e " t x _ p r o c e s s _ r e t r y " : b r e a k ; c a s e " n o _ t x _ f o u n d " : s e l f . d i s p l a y C o n t e n t ( " p a y m e n t . n o _ t x _ f o u n d " , { } ) ; b r e a k ; d e f a u l t : s e l f . d i s p l a y C o n t e n t ( " p a y m e n t . e x c e p t i o n " , { e x c e p t i o n _ m s g : d a t a . e r r o r } ) ; b r e a k ; } } 
 s e l f . s t a r t P o l l i n g ( ) ; } ) . g u a r d e d C a t c h ( f u n c t i o n ( ) { s e l f . d i s p l a y C o n t e n t ( " p a y m e n t . r p c _ e r r o r " , { } ) ; s e l f . s t a r t P o l l i n g ( ) ; } ) ; } , p r o c e s s P o l l e d D a t a : f u n c t i o n ( t r a n s a c t i o n s ) { v a r   r e n d e r _ v a l u e s = { ' t x _ d r a f t ' : [ ] , ' t x _ p e n d i n g ' : [ ] , ' t x _ a u t h o r i z e d ' : [ ] , ' t x _ d o n e ' : [ ] , ' t x _ c a n c e l ' : [ ] , ' t x _ e r r o r ' : [ ] , } ; i f ( t r a n s a c t i o n s . l e n g t h > 0 & & [ ' t r a n s f e r ' , ' s e p a _ d i r e c t _ d e b i t ' ] . i n d e x O f ( t r a n s a c t i o n s [ 0 ] . a c q u i r e r _ p r o v i d e r ) > = 0 ) { w i n d o w . l o c a t i o n = t r a n s a c t i o n s [ 0 ] . r e t u r n _ u r l ; r e t u r n ; } 
 t r a n s a c t i o n s . f o r E a c h ( f u n c t i o n ( t x ) { v a r   k e y = ' t x _ ' + t x . s t a t e ; i f ( k e y   i n   r e n d e r _ v a l u e s ) { r e n d e r _ v a l u e s [ k e y ] . p u s h ( t x ) ; } } ) ; f u n c t i o n   c o u n t T x I n S t a t e ( s t a t e s ) { v a r   n b T x = 0 ; f o r ( v a r   p r o p   i n   r e n d e r _ v a l u e s ) { i f ( s t a t e s . i n d e x O f ( p r o p ) > - 1 & & r e n d e r _ v a l u e s . h a s O w n P r o p e r t y ( p r o p ) ) { n b T x + = r e n d e r _ v a l u e s [ p r o p ] . l e n g t h ; } } 
 r e t u r n   n b T x ; } 
 i f ( c o u n t T x I n S t a t e ( [ ' t x _ d o n e ' , ' t x _ e r r o r ' , ' t x _ p e n d i n g ' , ' t x _ a u t h o r i z e d ' ] ) = = = 1 ) { v a r   t x = r e n d e r _ v a l u e s [ ' t x _ d o n e ' ] [ 0 ] | | r e n d e r _ v a l u e s [ ' t x _ a u t h o r i z e d ' ] [ 0 ] | | r e n d e r _ v a l u e s [ ' t x _ e r r o r ' ] [ 0 ] ; i f ( t x ) { w i n d o w . l o c a t i o n = t x . r e t u r n _ u r l ; r e t u r n ; } } 
 t h i s . d i s p l a y C o n t e n t ( " p a y m e n t . d i s p l a y _ t x _ l i s t " , r e n d e r _ v a l u e s ) ; } , d i s p l a y C o n t e n t : f u n c t i o n ( x m l i d , r e n d e r _ v a l u e s ) { v a r   h t m l = c o r e . q w e b . r e n d e r ( x m l i d , r e n d e r _ v a l u e s ) ; $ . u n b l o c k U I ( ) ; t h i s . $ e l . f i n d ( ' . o _ p a y m e n t _ p r o c e s s i n g _ c o n t e n t ' ) . h t m l ( h t m l ) ; } , d i s p l a y L o a d i n g : f u n c t i o n ( ) { v a r   m s g = _ t ( " W e   a r e   p r o c e s s i n g   y o u r   p a y m e n t ,   p l e a s e   w a i t   . . . " ) ; $ . b l o c k U I ( { ' m e s s a g e ' : ' < h 2   c l a s s = " t e x t - w h i t e " > < i m g   s r c = " / w e b / s t a t i c / s r c / i m g / s p i n . p n g "   c l a s s = " f a - p u l s e " / > ' + '         < b r   / > ' + m s g + ' < / h 2 > ' } ) ; } , } ) ; } ) ; ; 
 
 / *   / p u r c h a s e / s t a t i c / s r c / j s / p u r c h a s e _ d a t e t i m e p i c k e r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 $ ( f u n c t i o n ( ) { $ ( ' i n p u t . o - p u r c h a s e - d a t e t i m e p i c k e r ' ) . d a t e t i m e p i c k e r ( ) ; $ ( ' i n p u t . o - p u r c h a s e - d a t e t i m e p i c k e r ' ) . o n ( " h i d e . d a t e t i m e p i c k e r " , f u n c t i o n ( ) { $ ( t h i s ) . p a r e n t s ( ' f o r m ' ) . s u b m i t ( ) ; } ) ; } ) ; 
 
 / *   / s a l e / s t a t i c / s r c / j s / s a l e _ p o r t a l _ s i d e b a r . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' s a l e . S a l e P o r t a l S i d e b a r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   P o r t a l S i d e b a r = r e q u i r e ( ' p o r t a l . P o r t a l S i d e b a r ' ) ; p u b l i c W i d g e t . r e g i s t r y . S a l e P o r t a l S i d e b a r = P o r t a l S i d e b a r . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ s a l e _ s i d e b a r ' , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . a u t h o r i z e d T e x t T a g = [ ' e m ' , ' b ' , ' i ' , ' u ' ] ; t h i s . s p y W a t c h e d = $ ( ' b o d y [ d a t a - t a r g e t = " . n a v s p y " ] ' ) ; } , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   $ s p y W a t c h e E l e m e n t = t h i s . $ e l . f i n d ( ' [ d a t a - i d = " p o r t a l _ s i d e b a r " ] ' ) ; t h i s . _ s e t E l e m e n t I d ( $ s p y W a t c h e E l e m e n t ) ; t h i s . _ g e n e r a t e M e n u ( ) ; i f ( $ . b b q . g e t S t a t e ( ' a l l o w _ p a y m e n t ' ) = = = ' y e s ' & & t h i s . $ ( ' # o _ s a l e _ p o r t a l _ p a y n o w ' ) . l e n g t h ) { t h i s . $ ( ' # o _ s a l e _ p o r t a l _ p a y n o w ' ) . t r i g g e r ( ' c l i c k ' ) ; $ . b b q . r e m o v e S t a t e ( ' a l l o w _ p a y m e n t ' ) ; } 
 r e t u r n   d e f ; } , _ s e t E l e m e n t I d : f u n c t i o n ( p r e f i x , $ e l ) { v a r   i d = _ . u n i q u e I d ( p r e f i x ) ; t h i s . s p y W a t c h e d . f i n d ( $ e l ) . a t t r ( ' i d ' , i d ) ; r e t u r n   i d ; } , _ g e n e r a t e M e n u : f u n c t i o n ( ) { v a r   s e l f = t h i s , l a s t L I = f a l s e , l a s t U L = n u l l , $ b s S i d e n a v = t h i s . $ e l . f i n d ( ' . b s - s i d e n a v ' ) ; $ ( " # q u o t e _ c o n t e n t   [ i d ^ = q u o t e _ h e a d e r _ ] ,   # q u o t e _ c o n t e n t   [ i d ^ = q u o t e _ ] " , t h i s . s p y W a t c h e d ) . a t t r ( " i d " , " " ) ; _ . e a c h ( t h i s . s p y W a t c h e d . f i n d ( " # q u o t e _ c o n t e n t   h 2 ,   # q u o t e _ c o n t e n t   h 3 " ) , f u n c t i o n ( e l ) { v a r   i d , t e x t ; s w i t c h ( e l . t a g N a m e . t o L o w e r C a s e ( ) ) { c a s e " h 2 " : i d = s e l f . _ s e t E l e m e n t I d ( ' q u o t e _ h e a d e r _ ' , e l ) ; t e x t = s e l f . _ e x t r a c t T e x t ( $ ( e l ) ) ; i f ( ! t e x t ) { b r e a k ; } 
 l a s t L I = $ ( " < l i   c l a s s = ' n a v - i t e m ' > " ) . a p p e n d ( $ ( ' < a   c l a s s = " n a v - l i n k "   s t y l e = " m a x - w i d t h :   2 0 0 p x ; "   h r e f = " # ' + i d + ' " / > ' ) . t e x t ( t e x t ) ) . a p p e n d T o ( $ b s S i d e n a v ) ; l a s t U L = f a l s e ; b r e a k ; c a s e " h 3 " : i d = s e l f . _ s e t E l e m e n t I d ( ' q u o t e _ ' , e l ) ; t e x t = s e l f . _ e x t r a c t T e x t ( $ ( e l ) ) ; i f ( ! t e x t ) { b r e a k ; } 
 i f ( l a s t L I ) { i f ( ! l a s t U L ) { l a s t U L = $ ( " < u l   c l a s s = ' n a v   f l e x - c o l u m n ' > " ) . a p p e n d T o ( l a s t L I ) ; } 
 $ ( " < l i   c l a s s = ' n a v - i t e m ' > " ) . a p p e n d ( $ ( ' < a   c l a s s = " n a v - l i n k "   s t y l e = " m a x - w i d t h :   2 0 0 p x ; "   h r e f = " # ' + i d + ' " / > ' ) . t e x t ( t e x t ) ) . a p p e n d T o ( l a s t U L ) ; } 
 b r e a k ; } 
 e l . s e t A t t r i b u t e ( ' d a t a - a n c h o r ' , t r u e ) ; } ) ; t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { $ t a r g e t : $ b s S i d e n a v } ) ; } , _ e x t r a c t T e x t : f u n c t i o n ( $ n o d e ) { v a r   s e l f = t h i s ; v a r   r a w T e x t = [ ] ; _ . e a c h ( $ n o d e . c o n t e n t s ( ) , f u n c t i o n ( e l ) { v a r   c u r r e n t = $ ( e l ) ; i f ( $ . t r i m ( c u r r e n t . t e x t ( ) ) ) { v a r   t a g N a m e = c u r r e n t . p r o p ( " t a g N a m e " ) ; i f ( _ . i s U n d e f i n e d ( t a g N a m e ) | | ( ! _ . i s U n d e f i n e d ( t a g N a m e ) & & _ . c o n t a i n s ( s e l f . a u t h o r i z e d T e x t T a g , t a g N a m e . t o L o w e r C a s e ( ) ) ) ) { r a w T e x t . p u s h ( $ . t r i m ( c u r r e n t . t e x t ( ) ) ) ; } } } ) ; r e t u r n   r a w T e x t . j o i n ( '   ' ) ; } , } ) ; } ) ; ; 
 
 / *   / s a l e _ m a n a g e m e n t / s t a t i c / s r c / j s / s a l e _ m a n a g e m e n t . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' s a l e _ m a n a g e m e n t . s a l e _ m a n a g e m e n t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . S a l e U p d a t e L i n e B u t t o n = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ s a l e _ s i d e b a r ' , e v e n t s : { ' c l i c k   a . j s _ u p d a t e _ l i n e _ j s o n ' : ' _ o n C l i c k ' , ' c l i c k   a . j s _ a d d _ o p t i o n a l _ p r o d u c t s ' : ' _ o n C l i c k O p t i o n a l P r o d u c t ' , ' c h a n g e   . j s _ q u a n t i t y ' : ' _ o n C h a n g e Q u a n t i t y ' } , a s y n c   s t a r t ( ) { a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . o r d e r D e t a i l = t h i s . $ e l . f i n d ( ' t a b l e # s a l e s _ o r d e r _ t a b l e ' ) . d a t a ( ) ; t h i s . e l e m s = t h i s . _ g e t U p d a t a b l e E l e m e n t s ( ) ; } , _ o n C h a n g e Q u a n t i t y ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; l e t   s e l f = t h i s , $ t a r g e t = $ ( e v . c u r r e n t T a r g e t ) , q u a n t i t y = p a r s e I n t ( $ t a r g e t . v a l ( ) ) ; t h i s . _ c a l l U p d a t e L i n e R o u t e ( s e l f . o r d e r D e t a i l . o r d e r I d , { ' l i n e _ i d ' : $ t a r g e t . d a t a ( ' l i n e I d ' ) , ' i n p u t _ q u a n t i t y ' : q u a n t i t y > = 0 ? q u a n t i t y : f a l s e , ' a c c e s s _ t o k e n ' : s e l f . o r d e r D e t a i l . t o k e n } ) . t h e n ( ( d a t a ) = > { s e l f . _ u p d a t e O r d e r L i n e V a l u e s ( $ t a r g e t . c l o s e s t ( ' t r ' ) , d a t a ) ; s e l f . _ u p d a t e O r d e r V a l u e s ( d a t a ) ; } ) ; } , _ o n C l i c k ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; l e t   s e l f = t h i s , $ t a r g e t = $ ( e v . c u r r e n t T a r g e t ) ; t h i s . _ c a l l U p d a t e L i n e R o u t e ( s e l f . o r d e r D e t a i l . o r d e r I d , { ' l i n e _ i d ' : $ t a r g e t . d a t a ( ' l i n e I d ' ) , ' r e m o v e ' : $ t a r g e t . d a t a ( ' r e m o v e ' ) , ' u n l i n k ' : $ t a r g e t . d a t a ( ' u n l i n k ' ) , ' a c c e s s _ t o k e n ' : s e l f . o r d e r D e t a i l . t o k e n } ) . t h e n ( ( d a t a ) = > { v a r   $ s a l e T e m p l a t e = $ ( d a t a [ ' s a l e _ t e m p l a t e ' ] ) ; i f ( $ s a l e T e m p l a t e . l e n g t h & & d a t a [ ' u n l i n k ' ] ) { s e l f . $ ( ' # p o r t a l _ s a l e _ c o n t e n t ' ) . h t m l ( $ s a l e T e m p l a t e ) ; s e l f . e l e m s = s e l f . _ g e t U p d a t a b l e E l e m e n t s ( ) ; } 
 s e l f . _ u p d a t e O r d e r L i n e V a l u e s ( $ t a r g e t . c l o s e s t ( ' t r ' ) , d a t a ) ; s e l f . _ u p d a t e O r d e r V a l u e s ( d a t a ) ; } ) ; } , _ o n C l i c k O p t i o n a l P r o d u c t ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; l e t   s e l f = t h i s , $ t a r g e t = $ ( e v . c u r r e n t T a r g e t ) ; $ t a r g e t . c s s ( ' p o i n t e r - e v e n t s ' , ' n o n e ' ) ; t h i s . _ r p c ( { r o u t e : " / m y / o r d e r s / " + s e l f . o r d e r D e t a i l . o r d e r I d + " / a d d _ o p t i o n / " + $ t a r g e t . d a t a ( ' o p t i o n I d ' ) , p a r a m s : { a c c e s s _ t o k e n : s e l f . o r d e r D e t a i l . t o k e n } } ) . t h e n ( ( d a t a ) = > { i f ( d a t a ) { s e l f . $ ( ' # p o r t a l _ s a l e _ c o n t e n t ' ) . h t m l ( $ ( d a t a [ ' s a l e _ t e m p l a t e ' ] ) ) ; s e l f . e l e m s = s e l f . _ g e t U p d a t a b l e E l e m e n t s ( ) ; s e l f . _ u p d a t e O r d e r V a l u e s ( d a t a ) ; } } ) ; } , _ c a l l U p d a t e L i n e R o u t e ( o r d e r _ i d , p a r a m s ) { r e t u r n   t h i s . _ r p c ( { r o u t e : " / m y / o r d e r s / " + o r d e r _ i d + " / u p d a t e _ l i n e _ d i c t " , p a r a m s : p a r a m s , } ) ; } , _ u p d a t e O r d e r L i n e V a l u e s ( $ o r d e r L i n e , d a t a ) { l e t   l i n e P r i c e T o t a l = d a t a . o r d e r _ l i n e _ p r i c e _ t o t a l , l i n e P r i c e S u b T o t a l = d a t a . o r d e r _ l i n e _ p r i c e _ s u b t o t a l , $ l i n e P r i c e T o t a l = $ o r d e r L i n e . f i n d ( ' . o e _ o r d e r _ l i n e _ p r i c e _ t o t a l   . o e _ c u r r e n c y _ v a l u e ' ) , $ l i n e P r i c e S u b T o t a l = $ o r d e r L i n e . f i n d ( ' . o e _ o r d e r _ l i n e _ p r i c e _ s u b t o t a l   . o e _ c u r r e n c y _ v a l u e ' ) ; i f ( ! $ l i n e P r i c e T o t a l . l e n g t h & & ! $ l i n e P r i c e S u b T o t a l . l e n g t h ) { $ l i n e P r i c e T o t a l = $ l i n e P r i c e S u b T o t a l = $ o r d e r L i n e . f i n d ( ' . o e _ c u r r e n c y _ v a l u e ' ) . l a s t ( ) ; } 
 $ o r d e r L i n e . f i n d ( ' . j s _ q u a n t i t y ' ) . v a l ( d a t a . o r d e r _ l i n e _ p r o d u c t _ u o m _ q t y ) ; i f ( $ l i n e P r i c e T o t a l . l e n g t h & & l i n e P r i c e T o t a l ! = = u n d e f i n e d ) { $ l i n e P r i c e T o t a l . t e x t ( l i n e P r i c e T o t a l ) ; } 
 i f ( $ l i n e P r i c e S u b T o t a l . l e n g t h & & l i n e P r i c e S u b T o t a l ! = = u n d e f i n e d ) { $ l i n e P r i c e S u b T o t a l . t e x t ( l i n e P r i c e S u b T o t a l ) ; } } , _ u p d a t e O r d e r V a l u e s ( d a t a ) { l e t   o r d e r A m o u n t T o t a l = d a t a . o r d e r _ a m o u n t _ t o t a l , o r d e r A m o u n t U n t a x e d = d a t a . o r d e r _ a m o u n t _ u n t a x e d , o r d e r A m o u n t U n d i s c o u n t e d = d a t a . o r d e r _ a m o u n t _ u n d i s c o u n t e d , $ o r d e r T o t a l s T a b l e = $ ( d a t a . o r d e r _ t o t a l s _ t a b l e ) ; i f ( o r d e r A m o u n t U n t a x e d ! = = u n d e f i n e d ) { t h i s . e l e m s . $ o r d e r A m o u n t U n t a x e d . t e x t ( o r d e r A m o u n t U n t a x e d ) ; } 
 i f ( o r d e r A m o u n t T o t a l ! = = u n d e f i n e d ) { t h i s . e l e m s . $ o r d e r A m o u n t T o t a l . t e x t ( o r d e r A m o u n t T o t a l ) ; } 
 i f ( o r d e r A m o u n t U n d i s c o u n t e d ! = = u n d e f i n e d ) { t h i s . e l e m s . $ o r d e r A m o u n t U n d i s c o u n t e d . t e x t ( o r d e r A m o u n t U n d i s c o u n t e d ) ; } 
 i f ( $ o r d e r T o t a l s T a b l e . l e n g t h ) { t h i s . e l e m s . $ o r d e r T o t a l s T a b l e . f i n d ( ' t a b l e ' ) . r e p l a c e W i t h ( $ o r d e r T o t a l s T a b l e ) ; } } , _ g e t U p d a t a b l e E l e m e n t s ( ) { l e t   $ o r d e r A m o u n t U n t a x e d = $ ( ' [ d a t a - i d = " t o t a l _ u n t a x e d " ] ' ) . f i n d ( ' s p a n ,   b ' ) , $ o r d e r A m o u n t T o t a l = $ ( ' [ d a t a - i d = " t o t a l _ a m o u n t " ] ' ) . f i n d ( ' s p a n ,   b ' ) , $ o r d e r A m o u n t U n d i s c o u n t e d = $ ( ' [ d a t a - i d = " a m o u n t _ u n d i s c o u n t e d " ] ' ) . f i n d ( ' s p a n ,   b ' ) ; i f ( ! $ o r d e r A m o u n t U n t a x e d . l e n g t h ) { $ o r d e r A m o u n t U n t a x e d = $ o r d e r A m o u n t T o t a l . e q ( 1 ) ; $ o r d e r A m o u n t T o t a l = $ o r d e r A m o u n t T o t a l . e q ( 0 ) . a d d ( $ o r d e r A m o u n t T o t a l . e q ( 2 ) ) ; } 
 r e t u r n { $ o r d e r A m o u n t U n t a x e d : $ o r d e r A m o u n t U n t a x e d , $ o r d e r A m o u n t T o t a l : $ o r d e r A m o u n t T o t a l , $ o r d e r T o t a l s T a b l e : $ ( ' # t o t a l ' ) , $ o r d e r A m o u n t U n d i s c o u n t e d : $ o r d e r A m o u n t U n d i s c o u n t e d , } ; } } ) ; } ) ; ; 
 
 / *   / p r o j e c t / s t a t i c / s r c / j s / p o r t a l _ r a t i n g . j s   d e f i n e d   i n   b u n d l e   ' w e b . a s s e t s _ f r o n t e n d _ l a z y '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ r a t i n g _ p r o j e c t . r a t i n g ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; p u b l i c W i d g e t . r e g i s t r y . P r o j e c t R a t i n g I m a g e = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s e l e c t o r : ' . o _ p o r t a l _ p r o j e c t _ r a t i n g   . o _ r a t i n g _ i m a g e ' , s t a r t : f u n c t i o n ( ) { t h i s . $ e l . p o p o v e r ( { p l a c e m e n t : ' b o t t o m ' , t r i g g e r : ' h o v e r ' , h t m l : t r u e , c o n t e n t : f u n c t i o n ( ) { v a r   $ e l e m = $ ( t h i s ) ; v a r   i d = $ e l e m . d a t a ( ' i d ' ) ; v a r   r a t i n g D a t e = $ e l e m . d a t a ( ' r a t i n g - d a t e ' ) ; v a r   b a s e D a t e = t i m e . a u t o _ s t r _ t o _ d a t e ( r a t i n g D a t e ) ; v a r   d u r a t i o n = m o m e n t ( b a s e D a t e ) . f r o m N o w ( ) ; v a r   $ r a t i n g = $ ( ' # r a t i n g _ ' + i d ) ; $ r a t i n g . f i n d ( ' . r a t i n g _ t i m e d u r a t i o n ' ) . t e x t ( d u r a t i o n ) ; r e t u r n   $ r a t i n g . h t m l ( ) ; } , } ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; } ) ;    K       http://hr.deerom.com/web/content/589-eb89a21/1/web.assets_frontend_lazy.js                                       
=        Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=	       Q      
=
       Q      
=       Q      
=   	    Q      
=   
    Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=        Q      
=!       Q      
="       Q      
=#        Q      
=$   !    Q      
=%   "    Q      
=&   #    Q      
='   $    Q      
=(   %    Q      
=)   &    Q      
=*   '    Q      
=+   (    Q      
=,   )    Q      
=-   *    Q      
=.   +    Q      
=/   ,    Q      
=0   -    Q      
=1   .    Q      
=2   /    Q      
=3   0    Q      
=4   1    Q      
=5   2    Q      
=6   3    Q      
=7   4    Q      
=8   5    Q      
=9   6    Q      
=:   7    Q      
=;   8    Q      
=<   9    Q      
==   :    Q      
=>   ;    Q      
=?   <    Q      
=@   =    Q      
=A   >    Q      
=B   ?    Q      
=C   @    Q      
=D   A    Q      
=E   B    Q      
=F   C    Q      
=G   D    Q      
=H   E    Q      
=I   F    Q      
=J   G    Q    K       Q      
=L   H    Q      
=M   I    Q      
=N   J    Q      
=O   K    Q      
=P   L    Q      
=Q   M    Q      
=R   N    Q      
=S   O    Q      
=T   P    Q      
=U   Q    Q      
=V   R    Q      
=W   S    Q      
=X   T    Q      
=Y   U    Q      
=Z   V    Q      
=[   W    Q      
=\   X    Q      
=]   Y    Q      
=^   Z    Q      
=_   [    Q\   `   
l Qa   a   ]    Q      
=b   ^    Q      
=c   _    Qa   a   `    Q      
=d   a    Q      
=e   b    Q      
=f   c    Q	$'+.148;?BEGJ[^aor            " = K V  n    e      4  x ; y       f "  ) 7 ? M s          /   onYouTubeIframeAPIReady	   odoo   define   web.session   web.public_env-   web.PublicCrashManager/   web.public.Notification   web.public.root   root.widget#   web.public.widget#   web_editor.loader   portal.portal   portal.chatter   portal.composer+   portal.signature_form)   portal.PortalSidebar/   auth_totp_portal.button-   website.set_view_track   website.utils   website.root;   website.content.compatibility)   website.content.menuE   website.content.snippets.animation   website.navbar+   website.show_password#   website.post_link   website.s_share/   website.s_facebook_page/   website.s_image_gallery'   website.s_countdown   website.s_popup5   website.s_table_of_content   website.s_chart)   website.s_google_map3   website.s_dynamic_snippetE   website.s_dynamic_snippet_carousel#   website.home_menu7   website_form.s_website_form'   website_mail.follow?   website_profile.website_profile7   website_links.website_links3   website_links.code_editor)   website_links.chartsA   mass_mailing.website_integrationQ   website_calendar.select_appointment_typeC   website_calendar.appointment_form3   website_blog.contentshare3   website_blog.website_blogI   website_blog.s_latest_posts_frontend   mail.utilsY   website_livechat/static/src/bugfix/bugfix.jsU   im_livechat.legacy.im_livechat.im_livechati   im_livechat.legacy.im_livechat.model.WebsiteLivechatw   im_livechat.legacy.im_livechat.model.WebsiteLivechatMessagei   im_livechat.legacy.im_livechat.WebsiteLivechatWindowY   im_livechat.legacy.mail.model.AbstractThread_   im_livechat.legacy.mail.model.ThreadTypingMixin[   im_livechat.legacy.mail.model.AbstractMessageY   im_livechat.legacy.mail.AbstractThreadWindowm   im_livechat.legacy.mail.model.CCThrottleFunctionObjecta   im_livechat.legacy.mail.model.CCThrottleFunctionG   im_livechat.legacy.mail.model.TimerI   im_livechat.legacy.mail.model.TimersK   im_livechat.legacy.mail.widget.ThreadM   im_livechat.legacy.mail.DocumentViewers   website_livechat.legacy.website_livechat.livechat_request+   website_slides.slides7   website_slides.slides_embed7   website_slides.slides_share7   website_slides.upload_modal7   website_slides.category.add9   website_slides.slide.archive9   website_slides.slide.previewA   website_slides.slides.slide.likeC   website_slides.course.slides.list   undefined3   website_slides.fullscreenC   website_slides.course.join.widget9   website_slides.course.enroll'   website_slides.quizC   website_slides.quiz.question.form5   website_slides.quiz.finish=   website_slides.channel_tag.addA   website_slides.unsubscribe_modal5   website_slides.slides_tour+   rating.portal.chatter-   rating.portal.composer-   portal.rating.composer7   web_tour.public.TourManager   bus.Longpolling   bus.CrossTab   bus.BusService9   google_recaptcha.ReCaptchaV3'   web_unsplash.beacon%   auth_signup.signup9   account.AccountPortalSidebar	   call   $)   payment.payment_form%   payment.processing-   sale.SalePortalSidebar?   sale_management.sale_management;   website_rating_project.rating!!   /   onYouTubeIframeAPIReady      +H!!       C  m          #                                     }   W  u   W     "      	       T  =    : W   Q   5   W  QV   A      [    V  ]   B]   ,  R W  QV  V     
:  0   QV  =)B    web.Session	   odoo   _modules   undefined   modules   use_cors   session_bind   is_bound!!      require   Session   modules   session       +H!!       !!   modules!!!!   use_cors!!    ;      5 !!       C                                                    .    .     %                QT  =    :    QV   .
    web.commonEnv!!      require        !!          commonEnv           +H;                              5 !!       C            )                                      I    I  	                        QT  =    :    QT  =   : 5     QV     
[       ]   :   QV   5      
=   V   Q[   V  ]   6/(  ="    web.core!   web.CrashManager   CrashManager   extend   _displayWarning   serviceRegistry   add   crash_manager!!      require        !!       	   core   CrashManager%   PublicCrashManager           +H!!          _displayWarning@ H                                             t    e    	         	       W   QV       
      
[    T [   T ]   T  ]   C]   :  Q  3Q '   displayNotification   Object   assign   title   message   sticky!!      message   title   options   .this       +H!!            !!       !!   title!!!!   message!!!!   sticky!!    ;       5!!       !!   _displayWarning!!    !!       !!   CrashManager!!    ;                        5 !!       C  :                                                 w    w     .             T  =    : W   QV      
[    Z   =   `    ]    QIR !   web.Notification   includeI   /web/static/src/xml/notification.xml   xmlDependencies!!      require   Notification       +H!!       !!   xmlDependencies!!    ;      5 !!       C        ,                           $              E    E                            QT  =    : W   QT  =   :   QT  =   :    QT  =   :   QT  =   : W  QT  =   :   Q  5   A,  R    QV     
=   : D   Q  :  W  QV   	   
=
   V     
=   =   : :   Q  5      
[         
[     5   5   5   D   Q[   [   =   ]   =   ]   : ]         
[     5   5   5   D   Q[   [   =   ]   =   ]   =   ]   =   ]   =   ]    : ]      ]!      ]"   	   ]#   
   ]$      ]%      ]&      ]'      ](      ])      ]      ]      ]      ]      ]      ]      ]   : W  Q[   V  ]*     ]+   /!#/@+A8  O+/+ WjQFK4 T        H     (    web.ajax   web.dom   web.public_env   web.session   web.utils#   web.public.widget%   RootWidgetRegistry   get_cookie   frontend_lang   loadJS-   /web/webclient/locale/   replace   -   _   RootWidget   extend   prototype   events)   _onWebsiteFormSubmit=   submit .js_website_submit_form#   _onDisableOnClick5   click .js_disable_on_click   custom_events   _onCallService   call_service   _onContextGet   context_get)   _onMainObjectRequest'   main_object_request-   _onWidgetsStartRequest+   widgets_start_request+   _onWidgetsStopRequest)   widgets_stop_request	   init   willStart   start   _getContext!   _getExtraContext3   _getPublicWidgetsRegistry   _getRegistry   _startWidgets   _stopWidgets   PublicRoot%   publicRootRegistry!!      require	   ajax   dom   session   utils   publicWidget%   publicRootRegistry   getLang	   lang   localeDef   PublicRoot      !!          env          +H!!          getLang  .           V         5!!            !!            !!       !!=   submit .js_website_submit_form!!!!5   click .js_disable_on_click!!    !!            !!            !!       !!   call_service!!!!   context_get!!!!'   main_object_request!!!!+   widgets_start_request!!!!)   widgets_stop_request!!    !!       	   initC  L                                             " 
  V
  
  V
     |            	W   QW  QV  5       
V  V   O QV        0   QV  Z    0   Q "    _super   apply   env   publicWidgets!!      arguments   .this         +H;      5!!         willStartC  [                                   	            i
  
  a
  
          	       	W   QW  Q       
Z   V  5      
V  V   O `      5   `     `   :  "L    Promise   all   _super   apply   is_bound!!      arguments   .this         +H;       5!!         startC          2                                      
    
                     	W  QW  QZ   V  5       
V  V  O `    V     
:  `   W   QV     
=   :    
     Q   5   5   	   
=
   : 6   V  5      5   5      
   : ?7#0   Q   5   5   #         =   :    
  Q      
V   :  E"+  /    _super   apply   _startWidgets   $A   .o_image[data-mimetype^='image']	   each   window   location	   hash   indexOf   scrollTop=   el   match   scrollTop   fn   placeholder   input, textarea   Promise   all!!   	   defs   arguments   .this         +H!!          start/<b  L    D         "       5 !!%   scrollTop=([0-9]+)    ;5!!         _getContextC 4                                                          /                     
[      :  ]   T  D   Q[   : 9*    _   extend	   lang!!      context        +H!!       !!	   lang!!    !!            ;       5 !!      !   _getExtraContextC                                                 I    I                  W   QV       
T  :       _getContext!!      context   .this       +H;       5!!      3   _getPublicWidgetsRegistryC           	                                      l    d                       5          registry!!      options        +H;       5 !!         _getRegistryC                                                                                !!              +H;       5!!         _startWidgetsC          8                                                                W  QV     Q       H?   V     
=   :    Q          V  5      Q       H   [       QV     
    Q      
V     
   :    : W   Q	   
   
V   :  [
 N    undefined   $   #wrapwrap   length   $el   _stopWidgets   _   map3   _getPublicWidgetsRegistry   Promise   all!!      $from   options	   self	   defs   .this      +H!!            !!        '   _startWidgets/defs<b            X              PublicWidget    B Z    R                 5 5;5!!         _stopWidgetsC O                                                                       W  Q       
V  5       : W   QV         
V  5   V   : 0   Q 0    _   map   publicWidgets   difference!!      $from   removedWidgets   .this      +H!!       9   _stopWidgets/removedWidgets<b R    J                 5;5!!         _onCallServiceC         O                        &            0    (           
          W  Q      	  Q    W   QT  5      QV  5   D   QZ      QV  5   =   HE   QV  5   =   H   V     
T  5   : W  QV  >7W  Q   5	   
   
V  =   :    V  ?7W  QV  7W  QV  4   V  5   W  QV        
V  =   : 9QV  5   V      
V  V  5   5   V  l 0   QQ   V  5   =   HE   QV  5   =   H%   V  ?V      
V  V  ?7l 9QV  5   5   V  5   7  QV  V  5   7   
V  V  O 	  QV     
V	   Qo55$F:1, 	   data	   args   service	   ajax   method   rpc   concat   target   _   str   startsWith+   /web/dataset/call_kw/   noContextKeys	   omit   kwargs	   call   context   loadLibs   env   services   apply   callback!!      ev   _computeContext   route   params   options   noContextKeys   .this       !!       	   args   payload   service   result      
   +H!!         _computeContext M    5          "       5 ;        5!!         _onContextGetC }                                                @    @                  W   QT  5    5   9   T  5       
V      
T  5    5   :  Q4   T  5       
V      
T  5    5   :  Q  ?5 	   data   extra   callback!   _getExtraContext   context   _getContext!!      ev   .this       +H;2       5!!      )   _onMainObjectRequestC p          #                                     ^    V       E                    =   :    
=   : W   QV      
    : W  QT  5      
[   V  ?7]   V  7>]    Q N
!*    $	   html	   data   main-object   match   callback   model   id!!      ev	   repr   m       +H!!%   (.+)\((\d+),(.*)\)    !!       !!   model!!!!   id!!    ;       5 !!      -   _onWidgetsStartRequestC ^                                                n    n                 W   QV       
T  5   5   T  5   5   :    
T  5   5   :    
T  5   5    Q 4     _startWidgets	   data   $target   options	   then   onSuccess   guardedCatch   onFailure!!      ev   .this       +H;       5 !!      +   _onWidgetsStopRequestC #         	                                                t            W   QV       
T  5   5    Q y#    _stopWidgets	   data   $target!!      ev   .this       +H;       5!!      )   _onWebsiteFormSubmitC C                                                                                T  5   :    
=   : W   Q      
V        Q 	*      $   currentTarget	   findC   button[type="submit"], a.a-submit   _	   each!!      ev   $buttons       +H!!       -   _onWebsiteFormSubmit/<b <    4       #         5 ;5!!      #   _onDisableOnClickC &                                                                                T  5   :    
=    Q     $   currentTarget   addClass   disabled!!      ev        +H;       5!!       !!   events!!!!   custom_events!!!!	   init!!!!   willStart!!!!   start!!!!   _getContext!!!!!   _getExtraContext!!!!3   _getPublicWidgetsRegistry!!!!   _getRegistry!!!!   _startWidgets!!!!   _stopWidgets!!!!   _onCallService!!!!   _onContextGet!!!!)   _onMainObjectRequest!!!!-   _onWidgetsStartRequest!!!!+   _onWidgetsStopRequest!!!!)   _onWebsiteFormSubmit!!!!#   _onDisableOnClick!!    !!       !!   PublicRoot!!!!%   publicRootRegistry!!    ;                     5 !!       C            9                                                                 QT  =    :   QT  =   :   QT  =   : W   QT  =   : W  Q   5   V     
:     =      =   0	   Q   5
   V  0   QV  5      
V   QV  5   A@,  R    QV   5      
    : +%%2&   '   web.AbstractService   web.public_env+   web.public.lazyloader   website.root   owl   config   isDebug   dev	   prod	   mode   Component   env   prototype   deployServices   WebsiteRoot!   allScriptsLoaded	   then!!      require   lazyloader   websiteRootData   websiteRoot      !!          AbstractService   env          +H!!       B  x    p                   B                      5 5;                        5!!       C        "                                        [  (  S  (                   T  =    : W   QT  =   :    QT  =   :    QT  =   :    QT  =   : W  QV     
[
         
[    V  5   5   D   Q[   [   =	   ]
   =   ]   : ]      ]      ]      ]      ]      ]      ]   	   ]	   : W  QV      
   5   [      ]      ]      ]   : W  QV     
[   B]   [   ]      ]      ]      ]      ]      ]   : W  Q[   W  QV  V     
[   =   ]   [      ]   ]   : 0   Q[   V  ]   V  ]   V  ]    V  ]!   C>&w       V }=P   N
[  w$j $ &0'^&    web.Class   web.dom   web.mixins   web.session   web.Widget   extend   _   prototype   custom_events#   _onRegistryUpdate   registry_update   _onGetSession   get_session	   init   start!   _attachComponent#   _attachComponents   _getRegistry)   EventDispatcherMixin   add   get   selector   events   destroy   setElement   _delegateEvents   _getContext7   div[data-toggle="collapse"]   click#   _fixAppleCollapse   RootWidget%   RootWidgetRegistry   Widget   registry!!
      require   Class   dom   mixins   session   Widget   RootWidget%   RootWidgetRegistry   PublicWidget   registry      +H!!            !!            !!       !!   registry_update!!!!   get_session!!    !!       	   initC  `                                             "   8    8                 	W   QW  QV  5       
V  V   O QV  Z    0   QV  B0   QV     
:     
V   Q "    _super   apply   _widgets!   _listenToUpdates   _getRegistry   setParent!!      arguments   .this         +H;      5!!          startC  s                                   
            G    ?                   	W  QW  QZ   V  5       
V  V  O `    W   QV      
V     
:   QV  C0   Q      
V   :  #
$    _super   apply	   push#   _attachComponents!   _listenToUpdates   Promise   all!!   	   defs   arguments   .this         +H;       5!!       !   _attachComponentC t                                                                       W  QV     Q      
T D   QV  5      5   : W   Q      
V       : W  Q      
V  :  
4w    cssFind   $el   selector   _   map   Promise   all!!      childInfo   $from	   self   $elements	   defs   .this      +H!!       -   _attachComponent/defs<b i    a       6         5 ;5!!       #   _attachComponentsC _                                  
                                     W  QV     QV      
:     
:  W   Q      
V       : W  Q      
V  :  
V    _getRegistry   get   _   map   Promise   all!!      $from	   self   childInfos	   defs   .this      +H!!        /   _attachComponents/defs<b ^    V       +         5;5!!          _getRegistryC                                                                                !!              +H;       5!!          _onGetSessionC -                                                  %     %                   T  5    5      T  5       
    Q  	   data   callback!!      event        +H;        5 !!       #   _onRegistryUpdateC <                                              @      8                     W   QT      
  QV   5      V      
T  5    Q      stopPropagation!   _listenToUpdates!   _attachComponent	   data!!      ev   .this       +H;"       5 !!       !!   custom_events!!!!	   init!!!!   start!!!!!   _attachComponent!!!!#   _attachComponents!!!!   _getRegistry!!!!   _onGetSession!!!!#   _onRegistryUpdate!!    !!        	   initC  4                                                  )!     )!                 W   Q   5    5      
V   l QV   Z    0   Q , )   EventDispatcherMixin	   init	   call   _registry!!      .this         +H;       5!!          addC Q                                             6!  !  .!  !                 W  Q[    T  ]    T ]   W   QV  5      
V    QV     
=   V    Q "0    Widget   selector   _registry	   push   trigger_up   registry_update!!      Widget   selector   registryInfo   .this       +H!!       !!   Widget!!!!   selector!!    ;       5!!          getC           	                                      !  !  !  !                 W   QV   5         _registry!!      .this         +H;       5 !!       !!	   init!!!!   add!!!!   get!!    !!            !!       	   initC C                                           " @"  "  8"  "                 	W   QW  QV  5       
V  V   O QV  T D   Q[    0   Q "    _super   apply   options!!      parent   options   arguments   .this       +H!!            ;      5!!          destroyC           #                                    " "  a#  "  a#     k            	W  QW  QV  5    $   V  5   W   QV     
@ QV  5      
V  V  O QV  5    J   V  V   0   QV  V   >70   QV  V  5   0   QV  V  5   0   Q n"    selector   $el   setElement   _super   apply   el   $target   target!!      $oldel   arguments   .this         +H;3      5!!          setElementC  _                                             " u#  #  m#  #                   	W   QW  QV  5       
V  V   O QV  5   ,   V  V  5   0   QV  V  5   0   Q  "    _super   apply   selector   $el   $target   el   target!!      arguments   .this         +H;#      5!!          _delegateEventsC                                    	           " #  b&  #  b&                    	W  QW  QV     QV  5    W   Q[       Q      
V  5        QV     0    QV  5      
V  V  O QV  V   0    Q 
$"    events   _	   each   _super   apply!!   	   self   originalEvents   events   arguments   .this        +H!!            !!        #   _delegateEvents/<b J$  &  B$  &      k  `       5 ;5!!          _getContextC I                                              w&  '  o&  '  $                 W   QV       
=   [   T  D   QB]   T ]       ]    Q     o    trigger_up   context_get   extra   context   callback!!      extra   extraContext   context   .this      +H!!           callbackB &  '  &  '  $             5 !!       !!   extra!!!!   context!!!!   callback!!    ;5!!       !!   selector!!!!   events!!!!	   init!!!!   destroy!!!!   setElement!!!!   _delegateEvents!!!!   _getContext!!    !!            !!           clickB  '  '  '  '  $            5!!       !!   click!!    !!       !!   selector!!!!   events!!    !!       !!   RootWidget!!!!%   RootWidgetRegistry!!!!   Widget!!!!   registry!!    ;5 !!       C  ,                                               (  q*  (  q*  '                     W   QT  =    :    Q[   V   ]   C+ /   web_editor.wysiwyg.root	   load!!      require   Wysiwyg	   load      +H!!        	   load (  \*  (  \*  '   {   P          loading    wysiwyg    D"  *  Y*  *  Y*  )   O           55!!       !!	   load!!    ;5!!       C                                               *  ;  *  ;  .                        W  QT  =    : W   QT  =   :    QT  =   : 5      Q5      QQT  =   :    QV   5   V   5      
[   =	   ]
   [   =   ]   ]      ]      ]      ]   : 0   QV   5   V   5      
[   =   ]
      ]      ]   : 0   QV   5   V   5      
[   =   ]
   [	   =   ]   =   ]   =   ]   ]   
   ]      ]      ]      ]      ]      ]   : 0   Q[   V  ]   -#
@8   =n Eeb D"..5      1  1 #   web.public.widget   web.Dialog   web.core   _t	   qweb   web.ajax   registry   Widget   extend#   .o_portal_details   selector!   _onCountryChangeA   change select[name="country_id"]   events   start#   _adaptAddressForm   portalDetails#   .o_portal_my_home   _updateCounters%   PortalHomeCounters-   .o_portal_search_panel)   _onSearchSubmitClick)   click .search-submit)   _onDropdownItemClick)   click .dropdown-item'   _onSearchInputKeyup5   keyup input[name="search"]#   _adaptSearchLabel   _search#   portalSearchPanel'   handleCheckIdentity!!      require   publicWidget'   handleCheckIdentity       !!          Dialog   _t	   qweb	   ajax          +H!!      '   handleCheckIdentity 6  ;  5  ;  .   9             rpc   D" $6  ;  $6  ;  .   [  @          r    check_id    D"  6  ;  6  ;  /   d             D" 6  ;  6  ;  /   t   @          resolve    reject    d      clickB  7  9  7  9  /   /  B          password_input    .this   D"  8  9  8  9  0   r          5    D" 9  89  9  89  0             5    D" 99  9  99  9  0             5 5      clickB  ::  j:  5:  j:  0            5   D"  :  :  :  :  0   ,         5    D"  :  ;  :  ;  0   F             pw   D"  :  7;  :  7;  0            5    D" X;  ;  X;  ;  0            5 55555!!       !!A   change select[name="country_id"]!!    !!         startC           !                                      B,  -  :,  -  .   y            	W  QW  QV  5       
V  V  O W   QV  V     
=   : 0   QV  V  5      
=   :    
=   : 0	   QV  
   
  QV    ""    _super   apply   $/   select[name="state_id"]   $state   filter   :enabled	   find%   option:not(:first)   $stateOptions#   _adaptAddressForm!!      def   arguments   .this         +H;       5 !!      #   _adaptAddressFormC           )                                      *-  L.  "-  L.  .   a     	       W  QV      
=   : W   QV      
:  D   Q>W  QV  5      
  QV  5      
=   V  =   : W  QV     
V  5	   : 
   
:     W  QV  5	      
:     
V  ? Q h	( A&    $3   select[name="country_id"]   val   $stateOptions   detach   filter#   [data-country_id=   ]   appendTo   $state	   show   length   parent   toggle!!      $country   countryID   $displayedState   nb   .this         +H;       5 !!      !   _onCountryChangeC           	                                      f.  .  ^.  .  .               W   QV       
  Q  #   _adaptAddressForm!!      .this         +H;       5 !!       !!   selector!!!!   events!!!!   start!!!!#   _adaptAddressForm!!!!!   _onCountryChange!!    !!         startC  A                                               .  G/  .  G/  .   .            	W  QW  QV  5       
V  V  O W   QV     
  QV    5"    _super   apply   _updateCounters!!      def   arguments   .this         +H;       5 !!         _updateCounters@ 5        <                      %           ]/  K1  H/  K1  .                     Q        Q   Q      
=   :    
    :    
:     Q      
         :    QZ    >            
         : : 	   
:  -
  5
   
   m5   _,  ,  :   5    Q   
   :    Q      
   :        #+)	)@!      $1   [data-placeholder_count]   map   toArray	   Math	   ceil   length   Array   min	   keys	   next   value	   done   Promise   all!!   	   elem   .generator   .this       !!          numberRpc   needed   counterByRpc   proms            +H!!      /   _updateCounters/needed<d" /  /  /  /  .            5!!      -   _updateCounters/proms<d" \0  .1  V0  .1  .               D" 0  +1  0  +1  .             	   data   D" 0  (1  0  (1  .   $         5 55;      !                %            5 !!       !!   selector!!!!   start!!!!   _updateCounters!!    !!       !!)   click .search-submit!!!!)   click .dropdown-item!!!!5   keyup input[name="search"]!!    !!         startC  T                                               \2  2  T2  2  .               	W  QW  QV  5       
V  V  O W   QV     
V     
=   :  QV    "8    _super   apply#   _adaptSearchLabel   $+   .dropdown-item.active!!      def   arguments   .this         +H;       5 !!      #   _adaptSearchLabelC       
   !                                     2  x3  2  x3  .               W  Q        T  :    
:  W   QV      
=   :    
  QV      
=   :    
=   V      
:  	   
:   Q *	2)    $   clone	   find   span.nolabel   remove)   input[name="search"]	   attr   placeholder	   text	   trim!!   	   elem   $label   .this       +H;       5 !!         _searchC           ,                                      3  u4  3  u4  .               W  Q       
   5   5      
?: : W   QV   V      
=   :    
=   : 	   
=
   =   : 0   QV   V      
=   :    
:  0   Q   5          
V   : 0   Q /     $   deparam   window   location   search   substring+   .dropdown-item.active	   attr	   href   replace   #      search_in)   input[name="search"]   val   param!!      search   .this         +H;       5 !!      )   _onSearchSubmitClickC           	                                      4  4  4  4  .   	            W   QV       
  Q 	    _search!!      .this         +H;       5 !!      )   _onDropdownItemClickC                                               4  5  4  5  .   	            W  QT      
  Q      T  5   : W   QV      
=   :    
=   :    
=    QV   	   
=    QV  
   
T  5    Q 
  )    preventDefault   $   currentTarget   closest   .dropdown-menu	   find   .dropdown-item   removeClass   active   addClass#   _adaptSearchLabel!!      ev   $item   .this       +H;       5!!      '   _onSearchInputKeyupC :                                              5  5  5  5  .   
            W   QT  5       5   5    5   H   V      
  Q 
$    keyCode   $   ui   ENTER   _search!!      ev   .this       +H;"       5 !!       !!   selector!!!!   events!!!!   start!!!!#   _adaptSearchLabel!!!!   _search!!!!)   _onSearchSubmitClick!!!!)   _onDropdownItemClick!!!!'   _onSearchInputKeyup!!    !!       !!'   handleCheckIdentity!!    ;                     5 !!       C        %                                       R<  Q  J<  Q  4                    T  =    : W   QT  =   :    QT  =   : W  QT  =   :   QT  =   :   QV   5     QV   5     QV  5      
[   =	   ]
   Z   =   `    ]   [    =   ]   =   ]   ]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]   :   QV  5    V  5      
[   =!   ]"      ]   : 0#   Q[     ]$   .!*-4L c  <    7 
}  s  y4 #8 @# B    web.core   web.dom#   web.public.widget   web.time   portal.composer	   qweb   _t   Widget   extend   portal.Chatter   templateS   /portal/static/src/xml/portal_chatter.xml   xmlDependencies   _onClickPagerC   click .o_portal_chatter_pager_btn=   async _onClickUpdateIsInternalM   click .o_portal_chatter_js_is_internal   events	   init   willStart   start   messageFetch%   preprocessMessages   _chatterInit%   _changeCurrentPage5   _messageFetchPrepareParams   _pager   _renderMessages'   _renderMessageCount   _renderPager   _onChangeDomain1   _onClickUpdateIsInternal   registry#   .o_portal_chatter   selector   portalChatter   PortalChatter!!      require	   core   publicWidget	   time   portalComposer	   qweb   _t   PortalChatter      !!          dom          +H!!       !!C   click .o_portal_chatter_pager_btn!!!!M   click .o_portal_chatter_js_is_internal!!    !!      	   initC l        J                                   " Y>  @  Q>  @  4                 	W   QW  QV     QV  [    0    QV  5      
V  V   O Q      
T     QV        
V  5    [   C]   B]      5	   ]	   >]
   
]   ]   ?]   C]   B]   B]   B]   B]   Z    ]   : 0    QV     
=   Z     QV     
=
   V  5    5
    QV     
=   [    QV     
=   V  5    5    QV  V  5    5   0   Q A
"M& 8*.    options   _super   apply   _	   each   defaults   allow_composer!   display_composer	   odoo   csrf_token   message_count   pager_step   pager_scope   pager_start   is_user_public!   is_user_employee#   is_user_publisher	   hash   pid   domain   set   messages   pager   _currentPage!!      parent   options	   self   arguments   .this      +H!!            !!          init/<b >  >  >  >  4            5 !!       !!   allow_composer!!!!!   display_composer!!!!   csrf_token!!!!   message_count!!!!   pager_step!!!!   pager_scope!!!!   pager_start!!!!   is_user_public!!!!!   is_user_employee!!!!#   is_user_publisher!!!!	   hash!!!!   pid!!!!   domain!!    !!            ;5 !!         willStartC  U                                               @  =A  @  =A  4        	       	W   QW  Q       
Z   V  5      
V  V   O `    V     
:  `   :  "E    Promise   all   _super   apply   _chatterInit!!      arguments   .this         +H;       5 !!         startC          J                         *             LA  C  DA  C  4          
       	W  QW  QV      
=   V  V  5    QV      
=   V       QV      
=   V  V  5    QV      
=   V  V  5    QV     
=	   V  5
   5	    QV     
=   V     
V  5   5   :  QZ    W   QV      
V  5      
V  V  O  QV  5
   5   d   V    5   AV  V  5
   ,  R 0   QV      
V  5      
V     
=   : :  Q      
V   :  "5~/38J
-%5!    on   change:messages   _renderMessages)   change:message_count   change:pager   _renderPager   change:domain   _onChangeDomain   set   message_count   options   messages%   preprocessMessages   result	   push   _super   apply!   display_composer   PortalComposer   _composer   replace   $5   .o_portal_chatter_composer   Promise   all!!   	   defs   arguments   .this         +H!!           start/<b  A   B  A   B  4            5;5!!         messageFetchC R                                              C  D  C  D  5                 W   QV      QV       
[    =   ]         
:  ]   :    
   : =
S   	   _rpc'   /mail/chatter_fetch   route5   _messageFetchPrepareParams   params	   then!!      domain	   self   .this      +H!!       !!   route!!!!   params!!    !!          messageFetch/<b |D  D  tD  D  5             5 ;5!!      %   preprocessMessagesC                                                E  8F  E  8F  5                         
T       QT   U     _	   each!!      messages        +H!!        )   preprocessMessages/<b ;E  %F  3E  %F  5   m         5 ;5!!         _chatterInitC  Q                                               NF  1G  FF  1G  5                 W   QV      QV       
[    =   ]   V      
:  ]   :    
   :  
Qy 	   _rpc%   /mail/chatter_init   route5   _messageFetchPrepareParams   params	   then!!   	   self   .this        +H!!       !!   route!!!!   params!!    !!           _chatterInit/<b F  .G  F  .G  5            5 ;5!!      %   _changeCurrentPageC f                                              MG  G  EG  G  5               W  QV  T  0    QT    T (         
V     
=   : : W   QV     
=   V    Q     _currentPage   _   clone   get   domain   set!!   	   page   domain   d   .this       +H;       5 !!      5   _messageFetchPrepareParamsC           -                                     G  TI  G  TI  5               W  QV  W   Q[    V  5    5   ]   V  5    5   ]   V  5    5   ]   V  5   ?V  5    5   ]   V  5    5   ]   W  QV   5    5      V  V   5    5   0   QV  	   
=
   : #   V  V  	   
=
   : 0
   QV   & #:2    options   res_model   res_id   pager_step   limit   _currentPage   offset   allow_composer   token   get   domain!!   	   self	   data   .this         +H!!       !!   res_model!!!!   res_id!!!!   limit!!!!   offset!!!!   allow_composer!!    ;2       5 !!         _pagerC         ~                         +            dI  K  \I  K  7                 W  QT  D   Q?U  QV      
=   : W   QV  5   5   W  QV  5   5   W  Q      
      V   : V  : W  Q      
?   	   

   
   T  : V  : : U  QV  ?W  Q      
T  
   
         
V  : : ?: W  Q   	   
V  V  V  : W  QV  V  >   V  V  W  Q   ?W  QZ       Q      
      
V  V  ?:      Q[   V  ]   T  ?V  ]   T  ]   V  ]         
V  T  ?: ]      	   
V  T  ?: ]   V  ]      ]   $&$"/3	A    get   message_count   options   pager_scope   pager_step	   Math	   ceil   parseFloat   max   min   parseInt   floor   _	   each   range   page_count   offset	   page   page_start   page_previous   page_next   page_end   pages!!	   	   page   total   scope	   step   pageCount	   pmin	   pmax   pages   .this      +H!!           _pager/<b K  /K  K  /K  8   1          5 !!       !!   page_count!!!!   offset!!!!	   page!!!!   page_start!!!!   page_previous!!!!   page_next!!!!   page_end!!!!   pages!!    ;5 !!         _renderMessagesC  G                                              L  iL  K  iL  8   "            W   QV       
=   :    
     
=   [    V   ]   :  Q %Q;    $5   .o_portal_chatter_messages	   html   render/   portal.chatter_messages   widget!!      .this         +H!!       !!   widget!!    ;       5 !!      '   _renderMessageCountC  G                                              L  L  ~L  L  8               W   QV       
=   :    
     
=   [    V   ]   :  Q UG    $%   .o_message_counter   replaceWith   render9   portal.chatter_message_count   widget!!      .this         +H!!       !!   widget!!    ;       5 !!         _renderPagerC  G                                              M  aM  L  aM  8   !            W   QV       
=   :    
     
=   [    V   ]   :  Q $J7    $/   .o_portal_chatter_pager   replaceWith   render   portal.pager   widget!!      .this         +H!!       !!   widget!!    ;       5 !!         _onChangeDomainC  /                                               zM  M  rM  M  8                 W   QV      QV       
:     
     Q 
L    messageFetch	   then!!   	   self   .this        +H!!        #   _onChangeDomain/<b  M  M  M  M  8            5;5!!         _onClickPagerC Q                                   	           N  eN  M  eN  8                W  QT      
  Q      T  5   :    
=   : W   QV     
V    Q %    preventDefault   $   currentTarget	   data	   page%   _changeCurrentPage!!      ev	   page   .this       +H;       5!!      1   _onClickUpdateIsInternalC          3                                     N  aP  N  aP  8                 W   QT      
  Q      T  5   :    QV      
[   =   ]   [          
=   : ]         
=	   :  ]
   ]   :    
   :  !       preventDefault   $   currentTarget	   _rpc1   /mail/update_is_internal   route	   data   message-id   message_id   is-internal   is_internal   params	   then!!      ev   $elem   .this      +H!!       !!   message_id!!!!   is_internal!!    !!       !!   route!!!!   params!!    !!        5   _onClickUpdateIsInternal/<b VO  ^P  NO  ^P  8   s  0       5 ;5!!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   willStart!!!!   start!!!!   messageFetch!!!!%   preprocessMessages!!!!   _chatterInit!!!!%   _changeCurrentPage!!!!5   _messageFetchPrepareParams!!!!   _pager!!!!   _renderMessages!!!!'   _renderMessageCount!!!!   _renderPager!!!!   _onChangeDomain!!!!   _onClickPager!!!!1   _onClickUpdateIsInternal!!    !!          start@  +        =                       &           * P  Q  P  Q  8                	   Q   Q        QZ     5       
    O `       Q  A    5      
:  ,  R    Q      
      
  5   :  Q      
   :         Q   5	   5
   =     5   5   H0          
  5   [    >]    Q    )('$    _super   apply   $el	   data	   push   appendTo   Promise   all   window   location	   hash   #   el   id   scrollTo   duration!!      .generator   arguments   .this         !!          proms   chatter            +H!!       !!   duration!!    ;              5 !!       !!   selector!!!!   start!!    !!       !!   PortalChatter!!    ;                     5!!       C           d       
                              xR  p_  pR  p_  ;                 T  =    :    QT  =   : W   QT  =   : W  QV   5      QV   5      QV  5      
[   =   ]   Z   =	   `    ]
   [    =   ]   =   ]   =   ]   =   ]   ]      ]      ]      ]      ]      ]      ]      ]   : W  Q[	   V  ]   A!+-;DMF  > 6 Q;        web.ajax   web.core#   web.public.widget	   qweb   _t   Widget   extend   portal.Composer   templateS   /portal/static/src/xml/portal_chatter.xml   xmlDependencies%   _onFileInputChangeG   change .o_portal_chatter_file_input1   _onAttachmentButtonClickM   click .o_portal_chatter_attachment_btn=   async _onAttachmentDeleteClickS   click .o_portal_chatter_attachment_delete5   async _onSubmitButtonClickI   click .o_portal_chatter_composer_btn   events	   init   start1   _onAttachmentDeleteClick)   _onSubmitButtonClick%   _updateAttachments   PortalComposer!!      require	   ajax	   core   publicWidget	   qweb   _t   PortalComposer      +H!!       !!G   change .o_portal_chatter_file_input!!!!M   click .o_portal_chatter_attachment_btn!!!!S   click .o_portal_chatter_attachment_delete!!!!I   click .o_portal_chatter_composer_btn!!    !!       	   initC          &                                  " T  U  T  U  ;   v            	W   QW  QV  5       
V  V   O QV        
T D   Q[    [   C]   B]      5   ]   B]   B]	   B]
   : 0   QV  Z    0   Q "%|      _super   apply   _   defaults   allow_composer!   display_composer	   odoo   csrf_token   token   res_model   res_id   options   attachments!!      parent   options   arguments   .this       +H!!            !!       !!   allow_composer!!!!!   display_composer!!!!   csrf_token!!!!   token!!!!   res_model!!!!   res_id!!    ;      5 !!          startC           7                                      U  X  U  X  ;                 	W   QW  QV     QV  V      
=   : 0   QV  V      
=   : 0   QV  V      
=   : 0   QV  V      
=   : 0   QV  V      
=	   : 0
   QV  V      
=   : 0   QV  5      
V  V   O    
    :  w
+')H+."    $A   .o_portal_chatter_attachment_btn#   $attachmentButton9   .o_portal_chatter_file_input   $fileInput=   .o_portal_chatter_composer_btn   $sendButton{   .o_portal_chatter_composer_form .o_portal_chatter_attachments   $attachmentsA   .o_portal_chatter_attachment_ids   $attachmentIdsG   .o_portal_chatter_attachment_tokens#   $attachmentTokens   _super   apply	   then!!   	   self   arguments   .this        +H!!          start/<b  W  |X  W  |X  ;   H             B X  DX  X  DX  ;            5 5;5!!       1   _onAttachmentButtonClickC                                                 X  X  X  X  <   ?             W   QV   5       
  QB    $fileInput   click!!      .this         +H;       5 !!       1   _onAttachmentDeleteClickC          C                                     X  Z  X  Z  <                 W  QV     Q        T  5   :    
=   :    
=   :    Q      
V  5   [       ]   : 5	   W   QT  
   
  QT     
  QV  5      
=   C QV     
[   =   ]   [      ]   V   ]	   ]   :    
   :   (%:'"r      $   currentTarget   closest9   .o_portal_chatter_attachment	   data   id   _	   find   attachments   access_token   preventDefault   stopPropagation   $sendButton	   prop   disabled	   _rpc3   /portal/attachment/remove   route   attachment_id   params	   then!!      ev	   self   attachmentId   accessToken   .this      +H!!       !!   id!!    !!       !!   attachment_id!!!!   access_token!!    !!       !!   route!!!!   params!!    !!        5   _onAttachmentDeleteClick/<b  jZ  Z  bZ  Z  <            5 ;5!!       %   _onFileInputChangeC  n      
                                         [  ]  [  ]  <                 W   QV      QV   5       
=   C Q      
      
V   5   >75       : : 	   
   :  
' Z;    $sendButton	   prop   disabled   Promise   all   _   map   $fileInput   files	   then!!   	   self   .this        +H!!        )   _onFileInputChange/<b [  ]  y[  ]  <             	   file   B [  ]  [  ]  <   A             resolve    B u\  \  m\  \  <            5    B \  ]  \  ]  <            5 55!!       )   _onFileInputChange/<b  ]  ]  ]  ]  <   S         5 ;5!!       )   _onSubmitButtonClickC                                                  ^  5^  ]  5^  <                      A    ,  R  (    Promise!!              +H!!       -   _onSubmitButtonClick/<b  ^  2^  ^  2^  <            5 ;5!!       %   _updateAttachmentsC           ,                                     Q^  D_  I^  D_  <               W   QV   5       
      
V   5   =   :  QV   5      
      
V   5   =   :  QV   5   	   
   
   
=   [    V   5   ]   C]   :  Q 8EAr    $attachmentIds   val   _   pluck   attachments   id#   $attachmentTokens   access_token   $attachments	   html   render5   portal.Chatter.Attachments   showDelete!!      .this         +H!!       !!   attachments!!!!   showDelete!!    ;       5 !!    
   !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   start!!!!1   _onAttachmentButtonClick!!!!1   _onAttachmentDeleteClick!!!!%   _onFileInputChange!!!!)   _onSubmitButtonClick!!!!%   _updateAttachments!!    !!       !!   PortalComposer!!    ;5!!       C  C         n                                     _  k  _  k  ?                 T  =    : W   QT  =   : W  QT  =   : 5      QV   5      QV   5      QV  5      
[   =   ]	   Z   =
   `    ]   [    =   ]   ]   [   =   ]   ]      ]      ]      ]      ]      ]      ]   :    QV  5   V  5      
[
   =   ]   	   ]   : 0   Q[      ]   G!7*#/;+ 3 `9JB'? 
B  @$     web.core#   web.public.widget-   web.name_and_signature!   NameAndSignature	   qweb   _t   Widget   extend/   portal.portal_signature   templateW   /portal/static/src/xml/portal_signature.xml   xmlDependencies1   async _onClickSignSubmit7   click .o_portal_sign_submit   events%   _onChangeSignature#   signature_changed   custom_events	   init   start   focusName   resetSignature%   _onClickSignSubmit   registry1   .o_portal_signature_form   selector   SignatureForm!!      require	   core   publicWidget!   NameAndSignature	   qweb   _t   SignatureForm      +H!!       !!7   click .o_portal_sign_submit!!    !!       !!#   signature_changed!!    !!       	   initC                                            " a  
c  a  
c  ?               	W   QW  QV  5       
V  V   O QV     5   0   QV  T 5   D   Q=   0   QV  T 5   D   Q[    0   QV  T 5   D   Q   =   : 0   QV     AV  T 5	   D   Q[   ,  R 0
   Q $" !%"?    _super   apply	   odoo   csrf_token   callUrl      rpcParams   sendLabel   Accept & Sign/   nameAndSignatureOptions!   nameAndSignature!!      parent   options   arguments   .this       +H!!            !!            ;      5!!          startC           2                                      c  jd  c  jd  ?          
       	W  QW  QV     QV  V      
=   : 0   QV  V      
=   : 0   QV  5      
V      
=   : : W   Q   	   
Z   V   `    V  5
      
V  V  O `   :    
    :  N
 &-H@:    $+   .o_portal_sign_submit   $confirm_btn/   .o_portal_sign_controls   $controls!   nameAndSignature   replace=   .o_web_sign_name_and_signature   Promise   all   _super   apply	   then!!   	   self   subWidgetStart   arguments   .this        +H!!          start/<b  <d  gd  4d  gd  ?   j         5;5!!          focusNameC           	                                      }d  d  ud  d  ?               W   QV   5       
  Q " !   nameAndSignature   focusName!!      .this         +H;       5 !!          resetSignatureC                                                 d  d  d  d  ?               W   QV   5       
:   ' !   nameAndSignature   resetSignature!!      .this         +H;       5 !!       %   _onClickSignSubmitC          G                                     	e  g  e  g  ?                 W  QV     QT      
  QV  5      
:      V  5      
:  W   QV  5      
:  ?7W  QV     
[   V  5   ]      	   
V  5
   [    V   ]   V  ]   : ]   :    
   :  @
+B%@$
- fB%    preventDefault!   nameAndSignature#   validateSignature   getName#   getSignatureImage	   _rpc   callUrl   route   _   extend   rpcParams	   name   signature   params	   then!!      ev	   self	   name   signature   .this      +H!!       !!	   name!!!!   signature!!    !!       !!   route!!!!   params!!    !!        )   _onClickSignSubmit/<b Ff  g  >f  g  @      `         B  g  g  g  g  B             5 5;5!!       %   _onChangeSignatureC  <                                               h  vh  
h  vh  B   B             W  QV  5       
:  W   QV  5      
=   V    QI)+ !   nameAndSignature!   isSignatureEmpty   $confirm_btn	   prop   disabled!!      isEmpty   .this         +H;       5 !!    
   !!   template!!!!   xmlDependencies!!!!   events!!!!   custom_events!!!!	   init!!!!   start!!!!   focusName!!!!   resetSignature!!!!%   _onClickSignSubmit!!!!%   _onChangeSignature!!    !!          startC          Z                         &             h  k  h  k  B                 	W  QW  QB   QV  5       
=   : W   Q[    V  5       
=   : ]   V  5       
=   : ]   V  5       
=   : ]   V  5       
=   : ]	   V  5       
=
   : D   Q=   ]   W  QV  5       
=   : W  Q  AV  [   V   ]   V  ]   V  ]   ,  R    QV  5       
=   :    
=       Q      
Z   V  5      
V  V  O `          
V  5    : `   :  #! 
+
 0ov"I    $el	   data   call-url   default-name   defaultName	   mode   signature-ratio+   displaySignatureRatio   signature-type   signatureType   font-color   black   fontColor   send-label   callUrl/   nameAndSignatureOptions   sendLabel   closest   .modal   on   shown.bs.modal   Promise   all   _super   apply   appendTo!!      hasBeenReset   callUrl/   nameAndSignatureOptions   sendLabel	   form   arguments   .this        +H!!       !!   defaultName!!!!	   mode!!!!+   displaySignatureRatio!!!!   signatureType!!!!   fontColor!!    !!       !!   callUrl!!!!/   nameAndSignatureOptions!!!!   sendLabel!!    !!          start/<b j  Uk  j  Uk  B   -  0       5;5!!       !!   selector!!!!   start!!    !!       !!   SignatureForm!!    ;5!!       C         	   4                                     ]l  p  Ul  p  E                 T  =    : W   QT  =   : W  QT  =   :    QV   5      QV  5      
[       ]      ]      ]   : W  QV  F!*RE  G +    web.core#   web.public.widget   web.time   _t   Widget   extend   start   _setDelayLabel'   _printIframeContent!!      require	   core   publicWidget	   time   _t   PortalSidebar      +H!!           startC  8                                               'm  jm  m  jm  E                	W   QW  QV      
  QV  5      
V  V   O   "    _setDelayLabel   _super   apply!!      arguments   .this         +H;       5!!          _setDelayLabelC  =                                               m  So  zm  So  E                 W  QV  5       
=   : W   Q      
V        Q W+    $el	   find3   .o_portal_sidebar_timeago   _	   each!!      $sidebarTimeago   .this         +H!!       !   _setDelayLabel/<b m  Po  m  Po  E     @       5;5!!       '   _printIframeContentC          ,                                     po  p  ho  p  F                 W   Q    5   5             
T  =    QV   5    l   V           =   T  =   : 0   QV   5	   
   
V   5    QV   5      
=        Q*   V   5      
>: 5      
  Q? &U#U'	    $   browser   mozilla   window	   open   _blank   printContentO   <iframe id="print_iframe_content" src="A   " style="display:none"></iframe>   $el   append   on	   load   get   contentWindow   print!!   	   href   .this       +H!!        +   _printIframeContent/<b  vp  p  np  p  G             5;5!!       !!   start!!!!   _setDelayLabel!!!!'   _printIframeContent!!    ;5!!       C  X         W                                    q    q    J                       Q      Q     QT  =    : 5      QQT  =   :    QT  =   :    QT  =   : 5      QQ  QY       
               	   Q     QV   5
   V   5      
[   =   ]   [   =   ]   ]      ]   : 0   QV   5
   V   5      
[
   =   ]   [   =   ]   ]   	   ]   : 0   Q7#SW=$Z  D%$    web.core   _t#   web.public.widget   web.Dialog   portal.portal'   handleCheckIdentity   prototype   constructor   _click   callAction   registry   Widget   extend1   #auth_totp_portal_enable   selector   _onClick   click   events   TOTPButton3   #auth_totp_portal_disable#   DisableTOTPButton!!      require   fromField   fixupViewBody       !!          Button   _t   publicWidget   Dialog'   handleCheckIdentity          !!         Button          +H!!         fromField Wr  )u  Er  )u  J              5 !!         fixupViewBody @u  w  *u  w  K             5!!         Buttonb x  y  w  |  S      2       5 !!         _click@  M        F                      ,            y  {  y  {  T                    Q      Q   5       
:   -      5    5      
=    Q         
   5   [       5    5   ]   :          Qr      v   Q  5    5      
=    Q  5    	   
   5
    Q  5       
  Q       5    5      
=    Q      5   0   Q   VT'VJUG&A'(J*     input   reportValidity   classList   add   is-invalid   callAction   record_id   value	   code#   setCustomValidity   message   remove   window   location!!      .generator   .this         !!          e           +H!!       !!	   code!!    ;     W   K         d                      5!!         callAction@         _                      1           *{  |  {  |  W                    Q      Q   5       
[       5   ]   =   ]   Z      `       `   ]   :          Q       5       
=   :    5       
[      5   ]      5   ]   Z      `    ]   : :          Q      v   Q   5   	   
  Q
   A   5             
:  _      5   5          5   5   4      5   5   5   D   Q    =   : ,  R p       F.|:      _parent	   _rpc   model   write   method	   args   proxy   action   event   preventDefault   Error   message   toString	   dataI   Operation failed for unknown reason.!!      id   update   .generator   .this       !!          e           +H!!       !!   model!!!!   method!!!!	   args!!    !!       !!   model!!!!   method!!!!	   args!!    ;                      u      5 !!       !!   click!!    !!          _onClick@      *                         h           >}  5  0}  5  X                     Q        Q      
  Q         
=   :      
[    =   ]   =   ]   Z        
:  5   `    ]	   : :            Q    $   
   
   5   0   Q      5      Q5      QQ     
[      ]   =   ]   Z      `    Z    `   ]	   :    
   :            Q   A,  R     
      
=   : 5   =   :    Q      
=   :    Q        : -
  5   
BQ,  ,  :   5      Q   5      Q   C0   ,  ,  :   5      Q   5   Q   C0   ,  ,  :   5      Q   5    	  Q   QQ1   
Q   IE
   Q@I   
:     QQQ 	     
=       QZ     
  Q        
=    : -
  5   
   mQ:   5      Q   5      Q
  !   
    A      5"   	     ,  R  Q]   v,  IM   ,     IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp B5    #   
=$   :    Q   %   
    Q      
=&       Q    A  [      ]'    
  ](   ,  R )   
:    Q     ZX     Z  Y+
5 g"0N@  PH7	o	$    preventDefault   proxy	   _rpc   res.users   model%   totp_enable_wizard   method   getSession   user_id	   args   window   location   res_model   res_id	   read	   then   DOMParser   parseFromString   document   getElementById!   totp_wizard_view   textContent+   application/xhtml+xml   querySelector   sheet *	   next	   done   value   return!   addEventListener   input!   querySelectorAll   footer button	   push   id   createElement	   form   appendChild   submit   $content   buttons	   open!!      e   dialog   .generator   .this       !!    
      w   model   wizard_id   record   doc   xmlBody	   body   codeInput   buttons   $content            !!         button            +H!!       !!   model!!!!   method!!!!	   args!!    !!       !!   model!!!!   method!!!!	   args!!    !!       !   _onClick/record<d" ~  ~  ~  ~  Y   w          5 !!         _onClick/<d"          Y            5 !!         _onClick/<d"         Z   l          5 !!       !!   $content!!!!   buttons!!    ;                               C       K  L      (           |                                  _  5 !!       !!   selector!!!!   events!!!!   _onClick!!    !!       !!   click!!    !!          _onClick@          ,                                           Z         	          Q      Q       
  Q          
=   :       
[    =   ]   =   ]   Z         
:  5   `    ]	   : :          Q
   
   5   0   Q   Z      preventDefault   proxy	   _rpc   res.users   model   totp_disable   method   getSession   user_id	   args   window   location!!      e   .generator   .this       +H!!       !!   model!!!!   method!!!!	   args!!    ;      5!!       !!   selector!!!!   events!!!!   _onClick!!    ;      R     x   8       5!!       C            K                                       ;    ;  ^                 T  =    : W   QT  =   : W  QV     
[   =   ]   Z   =   `    ]   [    =   ]   ]	      ]
      ]      ]      ]   :    QV      
[      ]    QH%*/      B ~ , +   website.customizeMenu   web.Widget   extend%   website.track_page   templateM   /website/static/src/xml/track_page.xml   xmlDependencies   _onTrackChange3   change #switch-track-page   events   start   _isTracked   _trackPage   include+   _loadCustomizeOptions!!      require   CustomizeMenu   Widget   TrackPage      +H!!       !!3   change #switch-track-page!!    !!           startB  =    5    ^   S  "          .this   D"         ^     0       5 5!!          _isTrackedB         ^     2       5 !!          _onTrackChangeB   M    M  ^     "       5!!          _trackPageB a  
  Y  
  ^   w  2       5 !!       !!   template!!!!   xmlDependencies!!!!   events!!!!   start!!!!   _isTracked!!!!   _onTrackChange!!!!   _trackPage!!    !!       +   _loadCustomizeOptionsB  C  6  ;  6  ^   Y  #       	   self    B    3    3  ^             55!!       !!+   _loadCustomizeOptions!!    ;5 !!       C         	   '                                       u    u  a                        Q   W   Q   W  Q   W  Q   W  Q   W  QT  =    :    QT  =   :    Q   5      Q[      ]   V   ]   V  ]   V  ]   V  ]   V  ]   ?o,(    web.ajax   web.core	   qweb   loadAnchors+   autocompleteWithPages'   onceAllImagesLoaded   prompt   sendRequest   websiteDomain!!
      require	   ajax	   core	   qweb   loadAnchors+   autocompleteWithPages'   onceAllImagesLoaded   prompt   websiteDomain   sendRequest      +H!!           loadAnchors /  h    h  a                 url   B P    H    a      0       5    B   e    e  a   n            B L  b  D  b  a            5 55!!       +   autocompleteWithPages      i     b              	   self    B    2    2  b   n          5    B G    ?    b      2          ul 	   self    D" p    p    b     0       5 5   B         c   >          5    B         c             5    B )    !    c   ~  @          response   B }    u    c            5    B         c   d             choices    D" G    G    c             555   B          c   &         5 5!!       '   onceAllImagesLoaded   J    J  d                 $excluded   B m  .  e  .  d   l   0          img   B           e                 resolve    B          e   G          5 555!!          prompt Z  j  K  j  f      `          options    _qweb    xmlDef   B  m  q  e  q  h   J          5    B W  \  O  \  h   4  0          resolve    reject   B    Y    Y  h   j  @          dialog    field    B H    @    h   %  @          select   B         h   l         5 5   B B  C  :  C  h               B    @    @  i   L          5 5   B  i    a    i             5    B   U    U  i             5555!!          websiteDomain   0  k  0  j                 websiteID   B         j   [          5 5!!          sendRequest E    1    k                   _addInput f  !  T  !  k   5          55!!       !!   loadAnchors!!!!+   autocompleteWithPages!!!!'   onceAllImagesLoaded!!!!   prompt!!!!   sendRequest!!!!   websiteDomain!!    ;5 !!       C  i      -                                               r                    T  =    :    QT  =   : 5      QQT  =   :   QT  =   :    QT  =   :    QT  =   : W   QT  =    QV   5   W  QV   5	   
   
   [      
   
[       5   V   5	   5   5   D   Q[   [   =   ]   =   ]   =   ]   =   ]   : ]      
   
[   V   5	   5   5   D   Q[   [   =   ]   =   ]   =   ]   =   ]   : ]      ]      ]       ]!   	   ]"   
   ]#      ]$      ]%      ]&      ]'      ](      ]      ]      ]      ]      ])      ]      ]      ]      ]*   : W  Q[   V  ]+   V  ],   ,-:Fb-D4  $Q'.26    YX   %x +   f    j(|  ABr 0*    web.ajax   web.core   _t   web.Dialog7   web.KeyboardNavigationMixin   web.session   web.public.root   web.zoomodoo%   publicRootRegistry   PublicRoot   extend   _   events   prototype%   _onLangChangeClick+   click .js_change_lang%   _onPublishBtnClickY   click .js_publish_management .js_publish_btn!   _onWebsiteSwitch=   click .js_multi_website_switch   _onModalShown   shown.bs.modal   custom_events#   _onGMapAPIRequest!   gmap_api_request)   _onGMapAPIKeyRequest)   gmap_api_key_request+   _onWidgetsStopRequest/   ready_to_clean_for_save'   _onSeoObjectRequest%   seo_object_request	   init   start   destroy   _getContext!   _getExtraContext   _getGMapAPIKey3   _getPublicWidgetsRegistry   _loadGMapAPI#   _toggleFullscreen-   _onWidgetsStartRequest+   _unslugHtmlDataObject   _onKeyDown   WebsiteRoot'   websiteRootRegistry!!      require   Dialog   publicRootData'   websiteRootRegistry   WebsiteRoot      !!       	   ajax   _t/   KeyboardNavigationMixin   session          +H!!            !!            !!       !!+   click .js_change_lang!!!!Y   click .js_publish_management .js_publish_btn!!!!=   click .js_multi_website_switch!!!!   shown.bs.modal!!    !!            !!            !!       !!!   gmap_api_request!!!!)   gmap_api_key_request!!!!/   ready_to_clean_for_save!!!!%   seo_object_request!!    !!      	   init@           "                                      Z    Z  r        
       	W   QW  QV  B0    Q      5      
V  [    B]   l QV     
Z    >V   -
  5   
   m5   _,  ,  :   5    Q) (@@!    isFullscreen	   init	   call   autoAccessKeys   _super	   next   value	   done!!      arguments   .this         +H!!       !!   autoAccessKeys!!    ;   o   !          5 !!         startC           3                                      i  C  a  C  r          	       	W  QW  Q    5       
V  l QV     
=   :     l   V     
=   : W   Q            
V       : :    
=	   :    QV   
   
    QV     
=   :    
  QV  5      
V  V  O  )&8?#"    start	   call   $   .js_change_lang   lengthS   .js_language_selector a:not([data-oe-id])   _   min	   attr	   href	   each1   .zoomable img[data-zoom]   zoomOdoo   _super   apply!!      $links   m   arguments   .this        +H!!           start/m<b   <    <  r   ;         5 !!          start/<b  `    X    r            5;5!!         destroy@                                                K    D    s   `      
       	W   QW  Q      5       
V  l QV     
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)c+@!    destroy	   call   _super	   next   value	   done!!      arguments   .this         +H;   Y   !          5!!         _getContextC f      	                            
             G    G  s         
       	W  QW  Q    5   W   Q      
[    V      
=   : >]   V  5      
V  V  O :   )c    document   documentElement   _   extend   getAttribute   data-website-id   website_id   _super   apply!!      context	   html   arguments   .this       +H!!       !!   website_id!!    ;       5 !!      !   _getExtraContextC          /                                    a  f  Y  f  s   v     
       	W  QW  Q    5   W   Q      
[    V   5   5   D   Q      =   :      ]   V   5   5	     ]	   V   5   5
     ]
   V  5      
V  V  O :  "R      document   documentElement   _   extend   dataset   editable   $   [data-oe-model]   length   translatable#   edit_translations   _super   apply!!      context	   html   arguments   .this       +H!!       !!   editable!!!!   translatable!!!!#   edit_translations!!    ;       5 !!         _getGMapAPIKey@ k                                 
           {  q  g  q  s                     Q      Q   D   Q   5     %         A    ,  R 0    Q   5          s     _gmapAPIKeyProm   Promise!!      refetch   .generator   .this       +H!!        I   _getGMapAPIKey/this._gmapAPIKeyProm<d"   P    P  s            5 ;   5!!      3   _getPublicWidgetsRegistryC Z                                                _    _  t                 	W  QW  QV  5       
V  V  O W   QT  5            
V       : V   N	"    _super   apply   editableMode   _	   pick!!      options   registry   arguments   .this       +H!!        7   _getPublicWidgetsRegistry/<b   J    J  t             5;5!!         _loadGMapAPI@ k                                 
           r    `    u                     Q      Q   D   Q   5     %         A    ,  R 0    Q   5          xu;x    _gmapAPILoading   Promise!!      editableMode   refetch   .generator   .this       +H!!        E   _loadGMapAPI/this._gmapAPILoading<d"         u      T          resolve    key    /   odoo_gmap_api_post_loadD  P    *    u     &       5 5;   5!!      #   _toggleFullscreen@          *                                            x                 W   Q   V   T  0    Q   5   5      
=    Q   5   5      
=   V   5     Q   5   5   =	   0
   QC   Q      
     Q   Q      Q      Q   5      
=       Q      
   X Q67A+  f  @*    isFullscreen   document	   body   classList   add/   o_fullscreen_transition   toggle   o_fullscreen   style   hidden   overflowX   window+   requestAnimationFrame!   addEventListener   transitionend   setTimeout!!      state   .this       !!          resizing   stopResizing   onTransitionEnd         +H!!         resizeFunctionB    =    =  x   4  0       5 !!         onTransitionEndD# f    f    x             5 !!         stopResizingD#    |    |  x   )         5 !!      '   _toggleFullscreen/<d"          x   /         5;         5!!      -   _onWidgetsStartRequestC                                            "          x   h            	W   QW  QT  5          
T  5    5   D   Q[    : 0   QT  5    5   T  5    5   0   QV  5      
V  V   O Q m2" 	   data   _   clone   options   editableMode   _super   apply!!      ev   arguments   .this       +H!!            ;      5 !!      %   _onLangChangeClickC           1                                             x        	       T      
  Q      T  5   : W   Q[   V      
=   : ]         V      
=   : 	   
    =
   : : ]            5   5   : ]   W  Q   5      5      
=   V  : 0   Q 
S*C    preventDefault   $   currentTarget	   data   url_code	   lang%   encodeURIComponent	   attr	   href   replace      url   window   location	   hash   _   str   sprintfQ   /website/lang/%(lang)s?r=%(url)s%(hash)s!!      ev   $target   redirect       +H!!7   [&?]edit_translations[^&?]+    !!       !!	   lang!!!!   url!!!!	   hash!!    ;       5 !!      #   _onGMapAPIRequest@                                                     x   g                Q        Q      
  Q     
  5   5     5   5   :            Q  5      
    Q    k8    stopPropagation   _loadGMapAPI	   data   editableMode   refetch   onSuccess!!      ev   .generator   .this       !!          apiKey            +H;      }      f   5 !!      )   _onGMapAPIKeyRequest@                                                     x                   Q        Q      
  Q     
  5   5   :            Q  5      
    Q    %    stopPropagation   _getGMapAPIKey	   data   refetch   onSuccess!!      ev   .generator   .this       !!          apiKey            +H;      n      W   5 !!      '   _onSeoObjectRequestC 6                                              ,  y  $  y  x               W  QV      
=   : W   QT  5      
V    Q ) +   _unslugHtmlDataObject   seo-object	   data   callback!!      ev   res   .this       +H;       5 !!      +   _unslugHtmlDataObjectC v          *                                       6    6  x                       =   :    
T  : W   QV   E   QV      
    : W  QV      @[   V  ?7]   V  7>]    
!&    $	   html	   data   match   model   id!!      dataAttr	   repr   match       +H!!%   (.+)\((\d+),(.*)\)    !!       !!   model!!!!   id!!    ;        5 !!      %   _onPublishBtnClickC         O                                     R    J    y                 W   QT      
  Q   5   5      
=   :    V      Q      T  5   :    
=	   :    QV   
   
[         
=   : D   Q=   ]   [          
=   : #]         
=   : ]   ]   :    
   :    
    QH3|  z(-| |      preventDefault   document	   body   classList   contains   editor_enable   $   currentTarget   parents9   .js_publish_management:first	   _rpc	   data   controller!   /website/publish   route   id   object   params	   then   guardedCatch!!      ev	   self   $data   .this      +H!!       !!   id!!!!   object!!    !!       !!   route!!!!   params!!    !!        )   _onPublishBtnClick/<b         z              5!!       )   _onPublishBtnClick/<b         z   e         5 ;5!!      !   _onWebsiteSwitchC           *                                       C    C  |         
       T  5       
=   : W   QT  5       
=   : W  Q   5   5   W  QV  E   Q   5   5   V  IH      5   5      5   5	      5   5
   W  QV  V  W  Q   5      5      
V  [    V   ]   : 0   Q  
0,@J.*    currentTarget   getAttribute   website-id   domain   window   location	   href   hostname   pathname   search	   hash   $   param   querystring   fw!!      ev   websiteId   websiteDomain   url	   path       +H!!       !!   fw!!    ;        5!!         _onModalShownC &                                                Z    R    }   W                      T  5   :    
=    Q\    $   target   addClass   modal_shown!!      ev        +H;       5 !!         _onKeyDown@          5                                             }                	W   QW  Q      5        T  5      5   5   5   IDB   Q   5      
T  5   :  D   QT  5   	   
=
   : (         5      
V  V   O V     
V  5     Q  +~%#++    user_id   keyCode   $   ui   ESCAPE   document	   body   contains   target   closest   .modal   _onKeyDown   apply#   _toggleFullscreen   isFullscreen!!      ev   arguments   .this       +H;3       5 !!       !!   events!!!!   custom_events!!!!	   init!!!!   start!!!!   destroy!!!!   _getContext!!!!!   _getExtraContext!!!!   _getGMapAPIKey!!!!3   _getPublicWidgetsRegistry!!!!   _loadGMapAPI!!!!#   _toggleFullscreen!!!!-   _onWidgetsStartRequest!!!!%   _onLangChangeClick!!!!#   _onGMapAPIRequest!!!!)   _onGMapAPIKeyRequest!!!!'   _onSeoObjectRequest!!!!+   _unslugHtmlDataObject!!!!%   _onPublishBtnClick!!!!!   _onWebsiteSwitch!!!!   _onModalShown!!!!   _onKeyDown!!    !!       !!   WebsiteRoot!!!!'   websiteRootRegistry!!    ;      c      f         5!!       C           C                         #            q  i  i  i                   T  =     Q      
   5       : W   Q   5   5   E.   Q   5   5      
   =   : #   =	   W   QV   =
      5   5   W   Q   W  QV     
   5   5      
:  :    V   =   W   Q   5      
=   V    Q   5   5   W  Q=   V  qD"   Q=   V  qD   Q=   V  qW  QV   %      5      
=   =    Q[   V   ]   V  ]   K3;%M<B-g"    web.dom_ready   _   findKey   $   browser   mozilla   version   replace   $1	   msie   ,	   test   window   navigator   userAgent   toLowerCase   ,mobile   document   documentElement   setAttribute   data-browser   style   flexWrap   WebkitFlexWrap   msFlexWrap   data-no-flex      isFlexSupported!!      require   browser   mobileRegex   htmlStyle   isFlexSupported       +H!!          browser<c                                                                             T  CH   !!      v        +H;       5!!'   ^([0-9]+\.[0-9]+).*    !!{   android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini   !!       !!   browser!!!!   isFlexSupported!!    ;5!!       C        ;         7                 )                                            QT  =    :    QT  =   :   QT  =   : W   QT  =   :   QT  =   : W  QZ       QV  5      
[   B]   Z   [    =   ]	   =
   ]   `    [   =   ]	   =   ]   `   ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]
      ]   :   QV   5   V     
[   =   ]      ]      ]      ]      ]
   : 0   QV   5   V     
[   =   ]      ]
   : 0   QV   5   5      
[      ]      ]      ]      ]      ]       ]
   :   QV   5   V     
[   =!   ]      ]      ]    : 0"   QV   5   V     
["   =#   ]       ]   !   ]    : 0$   QV   5   V   5%      
[%   =&   ]   B]   #   ]   $   ]   : 0'   QV   5   V   5%      
[*   =(   ]   B]   [&   =)   ]*   ]+   '   ]   (   ],   )   ])   : 0-   QV   5   V  5      
[1   =.   ]   B]   Z   [+   =   ]	   =/   ]   `    ]   [,   =0   ]1   =2   ]3   ]+   -   ]   .   ]/   /   ]0   0   ]2   : 04   QV   5   V   5%      
[5   =&   ]   [2   =5   ]6   =7   ]8   ]+   3   ]5   4   ]7   : 09   Q[6      ]:   4!4"0	!"o   ^     Fl   J G;^e;  =! A  JB9B!0H&cX (C$Wf =?#S     @'    ?0E'	')        X  E8>G	 F4    web.config   web.dom#   web.public.widget   website.utilsE   website.content.snippets.animation   Animation   extend-   disabledInEditableMode   scroll   startEvents+   _updateHeaderOnScroll   update   resize+   _updateHeaderOnResize   effects	   init   start   destroy3   _adaptFixedHeaderPosition)   _adaptToHeaderChange1   _adaptToHeaderChangeLoop   _computeTopGap   _isShown%   _toggleFixedHeader+   _updateMainPaddingTop   registry_   header.o_header_standard:not(.o_header_sidebar)   selector+   StandardAffixedHeader+   header.o_header_fixed   FixedHeader   _hideHeader   _showHeader5   header.o_header_disappears%   DisappearingHeader1   header.o_header_fade_out   FadeOutHeader   Widget   header#top   autohideMenu'   header .navbar .nav   _onDropdownShow!   show.bs.dropdown   events   _checkOpening   menuDirection7   header.o_hoverable_dropdown   _dropdownHover   _onMouseEnter)   mouseenter .dropdown   _onMouseLeave)   mouseleave .dropdown#   hoverableDropdown   _onCollapseShowG   show.bs.collapse #top_menu_collapse#   _onCollapseHiddenK   hidden.bs.collapse #top_menu_collapse%   HeaderMainCollapse1   extraMenuUpdateCallbacks!!      require   dom   publicWidget   wUtils   animations      !!          config1   extraMenuUpdateCallbacks%   BaseAnimatedHeader-   BaseDisappearingHeader          +H!!       !!   startEvents!!!!   update!!    !!       !!   startEvents!!!!   update!!    !!      	   initC                                                  2    2     	     
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  B0   QV  >0   QV  B0   Q @!    _super	   next   value	   done   fixedHeader   scrolledPoint   hasScrolled!!      arguments   .this         +H;   ;   !          5 !!         startC          B                        -             A  8  9  8            	       	W   Q   Q      5       
=   : 0   Q      5       
=   :      0   Q      5       
=	   : 0
   Q      5       
=   : 0   Q   5      
=       :    
=       Q   >0   Q   5       
=       Q   5       
=       Q      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q) |F+"  g\V@!    $el	   next	   main   $main   closestU   .o_header_overlay, .o_header_overlay_theme   length   isOverlayHeader	   find3   .dropdown, .dropdown-menu   $dropdowns!   .navbar-collapse!   $navbarCollapses   onG   show.bs.collapse.BaseAnimatedHeaderG   hide.bs.collapse.BaseAnimatedHeader!   _transitionCountO   odoo-transitionstart.BaseAnimatedHeaderA   transitionend.BaseAnimatedHeader   _super   value	   done!!      arguments   .this        +H!!          start/<b  |    t                 5 !!          start/<b    J    J     N         5!!          start/<d"                      5!!          start/<d"             '         5;   S  !   5 !!         destroyC           !                                     I  0  A  0          
       	W   QW  QV      
B QV  5      
=    QV  5      
=    QV  5      
=    QV     
Z    >V   -
  5   
   m5	   _,  ,  :   5
    Q)Q U1$@! %   _toggleFixedHeader   $el   removeClassy   o_header_affixed o_header_is_scrolled o_header_no_transition!   $navbarCollapses   off'   .BaseAnimatedHeader   _super	   next   value	   done!!      arguments   .this         +H;      !          5!!      3   _adaptFixedHeaderPosition@  /         	                                      J    1                   W   Q      
V   5   V   5   B=    Q @ '   compensateScrollbar   el   fixedHeader   right!!      .this         +H;       5 !!      )   _adaptToHeaderChangeC          5                                      [    [                 W   QV       
  QV   5   5      
=   V   5   E   QV      
:   Q  Q      -
  5   
   m  QQ:   5      Q   5	     QV    Q]   v,  IM   ,  
   IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp Bh  A@  RP,& +   _updateMainPaddingTop   el   classList   toggle'   o_top_fixed_element   fixedHeader   _isShown	   next	   done   value   return!!      .this         !!          callback          +H;                 C                y         R      2       5!!      1   _adaptToHeaderChangeLoopC        	   ,                                      }  !  u  !                      Q   QT  H   Q>   Q       
  Q   5   V   0   Q         
>   5   : 0   Q   5   >g         
     QV   >I?            5    Q            X: 0   Q            5    Q  "B$T% )   _adaptToHeaderChange!   _transitionCount	   Math   max   window+   requestAnimationFrame   clearTimeout!   _changeLoopTimer   setTimeout!!      addCount   .this     +H!!        5   _adaptToHeaderChangeLoop/<d"  7  Z  7  Z     o         5 !!       _   _adaptToHeaderChangeLoop/this._changeLoopTimer<d"                      5;5!!         _computeTopGap@                                                     0  =  "  =     h	             > 	k	 !!              +H;       5!!         _isShown@                                                     F  V  >  V     ~	             C 	 !!              +H;       5!!      %   _toggleFixedHeaderC o                                                r    j       	               QW  QT  H   QC   QV  V   0    QV     
  QV  5   5      
=   V    QV     
  Q 	6!    fixedHeader)   _adaptToHeaderChange   el   classList   toggle!   o_header_affixed3   _adaptFixedHeaderPosition!!      useFixed   .this      +H;"       5!!      +   _updateMainPaddingTopC           #                                      /    '       g
            W   QV   V   5       
:  0   QV   V      
:  0   QV   5      V   5      
=   V   5	      V   5      =
    Q 
jDD    $el   outerHeight   headerHeight   _computeTopGap   topGap   isOverlayHeader   $main   css   padding-top   fixedHeader   !!      .this         +H;"       5!!      +   _updateHeaderOnScrollC          /                                               d             W   Q  QV   5     ;   V   C0    QT  >   V   5      
=    Q   V   5      
=    QT  V   5     QV   5   V  IO   V   5   5   	   
=
   V   QV   5      
=    QV   V  0   QV   5      
=    QV   5      
=   :    
=   B Ql3--B)$*    hasScrolled   $el   addClass-   o_header_no_transition   removeClass   scrolledPoint!   headerIsScrolled   el   classList   toggle)   o_header_is_scrolled   trigger)   odoo-transitionstart   $dropdowns	   show!   $navbarCollapses	   attr   aria-expanded!!      scroll   .this       !!       !   headerIsScrolled          +H;        R       5!!      +   _updateHeaderOnResizeC                                                 '                        W   QV       
  Q   5   5      
=   : E0   Q      5   5      5   5   5	   M      5   5   
   
=    QV   5      
=   :    
=    Q  !f2" 3   _adaptFixedHeaderPosition   document	   body   classList   contains   overflow-hidden   device   size_class   SIZES   SM   remove   $el	   find!   .navbar-collapse   removeClass	   show!!      .this         +H;"       5!!       !!-   disabledInEditableMode!!!!   effects!!!!	   init!!!!   start!!!!   destroy!!!!3   _adaptFixedHeaderPosition!!!!)   _adaptToHeaderChange!!!!1   _adaptToHeaderChangeLoop!!!!   _computeTopGap!!!!   _isShown!!!!%   _toggleFixedHeader!!!!+   _updateMainPaddingTop!!!!+   _updateHeaderOnScroll!!!!+   _updateHeaderOnResize!!    !!       	   initC                                                                
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  B0   QV  X,0   Q @!    _super	   next   value	   done   fixedHeaderShow   scrolledPoint!!      arguments   .this         +H;   ;   !          5!!         startC  F                                                 f    f     s            	W   QW  QV  V  5       
:  0   QV  5      
V  V   O  v"    $el   outerHeight   headerHeight   _super   apply!!      arguments   .this         +H;       5 !!         _isShown@  #                                               o    g                   W   QV   5     D   QV   5    (    fixedHeader   fixedHeaderShow!!      .this         +H;       5 !!      +   _updateHeaderOnScrollC         C                                              #            	W   QW  Q    QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QT  V  5   V  5     QT  V  5   V  5     QV  5   V  I_   V  5   	   
=
   V     =      =    QV  5   >75   (QV     
V   QV  5   V  Ih   V  5   	   
=
   V  !   =   V  5   =      =    QV  V  0   QV     
  Q +@! =9'C,;c&    _super	   next   value	   done   headerHeight   topGap   scrolledPoint   fixedHeader   $el   css   transform'   translate(0, -100%)      offsetWidth%   _toggleFixedHeader   fixedHeaderShow   translate(0, -   px))   _adaptToHeaderChange!!      scroll   arguments   .this       !!          mainPosScrolled!   reachPosScrolled          +H;   E   !           3       5!!       !!   selector!!!!	   init!!!!   start!!!!   _isShown!!!!+   _updateHeaderOnScroll!!    !!      +   _updateHeaderOnScrollC =        ;                                    d    \       S     
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QT  V  5   V  5   |   V  5      
=   :  W   V  5   	   
=
   =   V  5   =    QV  5   >75   (QV     
C QF   V     
B QV  5   >75   (QV  5   	   
=
   =    Q \@!,'*<%    _super	   next   value	   done   scrolledPoint   topGap   $el   hasClass!   o_header_affixed   css   transform   translate(0, -   px)   offsetWidth%   _toggleFixedHeader   !!      scroll   arguments   .this       +H;   ;   !   C       5!!       !!   selector!!!!+   _updateHeaderOnScroll!!    !!       	   initC        
   '                                                     
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  C0   QV  B0   QV  >0   QV  C0   QV  >0   QV  X 0	   Q @!    _super	   next   value	   done%   scrollingDownwards   hiddenHeader   position   atTop   checkPoint#   scrollOffsetLimit!!      arguments   .this         +H;   ;   !          5!!         destroyC  8                                             "                        	W   QW  QV      
  QV  5      
V  V   O Q "    _showHeader   _super   apply!!      arguments   .this         +H;      5 !!         _hideHeaderC            	                                        ;    ;                 W   QV   5       
=    Q  )    $el   trigger)   odoo-transitionstart!!      .this         +H;       5 !!         _isShown@  $                                               D  t  <  t     3            W   QV   5     D   QV   5     6    fixedHeader   hiddenHeader!!      .this         +H;       5!!         _showHeaderC            	                                                 x            W   QV   5       
=    Q {)    $el   trigger)   odoo-transitionstart!!      .this         +H;       5 !!      +   _updateHeaderOnScrollC         R                                     '    '                 	W   QW  Q    QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QT  V  5     QT  >  QV  V  5   I   V  T  0   QV  V  0   QV  T  0   QV  V  0   QV  _   V  5    E(   QT  V  5   V  5	   V  5
       V  C0   QV     
  Q\   V  5   E,   QT  V  5   V  5	   V  5
   "    V  B0   QV     
  QV  E   QV  5       V     
  Q @! 01+Q-)
    _super	   next   value	   done   position%   scrollingDownwards   checkPoint   atTop   hiddenHeader#   scrollOffsetLimit   topGap   _hideHeader   _showHeader!!      scroll   arguments   .this       !!       %   scrollingDownwards   atTop          +H;   E   !           s       5 !!       !!	   init!!!!   destroy!!!!   _hideHeader!!!!   _isShown!!!!   _showHeader!!!!+   _updateHeaderOnScroll!!    !!         _hideHeaderC                                                                 
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  5      
=   =    Q  @!0    _super	   next   value	   done   $el   css   transform'   translate(0, -100%)!!      arguments   .this         +H;   ;   !          5!!         _showHeaderC           "                                       x    x          
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  5      
=   V  5      =      =	   V  5
   =    Q @!8J    _super	   next   value	   done   $el   css   transform   atTop      translate(0, -   topGap   px)!!      arguments   .this         +H;   ;   !          5 !!       !!   selector!!!!   _hideHeader!!!!   _showHeader!!    !!         _hideHeaderC                                                  9    9          
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  5      
BC:    
  Q @!
    _super	   next   value	   done   $el	   stop   fadeOut!!      arguments   .this         +H;   ;   !          5!!         _showHeaderC           '                                     N    F       S     
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  5      
=   V  5      =      =	   V  5
   =    QV  5      
BC:    
  Q V@!8J	    _super	   next   value	   done   $el   css   transform   atTop      translate(0, -   topGap   px)	   stop   fadeIn!!      arguments   .this         +H;   ;   !          5!!       !!   selector!!!!   _hideHeader!!!!   _showHeader!!    !!         start@          [                       4           ( Z  }  O  }                    	   Q   Q      Q       
Z    >   -
  5   
   m5   _,  ,  :   5    Q)         Q         
=   : 0   Q      5      
=	   : 0
   Q   5
            
      
=   :       
=   : :          Q         :    Q      
=        Q     
   5   [   =   ]    Q   5      
=    Q   5      
=    Q      b@!#!  
G$,%    _super	   next   value	   done   $   #top_menu   $topMenu   $el   is'   .o_no_autohide_menu   noAutohide'   onceAllImagesLoaded   .navbar   .o_mega_menu, .o_offcanvas_logo_container, .dropdown-menu .o_lang_flag   window   on#   load.autohideMenu!   initAutoMoreMenuY   .divider, .divider ~ li, .o_no_autohide_item   unfoldable   removeClass   o_menu_loading   trigger   menu_loaded!!      $window   .generator   arguments   .this         +H!!          start/<b                      5!!       !!   unfoldable!!    ;   K   !         &  5 !!         destroy@                                                     ~       Z      
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  5    A            :    
=    Q  	   
V  5
    Q]@!
(    _super	   next   value	   done   noAutohide   $   window   off   .autohideMenu'   destroyAutoMoreMenu   $topMenu!!      arguments   .this         +H;   ;   !   #       5 !!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!    !!       !!!   show.bs.dropdown!!    !!         startC  b                                                 4    4                 	W   QW  QV  V  5       
=   :    =      =   0   QV  5      
V  V   O  5"    $el   is-   .ml-auto, .ml-auto ~ *   right	   left!   defaultAlignment   _super   apply!!      arguments   .this         +H;       5!!         _checkOpeningC 1                                                 K    C                     T  =    H   T T T    T T T > QS' 	   left!!      alignment   liOffset   liWidth   menuWidth   pageWidth        +H;0       5 !!         _onDropdownShowC w        a                                                  	          W  Q        T  5   : W   QV      
=   : W  QV      
:  5   W  QV      
:  W  QV     
:  W  Q        =   :    
:  W  QV     
=	    QV  5
   W  QV      
=   :    >H   =   W  Q>W  Q c   mV     
V  V  V  V  V  :  ,   V  =   H   =      =   W  QV  #W  QQV  V     
=   V   Q #	

@ $&cUlD+    $   target   children   .dropdown-menu   offset	   left   outerWidth   #wrapwrap   removeClassM   dropdown-menu-left dropdown-menu-right!   defaultAlignment   nextAll   :visible   length   right   _checkOpening   addClass   dropdown-menu-!!
      ev   $li   $menu   liOffset   liWidth   menuWidth   pageWidth   alignment   i   .this    	   +H;       l   B       5!!       !!   selector!!!!-   disabledInEditableMode!!!!   events!!!!   start!!!!   _checkOpening!!!!   _onDropdownShow!!    !!       !!   startEvents!!!!   update!!    !!       !!)   mouseenter .dropdown!!!!)   mouseleave .dropdown!!    !!         startC  |      	                                         L    D       Y            	W   QW  QV  V  5       
=   : 0   QV  V  5       
=   : 0   QV     
  QV  5      
V  V   O  \ ""    $el	   find   .dropdown-menu   $dropdownMenus!   .dropdown-toggle!   $dropdownToggles   _dropdownHover   _super   apply!!      arguments   .this         +H;       5 !!         _dropdownHoverC                                                                         W   Q      5    5      5    5   5   G   V   5      
=   =    QV   5      
=   =	    QB   V   5      
=   =
    QV   5      
=   =
    Q #4*-)#    device   size_class   SIZES   SM   $dropdownMenus   css   margin-top   0   top   unset   !!      .this         +H;2       5 !!         _onMouseEnterC          *                                                             W   Q  Q      5    5      5    5   5   
         T  5   :   QV     
=    QV     
V   5	   : 
   
=   =    QV     
V   5   :    
=    Q 5  O
&$    device   size_class   SIZES   SM   $   currentTarget   addClass	   show	   find!   $dropdownToggles	   attr   aria-expanded	   true   $dropdownMenus!!      ev   .this       !!          $dropdown          +H;             >          "       5 !!         _onMouseLeaveC          *                                                            W   Q  Q      5    5      5    5   5   
         T  5   :   QV     
=    QV     
V   5	   : 
   
=   =    QV     
V   5   :    
=    Q  5  H
&$    device   size_class   SIZES   SM   $   currentTarget   removeClass	   show	   find!   $dropdownToggles	   attr   aria-expanded   false   $dropdownMenus!!      ev   .this       !!          $dropdown          +H;             >          "       5 !!       !!   selector!!!!-   disabledInEditableMode!!!!   effects!!!!   events!!!!   start!!!!   _dropdownHover!!!!   _onMouseEnter!!!!   _onMouseLeave!!    !!       !!G   show.bs.collapse #top_menu_collapse!!!!K   hidden.bs.collapse #top_menu_collapse!!    !!         _onCollapseShow@  %         	                                        <    <                 W   QV   5    5      
=    Q 3    el   classList   add3   o_top_menu_collapse_shown!!      .this         +H;       5 !!      #   _onCollapseHidden@  %         	                                      N    =                   W   QV   5    5      
=    Q 6    el   classList   remove3   o_top_menu_collapse_shown!!      .this         +H;       5!!       !!   selector!!!!   events!!!!   _onCollapseShow!!!!#   _onCollapseHidden!!    !!       !!1   extraMenuUpdateCallbacks!!    ;                     5!!       C  =      Z   2      <                 M            n  " f  "                     T  =    : W   QT  =   :   QT  =   : W  QT  =   :    QT  =   :   QT  =   : W  QT  =   :   QV  5     Q      5	   DD   Q   5
   D3   Q   5   D"   Q   5   D   Q   5   0	   Q      5   DD   Q   5   D3   Q   5   D"   Q   5   D   Q   5   0   Q   5    D   Q   5   5           [       ]   0   QV  5      
[   C]   @]   @]      ]    QV      
  5   [      ]      ]      ]      ]      ]    	   ]!   
   ]"   :   QV  5      
[   d]#   Z    ]$      ]      ]%      ]&   : W  QV  5'   W  QV  V  5      
[   =(   ])   B]   [   =*   ]+   ]      ]      ]      ],      ]*   : 0-   QV  V     
[   =.   ])   B]   Z   [   =/   ]0   =1   ]2   `    ]$      ]      ]      ]3      ]1   : 04   QV  V  5      
[   =5   ])      ]   : 06   QV  V  5      
["   =7   ])   Z   =8   `    ]9   B]      ]      ]       ]:   !   ];   : 0<   QV  V  5      
[(   ==   ])   Z   =>   `    ]9   [#   =?   ]@   ]A   $   ]B   %   ]C   &   ]D   '   ]?   : 0E   QV  V  5      
[-   =F   ])   [)   =G   ]H   ]A   *   ]I   +   ]J   ,   ]G   : 0K   QV  V  5      
[2   =L   ])   B]   .   ]   /   ]   0   ]M   1   ]N   : 0O   QV  V  5K      
[4   =P   ])   3   ]G   : 0Q   QV  V  5      
[7   =R   ])   B]   5   ]   6   ]   : 0S   QV  V  5      
[:   =T   ])   [8   =U   ]V   ]A   9   ]U   : 0W   Q[;   V  5   ]   V  ]X   V  ]'   V  ]Y   B!     a3  I w{a   q    &        ,(   M      $	  \ V      0 r58reY      1-        11"  !=6!#ty  W *3  4-#  f9]<C 2    web.Class   web.config   web.core   web.dom   web.mixins#   web.public.widget   web.utils	   qweb   window+   requestAnimationFrame7   webkitRequestAnimationFrame1   mozRequestAnimationFrame/   msRequestAnimationFrame-   oRequestAnimationFrame)   cancelAnimationFrame5   webkitCancelAnimationFrame/   mozCancelAnimationFrame-   msCancelAnimationFrame+   oCancelAnimationFrame   performance   now   Widget   include-   disabledInEditableMode   edit_events   read_events	   init   extend   ParentedMixin   destroy   start	   stop	   play   pause   _update   maxFPS   effects   _prepareEffects   _addEffect   registry   .carousel   selector#   _onContentChanged   content_changed   _computeHeights   slider   .parallax   scroll   startEvents   _onWindowScroll   update   _rebuild   Parallax'   .media_iframe_video   mediaVideo'   .o_background_videoi   /website/static/src/xml/website.background.video.xml   xmlDependencies   _adjustIframe   _appendBgVideo   backgroundVideo!   .oe_social_shareS   /website/static/src/xml/website.share.xml   _onMouseEnter   mouseenter   events!   _bindSocialEvent   _render   _renderSocial   socialShareK   a[href^="/"][href*="#"], a[href^="#"]   _onAnimateClick   click   _scrollTo'   _computeExtraOffset   anchorSlide+   .o_full_screen_height   _adaptSize'   _computeIdealHeight!   FullScreenHeight!   .o_scroll_button   ScrollButtonC   #wrapwrap:has(.o_footer_slideout)   FooterSlideout   header:has(.o_header_hamburger_full_toggler):not(:has(.o_offcanvas_menu_toggler))   _onToggleClickM   click .o_header_hamburger_full_toggler'   HeaderHamburgerFull   Animation   Class!!      require   Class   config	   core   mixins   publicWidget   utils	   qweb   AnimationEffect   Animation   registry      !!          dom          +H!!         nowB  G  ]  ?  ]              5!!       !!   now!!    !!       	   initC       	                                     "            h      	       	W  QW  QV  5       
V  V  O QV  V  5   5   D   QB0   QV  5      V  5      V  5   W   QV   >   V        
[    V  5   D   Q[   V   : 0   Qy"7@*    _super   apply   options   editableMode   edit_events   read_events   _   extend   events!!      parent   options   extraEvents   arguments   .this       +H!!            !!            ;#      5!!       !!-   disabledInEditableMode!!!!   edit_events!!!!   read_events!!!!	   init!!    !!      	   initC         ~                        6                                     W  Q    W   Q  5    5      
V  l QV     
T   QT D   Q[   U QV  XT 5   D	   Qd0   QV  T 0   QV  T D   Q=   0   QV  	   	   T    T ?   V  5   =   H$   	   	   :  
   
:  >7      : 0   QT 5      V  T 5   0   Q   V  5   =   HE,   QV  5   >7	   	   :  
   
:  >7H/      V  5      QV     0   QX   V  5   =   HE   QV  5   >7   H   V     0   Q   V     0   QV  T 5   D   QB0   QV  T 5       	   	   T 5   :    V  5   0   QV  V  5      
T  : 0   QV  V  5      
T  : 0   QV  =         
:  0   QV  V   V  5   V  5   : 0   QV  5   *   V  V   V  5   V  5   : 0   Q %.$'J]67I?e(#("$+      ParentedMixin	   init	   call   setParent   maxFPS   _minFrameTime   _updateCallback   scroll   startEvents   $'   getScrollingElement   window   $startTarget!   getStateCallback#   _getStateCallback   resize   endEvents   $endTarget	   bind!   _animationEffect   _   uniqueId	   _uid!!      parent   updateCallback   startEvents   $startTarget   options   _processEvents   .this       !!          $scrollable          +H!!           _processEvents               0          events    namespace   B [    S       `          5 5!!            !!      7   init/this._getStateCallbackb  ^    V                5!!       7   init/this._getStateCallbackb    %    %              5!!       7   init/this._getStateCallbackb  K  `  C  `              5;   k     5!!         destroyC  4                                                                       W   Q  5    5      
V   l QV      
  Q  (    ParentedMixin   destroy	   call	   stop!!      .this         +H;       5!!         startC          G                                        S    S            
       W   QV   B0    QV         
       
V   : : 0   QV   5   k   V   5      
V   5         
V   :  QV   5	      
V   5         
V   :  QZ   @   QV   5      
V   5   
      
      
V   : X [   B]   :  Q  [[htcy  _      _paused   window+   requestAnimationFrame	   bind   _rafID   endEvents   $startTarget   on   startEvents   $endTarget   _   throttle   trailing!!      pauseTimer   .this        +H!!       %   start/this._rafID<b 3  Z  +  Z     8         5 !!          start/<b              "       5 !!          start/<b    P    P       "       5 !!          start/<b   -    -                B                      5 5!!       !!   trailing!!    ;5!!      	   stopC  `                                               a    Y       f            W   QV   5       
V   5    QV   5   #   V   5      
V   5    QV      
  Q i(    $startTarget   off   startEvents   endEvents   $endTarget   pause!!      .this         +H;"       5!!      	   playC q      	   %                                                             W   QV   T  0    QV   5       V   B0   QV         
V   5      
V   : : 0   QV      0   Q y)6$    _newEvent   _paused   window+   requestAnimationFrame   _update	   bind   _rafID   undefined)   _lastUpdateTimestamp!!      e   .this       +H;"       5 !!         pauseC  L                                                                       W   QV   5       V   C0    Q      
V   5    QV      0   Q  _)$    _paused   window)   cancelAnimationFrame   _rafID   undefined)   _lastUpdateTimestamp!!      .this         +H;"       5!!         _updateC >        _                                     (            q      	       W  QV  5       V        
V  5      
V  : : 0   Q>W   QV  5   .   T  V  5   W   QV   V  5      V     
V   V  5	   : W  QV  5	    E4   QV  
   IE#   Q      
V  V  5   :    V  V  0   QV     
V  5   V   V  5	    QV  T  0   QV  
   0	   Q}    ):0#    3-4  Q(J$    _paused   window+   requestAnimationFrame   _update	   bind   _rafID)   _lastUpdateTimestamp   _minFrameTime#   _getStateCallback   _newEvent   undefined   _   isEqual'   _animationLastState   _updateCallback!!      timestamp   elapsedTime   animationState   .this       +H;R       5 !!       !!	   init!!!!   destroy!!!!   start!!!!	   stop!!!!	   play!!!!   pause!!!!   _update!!    !!         startC  V                                  	               W    W                   	W   QW  QV      
  Q      
V  5        QV  5      
V  V   O  A"    _prepareEffects   _	   each#   _animationEffects   _super   apply!!      arguments   .this         +H!!           start/<b   +  
  +     B         5;5!!         _prepareEffectsC  >                                               p  1  h  1                   W   QV   Z    0    QV      Q      
V   5        Q 
 #   _animationEffects   _	   each   effects!!   	   self   .this        +H!!       #   _prepareEffects/<b   .    .                   _findTarget   -    -       0       55;5!!         _addEffectC 8                                              E    =       *             W   QV   5       
  AV   T  T T T ,  R  Q\g #   _animationEffects	   push!!      updateCallback   startEvents   $startTarget   options   .this       +H;       5 !!       !!   maxFPS!!!!   effects!!!!   start!!!!   _prepareEffects!!!!   _addEffect!!    !!       !!   content_changed!!    !!         startC           #                                                               	W   Q   Q       
=   :    
=        Q      
  Q   5      
   5      =      	    Q        
   :    
=         
   X :  Q   5      
   V   O  -;?"    $   img   on   load.slider   _computeHeights   $target   carousel   editableMode   pause   undefined   window   resize.slider   _   debounce   _super   apply!!      arguments   .this        +H!!          start/<d"                      5!!          start/<d"  _  y  _  y     D         5;5!!         destroyC           %                                    "                          	W   QW  QV  5       
V  V   O QV     
=   :    
=    QV  5      
=    QV  5   	   
=
    Q      
V     
=   :      Q         :    
=    Q "'K
    _super   apply   $   img   off   .slider   $target   carousel   pause   removeData   bs.carousel   _	   each   .carousel-item   window!!      arguments   .this         +H!!           destroy/<b k    c       P         5;5!!         _computeHeightsC  q                                  
                                      W  Q>   QV      
=   : W   QV      
=   =    Q      
V        QV      
=       Q (#    $   .carousel-item   css   min-height      _	   each!!      maxHeight   $items   .this        +H!!       #   _computeHeights/<b *    "                 5 ;5!!      #   _onContentChangedC                                               ,  I  $  I     g             W   QV       
  Ql    _computeHeights!!      ev   .this       +H;       5!!       !!   selector!!!!-   disabledInEditableMode!!!!   edit_events!!!!   start!!!!   destroy!!!!   _computeHeights!!!!#   _onContentChanged!!    !!       !!   startEvents!!!!   update!!    !!         startC        
                                           |    |     '     
       	W   QW  QV      
  Q         :    
=         
V  5       
V  : X:  QV  5   	   
V  V   O  *4I"    _rebuild   $   window   on3   resize.animation_parallax   _   debounce	   bind   _super   apply!!      arguments   .this         +H;       5 !!         destroyC  K                                             "                        	W   QW  QV  5       
V  V   O Q         :    
=    Q "
    _super   apply   $   window   off'   .animation_parallax!!      arguments   .this         +H;      5!!         _rebuildC          q                        *              3   3    %     	       W  Q  QV  V      
=   : 0   QV        V  5      
=   : D   Q>: 0   QV  5   >HD   QV  5   ?HW   QV   A   V  5      
[    =	   ]
   =	   ]   =	   ]    QV     5   5           =   :    
:  5   0   QV  Z   V  5      
:  5   `    0   QV  5      
V  5   >7V  5      
:  V  5    QV  V  5   V  5   
0   Q      
V  5   :   QV  5      
[   V  "]   V  "]    Q '	E1/ T)*T/:    $!   > .s_parallax_bg   $bg   parseFloat   $target	   attr9   data-scroll-background-ratio   speed   css      transform   top   bottom   document	   body   clientHeight   #wrapwrap   position   viewport   offset   visibleArea	   push   innerHeight   ratio	   Math   abs!!      noParallaxSpeed   .this         !!          absoluteRatio          +H!!       !!   transform!!!!   top!!!!   bottom!!    !!       !!   top!!!!   bottom!!    ;                      "       5!!         _onWindowScrollC       	   /                                     L  D                   W  Q    W  QV  5    >HD   QV  5    ?H   T  V  5   W   QV   V  5   >7E   QV   V  5   ?7A   V  5      
=   =   V     
V  V   l =    Q }#    'G'      speed   viewport   visibleArea   $bg   css   transform   translateY(	   call   px)!!      scrollOffset   vpEndOffset-   _getNormalizedPosition   .this       +H!!        -   _getNormalizedPosition v  W               5 ;5!!       !!   selector!!!!-   disabledInEditableMode!!!!   effects!!!!   start!!!!   destroy!!!!   _rebuild!!!!   _onWindowScroll!!    !!         startC          N                                     O " G "                 	W  QW  QV  5       
V  V  O W   QV  5      
=   :       V   V  5      
  QV  5      
=    QV  5      
	   	   =
   [          
V  5      
=   : D   QV  5      
=   : : ]   =   ]   =   ]   =   ]   :  QV     "( m#$G"t      _super   apply   $target   children   iframe   length   empty   append   <div class="css_editable_mode_display">&nbsp;</div><div class="media_iframe_video_size">&nbsp;</div>   $   <iframe/>   _   escape	   data   oe-expression   src   0   frameborder   allowfullscreen?   allow-scripts allow-same-origin   sandbox!!      def   arguments   .this         +H!!       !!   src!!!!   frameborder!!!!   allowfullscreen!!!!   sandbox!!    ;#       5 !!       !!   selector!!!!   start!!    !!          startC       -   y                        P                                  	W  Q   QZ          
Z    >V  -
  5   
   m5   _,  ,  :   5    Q)`    W   Q      5   5   5   0   Q      	   
=
   : 0   Q      5      
=   : >0   Q     5   5     5   5   5   E   Q  5   5   0   Q   5   E   Q   5            5   =   0   Q   5    i      5      QV      
   A    ,  R  Q      =   [   =   ]   :    
=     Q   !   
   2: W  Q   5"   #   
=$   : W  QV  %   =      V  &   
:  0'   Q   5'   (   
=)   V   Q         : (   
=*      5   V   Q   +   
V   : ,   
   :  A@!)!$W*-:;,#
,     _super	   next   value	   done   el   dataset   bgVideoSrc   videoSrc   _   uniqueId%   o_bg_video_iframe_   iframeID   indexOf   youtube   isYoutubeVideo   device   size_class   SIZES   LG   touch   isMobileEnv   &enablejsapi=1   window   YT/   onYouTubeIframeAPIReady	   push   Promise   $   <script/>E   https://www.youtube.com/iframe_api   src   appendTo	   head   throttle   $el   closest   .dropdown-menu   length   parent   $dropdownParent   onC   shown.bs.dropdown.backgroundVideo   resize.   all	   then!!      proms5   oldOnYoutubeIframeAPIReady   throttledUpdate   $dropdownMenu   arguments   .this        +H!!          start/<d"  9	  9	                 resolve   D"   7	  7	    .          55!!       !!   src!!    !!        -   start/throttledUpdate<d"  	 	 	 	              5 !!          start/<d"  
 
 
 
    U          5;   B   !   5 !!         destroyC                                               "   
                  	W   QW  QV  5       
V  V   O QV  5      V  5      
=    Q         :    
=   V  5    QV  5	      V  5	   
   
  Q  "
!    _super   apply   $dropdownParent   off!   .backgroundVideo   $   window   resize.   iframeID#   $bgVideoContainer   remove!!      arguments   .this         +H;3      5!!         _adjustIframeC          N                                     O  O    {             W  QV  5        V  5       
=    QV  5      
:  W   QV  5      
:  W  QV   V  <    W  Q[    W  QV  ?]   V  =   0   QV  V  d=   0	   QV  =
   0   QV  V  ?"d=   0   Q\   V  ?V  d=   0   QV  =   0	   QV  ?V  ?"d=   0   QV  =
   0   QV  5       
V   QV  5    >75   (QV  5       
=    Q~W  %6	(&+$!    $iframe   removeClass	   show   $target   innerWidth   innerHeight	   100%   width   %   height   0	   left   top   css   offsetWidth   addClass!!qq?!!      wrapperWidth   wrapperHeight   relativeRatio   style   .this         +H!!            ;B       5 !!         _appendBgVideoC  c        @                         -             g  _            	          Q   5    D   Q      
=   : W   Q              
=   [       5   ]      5   ]   : : 0    Q      5       
=   : 0	   Q   5	   
   
=       Q   5       
   5    QV      
  Q      
  Q   5   E   Q   5   B      5   5   A   5   [   [      ]   ]   ,  R Qw&"A\2\/*$S #   $bgVideoContainer   $/   > .o_bg_video_container   render1   website.background.video   videoSrc   iframeID	   find%   .o_bg_video_iframe   $iframe   one	   load   prependTo   $target   remove   _adjustIframe   isMobileEnv   isYoutubeVideo   window   YT   Player   onReady   events!!      $oldContainer   .this        +H!!       !!   videoSrc!!!!   iframeID!!    !!        !   _appendBgVideo/<d"                  5 !!          onReadyD# }  }              5!!       !!   onReady!!    !!       !!   events!!    ;5 !!       !!   selector!!!!   xmlDependencies!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!!!   _adjustIframe!!!!   _appendBgVideo!!    !!       !!   mouseenter!!    !!      !   _bindSocialEventC        
   $                                      l a d a    u            W   QV       
=   :    
       
V   5   V   =   :  QV       
=   :    
       
V   5   V   =   :  QV       
=   :    
       
V   5   V   =	   :  Q x$3#2$3    $'   .oe_social_facebook   click   proxy   _renderSocial   facebook%   .oe_social_twitter   twitter'   .oe_social_linkedin   linkedin!!      .this         +H;       5!!         _renderC           5                                      r  j            	       W   QV   5       
[        
=   [    V   5   ]   : ]   =   ]   V   5    ]	   C]
   =   ]   B]   :    
=    QV   5       
=   :    
=       Q ~,=
h  '      $el   popover   render)   website.social_hover   socialList   medias   content   bottom   placement   container	   html   manual   trigger   animation	   show   off-   mouseleave.socialShare   on!!      .this         +H!!       !!   medias!!    !!       !!   content!!!!   placement!!!!   container!!!!	   html!!!!   trigger!!!!   animation!!    !!           _render/<b  {  s       "       	   self    B                   55;5!!         _renderSocialC         V                         #                   	            W  QV  5       
=   : D"   Q   5      
    : >7W   Q      V   : W   Q   5      
=   : >7W  Q=	      5      
=   : ?7
   
=   =   : =   V  5   W  Q[   =   V   ]   =   V   =         V  V  =   : V   ]   =   V   ]   W  Q      
      
V  : T  :     XW  QXW  Q      
V  T  7=   =   V  =   V   Q #&?L-H+  e      $el	   data   urlshare   document   URL   split%   encodeURIComponent   title    |     #   replace          hashtags[   https://www.facebook.com/sharer/sharer.php?u=   facebooke   https://twitter.com/intent/tweet?original_referer=   &text=    -    twitteri   https://www.linkedin.com/sharing/share-offsite/?url=   linkedin   _   contains	   keys   window	   open{   menubar=no, toolbar=no, resizable=yes, scrollbar=yes, height=   ,width=!!      social   url   title   hashtags   socialNetworks   wHeight   wWidth   .this       +H!!	   [?#]    !!       !!   facebook!!!!   twitter!!!!   linkedin!!    ;"       5!!         _onMouseEnterC           )                                                          W  QV  5       
=   : W   QV  V      V      
=   : )   Z   =   `    =   `   =   `   0   QV  V  5       
=	   : D   Q=
   0	   QV     
  QV     
  Q  
    $el	   data   social   split   ,   facebook   twitter   linkedin   socialList   hashtags      _render!   _bindSocialEvent!!      social   .this         +H;       5 !!       !!   selector!!!!   xmlDependencies!!!!   events!!!!!   _bindSocialEvent!!!!   _render!!!!   _renderSocial!!!!   _onMouseEnter!!    !!       !!   click!!    !!          _scrollTo@                                             C  4                     QT     QT H   Q=       Q        Q       
  >7[      =    H   X   >]        
:  ]   :      .$c 	   true   scrollTo   duration'   _computeExtraOffset   extraOffset!!      $el   scrollValue   .generator   .this      !!                +H!!       !!   duration!!!!   extraOffset!!    ;   .   8   5 !!      '   _computeExtraOffset@                                                                         > 	 !!              +H;       5 !!         _onAnimateClickC          P                                     3  3                W  Q  QV  5    >75      5   5   I
   V  5    >75   W   Q     
V   :  
         V   : W  QV     
=   :   QV  	    D   QV   
   T  
   
  QV     
V  V   Q 88  8  8$    $target   pathname   window   location	   hash   isValidAnchor   $	   attr   data-anchor   length   preventDefault   _scrollTo!!      ev	   hash   $anchor   .this       !!          scrollValue          +H;             5              i                        B       5!!       !!   selector!!!!   events!!!!   _scrollTo!!!!'   _computeExtraOffset!!!!   _onAnimateClick!!    !!          start@           *                                      m  m           	       	W   Q   Q   5       
:        
:  P         
  Q         :    
=      	   
    X :  Q   
   
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)  '@!    $el   outerHeight'   _computeIdealHeight   _adaptSize   $   window   on/   resize.FullScreenHeight   _   debounce   _super	   next   value	   done!!      arguments   .this        +H!!           start/<d"  - B - B    3         5;      !   5 !!         destroy@                                                u  n     *      
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)Q         :    
=    QV  5   5	   
   
=   =    Q-@!
+    _super	   next   value	   done   $   window   off#   .FullScreenHeight   el   style   setProperty   min-height   !!      arguments   .this         +H;   ;   !          5!!         _adaptSize@  O                                               Z  Z                 W   Q  QV       
:    QV   5   5      
=   V  =   =    Q  *B '   _computeIdealHeight   el   style   setProperty   min-height   px   important!!      .this         !!          height          +H;      H          5!!      '   _computeIdealHeight@         	   $                                      n q [ q    #                   Q           :    
:     Q        =   : >7  QV     
:  5            
V  5   : 5     QV   V   %
.+;     $   window   outerHeight?   #wrapwrap > main > :first-child+   getBoundingClientRect   top#   closestScrollable   parentNode   scrollTop!!              !!          windowHeight   firstContentEl   mainTopPos           +H;                               5 !!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!!!   _adaptSize!!!!'   _computeIdealHeight!!    !!          _onAnimateClickC k                                  
            k  k                W   Q  QT      
  QV   5      
=   :    
=   :   QV        V      
V   Q     preventDefault   $el   closest   section	   next   length   _scrollTo!!      ev   .this       !!          $nextSection          +H;      d   "       5 !!       !!   selector!!!!   _onAnimateClick!!    !!          start@          ?                       0           (  x   x                  	   Q   Q        Q      
=   :    Q      
:             :    
:     Q  5   5      
=       Q     	   
=
   : 0   Q  5   5   =   0   Q  5   5   =   0   Q  5   5   =   0   Q  5      
  5    Q     
Z    >  -
  5   
   m5   _,  ,  :   5    Q)       
B!"&$@!    $   > main   outerHeight   window   el   classList   toggle-   o_footer_effect_enable   document   createElement   div   __pixelEl   style   1px   width   height	   -1px   marginTop   appendChild   _super	   next   value	   done!!      .generator   arguments   .this         !!          $main   slideoutEffect            +H;   L  !         m      y            5!!         destroy@        	                                            y       5     
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV  5   5      
=    QV  5      
  Q 8@!3    _super	   next   value	   done   el   classList   remove-   o_footer_effect_enable   __pixelEl!!      arguments   .this         +H;   ;   !          5 !!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!    !!       !!M   click .o_header_hamburger_full_toggler!!    !!         _onToggleClick@  6                                                ! 8" ! 8"                       5   5      
=    Q          d Q /0    document	   body   classList   add   overflow-hidden   setTimeout!!              +H!!        !   _onToggleClick/<d"  " 1" " 1"             5 ;5!!       !!   selector!!!!   events!!!!   _onToggleClick!!    !!       !!   Widget!!!!   Animation!!!!   registry!!!!   Class!!    ;      7      :         5!!       C        0                                        # 3 # 3                  T  =    :    QT  =   :    QT  =   : W   QT  =   :    QT  =   : W  QT  =   : W  QV   5   A,  R     QV   5      
[   Z   =	   `    ]
         
[    V   5   5   5   D   Q[   [   =   ]   =   ]   =   ]   =   ]   =   ]   : ]         
[   V   5   5   5   D   Q[   [   =   ]   =   ]   =   ]   =   ]    : ]      ]!      ]"      ]#   	   ]$   
   ]%      ]&      ]'      ]      ]      ]      ]      ]      ]      ]      ]      ]   : W  QV     
[   [   ](      ])   : W  QV  5*   +   
V  =,    Q[   V  ]-      ].   V  ]/   @!*.'A+;9S O""a      n7 G;8  =J  \Q   l   W)N,6    web.core   web.dom#   web.public.widget   web.concurrency   web.Widget   website.root%   RootWidgetRegistry   RootWidget   extendG   /website/static/src/xml/website.xml   xmlDependencies   _   prototype   events%   _onActionMenuClick'   click [data-action]   _onMenuHoveredO   mouseover > ul > li.dropdown:not(.show)1   _onMobileMenuToggleClick7   click .o_mobile_menu_toggle1   _onOeApplicationsHoveredk   mouseenter #oe_applications:not(:has(.dropdown-item))+   _onOeApplicationsShoww   show.bs.dropdown #oe_applications:not(:has(.dropdown-item))   custom_events   _onActionDemand   action_demand   _onEditMode   edit_mode   _onReadonlyMode   readonly_mode   _onSave   ready_to_save	   init   start!   _attachComponent   _getRegistry   _handleAction   _loadAppMenus)   _whenReadyForActions   actions   handleAction'   websiteRootRegistry   add)   #oe_main_menu_navbar   WebsiteNavbar+   websiteNavbarRegistry3   WebsiteNavbarActionWidget!!
      require	   core   dom   publicWidget   concurrency   Widget   websiteRootData+   websiteNavbarRegistry   WebsiteNavbar3   WebsiteNavbarActionWidget      +H!!            !!            !!       !!'   click [data-action]!!!!O   mouseover > ul > li.dropdown:not(.show)!!!!7   click .o_mobile_menu_toggle!!!!k   mouseenter #oe_applications:not(:has(.dropdown-item))!!!!w   show.bs.dropdown #oe_applications:not(:has(.dropdown-item))!!    !!            !!            !!       !!   action_demand!!!!   edit_mode!!!!   readonly_mode!!!!   ready_to_save!!    !!       	   initC  b                                             " ' ' ' '                  	W  QW  QV  5       
V  V  O QV     Q   A    ,  R W   QV  Z   V   `    0   Q *&:    _super   apply   Promise   _widgetDefs!!   	   self   initPromise   arguments   .this        +H!!        #   init/initPromise<b s' ' k' '    ~         5;5!!          startC  t         $                         
             ' Q) ' Q)                  	W   QW  QV     Q      
V     
=   : [       ]    QV  5      
V  V   O    
   :  
4"& !   initAutoMoreMenu   $%   ul.o_menu_sections   maxWidth   _super   apply	   then!!   	   self   arguments   .this        +H!!          maxWidthB  ( ( ( (    (         5 !!       !!   maxWidth!!    !!          start/<b  7) N) /) N)    j          5;5!!       !   _attachComponentC  J                                               k) ) c) )                 	W  QW  QV  5       
V  V  O W   QV  5      
V    QV     "    _super   apply   _widgetDefs	   push!!      def   arguments   .this         +H;       5 !!          _getRegistryC                                                    ) ) ) )                      !!              +H;       5!!          _handleActionC /                                              * Y, * Y,                  W   QV      QV       
:     
    :  [
 )   _whenReadyForActions	   then!!      actionName   params   _i	   self   .this      +H!!           _handleAction/<b  b* V, Z* V,      @       	   defs    B * * * *      0       5    B  + + + +    +          5    B , S, 
, S,    &           55;5!!          _loadAppMenus@           <                                   m, - Z, -    )                 Q      Q   5                  
[    =   ]   =   ]   Z    ]   : 0    Q  5               Q  5      
=	   [      ]
   :    Q     
=   :    
    Q   5            ,"H*7G* #   _loadAppMenusProm	   _rpc   ir.ui.menu   model   load_menus_root   method	   args	   qweb   render9   website.oe_applications_menu   menu_data   $?   #oe_applications .dropdown-menu	   html!!      .generator   .this         !!          result   menus            +H!!       !!   model!!!!   method!!!!	   args!!    !!       !!   menu_data!!    ;   )            5!!       )   _whenReadyForActionsC                                                  -  . -  .    =             W   Q       
V   5   : @    Promise   all   _widgetDefs!!      .this         +H;       5!!       1   _onOeApplicationsHoveredC           	                                      ". ;. . ;.                 W   QV       
  Q      _loadAppMenus!!      .this         +H;       5 !!       +   _onOeApplicationsShowC           	                                      Z. s. R. s.                 W   QV       
  Q      _loadAppMenus!!      .this         +H;       5!!       %   _onActionMenuClickC       	   "                                     . W/ . W/                  W  Q        T  5   :    Q      
=   C Q    W   QV     
      
=   : :    
V   :    
V    Q  "3+    $   currentTarget	   prop   disabled   _handleAction	   data   action	   then   guardedCatch!!      ev   $button   always   .this      +H!!          alwaysB  . / . /    K         5 ;5!!          _onActionDemandC                                               p/ #0 h/ #0                W  QV      
T  5   5   T  5   5   : W   QT  5   5   "   V      
T  5   5    QT  5   5   "   V      
T  5   5    Q 6%    _handleAction	   data   actionName   params   onSuccess	   then   onFailure   guardedCatch!!      ev   def   .this       +H;2       5 !!          _onEditModeC  /         	                                      80 m0 00 m0    Q             W   QV   5       
=    QV      
  QT"    $el   addClass   editing_mode   do_hide!!      .this         +H;       5!!          _onMenuHoveredC                                               0 A1 }0 A1                 W  QV      
=   : W   QV      ]   V      
=   :    
=    Q        T  5   :    
=   :    
=    Q  "!    $/   > ul > li.dropdown.show   length	   find!   .dropdown-toggle   dropdown   toggle   currentTarget!!      ev   $opened   .this       +H;"       5 !!       1   _onMobileMenuToggleClickC  *                                               c1 1 [1 1    |            W   QV   5       
:     
=    Q $    $el   parent   toggleClass)   o_mobile_menu_opened!!      .this         +H;       5!!          _onReadonlyModeC  /                                               1 1 1 1                W   QV   5       
=    QV      
  Q %    $el   removeClass   editing_mode   do_show!!      .this         +H;       5!!          _onSaveC 2                                              1 62 1 62                W   QT  5    5      
V      
=   :  Q 1 	   data	   defs	   push   _handleAction   on_save!!      ev   .this       +H;       5 !!       !!   xmlDependencies!!!!   events!!!!   custom_events!!!!	   init!!!!   start!!!!!   _attachComponent!!!!   _getRegistry!!!!   _handleAction!!!!   _loadAppMenus!!!!)   _whenReadyForActions!!!!1   _onOeApplicationsHovered!!!!+   _onOeApplicationsShow!!!!%   _onActionMenuClick!!!!   _onActionDemand!!!!   _onEditMode!!!!   _onMenuHovered!!!!1   _onMobileMenuToggleClick!!!!   _onReadonlyMode!!!!   _onSave!!    !!            !!          handleActionC ]                                              2 3 2 3                W  QV  V  5    T  77W   QV   8         
V      
V  T D   QZ    O : @ &    actions   Promise   resolve   apply!!      actionName   params   action   .this       +H;"       5!!       !!   actions!!!!   handleAction!!    !!       !!   WebsiteNavbar!!!!+   websiteNavbarRegistry!!!!3   WebsiteNavbarActionWidget!!    ;5!!       C            ,                                     y4 6 q4 6                  T  =    : W   QV   5   V   5      
[   =   ]   [    =   ]   =   ]   ]	      ]
      ]      ]   : 0   QV   5   5   G?Nh * #   web.public.widget   registry   Widget   extend   #showPass   selector   _onShowText   mousedown   touchstart   events   destroy   _onShowPassword   ShowPassword!!      require   publicWidget       +H!!       !!   mousedown!!!!   touchstart!!    !!          destroyC                                                a5 5 Y5 5         
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)Q      =   :    
=    Q @!
    _super	   next   value	   done   $	   body   off   .ShowPassword!!      arguments   .this         +H;   ;   !          5 !!          _onShowPasswordC  C                                               5 6 5 6    j            W   QV   5       
=   :    
=   :    
=   =    Q m!    $el   closest   .input-group	   find   #password	   attr	   type   password!!      .this         +H;       5!!          _onShowTextC  |                                               6 6 6 6                W   Q        =   :    
=   V   5      
V   :  QV   5      
=   : 	   
=
   :    
=   =    Q ;R!    $	   body   oneU   mouseup.ShowPassword touchend.ShowPassword   _onShowPassword	   bind   $el   closest   .input-group	   find   #password	   attr	   type	   text!!      .this         +H;       5!!       !!   selector!!!!   events!!!!   destroy!!!!   _onShowPassword!!!!   _onShowText!!    ;5 !!       C            )                                    u7 L9 m7 L9                        QT  =    :    QT  =   :    QV   5   V   5      
[   =   ]   [    =   ]   ]	      ]   : 0
   Q1#; J #   web.public.widget   website.utils   registry   Widget   extend   .post_link   selector   _onClickPost   click   events   postLink!!      require        !!          publicWidget   wUtils           +H!!       !!   click!!    !!         _onClickPostC C        V                       &           i8 G9 a8 G9                W   Q    QT      
  QV   5   5   5   D   QV   5   5     Q[      Q    Q      
V   5   5   : -
  5   
  m    QQ:   5      Qk  5	   -
  5   
BQ,  ,  :   5      Q   5	     Q   C0   ,  ,  :   5      Q   5	     Q   QQ1   
Q
   IE
   Q@I   
:     QQQV     
=   :     V  V     
: V  9Q]   v,  IM   ,  
   IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp Bz          
V  V   Q  +@ P  /Y    preventDefault   el   dataset	   post	   href   Object   entries	   next	   done   value   return   startsWith   post_   slice   sendRequest!!      ev   .this       !!       	   data   url         !!         key   value         +H!!            ;           D                    C                           <     V         B       5 !!       !!   selector!!!!   events!!!!   _onClickPost!!    ;      y   5!!       C  h          #                                    =: = 5: =                       QT  =    :    QV   5      
[   =   ]       ]   :   QV   5   V  0   QV  /#( ( #   web.public.widget   Widget   extend'   .s_share, .oe_share   selector   start   registry   share!!      require        !!          publicWidget   ShareWidget           +H!!         startC           .                                      : = : =                  	W   QW  Q       Q      Q           5   5   :    Q              =   :    
:  :    QV     
=   :    
    QV  5	   
   
V  V   O   7A-& " %   encodeURIComponent   window   location	   href   $   title	   text   a	   each   _super   apply!!      urlRegex   titleRegex   url   title   arguments   .this        +H!!O   (\?(?:|.*&)(?:u|url|body)=)(.*?)(&|#|$)    !!_   (\?(?:|.*&)(?:title|text|subject)=)(.*?)(&|#|$)    !!          start/<b  ; w= ; w=      "          B ; < ; <                B +< I< #< I<             5    B f< < ^< <    O         5 5   B  < s= < s=             5 5;5!!       !!   selector!!!!   start!!    ;       g       e          5 !!       C            7                                    }> GB u> GB                    QT  =    : W   QT  =   :    QV   5      
[   =   ]   B]       ]      ]   :   QV   5	   V  0
   QV  7!/      6 #   web.public.widget   web.utils   Widget   extend!   .o_facebook_page   selector-   disabledInEditableMode   start   destroy   registry   facebookPage!!      require   publicWidget   utils      !!       %   FacebookPageWidget          +H!!          startC       %   o                                     ]? A U? A                	W  QW  QV  5       
V  V  O W   Q      
V  5      
:  =   =   =   =	   =
   =   : W  QV  5       V   V        
      
V  5      
:  : X X: 0   Q   5      
=   V  : W  QV        =   [   V  ]   =   ]   V  5   ]   V  5   ]   [    =   ]   =   ]   ]   =   ]   =   ]    =!   ]"   : 0#   QV  5   $   
V  5#    QV    &[ |&8H_      _super   apply   _	   pick   $el	   data	   href   height	   tabs   small_header   hide_cover   show_facepile   confine	   Math   floor   width   $   param   querystringS   https://www.facebook.com/plugins/page.php   <iframe/>   src'   o_temp_auto_element   class	   none   border   hidden   overflow   css   no   scrolling   0   frameborder	   true#   allowTransparency   $iframe   append!!      def   params   src   arguments   .this         +H!!       !!   border!!!!   overflow!!    !!       !!   src!!!!   class!!!!   width!!!!   height!!!!   css!!!!   scrolling!!!!   frameborder!!!!#   allowTransparency!!    ;#       5!!         destroyC  M                                             " A A A A                	W   QW  QV  5       
V  V   O QV  5      V  5      
  Q "    _super   apply   $iframe   remove!!      arguments   .this         +H;#      5 !!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!    ;                        5!!       C  +         j                                    B Q B Q           	           QT  =    : W   QT  =   : W  QV   5      QV  5      
[   =   ]   Z   =   `    ]   [    =	   ]
   ]      ]	   :   QV  5      
[   =   ]   Z   =   `    ]   B]      ]      ]   :   QV  5   V  0   QV  5   V  0   Q[   V  ]   V  ]   7!*.8I a08    ,  ,8*    web.core#   web.public.widget	   qweb   Widget   extendE   .s_image_gallery:not(.o_slideshow)   selectori   /website/static/src/snippets/s_image_gallery/000.xml   xmlDependencies   _onClickImg   click img   events   .o_slideshow-   disabledInEditableMode   start   destroy   registry   gallery   gallerySlider   GalleryWidget'   GallerySliderWidget!!      require	   core   publicWidget	   qweb      !!          GalleryWidget'   GallerySliderWidget          +H!!       !!   click img!!    !!          _onClickImgC      +                          L            5D H -D H                  W  Q  QV     Q        T  5   : W   QV      
=   :    
=   : W  Q<    W  Q[          
   5	   V  <   : ]
         
   5   V  : ]         
   5	   V  <   : ]         
   5   V  : ]         
   5	   V  <   : ]         
   5   V  : ]   W  QV      
=   : CH   V      V      
=   : W  QV      
=   :    
=   : D   QB  Q             
=   [   V     
:  ]   V     
V  : ]   V  ]   V  D   Q>]         
=   : ]   : :    Q      
[   C]   C]     Q   !   
="       Q      
=#   : $   
=   =%    Q   &   
'   5(    Q   )   
=*       Q !
'$
'$')!;t  -  7      $   currentTarget   closest!   .s_image_gallery	   find   img	   Math   round   window   innerWidth   min_width   innerHeight   min_height   max_width   max_height   width   height   is	   data   interval   renderE   website.gallery.slideshow.lightbox   get   images   index   dim   _   uniqueId   slideshow_   id   modal   keyboard   backdrop   on   hidden.bs.modalO   .modal-content, .modal-body.o_slideshow   css	   100%   appendTo   document	   body   one   shown.bs.modal!!?!!?!!?!!?!!	      ev	   self	   $cur   $images	   size   dimensions	   $img   $modal   .this      !!          milliseconds          +H!!       !!   min_width!!!!   min_height!!!!   max_width!!!!   max_height!!!!   width!!!!   height!!    !!       !!   images!!!!   index!!!!   dim!!!!   interval!!!!   id!!    !!       !!   keyboard!!!!   backdrop!!    !!         _onClickImg/<b  aG G YG G             5!!         _onClickImg/<b  LH H DH H             5;        5!!       !!   selector!!!!   xmlDependencies!!!!   events!!!!   _onClickImg!!    !!         startC  *        h                         6             I P I P           	       	W  QW  Q     	  Q   W   QV     QV  V  5       
=   :    V  5       V  5       
=   : 0   QV  V  5      
=   : 0   QV  V  5      
=   :    
=	   =
   : 0   QV  V  5      
=   :    
=	   =
   : 0   QV  5      
=   :    Q      
V  5      
:        
:     
C: :    Q   D   Q?   Q      
         :    QV     QV  5      
=       QV  5      
=   =       QV  5      
=   V    QV  5      
V  V  O  
*,-..H)
 4  <"    $target   is   .carousel	   find   $carousel)   .carousel-indicators   $indicator)   li.o_indicators_left   css   visibility      $prev+   li.o_indicators_right   $next#   li[data-slide-to]	   Math   floor   width   first   outerWidth	   ceil   length   onA   slide.bs.carousel.gallery_slider)   click.gallery_slider3   > li:not([data-slide-to])?   slid.bs.carousel.gallery_slider   _super   apply!!   	   self	   $lis   nbPerPage   realNbPerPage   nbPages   index	   page	   hide   update   arguments   .this        +H!!       	   hide  K M K M    	  P          B K %L K %L    '	         5 5!!          update  M xM M xM              5 !!          start/<b  M N M N    =            B  M N M N    S          5 5!!          start/<b  N O N O      "       5 ;5!!         destroyC        
   '                                       P P P P                	W   QW  QV  5       
V  V   O QV  5       V  5      
V  5    QV  5      
V  5    QV  5      
=	    QV  5      
=	    Q "  h&%&'    _super   apply   $indicator   $prev   prependTo   $next   appendTo   $carousel   off   .gallery_slider!!      arguments   .this         +H;#       5 !!       !!   selector!!!!   xmlDependencies!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!    !!       !!   GalleryWidget!!!!'   GallerySliderWidget!!    ;       *      (         5 !!       C  h                                             DR s <R s                            QT  =    : 5      QQT  =   :    QT  =   :   QT  =   :    QV   5      QV   5      QV  5      
[   =	   ]
   Z   =   `    ]   B]       ]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]   :   QV  5   V  0   QV  3!#",4   =,c !  C  p  Dm  8   *  0    web.Colorpicker#   ColorpickerWidget   web.core#   web.public.widget!   web_editor.utils	   qweb   _t   Widget   extend   .s_countdown   selectora   /website/static/src/snippets/s_countdown/000.xml   xmlDependencies-   disabledInEditableMode   start   destroy   _ensureCssColor   _getDelta3   _handleEndCountdownAction   _initTimeDiff   _isUnitVisible   _render   _updateTimeDiff   _clearCanvas   _drawText   _drawBgShape!   _drawProgressBar%   _drawProgressBarBg   registry   countdown!!      require        !!       #   ColorpickerWidget	   core   publicWidget   weUtils	   qweb   _t   CountdownWidget           +H!!         startC          p                        D            S W S W         
       	W   QW  QV  V      
=   : 0   QV  B0   QV  V  5   5   5   0   QV        V  5   5   5   : 0   QV        V  5   5   5	   : 0	   QV  V  5   5   5
   0
   QV  V  5   5   5   0   QV  V  5   5   5   0   QV  V  5   5   5   0   QV  V  5   5   5   0   QV  V     
V  5   5   5   : 0   QV  V     
V  5   5   5   : 0   QV  V     
V  5   5   5   : 0   QV  V  5
   =   H0   QV        V  5	   : 0   QV  5   =   H   V  5   <    0   QV     
  QV     
  QV        V  5      
V  : X: 0   QV     
Z    >V   -
  5   
   m5   _,  ,  :   5    Q) &)"
%#7790<7$*@!    $7   .s_countdown_canvas_wrapper   $wrapper'   hereBeforeTimerEnds   el   dataset   endAction   parseInt   endTime	   size   display   layout!   layoutBackground!   progressBarStyle#   progressBarWeight   _ensureCssColor   textColor+   layoutBackgroundColor!   progressBarColor   d   onlyOneUnit   width   boxes   _initTimeDiff   _render   setInterval	   bind   _super	   next   value	   done!!      ?!!      arguments   .this         +H;     !   #       5!!         destroyC          1                                     W X W X          
       	W   QW  QV      
=   :    
  QV      
=   :    
  QV      
=   :    
=    QV      
=   :    
  QV      
=   : 	   
=    Q
   
   V  5    QV     
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)Q  ,		#$	& @!    $C   .s_countdown_end_redirect_message   remove   canvas1   .s_countdown_end_message   addClass   d-none3   .s_countdown_text_wrapper7   .s_countdown_canvas_wrapper   removeClass   clearInterval   setInterval   _super	   next   value	   done!!      arguments   .this         +H;      !          5 !!         _ensureCssColorC ;                                                X BY X BY                           
T  : 
   T           
T  :  %*#    isCSSColor'   getCSSVariableValue!!      color        +H;        5!!         _getDeltaC  7                                              UY Y MY Y    >             W   Q  Q       
:  X  QV   5   V  @% 	   Date   now   endTime!!      .this         !!       !   currentTimestamp          +H;      0       4                 5!!      3   _handleEndCountdownActionC  6        F                                     Y [ Y [                  W   QV   5    =   H      V   5   5   5   D   Q=      QV   5   "             X Q   V      
=	   : 
    i     QV      
=   :   QV     
             
=   [      ]   : :  Q>   V   5    =   H)   V      
=   :    
=    Q  -63ALq#    endAction   redirect   el   dataset   redirectUrl   /'   hereBeforeTimerEnds   setTimeout   $C   .s_countdown_end_redirect_message   lengthm   > .container, > .container-fluid, > .o_container_small   append   renderQ   website.s_countdown.end_redirect_message   message1   .s_countdown_end_message   removeClass   d-none!!      .this         !!          redirectUrl          !!         $container          +H!!       7   _handleEndCountdownAction/<d"  FZ eZ FZ eZ    /         5!!       !!   redirectUrl!!    ;                c       5 !!         _initTimeDiffC                                  :            [ ^ [ ^                W   Q  QV       
:    QV   Z    0   QV      
=   : E"   QV   5   E   QV  Q s   V   5      
[          =   :    
V   5	   : >7]
   ]         =   : ]   Q]    QV      
=   : D/   QV   5   E   QV  QE   QV  Xr   V   5      
[         =   :    
V   5	   : >7]
   ]         =   : ]   X]    QV      
=   : D-   QV   5   E   QV  XE   QV  <q   V   5      
[         =   :    
V   5	   : >7]
   <]         =   : ]   <]    QV      
=   : D   QV   5   E   QV  <p   V   5      
[         =   :    
V   5	   : >7]
   <]         =   : ]   ?]    Q "	G	D	8	n    _getDelta	   diff   _isUnitVisible   d   onlyOneUnit	   push   $   <canvas/>   appendTo   $wrapper   canvas   total	   Days   label   nbSeconds   h   Hours   m   Minutes   s   Seconds!!      .this         !!          delta          +H!!       !!   canvas!!!!   total!!!!   label!!!!   nbSeconds!!    !!       !!   canvas!!!!   total!!!!   label!!!!   nbSeconds!!    !!       !!   canvas!!!!   total!!!!   label!!!!   nbSeconds!!    !!       !!   canvas!!!!   total!!!!   label!!!!   nbSeconds!!    ;        R       5 !!         _isUnitVisibleC                                               ^ _ ^ _                 W   QV   5       
T  :       display   includes!!   	   unit   .this       +H;       5!!         _renderC       ?                          p             (_ +e  _ +e                  W   Q  QV   5    E&   QV      
:  V   5   >75   3   V      
=   :    
  QV      
  QV      
  QV   5	   E0   QV   5
    E   QV   5      
=   :   QV   5   =   Ht    QV      
=   :    
=    QV   5       V         =   :    
[    =   ]   : 0   QV   5      
      =   :  QV   5      
      =   :    
[   =   ]   :  QV   5      
V   5    QV   5      
=   V   QV   5      
   :    
=   :   QV      
=    :    
V  !   
:   Q    QV   5   -
  5"   
Y  m  QQ:   5#      Q@  5$     Q    QV  5     QV  %   
=&   :   QV  5   V   5'   0'   QV  5   V   5(   0)   QV   *   
V   Q      V  :    
=   V   QV       V   5+   =,   I(   V   -   
V  V   5+   =.   H QV   /   
V  V  50   V  51   V   5+   =.   H QV   52   =3   H(   V   4   
V  V   55   =6   H QV   52   =,   I:   V   7   
V  V  50   V  58   V   55   =6   H Q      V  :    
=9   V   5   =:   H Q]   v,  IM   ,  ;   IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp B V   5	   <   <   <   V   5=    QV   5
       V   >   
  Q  )	$10N<#!@ \(P 
$I#H)#
       #    onlyOneUnit   _getDelta	   diff   nbSeconds   $   canvas   remove   _initTimeDiff   _updateTimeDiff   isFinished   editableMode   $el   hasClass   hide-countdown   layout	   text   addClass   d-none   $textWrapper   <span/>	   attr?   s_countdown_text_wrapper d-none   class#   Countdown ends in   append+   s_countdown_text ml-1   appendTo   $wrapper   toggleClass   map	   join   , #   .s_countdown_text   toLowerCase	   next	   done   value   getContext   2d   width	   size   height   _clearCanvas!   layoutBackground	   none   _drawBgShape   plain   _drawText   nb   label!   progressBarStyle   surrounded%   _drawProgressBarBg#   progressBarWeight	   thin!   _drawProgressBar   total	   mx-2   boxes   return   clearInterval   setInterval3   _handleEndCountdownAction!!      .this         !!          hideCountdown          !!         countdownText          !!         val          !!         canvas   ctx          +H!!       !!   class!!    !!       !!   class!!    !!      -   _render/countdownText<d" a a a a    X          5 ;             u  C              h  \                i         B                     9        5!!         _updateTimeDiffC          k                                    De `f <e `f                 W   Q  QV       
:    QV   V  >0   QV   5        QV   5   -
  5   
   m  QQ:   5      Q   5     QV  >0   Q]   v,  IM   ,     IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp Bf V   C0   Q  QV   5   -
  5   
   m  QQ:   5      Q   5     QV  	   
   
V  V  5   : 0   QV  V  5   V  5   W  Q]   v,  IM   ,     IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp B-   @  P  i@  PK%c    _getDelta   isFinished	   diff	   next	   done   value   nb   return'   hereBeforeTimerEnds	   Math   floor   nbSeconds!!      .this         !!          delta         !!         unitData          !!         unitData          +H;                 C                d                     C       f  O      >                >                                  b       5!!         _clearCanvasC )         	                                     vf f nf f                 W   QT      
>>V   5   V   5    Q  '    clearRect	   size!!      ctx   .this       +H;       5!!         _drawTextC C         L                                   f Wi f Wi       	                   QW  QT     QT   QT   QT H   QB  Q      QV       
=   :   QV  5     QV  V  =   0   QV  V  5   0   QV  =   0   QV  =	   0
   QV     
V  V   5   V   5    QV  5     QV  V  =   0   QV     
V  V   5   V   5   V  <    V  5    QV  5   =   HE,   QV  5   =   IE   QV  5   =   H     QV  5   V  5   =   H      
  QV     >W  QV     
  QV     
V  V  5    QV     
V  5   V  V  5    QV     
  Q :LY;	!,    getContext   2d	   size   px Arial	   font   textColor   fillStyle   center   textAlign   middle   textBaseline   fillText   width   height   layout   boxes!   layoutBackground	   none!   progressBarStyle#   progressBarWeight	   thin   beginPath   moveTo   lineTo   stroke!!      ?!!      canvas   textNb   textUnit	   full   .this      !!          ctx   nbSize   unitSize          !!         barWidth      	   +H;   D                 B       5!!         _drawBgShapeC          d                        .           mi l ei l                      QW  QT     QT H   QB  QV   V  5    0   QV      
  QV  5   =   H     QV  5     QV  5   =   H>   V  V     V  5      V  5   W  Q.   V  V     >   V  5   
W  QV      
V  5   V  5   V  >	   5
    QV      
  Q  V  5   =   H      QV  5   V  5   =   H      
  QV     >W  QV   V  5    0   QV      
V  V  V  5   V  V  5   V   QV      
  QV      
>V  5   >>:   QV     
>=    QV     
?V  5     QV   V  0   QV      
V  V  V  5   V  V  5   V   QV      
  Q      V   5   :    
[    =   ]    Q  )$,3;	)G	+%4G +   layoutBackgroundColor   fillStyle   beginPath   layout   circle	   size#   progressBarWeight	   thin   arc	   Math   PI	   fill   boxes	   rect   width)   createLinearGradient   addColorStop   #ffffff24   $   canvas   css   8px   border-radius!!      ctx	   full   .this      !!          rayon         !!          barWidth   gradient         +H!!       !!   border-radius!!    ;   c         U  y  r       5 !!      !   _drawProgressBarC L        k                       <            l p l p                     Q      5    0   Q   T       5   #      5   
0   Q   5   =   H         
  Q      
   5      5      5      5      5	      5	   T T    5	    Q   
   
  QN     5   =   H8       Q   5   0   QT T d   QZ       `       `      `      `     Q   m    Q      
V   :   QV     
:  V  :   Q      
  Q      
V  >7V  ?7 Q      
V  7V  7 Q   
   
  QV   V  W   QV   >E   QV     > &1qYjo)  $!&&*   !   progressBarColor   strokeStyle	   size   lineWidth   layout   circle   beginPath   arc	   Math   PI   stroke   boxes   min   shift   moveTo   lineTo   length!!      ctx   nbUnit   totalUnit   thinLine   .this       !!          pc   linesCoordFuncs          !!         linePc   lineCoord          +H!!      C   _drawProgressBar/linesCoordFuncs<d" Jn n Jn n    B         5!!      C   _drawProgressBar/linesCoordFuncs<d" n o n o             5!!      C   _drawProgressBar/linesCoordFuncs<d" o o o o             5!!      C   _drawProgressBar/linesCoordFuncs<d" o o o o             5;              2              5 !!      %   _drawProgressBarBgC                                -            q s p s                W   QT  V   5    0   QT  <    0   QT  T    V   5   #   V   5   
0   QV   5   =   Ht   T     
  QT     
V   5   V   5   V   5   V   5   >	   5
    QT     
  Q  V   5   =   H    QT  5   0   QZ   Z   >T  5   `    >`   V   5   `   >`   `    Z   V   5   `    >T  5   `   V   5   `   V   5   `   `   Z   >`    V   5   `   V   5   T  5   `   V   5   `   `   Z   >`    >`   >`   V   5   T  5   `   `     Qr   m  QV     
:    QT     
  QT     
V  >7V  ?7 QT     
V  7V  7 QT     
  QV     T  ?0   Q &1F
)} !   progressBarColor   strokeStyle   globalAlpha	   size   lineWidth   layout   circle   beginPath   arc	   Math   PI   stroke   boxes   width   shift   moveTo   lineTo   length!!?!!      ctx   thinLine   .this       !!          points          !!         point          +H;      }                l       B       5!!       !!   selector!!!!   xmlDependencies!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!!!   _ensureCssColor!!!!   _getDelta!!!!3   _handleEndCountdownAction!!!!   _initTimeDiff!!!!   _isUnitVisible!!!!   _render!!!!   _updateTimeDiff!!!!   _clearCanvas!!!!   _drawText!!!!   _drawBgShape!!!!!   _drawProgressBar!!!!%   _drawProgressBarBg!!    ;      b      e         5!!       C  {         g                                    Zt  | Rt  |                          QT  =    :    QT  =   :    QT  =   :    QV   5      
[   =   ]   [    =   ]   =	   ]
   ]      ]      ]      ]      ]      ]      ]      ]	   :   QV   5   V  0   Q   5   5   5   5   5      Q   5   5   5   5   	   0   Q   5   5   5   5   5      Q   5   5   5   5   
   0   QV  /#((!#{  B,-     .A:K9    web.config#   web.public.widget   web.utils   Widget   extend   .s_popup   selector   _onCloseClick+   click .js_close_popup   _onHideModal   hide.bs.modal   events   start   destroy   _bindPopup   _hidePopup   _showPopup   registry   popup   $   fn   modal   Constructor   prototype   _setScrollbar%   _getScrollbarWidth!!      require        !!          config   publicWidget   utils   PopupWidget#   _baseSetScrollbar-   _baseGetScrollbarWidth           +H!!       !!+   click .js_close_popup!!!!   hide.bs.modal!!    !!         startC        
   ,                                     u v ~u v    R     
       	W   QW  QV            
V  5      
=   : :   0   QV  5       V     
  QV     
Z    >V   -
  5   
   m5   _,  ,  :   5	    Q) U&@!    get_cookie   $el	   attr   id%   _popupAlreadyShown   _bindPopup   _super	   next   value	   done!!      arguments   .this         +H;      !   #       5!!         destroyC  b                                             " -v v %v v    3             	W   QW  QV  5       
V  V   O Q         :    
=    Q      V  5    Q6"    _super   apply   $   document   off+   mouseleave.open_popup   clearTimeout   timeout!!      arguments   .this         +H;      5!!         _bindPopupC  7        >                                     v Px v Px                     Q       Q   5       
=   :   QV     
=   :    QV     
=   :   Q    5   5   \   V   =   H   =	   W   QXW  Q   
   
=   :    
=   :    
=    QV   =	   H-                V  : 0   Q.   
   
      :    
=       Q   .3    $target	   find   .modal	   data   display   showAfter   device   isMobile   onExit   afterDelay   $   removeClass   s_popup_middle   addClass   s_popup_bottom   setTimeout   timeout   document   on+   mouseleave.open_popup!!      .this         !!          display   delay   $main          +H!!      1   _bindPopup/this.timeout<d"  w x w x    3          5 !!         _bindPopup/<d"  7x Lx 7x Lx    }          5 ;      /  5!!         _hidePopupC  /                                               dx x \x x                 W   QV   5       
=   :    
=    Q      $target	   find   .modal   modal	   hide!!      .this         +H;       5 !!         _showPopupC  A                                               x x x x                 W   QV   5       V   5      
=   :    
=    Q  * %   _popupAlreadyShown   $target	   find   .modal   modal	   show!!      .this         +H;"       5!!         _onCloseClickC                                                 y &y y &y    B             W   QV       
  QE    _hidePopup!!      .this         +H;       5!!         _onHideModalC        	                                        <y y 4y y    n             W   Q  QV   5       
=   :    
=   :   Q         
V   5       
=   : CV  << QV   C0   Qp;    $el	   find   .modal	   data!   consentsDuration   set_cookie	   attr   id%   _popupAlreadyShown!!      .this         !!          nbDays          +H;      y          5 !!    	   !!   selector!!!!   events!!!!   start!!!!   destroy!!!!   _bindPopup!!!!   _hidePopup!!!!   _showPopup!!!!   _onCloseClick!!!!   _onHideModal!!    !!       ]   $.fn.modal.Constructor.prototype._setScrollbarb  z z xz z      #       5!!      g   $.fn.modal.Constructor.prototype._getScrollbarWidthb  { | { |       #       5 ;      u      x         5!!       C            @                                    | j | j                          QT  =    :    QT  =   : 5      QQV   5      
[   =   ]   B]       ]      ]	      ]
   :   QV   5   5      
[      ]    QV   5   V  0   QV  :"&+5#  e 6+; #   web.public.widget)   website.content.menu1   extraMenuUpdateCallbacks   Widget   extendS   section .s_table_of_content_navbar_sticky   selector-   disabledInEditableMode   start   destroyG   _updateTableOfContentNavbarPosition   registry   anchorSlide   include'   _computeExtraOffset+   snippetTableOfContent!!      require        !!          publicWidget1   extraMenuUpdateCallbacks   TableOfContent           +H!!         start@           %                                   ( } w~ } w~    F             	   Q   Q      Q       
Z    >   -
  5   
   m5   _,  ,  :   5    Q)         Q      
  Q       
   5      
   :  Q    I@!+S    _super	   next   value	   doneG   _updateTableOfContentNavbarPosition	   push	   bind!!      .generator   arguments   .this         +H;   K   !         5 !!         destroy@        
                                        ~ ~ x~ ~         
       	W   QW  QV  5       
=   =    QV  5       
=   :    
=   =    QV     
Z    >V   -
  5   
   m5   _,  ,  :   5	    Q)Q 0@!    $target   css   top   	   find5   .s_table_of_content_navbar   _super	   next   value	   done!!      arguments   .this         +H;      !          5 !!      G   _updateTableOfContentNavbarPosition@          P                        #               ~            	       W   Q         Q>   Q        =   :   Q      
V       QV   5      
=   :   QV   5      
=   V           =	    QV   5   
   
=   :    
=   V     =	          Q        =   :   Q   V        V     
:     >   Q   V     V   5      
:     >   Q        :     
:     
[   =   ]   =   ]      d]    Q ?>703!$U    $)   .o_top_fixed_element   _	   each   $target   hasClassI   s_table_of_content_horizontal_navbar   css   top   	   find5   .s_table_of_content_navbar)   #oe_main_menu_navbar   length   outerHeight'   getScrollingElement   scrollspy   target   offset   method!!      .this         !!          position   $fixedElements%   isHorizontalNavbar   $mainNavBar         +H!!       K   _updateTableOfContentNavbarPosition/<d" q  q              5!!       !!   target!!!!   method!!!!   offset!!    ;        5!!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!!!G   _updateTableOfContentNavbarPosition!!    !!       '   _computeExtraOffset@           3                                           A            	W   QW  Q  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)  QV  5      
=   : a     QV  5      
=   :   QV  	   >+   V  
   
   V  :    
:  W  QV   C@!+[$    _super	   next   value	   done   $el   hasClass+   table_of_content_link   closest   .s_table_of_content_navbar_sticky.s_table_of_content_horizontal_navbar   length   $   outerHeight!!      arguments   .this         !!          extraOffset         !!      -   tableOfContentNavbarEl          +H;   A   !                  [                     3       5 !!       !!'   _computeExtraOffset!!    ;                       5 !!       C            H                                     @  @                          QT  =    :    QT  =   :    QV   5      
[   =   ]   B]   Z   =   `    ]       ]	      ]
      ]      ]   :   QV   5   V  0   QV  /#"(#  $     A( #   web.public.widget!   web_editor.utils   Widget   extend   .s_chart   selector-   disabledInEditableMode=   /web/static/lib/Chart/Chart.js   jsLibs	   init   start   destroy%   _convertToCssColor   registry   chart!!      require        !!          publicWidget   weUtils   ChartWidget           +H!!      	   initC L                                            "  m  m    .            	W   QW  QV  5       
V  V   O QV        
   5   : 0   Q ?"2    _super   apply   window!   getComputedStyle   document   documentElement   style!!      parent   options   arguments   .this       +H;      5 !!         startC       +                           H             |  t            
       	W   Q   Q      Q       
   5   5   5   :   QV  5      
     Q[      5   5   5   ]   V  ]   [   [      5   5   5   =	   I]
      5   5   5   ]   ]   [      5   5   5   =   H]   ]   [      5   5   5     ]
      5   5   5   ]   ]   ]     Q   5   5   5   =   H/   V  5   [   [   C]   ]   0   Q  Z   =   `    =   `      
   5   5   5   : /   V  5   5   [	      ]   0   Q   V  5   [   Z   [      5   5   5   =   H]   [
   C]   ]   `    ]   Z   [      5   5   5   =   H]   [   C]   ]   `    ]   0    Q   5!       V  5   [   >]"   0#   Q   5   $   
=%   :   Q   &   5'   AV  V  ,  R 0(   Q   5)   *   
   V   O  !4
	0*
2!# &[)) #" 	   JSON   parse   el   dataset	   data   datasets   forEach	   type   legendPosition	   none   display   position   legend   tooltipDisplay	   true   enabled   tooltips   title	   text   options   radar   beginAtZero   ticks   scale   pie   doughnut   includes   label   callbacks   stacked   xAxes   yAxes   scales   editableMode   duration   animation   querySelector   canvas   window   Chart   chart   _super   apply!!      arguments   .this        !!       	   data   chartData   canvas          +H!!         start/<d"  $  $      0         D"  5  5    H         5    D" Y x Y x             5 5!!       !!   display!!!!   position!!    !!       !!   enabled!!    !!       !!   display!!!!	   text!!    !!       !!   legend!!!!   tooltips!!!!   title!!    !!       !!	   type!!!!	   data!!!!   options!!    !!       !!   beginAtZero!!    !!       !!   ticks!!    !!          labelD# 	 N 	 N      @       5 !!       !!   label!!    !!       !!   beginAtZero!!    !!       !!   stacked!!!!   ticks!!    !!       !!   beginAtZero!!    !!       !!   stacked!!!!   ticks!!    !!       !!   xAxes!!!!   yAxes!!    !!       !!   duration!!    ;      
               5 !!         destroyC  v                                             "  ~  ~                  	W   QW  QV  5    C   V  5       
  QV  5      
=   :    
     QV  5      
V  V   O Q  2"    chart   destroy   el!   querySelectorAll+   .chartjs-size-monitor   forEach   _super   apply!!      arguments   .this         +H!!           destroy/<d" H W H W              5;5!!      %   _convertToCssColorC D                                                       ?             W   QT      =             
T  V   5   : D
   QT  G<5    transparent'   getCSSVariableValue   style!!      color   .this       +H;"       5 !!       !!   selector!!!!-   disabledInEditableMode!!!!   jsLibs!!!!	   init!!!!   start!!!!   destroy!!!!%   _convertToCssColor!!    ;                       5!!       C        W   *                                                         QT  =    :    QV   5   V   5      
[   =   ]   B]   [   Z	   [   =   ]   =	   ]
   Z   [    =   ]   `    [   ]   `   [   ]   `   [   =   ]   `   ]   `    [	   =   ]   =	   ]
   Z   [   =   ]   `    [   ]   `   [   d]   `   [   =   ]   `   ]   `   [   =   ]   =	   ]
   Z   [
   =   ]   `    [   ]   `   [   d]   `   [   =   ]   `   ]   `   [   =   ]   =   ]
   Z   [   =   ]   `    [   ]   `   [   ]   `   [   =   ]   `   ]   `   [   =   ]   =   ]
   Z   [   =   ]   `    [   ]   `   [   ]   `   [   =   ]   `   ]   `   [   =   ]   =   ]
   Z   [   =   ]   `    [   ]   `   [   ]   `   [   =   ]   `   ]   `   ["   =   ]   =   ]
   Z   [   =   ]   `    [   ]   `   [    ]   `   [!   =   ]   `   ]   `   ['   =   ]   =	   ]
   Z   [#   =   ]   `    [$   
]   `   [%   E]   `   [&   =   ]   `   ]   `   [,   =   ]   =	   ]
   Z   [(   =   ]   `    [)   ]   `   [*   C]   `   [+   =   ]   `   ]   `   ]    Z   [.   =   ]
   Z   [-   ]   `    ]   `    [0   =   ]   =   ]
   Z   [/   =   ]   `    ]   `   [2   =!   ]   =   ]
   Z   [1   =   ]   `    ]   `   [4   =   ]   ="   ]
   Z   [3   =   ]   `    ]   `   [6   =   ]   ="   ]
   Z   [5   =   ]   `    ]   `   [8   =   ]   =#   ]
   Z   [7   =   ]   `    ]   `   [=   =   ]   =$   ]
   Z   [9   =%   ]   `    [:   =   ]   `   [;   ]   `   [<   ]   `   ]   `   [B   =   ]   =$   ]
   Z   [>   =%   ]   `    [?   =   ]   `   [@   ]   `   [A   ]   `   ]   `   [G   =&   ]   =$   ]
   Z   [C   =%   ]   `    [D   =   ]   `   [E   ]   `   [F   ]   `   ]   `   [L   ='   ]   =$   ]
   Z   [H   =%   ]   `    [I   =   ]   `   [J   ]   `   [K   ]   `   ]   `	   [Q   =(   ]   =$   ]
   Z   [M   =%   ]   `    [N   =   ]   `   [O   ]   `   [P   ]   `   ]   `
   [V   =)   ]   =$   ]
   Z   [R   =%   ]   `    [S   =   ]   `   [T   ]   `   [U   ]   `   ]   `   [[   =   ]   =$   ]
   Z   [W   =%   ]   `    [X   =   ]   `   [Y   ]   `   [Z   ]   `   ]   `   [`   =*   ]   =$   ]
   Z   [\   =%   ]   `    []   =   ]   `   [^   ]   `   [_   ]   `   ]   `   [e   =   ]   Z   [a   =%   ]   `    [b   =   ]   `   [c   ]   `   [d   ]   `   ]   `   [j   =   ]   =$   ]
   Z   [f   =%   ]   `    [g   =   ]   `   [h   ]   `   [i   ]   `   ]   `   [o   =!   ]   =$   ]
   Z   [k   =%   ]   `    [l   =   ]   `   [m   ]   `   [n   ]   `   ]   `   [t   =   ]   =   ]
   Z   [p   =%   ]   `    [q   =   ]   `   [r   ]   `   [s   ]   `   ]   `   ]+   Z   [w   Z   [u   =,   ]   `    [v   ]   `   ]   `    [z   =   ]   =   ]
   Z   [x   d]   `    [y   =   ]   `   ]   `   [|   =   ]   =   ]
   Z   [{   =   ]   `    ]   `   ]-   Z	   [   =.   ]   =	   ]
   Z   [}   =   ]   `    [~   !]   `   ]   `    [   =   ]   =	   ]
   Z   [   =/   ]0   `    ]   `   [   =1   ]   =   ]
   Z   [   =2   ]0   `    ]   `   [   =1   ]   =   ]
   Z   [   =   ]   `    [   ]   `   ]   `   [   =   ]   =	   ]
   Z   [   ]   `    ]   `   [   =!   ]   =   ]
   Z   [   =3   ]0   `    ]   `   [   =   ]   =   ]
   Z   [   =4   ]0   `    ]   `   [   =   ]   =   ]
   Z   [   =5   ]0   `    ]   `   [   =   ]   =	   ]
   Z   [   =   ]   `    [   =6   ]0   `   ]   `   ]7   Z   [   Z   [   =   ]   `    ]   `    [   =   ]   Z   [   =   ]   `    [   =   ]0   `   ]   `   [   =   ]   Z   [   =   ]   `    [   =8   ]0   `   ]   `   [   =!   ]   Z   [   =   ]   `    [   =8   ]0   `   ]   `   [   =   ]   Z   [   =   ]   `    [   =9   ]0   `   ]   `   [   =   ]   Z   [   =   ]   `    [   =:   ]0   `   ]   `   [   `   [   =   ]   =   ]
   Z   [   =   ]   `    ]   `   [   =1   ]   =$   ]
   Z   [   =   ]   `    [   =;   ]0   `   ]   `   [   =   ]
   Z   [   =   ]   `    ]   `	   [   =<   ]   =   ]
   Z   [   <    ]=   `    [   =   ]   `   ]   `
   ]>   Z   [   =	   ]   =	   ]
   Z   [   C]?   `    [   
]   `   [   ]   `   [   <   ]@   `   [   =A   ]   `   ]   `    ]B   Z   [   =   ]   =   ]
   Z   [   =C   ]0   `    ]   `    [   =<   ]   =   ]
   Z   [   =D   ]0   `    ]   `   [   =E   ]   =   ]
   Z   [   =F   ]0   `    ]   `   [   =G   ]   =   ]
   Z   [   =   ]   `    ]   `   [   =1   ]   =   ]
   Z   [   =H   ]0   `    ]   `   [   =   ]   =   ]
   Z   [   =   ]   `    ]   `   [   =I   ]   =   ]
   Z   [   =J   ]0   `    ]   `   [   =)   ]   Z   [   =   ]   `    ]   `   [   =   ]   =#   ]
   Z   [   =   ]   `    ]   `   [   =   ]   =   ]
   Z   [   =   ]   `    ]   `	   [   =!   ]   =$   ]
   Z   [   =K   ]0   `    ]   `
   [   =!   ]   =#   ]
   Z   [   =L   ]0   `    ]   `   [   =   ]   =$   ]
   Z   [   =   ]0   `    ]   `   [   =   ]   =$   ]
   Z   [   =M   ]0   `    ]   `   [   =N   ]   =$   ]
   Z   [   =O   ]0   `    ]   `   ]P   Z   [   =.   ]   Z   [   =   ]   `    ]   `    [   =   ]   Z   [   =   ]   `    ]   `   [   =   ]   Z   [   =   ]   `    ]   `   [   =   ]   Z   [   =   ]   `    ]   `   [   =   ]   Z   [   =   ]   `    ]   `   [   =   ]   Z   [   =   ]   `    ]   `   [   =!   ]   Z   [   =   ]   `    ]   `   [   =   ]   Z   [   =   ]   `    ]   `   [   =!   ]   =   ]
   Z   [   =   ]   `    ]   `   [   =   ]   Z   [   =Q   ]0   `    [   4]   `   ]   `	   [   Z   [   ]   `    ]   `
   [   =   ]   `   ]R   Z   [   Z   [   =,   ]   `    [   ]   `   ]   `    [   =   ]   =   ]
   Z   [   d]   `    [   =   ]   `   ]   `   [   =   ]   =   ]
   Z   [   =   ]   `    ]   `   ]S   ]T      ]U   : 0V   Q4<(
									 													
	##"*  (			 } #   web.public.widget   registry   Widget   extend   .s_google_map   selector-   disabledInEditableMode/   administrative.locality   featureType   all   elementType   #2c2e33   hue   saturation   lightness   on   visibility   stylers   landscape   #ffffff   simplified   poi   off	   road   geometry   #bbc0c4   labels   road.arterial   road.local   #e9ebed   transit   water   lightMonoMap   road.highway   labels.icon   geometry.stroke   geometry.fill   #2d313f   poi.government#   poi.sport_complex   poi.attraction   poi.business   transit.station   lillaMap   #00ffe6   blueMap   administrative   #f2e5d4   color   poi.park   #c5dac6   #c5c6c6   #e4d7c6   #fbfaf7   #acbcc9   retroMap   #fee379   #f3f4f4   #7fc8ed   #83cead%   landscape.man_made   weight   flatMap!   invert_lightness   gamma   #435158   cobaltMap   #a2daf2   #f7f1df#   landscape.natural   #d0e3b43   landscape.natural.terrain   #bde6ab   poi.medical   #fbd3da   #ffe15f   #efd151   black/   transit.station.airport   #cfb2db   cupertinoMap   #84afa3   carMap   bwMap   mapColors   start   GoogleMap!!?!!      ?!!      require        !!          publicWidget           +H!!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   saturation!!    !!       !!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   saturation!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   stylers!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   lightness!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   lightness!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   stylers!!    !!       !!   visibility!!    !!       !!   color!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   color!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   color!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   color!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   color!!    !!       !!   featureType!!!!   stylers!!    !!            !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   elementType!!!!   stylers!!    !!       !!   weight!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!!   invert_lightness!!    !!       !!   saturation!!    !!       !!   lightness!!    !!       !!   gamma!!    !!       !!   hue!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   color!!    !!       !!   lightness!!    !!       !!   featureType!!!!   stylers!!    !!       !!   saturation!!    !!       !!   stylers!!    !!       !!   featureType!!    !!       !!   hue!!    !!       !!   saturation!!    !!       !!   stylers!!    !!       !!   lightness!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!       !!   visibility!!    !!       !!   featureType!!!!   elementType!!!!   stylers!!    !!    	   !!   lightMonoMap!!!!   lillaMap!!!!   blueMap!!!!   retroMap!!!!   flatMap!!!!   cobaltMap!!!!   cupertinoMap!!!!   carMap!!!!   bwMap!!    !!         start@  p     =                                   ( !                     	   Q   Q        Q      
Z    >  -
  5   
   m5   _,  ,  :   5    Q)        Q   '=   ID   Q   5   =   I6      A    ,  R         Q   Z       Q   5   5   A   [   =	   ]
   ,  R Q[   ]      5   5   A<    <   ,  R ]      5   5   5   ]   B]   B]   B]   B]   B]   [   Z      5   5   5   `    =   `   ]   ]      Q     
=   :    Q   5   5   A      
>:    ,  R    Q  5   5   5       
?: !   
>: "   
=#   :    Q   5   5   A   >7   ?7,  R    Q   $   
    Q   5   5%   &   
'   =(       Q[      ])      5   5*   5+   ],      5   5   A   >7   ?7,  R ]-      Q  5   5   5.   =/   H      =0   01   Q   5   52   A   ,  R Q   3   
   5   5     5   5   54   7 Q   5   
6   6     5   5   57   :  Q  5   5   58    	  Q 	  |        59   	  7   Q  5:   ;   
=      5   5   A   [   =<   ]
   ,  R  Q  3   
=    Q    z  {@!w x #:,(1$"R%	#&&A5&&EZ    _super	   next   value	   done   google   object	   maps   Promise   StyledMapType   Std Map	   name	   zoom   LatLng   center   MapTypeId   ROADMAP   mapTypeId   panControl   zoomControl   mapTypeControl#   streetViewControl   scrollwheel   map_style   mapTypeIds+   mapTypeControlOptions   $   .map_container   Map   get   el   dataset   mapGps   substring   slice   split   ,   setCenter   event   addDomListener   window   resize   map   Animation	   DROP   animation   position   pinStyle	   flat   /website/static/src/img/snippets_thumbs/s_google_map_marker.png	   icon   Marker   setMapTypeId   mapType   setZoom   parseInt   mapZoom   mapColor   mapColors   mapTypes   set   Styled Map!!omI@!!5f@!!      .generator   arguments   .this         !!          std   myOptions	   mapC   map   p   gps   markerOptions   mapColorAttr            !!         mapColor            +H!!         start/<d"                    resolve   D"        @         5 5!!       !!	   name!!    !!       !!   mapTypeIds!!    !!    	   !!	   zoom!!!!   center!!!!   mapTypeId!!!!   panControl!!!!   zoomControl!!!!   mapTypeControl!!!!#   streetViewControl!!!!   scrollwheel!!!!+   mapTypeControlOptions!!    !!          start/<d"  y  y    s         5!!       !!   map!!!!   animation!!!!   position!!    !!       !!	   name!!    ;   P   !         T                     q                5 !!       !!   selector!!!!-   disabledInEditableMode!!!!   mapColors!!!!   start!!    ;         5!!       C  `                                              *  * 	                        QT  =    :    QT  =   :    QT  =   :    QV   5      
[   =   ]   Z   =   `    ]   [    =	   ]
   ]   B]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]	      ]   :   QV   5   V  0   QV  9#+:'            '       b  NT 	   z5    web.core   web.config#   web.public.widget   Widget   extend%   .s_dynamic_snippet   selectorm   /website/static/src/snippets/s_dynamic_snippet/000.xml   xmlDependencies   _onCallToAction!   click [data-url]   read_events-   disabledInEditableMode	   init   willStart   start   destroy   _clearContent#   _isConfigComplete!   _getSearchDomain   _fetchData?   _manageWarningMessageVisibility   _prepareContent+   _getQWebRenderOptions   _render   _renderContent7   _setupSizeChangedManagement#   _toggleVisibility   _onSizeChanged   registry   dynamic_snippet!!      require        !!       	   core   config   publicWidget   DynamicSnippet           +H!!       !!!   click [data-url]!!    !!       	   initC                                     	          "     	              	W   QW  QV  5       
V  V   O QV  Z    0   QV  =   0   QV        5   5   0   QV     	   
=
   : 0	   QV  =   0   Q "0!3    _super   apply	   data      renderedContent   device   isMobile'   isDesplayedAsMobile   _   uniqueId%   s_dynamic_snippet_=   website.s_dynamic_snippet.grid   template_key!!      arguments   .this         +H;      5 !!         willStartC  <                                                   	                	W   Q   Q   5       
   V   O    
    :  "R    _super   apply	   then!!      arguments   .this        +H!!           willStart/<d"  =  =  	           5;5!!         startC  <                                                '  ' 	                	W   Q   Q   5       
   V   O    
    :  2"`    _super   apply	   then!!      arguments   .this        +H!!           start/<d"   $  $ 	  `         5;5!!         destroyC  X                                   	          " 8  0  	              	W   QW  QV      
B QV     
B QV     
  QV  5      
V  V   O Q (" #   _toggleVisibility7   _setupSizeChangedManagement   _clearContent   _super   apply!!      arguments   .this         +H;      5 !!         _clearContentC  J                                               [  [ 	  e            W   Q  QV   5       
=   :   QV     V     
=    Q g+"    $el	   find3   .dynamic_snippet_template	   html   !!      .this         !!       /   $dynamicSnippetTemplate          +H;      C   "       5 !!      #   _isConfigCompleteC  X                                               v  n  	              W   QV   5       
>: 5   5      IE+   QV   5       
>: 5   5      I .0    $el   get   dataset   filterId   undefined   templateKey!!      .this         +H;       5!!      !   _getSearchDomainC                                                         	               Z     	 !!              +H;       5!!         _fetchDataC          M                         #                 	          	          Q       
:           
[   =   ]   [             5      
>: 5   5   : ]	      5      
>: 5   5
   ]            5      
>: 5   5   : ]         
:  ]   ]   :    
   :       A   ,  R  #
+$2 `3 #   _isConfigComplete	   _rpc1   /website/snippet/filters   route   parseInt   $el   get   dataset   filterId   filter_id   templateKey   template_key   numberOfRecords   limit!   _getSearchDomain   search_domain   params	   then   Promise!!      .this         +H!!       !!   filter_id!!!!   template_key!!!!   limit!!!!   search_domain!!    !!       !!   route!!!!   params!!    !!           _fetchData/<d" N g N g 	           5 !!          _fetchData/<d"     	           5 ;5!!      ?   _manageWarningMessageVisibilityE  T                                  
             5  5 	  n                Q      Q   5       
=   :    
=         
:   Q    q>/    $el	   find/   .missing_option_warning   toggleClass   d-none#   _isConfigComplete!!      .generator   .this         +H;   5!!         _prepareContentC        
                                         N * F * 	              W   QV   5    >75   5   E   QV   5    >75   5   E   V         5      
V   5   V      
:  : 0   Q   V   =	   0   Q c8G    $target   dataset!   numberOfElements9   numberOfElementsSmallDevices	   qweb   render   template_key+   _getQWebRenderOptions   renderedContent   !!      .this         +H;2       5 !!      +   _getQWebRenderOptionsC        
                                        I  A  	              W   Q[                  5   5       V   5   >75   5      V   5   >75   5   : ]   V   5   ]   V   5	   ]	    
    parseInt   device   isMobile   $target   dataset9   numberOfElementsSmallDevices!   numberOfElements   chunkSize	   data   uniqueId!!      .this         +H!!       !!   chunkSize!!!!	   data!!!!   uniqueId!!    ;       5!!         _renderC  O                                                {  { 	  	            W   QV   5          V      
  Q   V   =   0   QV      
  Q 	 	   data   length   _prepareContent      renderedContent   _renderContent!!      .this         +H;2       5 !!         _renderContentC  3                                                   
  /             W   QV   5       
=   :    
V   5    Q2+    $el	   find3   .dynamic_snippet_template	   html   renderedContent!!      .this         +H;       5 !!      7   _setupSizeChangedManagementC {                                                  
               W   QT  CH<         5    5      
=   V   V   5    Q7         5    5      
=   V   V   5    Q  D@    device   bus   on   size_changed   _onSizeChanged   off!!      enable   .this       +H;2       5 !!      #   _toggleVisibilityC $                                                  
  Y            W   QV   5       
=   T    Q c(    $el   toggleClass   d-none!!      visible   .this       +H;       5!!         _onCallToActionC 0                                                	 D  D 
                         T  5   :    
=   : 0   Q     window   $   currentTarget	   attr   data-url   location!!      ev        +H;       5!!         _onSizeChangedC T                                   	           \  T  
              W   QV   5          5   5   I.   V      5   5   0    QV      
  Q 60 '   isDesplayedAsMobile   device   isMobile   _render!!   	   size   .this       +H;"       5 !!       !!   selector!!!!   xmlDependencies!!!!   read_events!!!!-   disabledInEditableMode!!!!	   init!!!!   willStart!!!!   start!!!!   destroy!!!!   _clearContent!!!!#   _isConfigComplete!!!!!   _getSearchDomain!!!!   _fetchData!!!!?   _manageWarningMessageVisibility!!!!   _prepareContent!!!!+   _getQWebRenderOptions!!!!   _render!!!!   _renderContent!!!!7   _setupSizeChangedManagement!!!!#   _toggleVisibility!!!!   _onCallToAction!!!!   _onSizeChanged!!    ;      Z      ]         5!!       C            D                                                                   QT  =    :    QT  =   :   QT  =   :   QT  =   :   QV     
[   =   ]   V  5   5   D   QZ    	   
Z   =
   `    : ]       ]      ]   :   QV  5   V  0   QV  B#+.'GLk F    web.config   web.core#   web.public.widget3   website.s_dynamic_snippet   extend7   .s_dynamic_snippet_carousel   selector   prototype   xmlDependencies   concat   /website/static/src/snippets/s_dynamic_snippet_carousel/000.xml	   init)   _getQWebRenderParams   registry1   dynamic_snippet_carousel!!      require        !!          config	   core   publicWidget   DynamicSnippet-   DynamicSnippetCarousel           +H!!      	   initC  8                                             "                   	W   QW  QV  5       
V  V   O QV  =   0   Q "7    _super   applyE   website.s_dynamic_snippet.carousel   template_key!!      arguments   .this         +H;      5 !!      )   _getQWebRenderParamsC  d      	                                              j     
       	W   QW  Q       
V  5      
V  V   O [          V  5   >75   5   : ]   :  m#	q    Object   assign   _super   apply   parseInt   $target   dataset!   carouselInterval   interval!!      arguments   .this         +H!!       !!   interval!!    ;       5!!       !!   selector!!!!   xmlDependencies!!!!	   init!!!!)   _getQWebRenderParams!!    ;                        5 !!       C         
   *                                                         T  =    : W   QT  =   : W  QV  5      
[         
[    V  5   5   5   D   Q[   [   =   ]	   : ]      ]    QC)Iq_      web.session   website.navbar   WebsiteNavbar   include   _   extend   prototype   events%   _onMenuToggleClick)   click .o_menu_toggle!!      require   session#   websiteNavbarData       +H!!            !!            !!       !!)   click .o_menu_toggle!!    !!        %   _onMenuToggleClickC           8                                           N     	       T      
  Q      T  5   : W   QV      
=   :     V      
=   :    
      =   [    =	   ]
   :  Q=   W  Q   5   V  0   Q S  |4;    preventDefault   $   currentTarget   hasClass   fa   removeClass   fa fa-th   append   <span/>+   fa fa-spin fa-spinner   class   /web#home   window   location	   href!!      ev   $button   url       +H!!       !!   class!!    ;        5!!       !!   events!!!!%   _onMenuToggleClick!!    ;5!!       C  9         y                                    8  0                     T  =    : W   QT  =   :   QT  =   : 5      QQT  =   :   QT  =   : W  QV   5     QV   5     QV  5   V  5	   
   
[
   =   ]   Z   =   `    ]   [    =   ]   ]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   : 0   Q;,!A51<  C $ U)    N "s    web.core   web.time9   google_recaptcha.ReCaptchaV3   ReCaptcha   web.ajax#   web.public.widget   _t	   qweb   registry   Widget   extendS   .s_website_form form, form.s_website_form   selector[   /website_form/static/src/xml/website_form.xml   xmlDependencies	   senda   click .s_website_form_send, .o_website_form_send   events	   init   willStart   start   destroy%   check_error_fields#   is_datetime_valid   parse_date   update_status   s_website_form!!      require	   core	   time	   ajax   publicWidget   _t	   qweb      !!          ReCaptcha          +H!!       !!a   click .s_website_form_send, .o_website_form_send!!    !!      	   initC           !                                     8  0           	       	W   Q   Q       
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)Q       A,  R  0   Q      A    ,  R 0   Q 5@!2    _super	   next   value	   done   _recaptcha   Promise   __started!!      arguments   .this        +H!!        )   init/this.__started<d"                5 ;   =   !   5 !!         willStartC        
   #                                     a  a               	W   QW  Q  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)  QV  5   >75      
=   :     V  5   	   
  QV   @!)    _super	   next   value	   done   $target   classList   contains7   s_website_form_no_recaptcha   _recaptcha   loadLibs!!      arguments   .this         !!          res          +H;   A   !                          #       5!!         startC       5                           A             p  h                  	W  Q   Q      Q[           [    ?]   : ]           [   X']   ]   ]   : ]   C]   [   =   ]   =	   ]
   =   ]   =   ]   =   ]   =   ]   ]          
:  ]        
:  ]   W   Q   5      
=   :    
V    QV        
:  0   Q   5      
=   :    
V    Q      =      5      
=    : =!   : W  QV  "      #   $   
V  %   
=&   : '   
=(   =)   : '   
=*   =)   : '   
   =+   : :    Q,   -   
   5   .   
:  =/   : W  Q,   0   
V      Q   1   
Z    >V  -
  5   
   m52   _,  ,  :   53    Q)4   
   : "H$@(,d.@!     moment   y   minDate   M   d   maxDate   calendarWeeks   fa fa-clock-o	   time   fa fa-calendar	   date'   fa fa-chevron-right	   next%   fa fa-chevron-left   previous!   fa fa-chevron-up   up%   fa fa-chevron-down	   down   icons   locale+   getLangDatetimeFormat   format   $target	   finde   .s_website_form_datetime, .o_website_form_datetime   datetimepicker#   getLangDateFormatU   .s_website_form_date, .o_website_form_date   $   [data-for=	   attr   id   ]   length	   JSON   parse	   data   values   replace   False   ""	   None   "   _   pluck   serializeArray	   name	   each   _super   value	   done	   then!!   	   self'   datepickers_options   $values   values   fields   arguments   .this        +H!!       !!   y!!    !!       !!   y!!!!   M!!!!   d!!    !!       !!	   time!!!!	   date!!!!	   next!!!!   previous!!!!   up!!!!	   down!!    !!       !!   minDate!!!!   maxDate!!!!   calendarWeeks!!!!   icons!!!!   locale!!!!   format!!    !!   '   !!          start/<b  l  l   t  0       5!!          start/<d"        &          5;   j  !   5 !!         destroyC  -        /                          %          "       S             	W   QW  QV  5       
V  V   O QV  5      
=   :    
=    QV  5      
=   :    
=	    QV  5      
=
   :    
=   :    
=   :    
=    QV  5      
=   :    
  QV  5      
=    QV  5      
:     
=   :    
=    QV"  "&D#$    _super   apply   $target	   find   button   off   click   input[type="text"], input[type="email"], input[type="number"], input[type="tel"], input[type="url"], textarea   val      .o_has_error   removeClass   o_has_error;   .form-control, .custom-select   is-invalid]   #s_website_form_result, #o_website_form_result   empty   d-none   parent7   .s_website_form_end_message   addClass!!      arguments   .this         +H;      5 !!      	   sendE      !                          Y                                   Q        Q      
  Q  5      
=   :    
=    Q    Q  5      
=   :    
  Q     
[    :  2     	   
=
     =   :  QB       5      
:  0   Q      
  5      
=   :     Q[     Q      
  5       Q  5      
=   :    
=   :    
    Q  5      
=   :            Q   5            5   0   Q>      5
   .     	   
=
      5
    QB        
  5      
=   :   5      
=   : D    Q  5      
=   :   :    
   :     
    Q    }   ~@
DE S    $G7M)=+S 
#x7    preventDefault   $target	   findU   .s_website_form_send, .o_website_form_send   addClass   disabled]   #s_website_form_result, #o_website_form_result   empty%   check_error_fields   update_status   errorE   Please fill in the form correctly.   serializeArray   form_fields   $	   each!   input[type=file]   _c   .s_website_form_field:not(.s_website_form_custom)]   .s_website_form_date, .s_website_form_datetime   _recaptcha   getToken   website_form   token1   recaptcha_token_response	   post	   attr   action	   data   force_action   model_name	   then   guardedCatch!!      e	   self   form_values   .generator   .this       !!          tokenObj            +H!!            !!          send/<b  '  '   d   0          outer_index    input    B  $  $             5 5!!            !!         send/<b \ ^ T ^   7  `       5!!         send/<b          "       5!!         send/<b M  E       `       5!!         send/<b        1          5 ;                                        5!!      %   check_error_fieldsC F                                                                  W   QV      QC   QV   5       
=   :    
     Q     8    $target	   findE   .form-field, .s_website_form_field	   each!!      error_fields	   self   form_valid   .this      +H!!       )   check_error_fields/<b m x e x      0          B W  O      `         B       4         5    D"  '  '            5 55;5!!      #   is_datetime_validC Q                                              ,  ,   C             W   QT  =    H   C8   V      
T  T  QC     Qv  QB X_$%       parse_date!!      value   type_of_date   .this       !!          e         +H;              =          L          b       5!!         parse_dateC                                    2            @ Y 8 Y                      
:  W   Q     
:  W  QV      
=   =   :    
=   =   : W  QV     
=   =   :    
=	   =
   :    
=   =   : W  QT x=   Hy   =   Hy   zC        T  Z   V   =   V  `    V  =   V  `   C: W  QV     
:  $        
V     
:  :    A   5      
  =   : T  : ,  R p      T  Z   V   `    V  `   C: W  QV     
:  $        
V     
:  :    A   5      
  =   : T  : ,  R pT   s ^xx (a T7  #   getLangDateFormat#   getLangTimeFormat   replace   MM   M   DD   D   HH   H   mm   m   ss   s   datetime	   date   moment       isValid   datetime_to_str   toDate   Error   _   str   sprintf=   '%s' is not a correct datetime   date_to_str5   '%s' is not a correct date!!	      value   type_of_date   value_if_empty   date_pattern   time_pattern)   date_pattern_wo_zero)   time_pattern_wo_zero   datetime	   date       +H;@       5 !!         update_statusC          !                                     p  h                   W   Q   =    I.   V   5      
=   :    
=    QV      
=   :    Q   =   HE   Q         =	   :    QV   5
      
     Q6@9
n    success   $target	   findU   .s_website_form_send, .o_website_form_send   removeClass   disabled   $]   #s_website_form_result, #o_website_form_result   errorc   An error has occured, the form has not been sent.   __started	   then!!      status   message   $result   .this      +H!!          update_status/<d"      "            5;5!!       !!   selector!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   willStart!!!!   start!!!!   destroy!!!!	   send!!!!%   check_error_fields!!!!#   is_datetime_valid!!!!   parse_date!!!!   update_status!!    ;      3  5!!       C  q          8                                         %                T  =    : W   QV   5   V   5      
[   =   ]   B]       ]      ]      ]	      ]
   : 0   QE9%+  n %    #   web.public.widget   registry   Widget   extend3   #wrapwrap:has(.js_follow)   selector-   disabledInEditableMode   start'   _toggleSubscription-   _updateSubscriptionDOM   _onClick   follow!!      require   publicWidget       +H!!          startC  J                               (             b ^ Z ^ %                	W  QW  Q  QV     QV  B0    QV  5      
=   :    Q    W   Q[     Q  Q   -
  5   
   m  QQ:   5      Q   5     Q  QV  5   5     QV  V  q    V  V  Z    9QV  V  7	   

   
   V  5   5   :  Q]   v,  IM   ,     IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp B V     
[   =   ]   [   V  ]   ]   :    
V   :    
V    QV  5    U         =   :    
=    QV  5      
=   :    
=       QV  5      
V  V  O   
  @  Pp % "J-6"    isUser   $el	   find   .js_follow	   next	   done   value   dataset   object	   push   parseInt   id   return	   _rpc3   /website_mail/is_follower   route   records   params	   then   guardedCatch   editableMode   $O   .js_follow > .input-group-append.d-none   removeClass   d-none   $targetA   .js_follow_btn, .js_unfollow_btn   on   click   _super   apply!!   	   self   $jsFollowEls   always   arguments   .this        !!          records          !!         el          !!         model          +H!!         alwaysB  C  C %  [          	   data   B      %           5 5!!            !!       !!   records!!    !!       !!   route!!!!   params!!    !!         start/<b  0  0 '           5;    H         )  C          t      {            =     Y   $            i          G         5!!       '   _toggleSubscriptionC :        <                                   { i s i (  G             W   QT  #   V       
T  T T  Q    QT -
  5   
   m  QQ:   5      Q   5     Q  QT  E   QV     
=   :   QV       
V  T       V  :  Q]   v,  IM   ,     IE
   Q@I+    
,  ,  :  
Q	   vQ QQ   QQp B c@  =PY$)y -   _updateSubscriptionDOM	   next	   done   value   getAttribute!   data-unsubscribe   $   return!!      follow   email   $jsFollowEls   .this       !!          el          !!         follow          +H;                C       u   ]      M         -        {   R       R       5!!       -   _updateSubscriptionDOMC          $                                         (  U            W   QT     
=   :    
=   T   QT     
=   :    
=   T    QT     
=   :    
T D   Q=   :    
=	   T E   QT  D   QV   5
      =	      B QT    
=   T     =      =    Q q$;+?3 	   find   .js_follow_btn   toggleClass   d-none!   .js_unfollow_btn+   input.js_follow_email   val   	   attr   disabled   isUser   data-follow   on   off!!      follow   email   $jsFollowEls   .this       +H;       5!!          _onClickC         u                         .                (         	       W  QV     Q        T  5   :    
=   :    Q      
=   : W   QV      E%   QV      
:     
    :  ;      	   
=
   :    
=   : 	   
=    QB      
=
   :    
=   :    
=    QV         V      
:     B   Q   D   QV  5      V     
[   =   ]   [         
=   : #]         
=   : ]         
=   : D   Q=   ]      ]   ]   :    
    Q 
#"& S%&	%X  K    $   currentTarget   closest   .js_follow	   find!   .js_follow_email   length   val   match   addClass   o_has_error;   .form-control, .custom-select   is-invalid   removeClass   isUser	   _rpc)   /website_mail/follow   route	   data   id   object	   attr   data-follow   off'   message_is_follower   email   params	   then!!      ev	   self   $jsFollow   $email   email   .this      +H!!   .+@.+    !!       !!   id!!!!   object!!!!'   message_is_follower!!!!   email!!    !!       !!   route!!!!   params!!    !!           _onClick/<b o  g  )  o         5 ;5!!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!'   _toggleSubscription!!!!-   _updateSubscriptionDOM!!!!   _onClick!!    ;5!!       C  +         s                                     S  K  ,                T  =    : W   QT  =   :    QV   5   V   5      
[   =   ]   [    =   ]   =	   ]
   ]      ]      ]	   : 0   QV   5   V   5      
[
   =   ]   [   =   ]   =   ]   =   ]   =   ]   ]      ]      ]      ]      ]   	   ]   : 0   QV   5   5   Q!A2=? * aG#;4=2 )   	   , [ P, #   web.public.widget#   web_editor.loader   registry   Widget   extendM   .o_wprofile_email_validation_container   selector7   _onSendValidationEmailClick9   click .send_validation_email7   _onCloseValidatedEmailClick9   click .validated_email_close   read_events   websiteProfile/   .o_wprofile_editor_form-   _onEditProfilePicClick?   click .o_forum_profile_pic_edit'   _onFileUploadChange7   change .o_forum_file_upload/   _onProfilePicClearClickA   click .o_forum_profile_pic_clear   _onSubmitClick9   click .o_wprofile_submit_btn   start)   websiteProfileEditor!!      require   publicWidget   wysiwygLoader      +H!!       !!9   click .send_validation_email!!!!9   click .validated_email_close!!    !!       7   _onSendValidationEmailClickC       
   (                                         ,         	       W  QT      
  QV     Q      T  5   : W   QV     
[   =   ]   [    V      
=   : ]   ]   : 	   
    Q 	'kQ    preventDefault   $   currentTarget	   _rpc=   /profile/send_validation_email   route	   data   redirect_url   params	   then!!      ev	   self   $element   .this      +H!!       !!   redirect_url!!    !!       !!   route!!!!   params!!    !!       ;   _onSendValidationEmailClick/<b     ,            5 ;5!!       7   _onCloseValidatedEmailClickC  %                                               I 	 I ,              W   QV       
[    =   ]    Q 4 	   _rpc;   /profile/validate_email/close   route!!      .this         +H!!       !!   route!!    ;       5 !!       !!   selector!!!!   read_events!!!!7   _onSendValidationEmailClick!!!!7   _onCloseValidatedEmailClick!!    !!       !!?   click .o_forum_profile_pic_edit!!!!7   change .o_forum_file_upload!!!!A   click .o_forum_profile_pic_clear!!!!9   click .o_wprofile_submit_btn!!    !!           startC          X                                       (  ( ,                	W  Q   Q   5       
   V  O W   Q   5      V         
=   : W  Q     
   V  >7[   [          
:  ]   =   ]	   
   
         
=   :    
:  : ]   ]   :    
   : W  Q      
Z   V   `    V  `   :  " '
(/  (    _super   apply   editableMode   $3   textarea.o_wysiwyg_loader	   load   _getContext   context   res.users   res_model   parseInt'   input[name=user_id]   val   res_id   recordInfo	   then   Promise   all!!      def   $textarea   loadProm   arguments   .this        +H!!       !!   context!!!!   res_model!!!!   res_id!!    !!       !!   recordInfo!!    !!           start/loadProm<d"     -            5;5!!       -   _onEditProfilePicClickC R       	                                         H  @  -  H             T      
  Q      T  5   :    
=   :    
=   :    
=    Q M    preventDefault   $   currentTarget   closest	   form	   find)   .o_forum_file_upload   trigger   click!!      ev        +H;       5 !!       '   _onFileUploadChangeC           1                                      
  
 -                T  5    5                T  5    :    
=   :    Q   5   A,  R  W   QV      
T  5    5   >7 QV       0	   Q   
   
=   :    
  Q   0\!	    currentTarget   files   length   $   closest	   form   window   FileReader   readAsDataURL   onload	   find%   #forum_clear_image   remove!!      ev   $form   reader      +H!!        C   _onFileUploadChange/reader.onloadb     .            5;5!!       /   _onProfilePicClearClickC           *                                     + 
 # 
 .  )                    T  5   :    
=   : W   QV      
=   :    
=   =    QV   	   
        =
   [    =   ]   =   ]   =   ]   :  Q 2"2W    $   currentTarget   closest	   form	   find'   .o_forum_avatar_img	   attr   srcG   /web/static/src/img/placeholder.png   append   <input/>   clear_image	   name#   forum_clear_image   id   hidden	   type!!      ev   $form       +H!!       !!	   name!!!!   id!!!!	   type!!    ;       5 !!          _onSubmitClickC  +                                               " N  N .               W   QV   5       V   5       
  Q #    _wysiwyg	   save!!      .this         +H;"       5!!       !!   selector!!!!   read_events!!!!   start!!!!-   _onEditProfilePicClick!!!!'   _onFileUploadChange!!!!/   _onProfilePicClearClick!!!!   _onSubmitClick!!    ;5!!       C        7         $                               L"  L" 1                T  =    : W   QT  =   : W  QV   5      QV  5      
[   [    =   ]   ]      ]      ]	      ]
      ]      ]      ]   :    QV  5      
[   =   ]   Z   =   `    ]   [   =   ]   =   ]   =   ]   =   ]   =   ]   ]   	   ]   
   ]
      ]      ]      ]      ]      ]      ]      ]      ]   :    QV  5      
[      ]      ]      ]       ]!   :    QV  5"   V  5      
["   =#   ]$   [   =%   ]&   ='   ](   =)   ]*   =+   ],   =-   ].   =/   ]0   =1   ]2   ]      ]
      ]%      ]'      ])      ]+      ]-       ]/   !   ]1   : 03   Q[#      ]4      ]5      ]6   M!&t +       1  )*$17/3;;jy a   MFJ 47 (( {  @O ?/9DFA4> 0p{}     7 ( =     web.core#   web.public.widget   _t   Widget   extend   _onChange   change   events	   init   willStart   start   _objectExists   _createObject1   website_links.RecentLink   template[   /website_links/static/src/xml/recent_link.xml   xmlDependencies#   _toggleCopyButtonA   click .btn_shorten_url_clipboard   _editCodeA   click .o_website_links_edit_code   _onLinksOkClick=   click .o_website_links_ok_edit'   _onLinksCancelClickE   click .o_website_links_cancel_edit   _onSubmitCodeM   submit #o_website_links_edit_code_form   _notification   _cancelEdit   _submitCode   getRecentLinks   _addLink   removeLinks'   _updateNotification   registryG   .o_website_links_create_tracked_url   selector3   _onFilterNewestLinksClick5   click #filter-newest-links=   _onFilterMostClickedLinksClickA   click #filter-most-clicked-links?   _onFilterRecentlyUsedLinksClickC   click #filter-recently-used-links9   _onGeneratedTrackedLinkClick?   click #generated_tracked_link a   _onUrlKeyUp   keyup #url1   _onShortenUrlButtonClick-   click #btn_shorten_url   _onFormSubmitS   submit #o_website_links_link_tracker_form   websiteLinks   SelectBox   RecentLinkBox   RecentLinks!!      require	   core   publicWidget   _t   SelectBox   RecentLinkBox   RecentLinks      +H!!       !!   change!!    !!        	   initC C                                            "  D  D 1               	W   QW  QV  5       
V  V   O QV  T 0   QV  T 0   Q "    _super   apply   obj   placeholder!!      parent   obj   placeholder   arguments   .this       +H;      5!!          willStartC           7                                      W o O o 1                	W  QW  QV     QZ   V  5       
V  V  O `    W   QV      
V     
[   V  5   ]   =   ]   [    Z   =   `    =	   `   ]
   ]   :    
   :  Q      
V   :  y#Q      _super   apply	   push	   _rpc   obj   model   search_read   method   id	   name   fields   params	   then   Promise   all!!   	   self	   defs   arguments   .this        +H!!       !!   fields!!    !!       !!   model!!!!   method!!!!   params!!    !!           willStart/<b  R  R 1             B ( O   O 1  C         5 5;5!!          startC           0                         
             ~  v  1                W   QV      QV   5       
[      5   ]   C]       ]   =   ]   B]      5   ]	      5   
   d      >]    Q 
9$ 1       $el   select2   placeholder   allowClear%   createSearchChoice   bottom5   createSearchChoicePosition   multiple   objects	   data   length%   minimumInputLength!!   	   self   .this        +H!!        %   createSearchChoiceB  S  S 1            5!!       !!   placeholder!!!!   allowClear!!!!%   createSearchChoice!!!!5   createSearchChoicePosition!!!!   multiple!!!!	   data!!!!%   minimumInputLength!!    ;5 !!          _objectExistsC +                                               X  X 2                W   Q       
V   5       :    I  e    _	   find   objects   undefined!!      query   .this      +H!!           _objectExists/<b  I  I 2            5;5!!          _createObjectC       
   *                                     o s g s 2                W  QV     Q[       ]    W   QV  5   =   H   V   C0   QV     
[   V  5   ]   =   ]   Z   V   `    ]   : 	   
   :  _9d 	   name   obj   utm.campaign   is_website	   _rpc   model   create   method	   args	   then!!   	   name	   self	   args   .this      +H!!       !!	   name!!    !!       !!   model!!!!   method!!!!	   args!!    !!           _createObject/<b  p  p 3  M          5;5!!          _onChangeC Z                                   
             ~  3               W   QT  5     D$   Q      
T  5    5   :     V      
T  5    5    Q        added   _   isString   id   _createObject!!      ev   .this       +H;"       5 !!       !!   events!!!!	   init!!!!   willStart!!!!   start!!!!   _objectExists!!!!   _createObject!!!!   _onChange!!    !!       !!A   click .btn_shorten_url_clipboard!!!!A   click .o_website_links_edit_code!!!!=   click .o_website_links_ok_edit!!!!E   click .o_website_links_cancel_edit!!!!M   submit #o_website_links_edit_code_form!!    !!        	   initC A                                            "     4              	W   QW  QV  5       
V  V   O QV  T 0   QV  B0   Q "    _super   apply   link_obj   animating_copy!!      parent   obj   arguments   .this       +H;      5!!          startC  U                                   	             n  n 4  H            	W   QW  Q    AV     
=   :    
>: ,  R QV  5      
V  V   O  K%="    ClipboardJS   $5   .btn_shorten_url_clipboard   get   _super   apply!!      arguments   .this         +H;       5!!       #   _toggleCopyButtonC  !        N                                       m  m 4                W  QV  5       V     QV  C0    QV     
=   :    
:  5   W   QV     
=   :    
:     
=   =   :    
=   :    
=   V   :    
=	   : 
   
=   :    
=   :    
V     
=   : :    
[    >]   =   ]   X    Q  E
%%)&;
n    animating_copy   $5   .o_website_links_short_url   position   top   clone   css   absolute	   left   z-index   removeClass3   o_website_links_short_url   addClass   animated-link   insertAfter   animate   opacity	   -=20!!   	   self   top   .this        +H!!       !!   opacity!!!!   top!!    !!       '   _toggleCopyButton/<b  * j " j 5  }         5;5!!          _notificationC 4                                                |  5              W   QV       
=   :    
=   T  =    Q '    $   .notification   append   <strong>   </strong>!!      message   .this       +H;       5!!          _editCodeC           &                                       y  y 5  4            W  QV      
=   :    
:  W   QV      
=   :    
=   V   =   V   =    QV      
=   :    
  QV      
=   :    
  QV      
=	   : 
   
  Q ;	    %&    $+   #o_website_links_code	   html   <form style="display:inline;" id="o_website_links_edit_code_form"><input type="hidden" id="init_code" value="W   "/><input type="text" id="new_code" value="   "/></form>5   .o_website_links_edit_code	   hide%   .copy-to-clipboard7   .o_website_links_edit_tools	   show!!      initCode   .this         +H;       5!!          _cancelEditC           2                                           5              W  QV      
=   :    
  QV      
=   :    
  QV      
=   :    
  QV      
=   :    
  QV      
=   :    
:  W   QV      
=	   : 
   
V    QV      
=   :    
  QV      
=   :    
  Q %&&5 	%	    $5   .o_website_links_edit_code	   show%   .copy-to-clipboard7   .o_website_links_edit_tools	   hide7   .o_website_links_code_errorU   #o_website_links_edit_code_form #init_code   val+   #o_website_links_code	   html   #code-error   remove5   #o_website_links_code form!!      oldCode   .this         +H;       5 !!          _submitCodeC  1        [                                       h  h 5                W  Q       QV     QV      
=   :    
:  W   QV      
=   :    
:  W  QV  =   HT          
=   :    
  =   :  Q       
=   :    
  QV   V  H      V   QT   V  	   
[   =
   ]   [   V   ]   V  ]   ]   :    
       Q m	5
4+*& K \      $U   #o_website_links_edit_code_form #init_code   valS   #o_website_links_edit_code_form #new_code   7   .o_website_links_code_error	   html;   The code cannot be left empty	   show	   _rpc/   /website_links/add_code   route   init_code   new_code   params	   then!!   	   self   initCode   newCode   showNewCode   .this        +H!!           showNewCode ]	  I	  6            5!!       !!   init_code!!!!   new_code!!    !!       !!   route!!!!   params!!    !!          _submitCode/<b     7            5!!          _submitCode/<b   d  d 7            5;5!!          _onLinksOkClickC $                                                y  7  e            W   QT      
  QV      
  Q j    preventDefault   _submitCode!!      ev   .this       +H;       5!!       '   _onLinksCancelClickC $                                                  7              W   QT      
  QV      
  Q     preventDefault   _cancelEdit!!      ev   .this       +H;       5!!          _onSubmitCodeC $                                               <  < 7              W   QT      
  QV      
  Q     preventDefault   _submitCode!!      ev   .this       +H;       5!!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   start!!!!#   _toggleCopyButton!!!!   _notification!!!!   _editCode!!!!   _cancelEdit!!!!   _submitCode!!!!   _onLinksOkClick!!!!'   _onLinksCancelClick!!!!   _onSubmitCode!!    !!          getRecentLinksC \         "                                       {  7                W   QV      QV       
[   =   ]   [    T  ]   ]   ]   :    
      :  t
$S   	   _rpc7   /website_links/recent_links   route   filter   limit   params	   then!!      filter	   self   .this      +H!!       !!   filter!!!!   limit!!    !!       !!   route!!!!   params!!    !!        !   getRecentLinks/<b  d  d 7              B * F " F 7           5 5!!       !   getRecentLinks/<b  m  e  7  Q         5 ;5!!          _addLinkC                                                    7              W  QV      
:     W   Q   AV  T  ,  R W  QV     
V  5    Q      =   :    
  QV   >H   V     
  Q "
    getChildren   length   prependTo   $el   $   .link-tooltip   tooltip'   _updateNotification!!   	   link   nbLinks   recentLinkBox   .this       +H;"       5 !!          removeLinksC  *                                                     7              W   Q       
V      
:  =    Q 	'    _   invoke   getChildren   destroy!!      .this         +H;       5!!       '   _updateNotificationC        	                                             7              W  QV      
:     >HK      =   : W   Q      =   :    
=   V   =    Q#         =   :    
  Q #'0>0	    getChildren   lengthA   You don't have any recent links.   $U   .o_website_links_recent_links_notification	   html=   <div class="alert alert-info">   </div>   empty!!      message   .this         +H;2       5 !!       !!   getRecentLinks!!!!   _addLink!!!!   removeLinks!!!!'   _updateNotification!!    !!       !!5   click #filter-newest-links!!!!A   click #filter-most-clicked-links!!!!C   click #filter-recently-used-links!!!!?   click #generated_tracked_link a!!!!   keyup #url!!!!-   click #btn_shorten_url!!!!S   submit #o_website_links_link_tracker_form!!    !!           startC                                    :            6 W . W 7              	W  QW  QZ   V  5       
V  V  O `    W   Q   AV  =      =   : ,  R W  QV      
V     
      =   : :  Q   AV  =      =	   : ,  R W  QV      
V     
      =
   : :  Q   AV  =      =   : ,  R W  QV      
V     
      =   : :  QV     AV  ,  R 0   QV      
V  5      
      =   : :  QV  5      
=    Q   A      =   :    
>: ,  R QV  B0   Q      =   :    
  Q      
V   :  !'1W">-K ;-L 6$I*.
    _super   apply   utm.campaign[   e.g. Promotion of June, Winter Newsletter, ..	   push   attachTo   $!   #campaign-select   utm.mediumG   e.g. Newsletter, Social Network, ..   #channel-select   utm.sourceI   e.g. Search Engine, Website page, ..   #source-select   recentLinks   appendTo;   #o_website_links_recent_links   getRecentLinks   newest   ClipboardJS!   #btn_shorten_url   get%   url_copy_animating/   [data-toggle="tooltip"]   tooltip   Promise   all!!   	   defs   campaignSelect   mediumSelect   sourceSelect   arguments   .this         +H;       5 !!       3   _onFilterNewestLinksClickC  4                                               z  r  7  ^            W   QV   5       
  QV   5       
=    Q a*    recentLinks   removeLinks   getRecentLinks   newest!!      .this         +H;       5!!       =   _onFilterMostClickedLinksClickC  4                                                B  B 7              W   QV   5       
  QV   5       
=    Q 0    recentLinks   removeLinks   getRecentLinks   most-clicked!!      .this         +H;       5 !!       ?   _onFilterRecentlyUsedLinksClickC  4                                               k  c  7  O            W   QV   5       
  QV   5       
=    Q R1    recentLinks   removeLinks   getRecentLinks   recently-used!!      .this         +H;       5 !!       9   _onGeneratedTrackedLinkClickC  `       	                                             7                         =   :    
   =   : :    
=   :    
=    Q          X Q $      $3   #generated_tracked_link a	   text   Copied   removeClass   btn-primary   addClass   btn-success   setTimeout!!              +H!!        =   _onGeneratedTrackedLinkClick/<b  `  X  7  D         5 ;5!!          _onUrlKeyUpC           2                                          7                       =   :    
=   :  D   QT  5   H           =   :    
=   :    
=   : 	   
=
    Q        =   :    
=   =    Q        =   :    
  Q %  ;$     $!   #btn_shorten_url   hasClass   btn-copy   which   removeClass)   btn-success btn-copy   addClass   btn-primary	   html!   Get tracked link/   #generated_tracked_link   css   display	   none5   .o_website_links_utm_forms	   show!!      ev        +H;        5!!       1   _onShortenUrlButtonClickC  #        M                                          8                W   Q        =   :    
=   :  D   QV   5      V      QV   C0   Q        =   :    
:     
=   =	   :    
=
   =   :    
=   =   :    
=   :    
=   :    
=   :    
        =   : :    
[    >]   =   ]   X    Q  / 
''0
t    $!   #btn_shorten_url   hasClass   btn-copy%   url_copy_animating/   #generated_tracked_link   clone   css   position   absolute	   left	   78px   bottom   8px   z-index   removeClass   addClass#   url-animated-link   appendTo   animate   opacity	   +=20!!   	   self   .this        +H!!       !!   opacity!!!!   bottom!!    !!       5   _onShortenUrlButtonClick/<b      9  >         5 ;5!!          _onFormSubmitC                                  (            	 !  ! 9         
       W  QV     QT      
  Q      =   :    
=   :    T     
  Q      =   :    
=   : W   Q      =	   :    
=   : W  Q      =
   :    
=   : W  Q[    W  QV        =   :    
:  0   QV   =   I!   V        V   : 0   QV  =   I!   V        V  : 0   QV  =   I!   V        V  : 0   Q      =   :    
  =   :  QV     
[   =   ]   V  ]   :    
    Q 
  :		

7     preventDefault   $!   #btn_shorten_url   hasClass   btn-copy   stopPropagation!   #campaign-select	   attr   value   #channel-select   #source-select	   #url   val   url      parseInt   campaign_id   medium_id   source_id	   text%   Generating link...	   _rpc%   /website_links/new   route   params	   then!!      ev	   self   campaignID   mediumID   sourceID   params   .this      +H!!            !!       !!   route!!!!   params!!    !!          _onFormSubmit/<b _ ! W ! =  y   `       5 ;5!!    
   !!   selector!!!!   events!!!!   start!!!!3   _onFilterNewestLinksClick!!!!=   _onFilterMostClickedLinksClick!!!!?   _onFilterRecentlyUsedLinksClick!!!!9   _onGeneratedTrackedLinkClick!!!!   _onUrlKeyUp!!!!1   _onShortenUrlButtonClick!!!!   _onFormSubmit!!    !!       !!   SelectBox!!!!   RecentLinkBox!!!!   RecentLinks!!    ;5!!       C            P                                     " H, " H, @                T  =    : W   QT  =   : W  QV   5      QV  5   V  5      
[   =   ]   [    =   ]	   =
   ]   =   ]   =   ]   ]      ]      ]      ]      ]
      ]   : 0   QK!I56:1;   j @   ]    web.core#   web.public.widget   _t   registry   Widget   extendS   #wrapwrap:has(.o_website_links_edit_code)   selector!   _onEditCodeClickA   click .o_website_links_edit_code%   _onCancelEditClickE   click .o_website_links_cancel_edit+   _onEditCodeFormSubmit-   submit #edit-code-form=   click .o_website_links_ok_edit   events   _showNewCode   _submitCode-   websiteLinksCodeEditor!!      require	   core   publicWidget   _t      +H!!       !!A   click .o_website_links_edit_code!!!!E   click .o_website_links_cancel_edit!!!!-   submit #edit-code-form!!!!=   click .o_website_links_ok_edit!!    !!          _showNewCodeC          7                          $            $ Y& $ Y& @                      =   :    
=    Q        =   :    
  Q        =   :    
  Q        =   :    
:  W   Q        =   :    
T   Q        =	   : 
   
=   V   T   Q        =   :    
  Q        =	   :    
  Q        =   :    
  Q "!	! ) !    $7   .o_website_links_code_error	   html   	   hide5   #o_website_links_code form   remove   #short-url-host+   #o_website_links_code%   .copy-to-clipboard	   attr'   data-clipboard-text5   .o_website_links_edit_code	   show7   .o_website_links_edit_tools!!      newCode	   host       +H;       5!!          _submitCodeC  L        b                                      n& ) f& ) @                W  Q        =   :    
:  W   Q        =   :    
:  W  QV     QV  =   HT          
=   :    
  =   :  Q       
=   :    
  QV  	   
V   QV   V  H   V  	   
V   QT   V  
   
[   =   ]   [    V   ]   V  ]   ]   :    
      :       
:   	 


+*& A! \    $5   #edit-code-form #init_code   val3   #edit-code-form #new_code   7   .o_website_links_code_error	   html;   The code cannot be left empty	   show   _showNewCode	   _rpc/   /website_links/add_code   route   init_code   new_code   params	   then   Promise   resolve!!      initCode   newCode	   self   .this        +H!!       !!   init_code!!!!   new_code!!    !!       !!   route!!!!   params!!    !!           _submitCode/<b =( i( 5( i( A            5!!          _submitCode/<b  r( ( j( ( A            5;5!!       !   _onEditCodeClickC            #                                       ) * ) * B  4                     =   :    
:  W   Q        =   :    
=   V   =   V   =    Q        =   :    
  Q        =   :    
  Q        =	   : 
   
  Q;	   !    $+   #o_website_links_code	   html   <form style="display:inline;" id="edit-code-form"><input type="hidden" id="init_code" value="W   "/><input type="text" id="new_code" value="   "/></form>5   .o_website_links_edit_code	   hide%   .copy-to-clipboard7   .o_website_links_edit_tools	   show!!      initCode         +H;       5 !!       %   _onCancelEditClickC           5                          "            * + * + B              T      
  Q      =   :    
  Q      =   :    
  Q      =   :    
  Q      =   :    
  Q      =   : 	   
:  W   Q      =
   :    
V    Q      =   :    
  Q      =   :    
  Q  !! 	 	    preventDefault   $5   .o_website_links_edit_code	   show%   .copy-to-clipboard7   .o_website_links_edit_tools	   hide7   .o_website_links_code_error5   #edit-code-form #init_code   val+   #o_website_links_code	   html   #code-error   remove5   #o_website_links_code form!!      ev   oldCode       +H;       5!!       +   _onEditCodeFormSubmitC $                                              , C, , C, B  ,            W   QT      
  QV      
  Q 1    preventDefault   _submitCode!!      ev   .this       +H;       5!!       !!   selector!!!!   events!!!!   _showNewCode!!!!   _submitCode!!!!!   _onEditCodeClick!!!!%   _onCancelEditClick!!!!+   _onEditCodeFormSubmit!!    ;5!!       C  w                                              , 0D , 0D E                T  =    : W   QT  =   : W  QV   5      QV  5      
[   Z   =   `    ]       ]      ]   :    QV  5      
[   Z   =   `    ]      ]      ]   :    QV  5	   V  5      
[   =
   ]   [   =   ]   =   ]   ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]   : 0   Q[      ]      ]   F!%#   %#Nk E",7 {      V G B t    web.core#   web.public.widget   _t   Widget   extend=   /web/static/lib/Chart/Chart.js   jsLibs	   init   start   registry-   .o_website_links_chart   selector!   _onGraphTabClick-   click .graph-tabs li a/   _onCopyToClipboardClick1   click .copy-to-clipboard   events   _totalClicks   _clicksByDay!   _clicksByCountry1   _lastWeekClicksByCountry3   _lastMonthClicksByCountry%   websiteLinksCharts   BarChart   PieChart!!      require	   core   publicWidget   _t   BarChart   PieChart      +H!!        	   initC ~                                            " - t. - t. E               	W   QW  QV  5       
V  V   O QV  T 0   QV  T 0   QV  V  5      
V  5   =   : 0   QV  T 0   Q "+    _super   apply   beginDate   endDate	   diff	   days   number_of_days   dates!!      parent   beginDate   endDate   dates   arguments   .this       +H;      5 !!          startC                                               . "1 {. "1 E                W  QZ    W   QV  5    W  Q>W  Q    mV     
=   : W  QV      
Z   V  `    V  V  5   q   V  5   V  7   >`    QV     
?=    QV  #W  QQV  V  5   h>   QZ       QZ       QV      
     QV  	   
=
   :    
     =   :  Q[   =   ]   [      ]   Z   [      ]   =   ]     =   : ]   =   ]   =   ]   `    ]   ]   W  QV  	   
=   : >7W  QV     
=   : W  Q   AV  V  ,  R Q !&    #	J
X!

!    beginDate   format   YYYY-MM-DD	   push   dates   add	   days   number_of_days   forEach   $   .title	   html    clicks	   line	   type   labels	   data   start	   fill   # of clicks   label   #ebf2f7   backgroundColor   #6aa1ca   borderColor   datasets   canvas   getContext   2d   Chart!!      clicksArray   beginDateCopy   i   dateKey   nbClicks	   data   labels   config   canvas   context   .this        +H!!           start/<b / / / / F  E          5!!       !!	   data!!!!	   fill!!!!   label!!!!   backgroundColor!!!!   borderColor!!    !!       !!   labels!!!!   datasets!!    !!       !!	   type!!!!	   data!!    ;    *      5!!       !!   jsLibs!!!!	   init!!!!   start!!    !!        	   initC 6                                            " 1 1 1 1 F              	W   QW  QV  5       
V  V   O QV  T 0   Q "    _super   apply	   data!!      parent	   data   arguments   .this       +H;      5 !!          startC          j                        +            1 3 1 3 F  ^            W  QZ    W   QZ    W  Q>W  Q    mV  5    V  75       V  5    V  75   ?7      =   : W  QV      
V  =   V  5    V  75   =    QV     
V  5    V  75    QV  #W  QQV  V  5       ?V     
=	   : 
   
V  5          =   :  Q[   =   ]   [   V   ]   Z   [    V  ]    V  5       >   V  5    >75         =   : ]   `    ]   ]    W  QV     
=   : >7W  QV     
=   : W  Q   AV  V  ,  R Q e&      EC_',

* 	   data   country_id   Undefined	   push    (!   country_id_count   )   length   $   .title	   html    countries   pie	   type   labels   key   No data   label   datasets   canvas   getContext   2d   Chart!!      labels	   data   i   countryName   config   canvas   context   .this         +H!!       !!	   data!!!!   label!!    !!       !!   labels!!!!   datasets!!    !!       !!	   type!!!!	   data!!    ;    &      "       5!!       !!   jsLibs!!!!	   init!!!!   start!!    !!       !!-   click .graph-tabs li a!!!!1   click .copy-to-clipboard!!    !!           startC                                   )             4 = 4 = G         
       	W  QW  QV     QV  [    0    Q            =   :    
:  : W   QV  Z   =   `    =   `   V   `   0   QZ    W  QV     
V  	   
:   QV     
V  
   
:   QV     
V     
:   QV     
V     
:   QV     
V     
:   QV     
V  5      
V  V  O  Q   A      =   : >7,  R QV  B0   Q      
V  :    
   :   




#
+
,
-,     charts   parseInt   $   #link_id   val   link_id   =   links_domain	   push   _totalClicks   _clicksByDay!   _clicksByCountry1   _lastWeekClicksByCountry3   _lastMonthClicksByCountry   _super   apply   ClipboardJS%   .copy-to-clipboard   animating_copy   Promise   all	   then!!   	   self   linkID	   defs   arguments   .this        +H!!            !!          start/<b 6 = 6 = G    @       5 ;5!!          _totalClicksC  Q                                              > k> = k> J              W   QV       
[    =   ]   =   ]   Z   Z   V   5   `    `    ]   :  Z 	   _rpc%   link.tracker.click   model   search_count   method   links_domain	   args!!      .this         +H!!       !!   model!!!!   method!!!!	   args!!    ;       5 !!          _clicksByDayC  y         (                                     > ? y> ? J  G            W   QV       
[   =   ]   =   ]   Z   Z   V   5   `    `    Z   =   `    `   ]   [    =   ]	   ]
   :  J   	   _rpc%   link.tracker.click   model   read_group   method   links_domain   create_date	   args   create_date:day   groupby   kwargs!!      .this         +H!!       !!   groupby!!    !!       !!   model!!!!   method!!!!	   args!!!!   kwargs!!    ;       5!!       !   _clicksByCountryC  y      
   (                                     1? ? )? ? J              W   QV       
[   =   ]   =   ]   Z   Z   V   5   `    `    Z   =   `    `   ]   [    =   ]   ]	   :     	   _rpc%   link.tracker.click   model   read_group   method   links_domain   country_id	   args   groupby   kwargs!!      .this         +H!!       !!   groupby!!    !!       !!   model!!!!   method!!!!	   args!!!!   kwargs!!    ;       5!!       1   _lastWeekClicksByCountryC           ?                         	            ? @ ? @ J       	       W  Q        :     
=   :    
=   : W   QV     
[   =   ]   =   ]	   Z   Z   V  5
   `    Z   =   `    =   `   V   `   `   `    Z   =   `    `   ]   [    =   ]   ]   :  		w      moment   subtract	   days   format   YYYY-MM-DD	   _rpc%   link.tracker.click   model   read_group   method   links_domain   create_date   >   country_id	   args   groupby   kwargs!!      interval   .this         +H!!       !!   groupby!!    !!       !!   model!!!!   method!!!!	   args!!!!   kwargs!!    ;       5 !!       3   _lastMonthClicksByCountryC           ?                         	            @ A @ A J       	       W  Q        :     
=   :    
=   : W   QV     
[   =   ]   =   ]	   Z   Z   V  5
   `    Z   =   `    =   `   V   `   `   `    Z   =   `    `   ]   [    =   ]   ]   :  		w      moment   subtract	   days   format   YYYY-MM-DD	   _rpc%   link.tracker.click   model   read_group   method   links_domain   create_date   >   country_id	   args   groupby   kwargs!!      interval   .this         +H!!       !!   groupby!!    !!       !!   model!!!!   method!!!!	   args!!!!   kwargs!!    ;       5!!       !   _onGraphTabClickC 1                                                A 3B A 3B J               T      
  Q      =   :    
=    Q     preventDefault   $!   .graph-tabs li a   tab	   show!!      ev        +H;       5 !!       /   _onCopyToClipboardClickC          E                                     TB C LB C J                W   QT      
  QV   5      V   C0   Q      =   :    
:     
=   =   :    
=   =	   :    
=
   =   :    
=   :    
=   :    
=   :    
      =   : :    
[    >]   =   ]
   X    Q 	 o *#3
l    preventDefault   animating_copy   $5   .o_website_links_short_url   clone   css   position   absolute	   left	   15px   bottom	   10px   z-index   removeClass   addClass   animated-link   appendTo   animate   opacity	   +=20!!      ev   .this       +H!!       !!   opacity!!!!   bottom!!    !!        3   _onCopyToClipboardClick/<b  C C C C K  2         5;5!!    
   !!   selector!!!!   events!!!!   start!!!!   _totalClicks!!!!   _clicksByDay!!!!!   _clicksByCountry!!!!1   _lastWeekClicksByCountry!!!!3   _lastMonthClicksByCountry!!!!!   _onGraphTabClick!!!!/   _onCopyToClipboardClick!!    !!       !!   BarChart!!!!   PieChart!!    ;5 !!       C  [                                             D NX D NX N                   T  =    :   QT  =   : W   QT  =   :   QT  =   :   QT  =   : W  QT  =   : 5      QQV   5     QV  5   V  5	   
   
[   =   ]   B]   [    =   ]   ]      ]      ]      ]      ]   : 0   QV  5   V  5	   
   
[
   =   ]   B]      ]      ]      ]   	   ]   : 0   Q@",<0LS  N b  C$  R       web.config   web.core   web.Dialog   web.utils#   web.public.widget9   google_recaptcha.ReCaptchaV3   ReCaptcha   _t   registry   Widget   extend   .js_subscribe   selector-   disabledInEditableMode#   _onSubscribeClick/   click .js_subscribe_btn   read_events	   init   willStart   start   subscribe'   .o_newsletter_popup   destroy   _dialogInit   _showBanner!   newsletter_popup!!      require   config	   core   Dialog   utils   publicWidget   _t      !!          ReCaptcha          +H!!       !!/   click .js_subscribe_btn!!    !!       	   initC                                    
            F F F F N       
       	W   QW  QV      
Z    >V   -
  5   
   m5   _,  ,  :   5    Q)QV        A,  R  0   Q @!    _super	   next   value	   done   _recaptcha!!      arguments   .this         +H;   ;   !          5!!         willStartC  |                                              F 3G F 3G N  O     
       	W   QW  QV  5       
  QV     
Z    >V   -
  5   
   m5   _,  ,  :   5    Q) R@!    _recaptcha   loadLibs   _super	   next   value	   done!!      arguments   .this         +H;   O   !          5!!         startC           S                                      BG I :G I N                	W  QW  QV     QV  5       
V  V  O W   QV  V  5      
=   : 0   QV  5         V       W  Q      
Z   V   `    V  	   
[   =
   ]   [   V  5      
=   : ]   ]   :    
V  :    
V  : `   :  ",  p,
kw      _super   apply   $target   closest'   .o_newsletter_modal   $popup   length   Promise   all	   _rpcG   /website_mass_mailing/is_subscriber   route	   data   list-id   list_id   params	   then   guardedCatch!!   	   self   def   always   arguments   .this        +H!!          alwaysB G LI G LI O            5 !!       !!   list_id!!    !!       !!   route!!!!   params!!    ;5!!      #   _onSubscribeClickE       "                          <            J rN J rN O                    Q        Q    Q      
=   :   Q     E&   Q     
:     
    :  G     5      
=   :    
=	   :    
=
    QB     5      
=   :    
=	   :    
=
    Q  5      
=   :            Q   5   V        
[   =   ]     =   : ]      5   ]   C]    QB        
[   =   ]   [     5      
=   : ]                
:     B]      5   ]   ]    : !   
    Q    ? O D&%   P( )`   Q(
u        $7   .js_subscribe_email:visible   length   val   match   $target   addClass   o_has_error	   find   .form-control   is-invalid   removeClass   _recaptcha   getToken   website_form   error'   displayNotification   danger	   type   Error   title   message   sticky	   _rpc?   /website_mass_mailing/subscribe   route	   data   list-id   list_id   email   token1   recaptcha_token_response   params	   then!!   	   self   $email   .generator   .this         !!          tokenObj            +H!!   .+@.+    !!       !!	   type!!!!   title!!!!   message!!!!   sticky!!    !!       !!   list_id!!!!   email!!!!1   recaptcha_token_response!!    !!       !!   route!!!!   params!!    !!      '   _onSubscribeClick/<b L oN L oN Q     0       5;                          z              5!!       !!   selector!!!!-   disabledInEditableMode!!!!   read_events!!!!	   init!!!!   willStart!!!!   start!!!!#   _onSubscribeClick!!    !!         startC           r                         4             O  S N  S R         
       	W  QW  QV     QZ   V  5       
V  V  O `    W   QV  V     
:  5   0   QV        V  5      
=   : : 0	   QV  5	    DS   Q  
   
   5      
=   V  5	   V  5   : : E   Q   5             
V   : V  5      
=   : E   QV  5   _   V     
V  5      
=   :  QV  5      
=    QV  5      
  QZ   V      
V     
[   =   ]   [       5	   ]   ]   :    
   :  Q      
V   :  .#, V S1/&#*\    _super   apply   _getContext   website_id   websiteID   parseInt   $target	   attr   data-list-id   listID   get_cookie   _   str   sprintf-   newsletter-popup-%s-%s   editableMode   Promise   all	   data   content   _dialogInit   removeData   quick-open!   massMailingPopup	   open	   push	   _rpcC   /website_mass_mailing/get_content   route   newsletter_id   params	   then!!   	   self	   defs   arguments   .this        +H!!       !!   newsletter_id!!    !!       !!   route!!!!   params!!    !!           start/<b ]Q S UQ S S    `          B  Q 	R Q 	R S           5 5;5!!         destroyC  M                                             " 1S S )S S U  +             	W   QW  QV  5       V  5       
  QV  5      
V  V   O Q." !   massMailingPopup   close   _super   apply!!      arguments   .this         +H;#      5 !!         _dialogInitC          =                                     S W S W V         	       W   QV      QV     AV   [    B]          =   :    
T  : ]   V   5   ]   V   5    ]   =	   V   5      =
      =   ]   B]   =   ]   ,  R 0   QV   5      
:     
    QV   5      
=   V       QL
'		B2         technical   $   <div/>	   html   $content   $target   $parentNode   editableMode   backdrop   p-0-    oe_structure oe_empty      dialogClass   renderFooter   medium	   size!   massMailingPopup   opened	   then   on   closed!!      content   email	   self   .this      +H!!       !!   technical!!!!   $content!!!!   $parentNode!!!!   backdrop!!!!   dialogClass!!!!   renderFooter!!!!	   size!!    !!          _dialogInit/<b  T V T V V  w           B HU cU @U cU V           5 5!!          _dialogInit/<b  W W W W V            5 ;5!!         _showBannerC  y                                               W IX W IX V  1            W   QV   5       
  Q     
   5      
=   V   5   V   5   : C Q	   	   
   :    
=    Q 4Z# !   massMailingPopup	   open   set_cookie   _   str   sprintf-   newsletter-popup-%s-%s   listID   websiteID   $   document   off7   mouseleave.open_popup_event!!      .this         +H;       5!!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!!!   _dialogInit!!!!   _showBanner!!    ;      U  5!!       C  u          ,                                     X c^ X c^ Y                T  =    : W   QV   5   V   5      
[   =   ]   [    =   ]   ]      ]	      ]
      ]   : 0   QZH+Z    *  #   web.public.widget   registry   Widget   extend?   .o_website_calendar_appointment   selector1   _onAppointmentTypeChangew   change .o_website_appoinment_form select[id="calendarType"]   events	   init   start+   websiteCalendarSelect!!      require   publicWidget       +H!!       !!w   change .o_website_appoinment_form select[id="calendarType"]!!    !!       	   initC  N                                             "  Z Z Z Z Y  f            	W   QW  QV  5       
V  V   O QV        
V  5   X : 0   Q i".    _super   apply   _   debounce1   _onAppointmentTypeChange!!      arguments   .this         +H;      5 !!          startC h                                              Z ?[ Z ?[ Y              	W  QW  Q       
:  W   Q      =   :    
V      
:   QV  5      
V  V  O  	<" 	   jstz   determine   $e   .o_website_appoinment_form select[name='timezone']   val	   name   _super   apply!!      parent   timezone   arguments   .this       +H;       5!!       1   _onAppointmentTypeChangeC          <                                     a[ ^^ Y[ ^^ Y         	       W  Q        T  5   :    
:  W   Q        =   :    
:  W  Q=   V   =   W  Q        =   :    
=   V   QV  	   
[   =
   ]   [    V   ]   V  ]   ]   :    
    Q 
;
2 '       $   target   valk   .o_website_appoinment_form select[name='employee_id']   /calendar/   /appointment5   .o_website_appoinment_form	   attr   action	   _rpc=   /calendar/get_appointment_info   route   appointment_id   prev_emp   params	   then!!      ev   appointmentID5   previousSelectedEmployeeID   postURL   .this       +H!!       !!   appointment_id!!!!   prev_emp!!    !!       !!   route!!!!   params!!    !!        5   _onAppointmentTypeChange/<b \ [^ \ [^ Y  +  @       5;5!!       !!   selector!!!!   events!!!!	   init!!!!   start!!!!1   _onAppointmentTypeChange!!    ;5 !!       C  a       
   #                                     ^ M` ^ M` Y                T  =    : W   QV   5   V   5      
[   =   ]   [    =   ]   ]      ]   : 0	   Q F$Qg @ #   web.public.widget   registry   Widget   extend1   .o_website_calendar_form   selector!   _onCountryChanges   change .appointment_submit_form select[name="country_id"]   events'   websiteCalendarForm!!      require   publicWidget       +H!!       !!s   change .appointment_submit_form select[name="country_id"]!!    !!        !   _onCountryChangeC Z                                                _ H` _ H` Y                      T  5   :    
=   :    
=   : W   Q        =   :    
V    Q +    $   target	   find   option:selected	   data   phone-codeK   .appointment_submit_form #phone_field   val!!      ev   countryCode       +H;       5 !!       !!   selector!!!!   events!!!!!   _onCountryChange!!    ;5!!       C            )                                    ` k ` k \                    T  =    :    Q   5       0   Q   5   5   [   =   ]   ]   X ]   =   ]	   =   ]
   =   ]   0   Q9 2    web.dom   $   fn   shareK   http://twitter.com/intent/tweet?text=   shareLink   minLength   maxLength   blank   target   className   top   placement   defaults!!      require        !!          dom            +H!!          $.fn.shareb (a ?k  a ?k \  w   2          option    selected_text   B a b a b \     "       	   self   B  b Xb b Xb \  ^  "       5   B  b b b b \           5 5   B  b Mf b Mf \    2       5    B  ef Pg ]f Pg ^  1             D"  g Lg g Lg ^            5 5   B fg h ^g h ^  2         5   B  i j i j _  1  2       	   data    B  kj {j cj {j `  	         5 5   B  j %k j %k `  t         5 5!!       !!   shareLink!!!!   minLength!!!!   maxLength!!!!   target!!!!   className!!!!   placement!!    ;      y   5 !!       C            K                                    il mt al mt c                      QT  =    :    QT  =   :    QV   5   V   5      
[   =   ]   [    =   ]   =	   ]
   =   ]   ]      ]      ]      ]	      ]      ]   : 0   Q9>3;  b   : c        web.dom#   web.public.widget   registry   Widget   extend   .website_blog   selector!   _onNextBlogClick;   click #o_wblog_next_container+   _onContentAnchorClickA   click #o_wblog_post_content_jump   _onShareArticle  click .o_twitter, .o_facebook, .o_linkedin, .o_google, .o_twitter_complete, .o_facebook_complete, .o_linkedin_complete, .o_google_complete   events   start%   _forumScrollAction   websiteBlog!!      require        !!          dom   publicWidget           +H!!       !!;   click #o_wblog_next_container!!!!A   click #o_wblog_post_content_jump!!!!  click .o_twitter, .o_facebook, .o_linkedin, .o_google, .o_twitter_complete, .o_facebook_complete, .o_linkedin_complete, .o_google_complete!!    !!         startC  K                                              In n An n c              	W   QW  Q        =   :    
[     QV  5      
V  V   O  
"    $-   .js_tweet, .js_comment   share   _super   apply!!      arguments   .this         +H!!            ;       5 !!      !   _onNextBlogClickC +        <                        $            n p n p c                W   Q  QT      
  QV      Q      T  5   :    Q      
=   :    
:     Q      
=   :    
   5   =	      5
   :    
:     
=   :    
=    Q      
=   :   QV  5   =   0   QV      
=   :    
V   Q      
     Q $&($"e    preventDefault   $   currentTarget	   find/   #o_wblog_next_post_info	   data3   .o_record_cover_container   addClass	   size    	   text   end   .o_wblog_toggle   toggleClass   d-none   document   createElement   div   style   100vh   minHeight/   #o_wblog_next_container   append   _   defer!!      ev	   self   $el   nexInfo   .this      !!          placeholder          +H!!       %   _onNextBlogClick/<b  Lp p Dp p c              B  wp p op p c  >         5 5;      $  5!!      +   _onContentAnchorClickC ]                                  
            p lq p lq c                W  QT      
  QT     
  Q      T  5   5   : W   QV     
V   X     Q "R    preventDefault1   stopImmediatePropagation   $   currentTarget	   hash%   _forumScrollAction!!      ev   $el   .this       +H!!       /   _onContentAnchorClick/<b  Aq iq 9q iq c           5;5!!         _onShareArticleC =         D                                      q s }q s c  L     	       T      
  Q=   W   Q      T  5   : W  Q            =   :    
:  D   Q=   : W  Q         5   5	   : W  QV  
   
=   : %   =   V  =   V  W   Q\   V  
   
=   :    =   V  W   Q.   V  
   
=   :    =   V  W   Q      
V   =   =    Q Q	!;) y!E!8    preventDefault      $   currentTarget%   encodeURIComponent%   #o_wblog_post_name	   html   window   location	   href   hasClass   o_twitter   https://twitter.com/intent/tweet?tw_p=tweetbutton&text=Amazing blog article :    !    o_facebook[   https://www.facebook.com/sharer/sharer.php?u=   o_linkedini   https://www.linkedin.com/sharing/share-offsite/?url=	   openC   menubar=no, width=500, height=400!!      ev   url   $element   blogPostTitle   articleURL       +H;@       5!!      %   _forumScrollActionC 8                                               t ht 	t ht d                         
T  >7[    T ]   :    
    Qm)    scrollTo   duration	   then!!      $el   duration   callback       +H!!       !!   duration!!    !!        )   _forumScrollAction/<d"  Wt et Wt et d            5 ;5!!       !!   selector!!!!   events!!!!   start!!!!!   _onNextBlogClick!!!!+   _onContentAnchorClick!!!!   _onShareArticle!!!!%   _forumScrollAction!!    ;         5 !!       C            A                                     u  u  g                T  =    : W   QT  =   :    QT  =   : W  QV   5      QV  5   V  5      
[   =   ]   B]	       ]
      ]      ]   : 0   QV!? mOL g   n     web.core   website.utils#   web.public.widget   _t   registry   Widget   extend   .js_get_posts   selector-   disabledInEditableMode   start   destroy   _showLoading   js_get_posts!!      require	   core   wUtils   publicWidget   _t      +H!!           startC  %        y                        (             0v | (v | g                	W  QW  Q       QV    Q  5    >75     Q      V  5   : D	   Q   Q      V  5   :   QV  5   E   QV  5      
=   :    V  =   0   QV  5   D   Q=	      QV  5
   =   H   QV  5   D   Q=      QV  5       
  QV  5       
=   =    QZ      QV  8        
Z   =   `    =   `   V  `    Q      
=   : 5        
Z   =   `    =   `   B`    Q   A    ,  R W   Q      
Z   V  5      
V  V  O `    V   `   :  U##BJ$(1

	"6    $target   dataset   parseInt   postsLimit   filterByBlogId   template   endsWithM   .s_latest_posts_big_orizontal_template_   website_blog.s_latest_posts_horizontal_templateS   website_blog.s_latest_posts_list_template   loading	   true   order'   published_date desc   empty	   attr   contenteditable   False	   push   blog_id   =   includes   visits   !=   Promise   all   _super   apply!!   	   self   domain	   prom   arguments   .this        !!       	   data   limit   blogID   template   loading   order          +H!!         start/prom<b x { x { j                resolve   B Sy z Ky z j     @       5   B  z { z { l  "           55;            "         5!!          destroyC  =         
                                    " #| ^| | ^| m  _             	W   QW  QV  5       
  QV  5      
V  V   O Qb"    $target   empty   _super   apply!!      arguments   .this         +H;      5!!          _showLoadingC )                                              t|  l|  m                W   QV      Q       
T       Q  
     _	   each!!      $posts	   self   .this      +H!!          _showLoading/<b | ~ | ~ m     `          $post    $progress    $dummyImg    timer   B  ~ ~ {~ ~ n            5    B   {  { n              B  - Q % Q n  =         5 55;5!!       !!   selector!!!!-   disabledInEditableMode!!!!   start!!!!   destroy!!!!   _showLoading!!    ;5!!       C            7                                      a  a q      
              W  Q      Q      Q   W  Q   W  Q   W  Q   W  Q   W  Q   W  Q	   W  Q
   W	  QT  =    : W   QV   5      Q      Q[   V  ]   V  ]   V  ]   V  ]      ]   V  ]   V  ]   V  ]	   V	  ]
   V  ]   < $    web.core   _t   addLink   getTextToHTML/   htmlToTextContentInline   inline   linkify#   parseAndTransform   parseEmail   stripHTML   timeFromNow7   escapeAndCompactTextContent!!      require	   core   _t#   parseAndTransform%   _parseAndTransform   urlRegexp   linkify   addLink/   htmlToTextContentInline   stripHTML   inline   parseEmail7   escapeAndCompactTextContent   getTextToHTML   timeFromNow   
   +H!!        #   parseAndTransform Y  ?  q  ~   @       5 !!       %   _parseAndTransform  ~  ~ s             #   transformFunction    B  r  r s  P           	   node   B  . o & o s  }          5 55!!          linkify *    t     @          attrs   B     v            5    B 7  /  v  }          5 5!!          addLink  g  g w     P       5!!       /   htmlToTextContentInline   h  {      @       5 !!          stripHTML  g  g }            5!!          inline w  h  ~            5 !!          parseEmail          @       5!!       7   escapeAndCompactTextContent       $          5!!          getTextToHTML                 5!!          timeFromNow  r  r              5 !!  \b(?:https?:\/\/\d{1,3}(?:\.\d{1,3}){3}|(?:https?:\/\/|(?:www\.))[-a-z0-9@:%._+~#=]{2,256}\.[a-z]{2,13})\b(?:[-a-z0-9@:%_+.~#?&'$//=;]*)   !!    
   !!   addLink!!!!   getTextToHTML!!!!/   htmlToTextContentInline!!!!   inline!!!!   linkify!!!!#   parseAndTransform!!!!   parseEmail!!!!   stripHTML!!!!   timeFromNow!!!!7   escapeAndCompactTextContent!!    ;5!!       C                                                     ) 	 )   C               Z !!      require        +H;      5 !!       C  ,      P         #                 0                                T  =     QT  =   :    QT  =   :    QT  =   : W   QT  =   :    QT  =   :    QT  =   :    QT  =   : W  QT  =   :    QT  =	   :    QT  =
   :  	  QV   5    
  QV   5      Q=      QW  QY    
=   ^=   ^?=   ^   Q   5   5      
    =   : W  Q      
   : W  QZ    W  QV  +         
V  : D   QZ    W  Q      
V  V  :  q   V     
V   Q   mV     
  QV     V        
         
V  : Q QV      
[   =!   ]"   [   =#   ]$   =%   ]&   ='   ](   =)   ]*   =+   ],   ]-   [   =.   ]/   ]0      ]1      ]2      ]3      ]4      ]5      ]6   	   ]7   
   ]8      9   
   X C: ].      ]:      ];      ]<      ]=      ]>      ]#      ]?      ]%      ]'      ])      ]+   : W  QV      
[!   =@   ]A   [   =B   ]C   =D   ]E   =F   ]G   =H   ]I   =J   ]K   ]0      ]1      ]L      ]M      ]D      ]F      ]B      ]H       ]J   :    Q["   V  ]N      ]O   XDKD2
	4.)%')3)6'55 w7c !a      P   '  n      T   38:/,<  D  >    x       bus.BusService   web.concurrency   web.config   web.core   web.session   web.time   web.utils   web.Widgeti   im_livechat.legacy.im_livechat.model.WebsiteLivechatw   im_livechat.legacy.im_livechat.model.WebsiteLivechatMessagei   im_livechat.legacy.im_livechat.WebsiteLivechatWindow   _t	   qweb'   im_livechat_history   =
   =   =   window   location	   href   replace      get_cookie	   JSON   parse   _   contains	   push   shift   length   set_cookie   stringify   extendM   openerp o_livechat_button d-print-none   className%   _onCloseChatWindow#   close_chat_window1   _onPostMessageChatWindow1   post_message_chat_window#   _onSaveChatWindow!   save_chat_window1   _onUpdatedTypingPartners/   updated_typing_partners/   _onUpdatedUnreadCounter-   updated_unread_counter   custom_events   _openChat   click   events	   init   willStart   start   _addMessage   _askFeedback   _closeChat'   _handleNotification#   _loadQWebTemplate   debounce3   _get_previous_operator_id   _openChatWindow   _renderMessages   _sendMessage'   _sendWelcomeMessage   _onNotificationO   im_livechat.legacy.im_livechat.FeedBack   template   _onClickSmileyI   click .o_livechat_rating_choices img%   _onClickNoFeedbackE   click .o_livechat_no_feedback span   _onClickSend;   click .o_rating_submit_button   _onEmailChat5   click .o_email_chat_button   _onTryAgainS   click .o_livechat_email_error .alert-link   _sendFeedback%   _showThanksMessage   LivechatButton   Feedback!!      require   concurrency   config	   core   session	   time   utils   Widget   WebsiteLivechat-   WebsiteLivechatMessage+   WebsiteLivechatWindow   _t	   QWeb/   LIVECHAT_COOKIE_HISTORY   HISTORY_LIMIT   RATING_TO_EMOJI	   page   pageHistory   urlHistory   LivechatButton   Feedback      +H!!   ^.*\/\/[^/]+    !!       !!#   close_chat_window!!!!1   post_message_chat_window!!!!!   save_chat_window!!!!/   updated_typing_partners!!!!-   updated_unread_counter!!    !!       !!   click!!    !!       	   initC          <                                          ~     	       W   QV       
T   QV         
T D   Q[    [    
  =   : ]    
  =   : ]    
  =   : ]    
  =	   : ]
   : 0   QV   @0   QV   @0   QV   @0   QV   Z    0   QV   T 0   Q %)Z      _super   _   defaults#   Ask something ...#   input_placeholder   Visitor!   default_usernameE   Chat with one of our collaborators   button_text'   How may I help you?   default_message   options   _history   _livechat   _chatWindow   _messages   _serverURL!!      parent   serverURL   options   .this       +H!!            !!       !!#   input_placeholder!!!!!   default_username!!!!   button_text!!!!   default_message!!    ;       5!!          willStartC           F                                                   	       W  QV     Q      
=   : W   QV    K        
=   [    V  5   5   ]   :    
   : W  Q`         
V   : W  Q     
=	   [   V  5
   ]
   d]   :    
   : W  QV     
V  5      
V  : :  ,	'F$(@.    get_cookie'   im_livechat_session   rpc#   /im_livechat/init   options   channel_id	   then	   JSON   parse%   /mail/chat_history	   uuid   limit#   _loadQWebTemplate	   bind!!   	   self   cookie   ready   channel   .this        +H!!       !!   channel_id!!    !!       !   willStart/ready<b                 5!!       !!	   uuid!!!!   limit!!    !!        !   willStart/ready<b                 5 ;5!!          startC  6     &   ]                          =             K  K   E      	       W  QV  5       
V  5   5    QV  5   T         
V  5      
:  V  5   	   
V  :  QV  
   
  Q      5   5    E   QV  5   5   =   H         
=   : W   QV    D   Q      
V   : F   V        V  5
   	   
V  : V  5   5   X: 0   QV     
=   =   V  V  5   l QV  5   5   -   V  5       
=   V  5   5    QV  5   5   -   V  5       
=   V  5   5    Q        =!   : "   
C: W  QV  )   V  5       
=#   V  =$    QV  %   
:  H(<?+"D)#    $el	   text   options   button_text   _history   _	   each   reverse   _addMessage	   bind   _openChat   device   isMobile   _rule   action   auto_popup   get_cookie-   im_livechat_auto_popup	   JSON   parse   setTimeout!   auto_popup_timer#   _autoPopupTimeout	   call   bus_service   onNotification   _onNotification/   button_background_color   css!   background-color#   button_text_color   color   $+   .o_pwa_install_banner   outerHeight   bottom   px   _super!!      autoPopupCookie   pwaBannerHeight   .this         +H;r       5!!          _addMessageC         6                                     `  X           	       W  Q       
[    V  5   T [   V  5   ]   : U Q  AV  T  T ,  R    Q       
V  5      : W   QV      V  5      V  5      
    QT E   QT 5	   $   V  5   
   
    Q   V  5      
    Q:*C2La &    _   extend   options   _serverURL   serverURL	   some   _messages   _livechat   addMessage   prepend   unshift	   push!!   	   data   options   message#   hasAlreadyMessage   .this      +H!!            !!       !!   serverURL!!    !!        =   _addMessage/hasAlreadyMessage<b $ P  P             5 ;5!!          _askFeedbackC                                                 ! ,  ,   x             W  QV  5       
=   :    
=   C Q   AV  V  5   ,  R W   QV  5       
V    QV      
=   V  V  5	    QV      
=
   V  V  5    Q{/	".32    _chatWindow   $1   .o_thread_composer input	   prop   disabled   _livechat%   replaceContentWith   on   send_message   _sendMessage   feedback_sent   _closeChat!!      feedback   .this         +H;       5!!          _closeChatC  7                                               @  8                W   QV   5       
  Q      
=   =    Q .    _chatWindow   destroy   set_cookie'   im_livechat_session   !!      .this         +H;       5 !!       '   _handleNotificationC      #                          B             t  t          
       W   Q     QT  -
  5    
BQ,  ,  :   5      Q   5     Q   C0   ,  ,  :   5      Q   5      Q   QQ1   
Q   IE
   Q@I   
:     QQQV   5   E   QV  V   5      
:  H     5   =   H       Q     
  :   QV     	   
   
V  :    Z      Q     
=   [    V   5      
:  >7]   V   5      
:  ]   V  ]    QT     5   =   H     Q   5     QV  V   5   5   H      5   -   V   5      
[   V  ]    Q(   V   5      
[   V  ]    Q   =      q   V   5      
   : 
   V      
    QV   5      
:  D   QV   5       
:      V   5   !   
  QV   "   
  Q -#.0$#  +&0 1!4E # 	   next	   done   value   return   _livechat   getUUID   _type   history_command   get_cookie	   JSON   parse   rpc)   /im_livechat/history   getOperatorPID   pid   channel_uuid   page_history	   info   typing_status   partner_id   options%   current_partner_id   is_typing   registerTyping   partnerID!   unregisterTyping	   body   _messages	   some   _addMessage   _chatWindow   isFolded   isAtBottom-   incrementUnreadCounter   _renderMessages!!      notification   .this       !!          livechatUUID!   notificationData          !!         cookie   history          !!         partnerID          +H!!       !!   pid!!!!   channel_uuid!!!!   page_history!!    !!       !!   partnerID!!    !!       !!   partnerID!!    !!       +   _handleNotification/<d"                 5;   U                                                                                   5!!       #   _loadQWebTemplateC  %                                                 $  $                         
=   :    
    : 8+_    rpc7   /im_livechat/load_templates	   then!!              +H!!        '   _loadQWebTemplate/<b  !  !   w            B                 5 5;5!!       5   LivechatButton<._openChat<b  B  :       R       	   self    B 
         p          livechatData    B  ~  v      0       5 5   B                 5    B        &         5 5!!       3   _get_previous_operator_idC  ,                                                 #      r                   
=   : W   QV      V   @ y6    get_cookieC   im_livechat_previous_operator_pid!!      cookie         +H;        5!!          _openChatWindowC           )                                                   	       W  QV     Q[    B]    V  5   5   ]   V  5   5   D   Q=   ]   V  5   5   ]   W   QV  	  AV  V  5	   V   ,  R 0
   QV  5
      
      =   : :    
   : -	;/&7!%      displayStars   options/   header_background_color+   headerBackgroundColor#   input_placeholder      placeholder   title_color   titleColor   _livechat   _chatWindow   appendTo   $	   body	   then!!   	   self   options   .this        +H!!       !!   displayStars!!!!+   headerBackgroundColor!!!!   placeholder!!!!   titleColor!!    !!       #   _openChatWindow/<b   }  }   h         5;5!!          _renderMessagesC                                                  c  c               W  QV  5       
:   E   QV  5       
:  W   QV  5      
V  5    QV  5       
  QV      V  5       
  Q +#    _chatWindow   isFolded   isAtBottom   _livechat   setMessages   _messages   render   scrollToBottom!!      shouldScroll   .this         +H;"       5!!          _sendMessageC ~      
   )                                     y K q K                 W   QV      QV   5       
[    B]    Q     
=   [   V   5       
:  ]   T  5   ]   : 	   
   :  
$3&_%    _livechat'   _notifyMyselfTyping   typing   rpc   /mail/chat_post   getUUID	   uuid   content   message_content	   then!!      message	   self   .this      +H!!       !!   typing!!    !!       !!	   uuid!!!!   message_content!!    !!          _sendMessage/<b 7 H / H     P       5 ;5!!       '   _sendWelcomeMessageC           3                                     h i ` i   C      	       W   QV   5    5      V      
[    =   ]   Z    ]   V   5      
:  ]   V   5    5   ]	   Z   V   5   
   
:  `    ]         
   A,  R  : ]   [   C]    QF!
 "$4      options   default_message   _addMessage   _welcome   id   attachment_ids   _livechat   getOperatorPID   author_id	   body   getID   channel_ids   datetime_to_str	   Date	   date   prepend!!      .this         +H!!       !!   id!!!!   attachment_ids!!!!   author_id!!!!	   body!!!!   channel_ids!!!!	   date!!    !!       !!   prepend!!    ;"       5 !!       %   _onCloseChatWindowC          &                                       }                  W  QT      
  QV  5      
=   :    
=   : W   QV    E$   Q      
V  5       : W  QV  /   V  5   	   
B QV  
   
  Q   V     
  Q e/O#    stopPropagation   _chatWindow   $1   .o_thread_composer input	   prop   disabled   _	   find   _messages   toggleFold   _askFeedback   _closeChat!!      ev%   isComposerDisabled#   shouldAskFeedback   .this       +H!!        K   _onCloseChatWindow/shouldAskFeedback<b ? n 7 n            5;5!!          _onNotificationC )                                               e  e                 W   QV      Q       
T       Q 
V    _	   each!!      notifications	   self   .this      +H!!       #   _onNotification/<b + b # b            5;5!!       1   _onPostMessageChatWindowC U                                  	             X  X                 W   QT      
  QV      QT  5   5      QV      
   :    
     Q g e    stopPropagation	   data   messageData   _sendMessage   guardedCatch!!      ev	   self   messageData   .this      +H!!        5   _onPostMessageChatWindow/<b  U  U            5 ;5!!       #   _onSaveChatWindowC ^                                              s  k    N     
       W   QT      
  Q      
=         
      
V   5      
:  : : X Q SEf    stopPropagation   set_cookie'   im_livechat_session   unaccent	   JSON   stringify   _livechat   toData!!      ev   .this       +H;       5!!       1   _onUpdatedTypingPartners@ )                                               H  H               W   QT      
  QV   5      
  Q      stopPropagation   _chatWindow   renderHeader!!      ev   .this       +H;       5 !!       /   _onUpdatedUnreadCounterC )                                              i  a    D            W   QT      
  QV   5      
  Q I     stopPropagation   _chatWindow   renderHeader!!      ev   .this       +H;       5!!       !!   className!!!!   custom_events!!!!   events!!!!	   init!!!!   willStart!!!!   start!!!!   _addMessage!!!!   _askFeedback!!!!   _closeChat!!!!'   _handleNotification!!!!#   _loadQWebTemplate!!!!   _openChat!!!!3   _get_previous_operator_id!!!!   _openChatWindow!!!!   _renderMessages!!!!   _sendMessage!!!!'   _sendWelcomeMessage!!!!%   _onCloseChatWindow!!!!   _onNotification!!!!1   _onPostMessageChatWindow!!!!#   _onSaveChatWindow!!!!1   _onUpdatedTypingPartners!!!!/   _onUpdatedUnreadCounter!!    !!       !!I   click .o_livechat_rating_choices img!!!!E   click .o_livechat_no_feedback span!!!!;   click .o_rating_submit_button!!!!5   click .o_email_chat_button!!!!S   click .o_livechat_email_error .alert-link!!    !!        	   initC e                                                                W   QV       
T   QV   T 0   QV      5   0   QV      0   QV      5   A,  R  0   Q "    _super   _livechat   origin   server_origin   undefined   rating   DropPrevious   dp!!      parent   livechat   .this       +H;       5 !!          _sendFeedbackC          %                                      6  6                 W  QV     Q[    V  5       
:  ]   V  5   ]      ]   W   QV  5      
     
=	   V   : : 
   
    Q 7B    _livechat   getUUID	   uuid   rating	   rate   reason   dp   add   rpc+   /im_livechat/feedback	   then!!      reason	   self	   args   .this      +H!!       !!	   uuid!!!!	   rate!!!!   reason!!    !!          _sendFeedback/<b  n 3 f 3   I          5 ;5!!       %   _showThanksMessageC  c      	                            
            R  J    _      
       W   QV       
=   :    
:     
        =   [     
  =   : ]   =   ]   :  Qb!"Q    $-   .o_livechat_rating_box   empty   append   <div />7   Thank you for your feedback	   text   text-muted   class!!      .this         +H!!       !!	   text!!!!   class!!    ;       5!!       %   _onClickNoFeedbackC           	                                                         W   QV       
=    Q      trigger   feedback_sent!!      .this         +H;       5 !!          _onClickSendC        
   !                                      $      1            W   QV       
=   :    
  QV      
  Q      
V   5   : 2   V      
V       
=   : 	   
:   Q 4$.    $3   .o_livechat_rating_reason	   hide%   _showThanksMessage   _   isNumber   rating   _sendFeedback   textarea   val!!      .this         +H;"       5 !!          _onClickSmileyC         3                                      J  J               W   QV                 T  5   :    
=   : : 0   QV      
=   :    
=    QV      
=	   V   5   =
   :    
=    QV   5   I)   V      
=   :    
  QB   V      
=   :    
  QV      
  QV      
  Q ,)G$$    parseInt   $   currentTarget	   data   value   rating=   .o_livechat_rating_choices img   removeClass   selectedW   .o_livechat_rating_choices img[data-value="   "]   addClass3   .o_livechat_rating_reason	   show	   hide%   _showThanksMessage   _sendFeedback!!      ev   .this       +H;2       5 !!          _onEmailChatC  L        Q                         "             `  X                  W  QV     QV      
=   : W   Q     
V      
:  :    V      
=   :    
=   :    
=	   C QV      
=
   :    
=	   C QV     
[   =   ]   [    V  5      
:  ]   V      
:  ]   ]   :    
   :    
    Q7   V      
=   :    
=   
  =   :  Q t/wdm++    $   #o_email   is_email   val   removeAttr   title   removeClass   is-invalid	   prop   disabled)   .o_email_chat_button	   _rpcM   /im_livechat/email_livechat_transcript   route   _livechat   getUUID	   uuid   email   params	   then   guardedCatch   addClass+   Invalid email address!!   	   self   $email   .this        +H!!       !!	   uuid!!!!   email!!    !!       !!   route!!!!   params!!    !!          _onEmailChat/<b   	  	            5 !!          _onEmailChat/<b    p  p   -         5 ;5!!          _onTryAgainC        	                                                           W   QV       
=   :    
=   B QV       
=   :    
=   B QV       
=   :    
  QV       
=   :    
  Q "    $   #o_email	   prop   disabled)   .o_email_chat_button/   .o_livechat_email_error	   hide#   .o_livechat_email	   show!!      .this         +H;       5!!    
   !!   template!!!!   events!!!!	   init!!!!   _sendFeedback!!!!%   _showThanksMessage!!!!%   _onClickNoFeedback!!!!   _onClickSend!!!!   _onClickSmiley!!!!   _onEmailChat!!!!   _onTryAgain!!    !!       !!   LivechatButton!!!!   Feedback!!    ;      %   5 !!       C            Y                                      & 
 &                 T  =    : W   QT  =   :    QT  =   :    QV      
   [       ]      ]      ]      ]      ]      ]	      ]
      ]      ]   	   ]   
   ]      ]   : W  QV   :<?9J/5'C9  C  SQ  	 K Y   im_livechat.legacy.mail.model.AbstractThread_   im_livechat.legacy.mail.model.ThreadTypingMixin   web.session   extend	   init   getMessages   getOperatorPID   getUUID-   incrementUnreadCounter   setMessages   toData'   _isTypingMyselfInfo'   _notifyMyselfTyping5   _warnUpdatedTypingPartners3   _warnUpdatedUnreadCounter+   _onTypingMessageAdded!!      require   AbstractThread#   ThreadTypingMixin   session   WebsiteLivechat      +H!!        	   initC J        5                                   " 2  *    ?            	W   QW  QV  5       
V  V   O Q   5      
V  V   l QV  Z    0   QV  T  5   5   0   QV  T  5   5   0	   QT  5   5
      I   V  T  5   5
   0   Q      
T  5   5   : "   V  T  5   5   0   Q#   V  T  5   5   =   H0   QV  5      
[    V  5   >7]   V  5   ?7]    Q H",+3!&H    _super   apply	   init	   call   _members	   data   operator_pid   _operatorPID	   uuid   _uuid-   message_unread_counter   undefined   _unreadCounter   _   isBoolean   folded   _folded   state	   push   id	   name!!      params   arguments   .this       +H!!       !!   id!!!!	   name!!    ;C      5 !!          getMessagesC                                                 ! ;  ;   ^             W   QV   5    a    _messages!!      .this         +H;       5!!          getOperatorPIDC           	                                      S p K p                W   QV   5          _operatorPID!!      .this         +H;       5 !!          getUUIDC           	                                        y                 W   QV   5          _uuid!!      .this         +H;       5 !!       -   incrementUnreadCounterC           	                                                         W   QV       
  Q   /   _incrementUnreadCounter!!      .this         +H;       5 !!          setMessagesC          	                                            ,            W   QV   T  0    Q 7    _messages!!      messages   .this       +H;       5 !!          toDataC           ,                                     #      `            W   Q[    V       
:  ]   V      
:  ]   V      
:  ]   V      
:  ]   V      
:  ]	   V   
   
:  ]    c    isFolded   folded   getID   id!   getUnreadCounter-   message_unread_counter   getOperatorPID   operator_pid   getName	   name   getUUID	   uuid!!      .this         +H!!       !!   folded!!!!   id!!!!-   message_unread_counter!!!!   operator_pid!!!!	   name!!!!	   uuid!!    ;       5 !!       '   _isTypingMyselfInfoC 
          	                                            +             T  5     4    isWebsiteUser!!      params        +H;       5 !!       '   _notifyMyselfTypingC L                                             1  )    n            W   Q       
=   [    V      
:  ]   T  5   ]   [   C]   :  w1g    rpc5   /im_livechat/notify_typing   getUUID	   uuid   typing   is_typing   shadow!!      params   .this       +H!!       !!	   uuid!!!!   is_typing!!    !!       !!   shadow!!    ;       5!!       5   _warnUpdatedTypingPartnersC           	                                            
            W   QV       
=    Q +    trigger_up/   updated_typing_partners!!      .this         +H;       5!!       3   _warnUpdatedUnreadCounterC           	                                       M  M   \            W   QV       
=    Q _*    trigger_up-   updated_unread_counter!!      .this         +H;       5!!       +   _onTypingMessageAddedC g         !                         	           l 
 d 
               W  QV      
:  >7W   QT     
:  E   QT     
:  V   H#   V     
[    V   ]    Q $/    getOperatorPID   hasAuthor   getAuthorID!   unregisterTyping   partnerID!!      message   operatorID   .this       +H!!       !!   partnerID!!    ;"       5!!       !!	   init!!!!   getMessages!!!!   getOperatorPID!!!!   getUUID!!!!-   incrementUnreadCounter!!!!   setMessages!!!!   toData!!!!'   _isTypingMyselfInfo!!!!'   _notifyMyselfTyping!!!!5   _warnUpdatedTypingPartners!!!!3   _warnUpdatedUnreadCounter!!!!+   _onTypingMessageAdded!!    ;5 !!       C  M          *                                     z  r                  T  =    : W   QV      
[       ]      ]      ]   : W  QV   =/    6s [   im_livechat.legacy.mail.model.AbstractMessage   extend	   init   getAvatarSource%   getDisplayedAuthor!!      require   AbstractMessage-   WebsiteLivechatMessage       +H!!       	   initC M                                            "       [            	W   QW  QV  5       
V  V   O QV  T 5   0   QV  T 5   0   Q q"/"    _super   apply!   default_username!   _defaultUsername   serverURL   _serverURL!!      parent	   data   options   arguments   .this       +H;      5!!          getAvatarSourceC  b                                                m  m               W  QV  5    W   QV     
:  )   V   =   V     
:  W   Q   V   =   W   QV        _serverURL   hasAuthor'   /web/partner_image/   getAuthorIDM   /mail/static/src/img/smiley/avatar.jpg!!      source   .this         +H;2       5 !!       %   getDisplayedAuthorC  :         
                                            +             	W   QW  QV  5       
V  V   O D   QV  5   .9    _super   apply!   _defaultUsername!!      arguments   .this         +H;       5!!       !!	   init!!!!   getAvatarSource!!!!%   getDisplayedAuthor!!    ;5 !!       C            E       	                              =  5           
       T  =    : W   QV      
[         
V   5   5   [    =   ]   : ]      ]      ]      ]	      ]
      ]      ]      ]   : W  QV    <,7]]f8Q{    Z  Y   im_livechat.legacy.mail.AbstractThreadWindow   extend   _   prototype   events   _onInput9   input .o_composer_text_field	   init   start   close%   replaceContentWith   toggleFold   _postMessage!!      require)   AbstractThreadWindow   LivechatWindow       +H!!       !!9   input .o_composer_text_field!!    !!       	   init@ m                                            " =  9         	              Q	W  QW  QT     QT   QT H   Q[      QV  5       
V  V  O QV  V  0   Q "    _super   apply   _thread!!      parent   thread   options   arguments   .this      +H!!            ;#      5!!          start@  %        0                        "           (       =             	   Q   Q      Q       
Z    >   -
  5   
   m5   _,  ,  :   5    Q)         Q   5   5   9         
=   :    
=	      5   5    Q   5   5
   9         
=   :    
=      5   5
    Q     @@!'""&    _super	   next   value	   done   options+   headerBackgroundColor   $/   .o_thread_window_header   css!   background-color   titleColor   color!!      .generator   arguments   .this         +H;   K   !         5 !!          closeC                                                       t             W   QV       
=    Qw%    trigger_up#   close_chat_window!!      .this         +H;       5!!       %   replaceContentWithC #         	                                      2  2                W   QT      
V   5   5    Q  )    replace   _threadWidget   $el!!      $element   .this       +H;       5 !!          toggleFoldC  L                                             " F  >                	W   QW  QV  5       
V  V   O QV     
=    QV     
  Q "$    _super   apply   trigger_up!   save_chat_window+   updateVisualFoldState!!      arguments   .this         +H;      5 !!          _postMessageC J                                           "  :  :               	W   QW  QV      
=   [    T  ]    QV  5      
V  V   O Q ,F"    trigger_up1   post_message_chat_window   messageData   _super   apply!!      messageData   arguments   .this       +H!!       !!   messageData!!    ;      5 !!          _onInputC  x                                               L  D                W  QV      
:  E   QV  5      
:  G   V  5      
:     >W   QV  5      
[    V   ]    Q *	1    hasThread   _thread+   hasTypingNotification   $input   val   length   setMyselfTyping   typing!!      isTyping   .this         +H!!       !!   typing!!    ;"       5!!       !!   events!!!!	   init!!!!   start!!!!   close!!!!%   replaceContentWith!!!!   toggleFold!!!!   _postMessage!!!!   _onInput!!    ;5!!       C           i                                     D F < F                 T  =    : W   QT  =   :    QV      
   5   [       ]      ]      ]      ]      ]      ]	      ]
      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]   : W  QV   9  l,#'+,9>)*wW ;L3  j     web.Class   web.mixins   extend)   EventDispatcherMixin	   init   addMessage	   fold   getID   getMessages   getName   getStatus   getTitle   getType!   getUnreadCounter   hasMessages   hasSeenFeature   isFolded   markAsRead   postMessage%   resetUnreadCounter   _addMessage/   _incrementUnreadCounter   _markAsRead   _postMessage3   _warnUpdatedUnreadCounter!!      require   Class   Mixins   AbstractThread      +H!!       	   initC                                                                 	W   QW  Q   5    5      
V  V   l QV     
T  5    QV  B0   QV  T  5   5   0   QV  T  5   5	   0
   QV  T  5   5   D   Q=   0   QV  >0   Q 6$ )   EventDispatcherMixin	   init	   call   setParent   parent   _folded	   data   id   _id	   name   _name   status      _status   _unreadCounter!!      params   arguments   .this       +H;       5 !!          addMessageC @                                            "  0  0               	W   QW  QV  5       
V  V   O QV     
=   T   Q '&    _addMessage   apply   trigger   message_added!!      message   arguments   .this       +H;      5!!       	   foldC          	                                      > \ 6 \               W   QV   T  0    Q     _folded!!      folded   .this       +H;       5!!          getIDC           	                                      k  c    '            W   QV   5     *    _id!!      .this         +H;       5 !!          getMessagesC                                                           P               S !!              +H;       5 !!          getNameC           	                                            e            W   QV   5     h    _name!!      .this         +H;       5 !!          getStatusC           	                                                        W   QV   5         _status!!      .this         +H;       5 !!          getTitleC                                                                   W   QV       
:       getName!!      .this         +H;       5 !!          getTypeC                                                     ' +  +                   !!              +H;       5 !!       !   getUnreadCounterC           	                                      E d = d               W   QV   5         _unreadCounter!!      .this         +H;       5 !!          hasMessagesC  &                                               y  q    5            W   Q       
V      
:  :   8    _   isEmpty   getMessages!!      .this         +H;       5 !!          hasSeenFeatureC                                                           v             B y !!              +H;       5!!          isFoldedC           	                                                        W   QV   5         _folded!!      .this         +H;       5!!          markAsReadC  8                                               	 \  \               W   QV   5    >   V      
:        
:       _unreadCounter   _markAsRead   Promise   resolve!!      .this         +H;"       5 !!          postMessageC  O                                               q  i    /             	W   QW  QV  5       
V  V   O    
V  5      
V  =   : : 2-/    _postMessage   apply	   then   trigger	   bind   message_posted!!      arguments   .this         +H;       5!!       %   resetUnreadCounterC  !                                                *  *                W   QV   >0    QV      
  Q  !    _unreadCounter3   _warnUpdatedUnreadCounter!!      .this         +H;       5 !!          _addMessageC                                                   ? J 7 J                    !!      message        +H;       5 !!       /   _incrementUnreadCounterC           	                                      k  c    )            W   QV   5    #
0    QQ ,    _unreadCounter!!      .this         +H;       5 !!          _markAsReadC  &                                                     X            W   QV       
  Q      
:   [ %   resetUnreadCounter   Promise   resolve!!      .this         +H;       5!!          _postMessageC                                                                             
:       Promise   resolve!!              +H;       5 !!       3   _warnUpdatedUnreadCounterC                                                     ' +  +                   !!              +H;       5 !!       !!	   init!!!!   addMessage!!!!	   fold!!!!   getID!!!!   getMessages!!!!   getName!!!!   getStatus!!!!   getTitle!!!!   getType!!!!!   getUnreadCounter!!!!   hasMessages!!!!   hasSeenFeature!!!!   isFolded!!!!   markAsRead!!!!   postMessage!!!!%   resetUnreadCounter!!!!   _addMessage!!!!/   _incrementUnreadCounter!!!!   _markAsRead!!!!   _postMessage!!!!3   _warnUpdatedUnreadCounter!!    ;5 !!       C           w                                      a  a                 T  =    :    QT  =   :    QT  =   :    QT  =   : W   QV   5      Q[   =   ]   =   ]       ]	      ]
      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]   W  QV   g@34&'  :/HKh  4@(      Z     a   im_livechat.legacy.mail.model.CCThrottleFunctionG   im_livechat.legacy.mail.model.TimerI   im_livechat.legacy.mail.model.Timers   web.core   _t   _default5   _DEFAULT_TYPING_PARTNER_ID   Someone9   _DEFAULT_TYPING_PARTNER_NAME	   init-   getTypingMembersToText+   hasTypingNotification   isSomeoneTyping   registerTyping   setMyselfTyping!   unregisterTyping'   _isTypingMyselfInfo'   _notifyMyselfTyping5   _warnUpdatedTypingPartners5   _onMyselfLongTypingTimeoutA   _onMyselfTypingInactivityTimeout+   _onNotifyMyselfTyping-   _onOthersTypingTimeout+   _onTypingMessageAdded-   _onTypingMessagePosted!!      require%   CCThrottleFunction   Timer   Timers	   core   _t#   ThreadTypingMixin      +H!!       	   initB  	               5 !!       -   getTypingMembersToTextC  X        b                         )                          
       W  QV  5       Q      
V  5       : W   Q      
V      : W  QV     
>: W  QV     >H   =      V     ?H9      5   	   
  =
   : V  >75   :    V     HD      5   	   
  =   : V  >75   V  ?75   : ?      5   	   
  =   : V  >75   V  ?75   :  o,]\( d( m(  v #   _typingPartnerIDs   _   filter   _members   sortBy   slice   length      str   sprintf   %s is typing...	   name/   %s and %s are typing...;   %s, %s and more are typing...!!   !   typingPartnerIDs   typingMembers'   sortedTypingMembers1   displayableTypingMembers   .this        +H!!       K   getTypingMembersToText/typingMembers<b 
 B  B            5!!       W   getTypingMembersToText/sortedTypingMembers<b {  s    9         5;5!!       +   hasTypingNotificationC                                                           	             C 	 !!              +H;       5 !!          isSomeoneTypingC  !                                                ;  ;   	            W   Q       
V   5   :   	#    _   isEmpty#   _typingPartnerIDs!!      .this         +H;       5 !!          registerTypingC          >                                    S  K    
            W  QV      
T  :    T  5   W   QV  5      
[    Z   V   `    ]   V   ]    Q      
V  5   V   :    V  5   	   
V    QV  
   
  Q 
"I (b.I'" '   _isTypingMyselfInfo   partnerID'   _othersTypingTimers   registerTimer1   timeoutCallbackArguments   timerID   _   contains#   _typingPartnerIDs	   push5   _warnUpdatedTypingPartners!!      params   partnerID   .this       +H!!       !!1   timeoutCallbackArguments!!!!   timerID!!    ;2       5 !!          setMyselfTypingC                                                     c             W  QT  5    W   QV  5   V   H   V  5      
  Q   V     
T   QV      V  5      
  Q   V  5      
  Qp,00+    typing3   _lastNotifiedMyselfTyping7   _throttleNotifyMyselfTyping   cancel9   _myselfTypingInactivityTimer   reset   clear!!      params   typing   .this       +H;R       5!!       !   unregisterTypingC       	   -                                                         W   QT  5       QV   5      
[       ]    Q      
V   5      :     V         
V   5      : 0   QV      
  Q  *>.F"    partnerID'   _othersTypingTimers   unregisterTimer   timerID   _   contains#   _typingPartnerIDs   reject5   _warnUpdatedTypingPartners!!      params   partnerID   .this      +H!!       !!   timerID!!    !!       Q   unregisterTyping/this._typingPartnerIDs<b       ?          5 ;5!!       '   _isTypingMyselfInfoB  '  '             5!!       '   _notifyMyselfTypingB D g < g             5!!       5   _warnUpdatedTypingPartnersB                 5 !!       5   _onMyselfLongTypingTimeoutC  5                                                    @            W   QV   5       
  QV       
[    C]    Q C)"0 7   _throttleNotifyMyselfTyping   clear   typing!!      .this         +H!!       !!   typing!!    ;       5 !!       A   _onMyselfTypingInactivityTimeoutC  5                                              :  2                W   QV   5       
  QV       
[    B]    Q )"1 7   _throttleNotifyMyselfTyping   clear   typing!!      .this         +H!!       !!   typing!!    ;       5 !!       +   _onNotifyMyselfTypingC m                                   	            {  {   D            W  QT  5    W   QV  V   0   QV     
T   QV      V  5      
  Q   V  5      
  Q Q&!*%    typing3   _lastNotifiedMyselfTyping'   _notifyMyselfTyping-   _myselfLongTypingTimer   reset   clear!!      params   typing   .this       +H;2       5 !!       -   _onOthersTypingTimeoutC #                                                   (            W   QV       
[    T  ]    Q 4- !   unregisterTyping   partnerID!!      partnerID   .this       +H!!       !!   partnerID!!    ;       5 !!       +   _onTypingMessageAddedB                5!!       -   _onTypingMessagePostedC  N                                   	             D  D   1            W   QV   B0    QV   5      
  QV   5      
  QV   5      
  Q 4%)$* 3   _lastNotifiedMyselfTyping7   _throttleNotifyMyselfTyping   clear-   _myselfLongTypingTimer9   _myselfTypingInactivityTimer!!      .this         +H;       5!!       !!5   _DEFAULT_TYPING_PARTNER_ID!!!!9   _DEFAULT_TYPING_PARTNER_NAME!!!!	   init!!!!-   getTypingMembersToText!!!!+   hasTypingNotification!!!!   isSomeoneTyping!!!!   registerTyping!!!!   setMyselfTyping!!!!!   unregisterTyping!!!!'   _isTypingMyselfInfo!!!!'   _notifyMyselfTyping!!!!5   _warnUpdatedTypingPartners!!!!5   _onMyselfLongTypingTimeout!!!!A   _onMyselfTypingInactivityTimeout!!!!+   _onNotifyMyselfTyping!!!!-   _onOthersTypingTimeout!!!!+   _onTypingMessageAdded!!!!-   _onTypingMessagePosted!!    ;5 !!       C  )      1          +                               D  D                 T  =    :    QT  =   : W   QT  =   : W  QT  =   :    QT  =   :    QV  5      QV      
[*       ]      ]      ]	      ]
      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]       ]!      ]"      ]#      ]$      ]%      ]&       ]'   !   ](   "   ])   #   ]*   $   ]+   %   ],   &   ]-   '   ].   (   ]/   )   ]0   : W  QV   O
 7!0s''%S#  j!I'BO'    =  0%^0,43'(8$/*  B!`       mail.utils   web.Class   web.core   web.session   web.time   _t   extend	   init   getAttachments   getAuthorID#   getAuthorImStatus   getAvatarSource   getBody   getDate   getDateDay%   getDisplayedAuthor   getID'   getImageAttachments-   getNonImageAttachments'   getNotificationIcon!   getNotifications'   getNotificationText   getTimeElapsed   getType   hasAttachments   hasAuthor   hasEmailFrom'   hasImageAttachments-   hasNonImageAttachments!   hasNotifications+   hasNotificationsError+   originatesFromChannel   hasSubject   isEmpty+   hasSubtypeDescription#   hasTrackingValues   isDiscussion1   isLinkedToDocumentThread   isNeedaction   isNote   isNotification   isStarred)   isSystemNotification   needsModeration#   removeAttachments-   shouldRedirectToAuthor   _getAuthorName   _isMyselfAuthor+   _processAttachmentURL!!      require   mailUtils   Class	   core   session	   time   _t   AbstractMessage      +H!!       	   initC $        1                                      |  |                 W   QV   T 5    D   QZ    0   QV   T 5   D   Q=   0   QV   T 5   /               
T 5   : :          :  0   QV   T 5	   0
   QV   T 5   0   QV   T 5   0   QV   T 5   0   QV   T 5   D   Q   0   QV      
  QV   5      
     Q 7,(	&*$(|    attachment_ids   _attachmentIDs	   body      _body	   date   moment   str_to_datetime   _date   id   _id   is_discussion   _isDiscussion   is_notification   _isNotification   author_id   _serverAuthorID   message_type   undefined   _type+   _processAttachmentURL   forEach!!      parent	   data   .this       +H!!           init/<b # y  y            5 ;5!!          getAttachmentsC           	                                            !            W   QV   5     $    _attachmentIDs!!      .this         +H;       5 !!          getAuthorIDC  ,                                                     U            W   QV       
:   	   V   5   >7 X    hasAuthor   _serverAuthorID!!      .this         +H;"       5!!       #   getAuthorImStatusC                                                   ' <  <   ;                  >    undefined!!              +H;       5 !!          getAvatarSourceC  7                                               U  M    i             W   QV       
:  !   =   V      
:  =   l !    hasAuthor/   /web/image/res.partner/   getAuthorID   /image_128!!      .this         +H;"       5!!          getBodyC           	                                                         W   QV   5          _body!!      .this         +H;       5 !!          getDateC           	                                                         W   QV   5          _date!!      .this         +H;       5 !!          getDateDayC        	   G                                        	    %            W  QV      
:     
=   : W   QV         :     
=   : H      =   : L   V         :     
?=   :    
=   : H      =   : V      
:     
=   :  ,
	#  
	#    getDate   format   YYYY-MM-DD   moment   Today   subtract	   days   Yesterday   LL!!   	   date   .this         +H;2       5!!       %   getDisplayedAuthorC  2                                                O  O   @             W   QV       
:     V      
:     @C    hasAuthor   _getAuthorName!!      .this         +H;       5 !!          getIDC           	                                      ^ r V r                W   QV   5          _id!!      .this         +H;       5 !!       '   getImageAttachmentsC  *                                                                   W   Q       
V      
:      :       _   filter   getAttachments!!      .this         +H!!        +   getImageAttachments/<b                 5;5!!       -   getNonImageAttachmentsC  3                                               9  1    a            W   Q       
V      
:  V      
:  :  d?    _   difference   getAttachments'   getImageAttachments!!      .this         +H;       5 !!       '   getNotificationIcon@  )                                                                 W   QV       
:      =   =     +   hasNotificationsError!   fa fa-envelope-o   fa fa-envelope!!      .this         +H;"       5 !!       !   getNotifications@                                                            )              Z    ,	 !!              +H;       5 !!       '   getNotificationText@                                                    ! .  .   J              =    M	    !!              +H;       5!!          getTimeElapsedC  %                                               F w > w   o             W   Q       
V      
:  : r&    timeFromNow   getDate!!      .this         +H;       5 !!          getTypeC           	                                                         W   QV   5          _type!!      .this         +H;       5 !!          hasAttachmentsC                                                                    W   QV       
:     >      getAttachments   length!!      .this         +H;       5!!          hasAuthorC  &                                                /  /               W   QV   5    E   QV   5    >7   1    _serverAuthorID!!      .this         +H;       5!!          hasEmailFromC                                                     E V = V   n             B q !!              +H;       5!!       '   hasImageAttachmentsC  *                                               s  k                  W   Q       
V      
:      :  }    _	   some   getAttachments!!      .this         +H!!        +   hasImageAttachments/<b                5;5!!       -   hasNonImageAttachmentsC  *                                                                   W   Q       
V      
:      :  G    _	   some   getAttachments!!      .this         +H!!       1   hasNonImageAttachments/<b J  B    s         5 ;5!!       !   hasNotifications@                                                                   W   QV       
:     > ! !   getNotifications   length!!      .this         +H;       5!!       +   hasNotificationsError@  &                                                v  v                 W   QV       
:     
    :  $[ !   getNotifications	   some!!      .this         +H!!        /   hasNotificationsError/<d"  s  s   H         5;5!!       +   originatesFromChannelC                                                                        B  !!              +H;       5 !!          hasSubjectC                                                                        B  !!              +H;       5!!          isEmptyC  D                                                )  )               W   QV       
:   E,   QV      
:   E   QV      
:     #   hasTrackingValues   hasAttachments   getBody!!      .this         +H;       5 !!       +   hasSubtypeDescriptionC                                                     H Y @ Y   q             B t !!              +H;       5 !!       #   hasTrackingValuesC                                                     t  l                 B  !!              +H;       5 !!          isDiscussionC           	                                                        W   QV   5         _isDiscussion!!      .this         +H;       5!!       1   isLinkedToDocumentThreadC                                                                        B  !!              +H;       5!!          isNeedactionC                                                           +             B . !!              +H;       5!!          isNoteC           	                                      # ;  ;   L            W   QV   5     O    _isNote!!      .this         +H;       5!!          isNotificationC           	                                      S s K s   |            W   QV   5         _isNotification!!      .this         +H;       5!!          isStarredC                                                       ~                 B  !!              +H;       5 !!       )   isSystemNotificationC                                                                        B  !!              +H;       5!!          needsModerationC                                                                        B  !!              +H;       5 !!       #   removeAttachmentsC .                                                                  W   QV          
V   5       : 0   Q Dd    _   reject   _attachmentIDs!!      attachmentIDs   .this      +H!!       M   removeAttachments/this._attachmentIDs<b T  L    }         5 ;5!!       -   shouldRedirectToAuthorC                                                                   W   QV       
:        _isMyselfAuthor!!      .this         +H;       5!!          _getAuthorNameC  /                                                2  2               W   QV       
:      =   V   5   ?7     hasAuthor      _serverAuthorID!!      .this         +H;"       5!!          _isMyselfAuthorC  7                                               K  C    9             W   QV       
:  E    QV      
:     5   H<)    hasAuthor   getAuthorID   partner_id!!      .this         +H;       5 !!       +   _processAttachmentURLC  *                                                (  (                 W   Q       
V      
:       Q  s    _	   each   getAttachments!!      .this         +H!!        /   _processAttachmentURL/<b  %  %             5;5!!    *   !!	   init!!!!   getAttachments!!!!   getAuthorID!!!!#   getAuthorImStatus!!!!   getAvatarSource!!!!   getBody!!!!   getDate!!!!   getDateDay!!!!%   getDisplayedAuthor!!!!   getID!!!!'   getImageAttachments!!!!-   getNonImageAttachments!!!!'   getNotificationIcon!!!!!   getNotifications!!!!'   getNotificationText!!!!   getTimeElapsed!!!!   getType!!!!   hasAttachments!!!!   hasAuthor!!!!   hasEmailFrom!!!!'   hasImageAttachments!!!!-   hasNonImageAttachments!!!!!   hasNotifications!!!!+   hasNotificationsError!!!!+   originatesFromChannel!!!!   hasSubject!!!!   isEmpty!!!!+   hasSubtypeDescription!!!!#   hasTrackingValues!!!!   isDiscussion!!!!1   isLinkedToDocumentThread!!!!   isNeedaction!!!!   isNote!!!!   isNotification!!!!   isStarred!!!!)   isSystemNotification!!!!   needsModeration!!!!#   removeAttachments!!!!-   shouldRedirectToAuthor!!!!   _getAuthorName!!!!   _isMyselfAuthor!!!!+   _processAttachmentURL!!    ;5!!       C  j      ;          '                               3	  3	                 T  =    :    QT  =   :    QT  =   : W   QT  =   : W  QV   5      QV   5      QV     
[&   =   ]   [    =	   ]
   ]   [   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   ]   X ]   =   ]   =   ]      ]      ]      ]       ]!      ]"      ]#      ]$   	   ]%   
   ]&      ]'      ](      ])      ]*      ]+      ],      ]-      ].      ]/      ]0      ]1      ]2      ]3      ]4      ]5      ]6      ]7      ]8      ]9      ]      ]       ]   !   ]	   "   ]   #   ]   $   ]:   %   ]   : W  QV   5$82/.20.2 t  IJy."!),?!4*3~  @&_  7_  I7  0Z  j  Y K   im_livechat.legacy.mail.widget.Thread   web.config   web.core   web.Widget	   qweb   _t   extendY   im_livechat.legacy.mail.AbstractThreadWindow   template-   _onDocumentViewerClose-   document_viewer_closed   custom_events   _onClickClose9   click .o_thread_window_close   _onClickFold9   click .o_thread_window_title!   _onComposerClick9   click .o_composer_text_field-   _onThreadWindowClicked)   click .o_mail_thread   _onKeydown=   keydown .o_composer_text_field   _onKeypress?   keypress .o_composer_text_field   events/   FOLD_ANIMATION_DURATION   400px   HEIGHT_OPEN	   34px   HEIGHT_FOLDED	   init   start   do_hide   do_show   do_toggle   close   getID   getThread   getThreadStatus   getTitle!   getUnreadCounter   hasThread   isAtBottom   isFolded   isMobile   isHidden   needsComposer   render   renderHeader   scrollToBottom   toggleFold+   updateVisualFoldState   _focusInput5   _getHeaderRenderingOptions   _getThreadID   _hasFocus   _postMessage-   _updateThreadFoldState   _onScroll!!      require   ThreadWidget   config	   core   Widget	   QWeb   _t)   AbstractThreadWindow      +H!!       !!-   document_viewer_closed!!    !!       !!9   click .o_thread_window_close!!!!9   click .o_thread_window_title!!!!9   click .o_composer_text_field!!!!)   click .o_mail_thread!!!!=   keydown .o_composer_text_field!!!!?   keypress .o_composer_text_field!!    !!        	   initC          ?                                    }  u    k     	       W   QV       
T   QV         
T D   Q[    [   C]   C]   B]   B]      =   : ]   : 0	   QV   B0
   QV   T D   Q@0   QV         
V   5      
V   : d: 0   QV      
:      V   B0   Q %  #*    _super   _   defaults   autofocus   displayStars#   displayReplyIcons1   displayNotificationIcons   Say something   placeholder   options   _hidden   _thread   debounce   _onScroll	   bind%   _debouncedOnScroll   hasThread   _folded!!      parent   thread   options   .this       +H!!            !!       !!   autofocus!!!!   displayStars!!!!#   displayReplyIcons!!!!1   displayNotificationIcons!!!!   placeholder!!    ;"       5 !!          startC  ;     (   t                         3              k  k          
       W  QV     QV  V      
=   : 0   QV  V      
=   : 0   Q[    B]   V  5   5   ]   W   QV  5   E   QV  5   5	   =
   H   V   B0   QV    AV  V   ,  R 0   QV  5      
[   =   V  5   =   ]    QV     
:  -   V  5      
=   V  5    Q)   V  5   5      V     
  Q  5   5    h     5   5   5   =   H   =      =   W  QV  5      
V      5    !   
:   QV  5   "   
V      
=#   : : $   
   : W  Q%   &   
Z   V  '   
:  `    V  `   :  
!&	)9N0Q?T!    $-   .o_composer_text_field   $input/   .o_thread_window_header   $header#   displayMarkAsRead   options   displayStars   _thread   _type   document_thread)   displayDocumentLinks   _threadWidget   $el   css   height /   FOLD_ANIMATION_DURATION   ms linear   transition   isFolded   height   HEIGHT_FOLDED   autofocus   _focusInput   device   isMobile   database   parameters   direction   rtl   margin-left   margin-right   position   scrollbarWidth   replace1   .o_thread_window_content	   then   Promise   all   _super!!   	   self   options   margin_dir   def   .this        +H!!       !!#   displayMarkAsRead!!!!   displayStars!!    !!       !!   transition!!    !!          start/def<b   @  @   T          5 ;5!!          do_hideC  4                                             " |  t                 	W   QW  QV  C0    QV  5      
V  V   O Q  "    _hidden   _super   apply!!      arguments   .this         +H;      5 !!          do_showC  4                                             "                   	W   QW  QV  B0    QV  5      
V  V   O Q !"    _hidden   _super   apply!!      arguments   .this         +H;      5 !!          do_toggleC `                                            "  w 	 w   j            	W   QW  QV         
T  :    T      V  5    0   QV  5      
V  V   O Q t	"    _   isBoolean   _hidden   _super   apply!!      display   arguments   .this       +H;      5!!          closeC                                                       ~                    !!              +H;       5 !!          getIDC                                                                   W   QV       
:       _getThreadID!!      .this         +H;       5 !!          getThreadC  -                                                     $            W   QV       
:         V   5    '    hasThread   undefined   _thread!!      .this         +H;"       5!!          getThreadStatusC  7                                               % r  r   .             W   QV       
:         V   5      
:  1     hasThread   undefined   _thread   getStatus!!      .this         +H;"       5!!          getTitleC  @                                                 |    3             W   QV       
:         =   : V   5      
:  6    hasThread   Undefined   _thread   getTitle!!      .this         +H;"       5!!       !   getUnreadCounterC  3                                                <  <   :             W   QV       
:      >V   5      
:  ='     hasThread   _thread!   getUnreadCounter!!      .this         +H;"       5 !!          hasThreadC           
                                      O h G h   ;             W   QV   5      >    _thread!!      .this         +H;       5!!          isAtBottomC                                                 |  t    h             W   QV   5       
:  k     _threadWidget   isAtBottom!!      .this         +H;       5 !!          isFoldedC  ;                                                                  W   QV       
:      V   5   V   5      
:        hasThread   _folded   _thread   isFolded!!      .this         +H;"       5!!          isMobileC                                                    <  <   2                 5    5   5    device   isMobile!!              +H;       5!!          isHiddenC                                                 N f F f   f             W   QV   5    i    _hidden!!      .this         +H;       5 !!          needsComposerC                                                 }  u                 W   QV       
:        hasThread!!      .this         +H;       5!!          renderC  S                                                                   W   QV       
  QV      
:  .   V   5      
V   5   [    B]    Q  (A    renderHeader   hasThread   _threadWidget   render   _thread   displayLoadMore!!      .this         +H!!       !!   displayLoadMore!!    ;"       5 !!          renderHeaderC  F                                               -    %      E            W  QV      
:  W   QV  5      
      
=   V   :  Q L"e 5   _getHeaderRenderingOptions   $header	   html   renderu   im_livechat.legacy.mail.AbstractThreadWindow.HeaderContent!!      options   .this         +H;       5!!          scrollToBottomC           	                                                          W   QV   5       
  Q $    _threadWidget   scrollToBottom!!      .this         +H;       5!!          toggleFoldC F                                               y  y   0            W   Q       
T  :     V      
:   U  QV      
T   Q 9$    _   isBoolean   isFolded-   _updateThreadFoldState!!      folded   .this       +H;"       5 !!       +   updateVisualFoldStateC           (                                      c  c   D             W  QV      
:   =   V  5      
  QV  5   5      V     
  QV      
:     V  5      V  5   W   QV  5   	   
[    V   ]
    QG$4    isFolded   _threadWidget   scrollToBottom   options   autofocus   _focusInput   HEIGHT_FOLDED   HEIGHT_OPEN   $el   css   height!!      height   .this         +H!!       !!   height!!    ;2       5 !!          _focusInputC  _                                               x  p    s             W   Q   5    5   E+   Q   5    5      5    5   5      V   5      
  QvJ    device   touch   size_class   SIZES   SM   $input   focus!!      .this         +H;"       5 !!       5   _getHeaderRenderingOptionsC  b      	                                               9             W   Q[    V       
:  ]   V      
:  ]   V      
:  ]   V      
:  ]   V   ]   <    getThreadStatus   status   getThread   thread   getTitle   title!   getUnreadCounter   unreadCounter   widget!!      .this         +H!!       !!   status!!!!   thread!!!!   title!!!!   unreadCounter!!!!   widget!!    ;       5 !!          _getThreadIDC  7                                                                  W   QV       
:      =   V   5      
:        hasThread   _blank   _thread   getID!!      .this         +H;"       5 !!          _hasFocusC                                                   &  &   0             W   QV   5       
=   : 3    $input   is   :focus!!      .this         +H;       5!!          _postMessageC O                                              <  4                  W   QV      QV       
:      V   5      
T  :    
     Q|
]&7    hasThread   _thread   postMessage	   then!!      messageData	   self   .this      +H!!          _postMessage/<b        3          5 ;5!!       -   _updateThreadFoldStateC U                                               f  f   ~             W   QV       
:  "   V   5      
T   Q"   V   T  0   QV      
  Q       hasThread   _thread	   fold   _folded+   updateVisualFoldState!!      folded   .this       +H;2       5!!          _onClickCloseC                                                }  u                W   QT      
  QT     
  QV      
:  E2   QV   5      
:  >E   QV      
:      V   5      
  QV      
  Q #    stopPropagation   preventDefault   hasThread   _thread!   getUnreadCounter   isFolded   markAsRead   close!!      ev   .this       +H;"       5!!          _onClickFoldC  -                                               5 h - h   $             W   Q   5    5       V      
  Q'    device   isMobile   toggleFold!!      .this         +H;"       5 !!       !   _onComposerClickC H                                                z    q             W   Q        T  5   :    
=   :       V      
  Qv    $   target   closest   a, button   length   _focusInput!!      ev   .this       +H;"       5 !!       -   _onDocumentViewerCloseC                                                       4             W   QV       
  Q7    _focusInput!!      .this         +H;       5!!          _onKeydownC          )                                          _             W  QT      
  QT  5   H      5      
V  5      
:  : W   Q[    V   ]   Z    ]   Z    ]	   W  QV  5      
=
    QV      V     
V   Qd"!    stopPropagation   which   _   str	   trim   $input   val   content   attachment_ids   partner_ids      _postMessage!!      ev   content   messageData   .this       +H!!       !!   content!!!!   attachment_ids!!!!   partner_ids!!    ;2       5!!          _onKeypressC           	                                       (  (   P             T      
  Q U    stopPropagation!!      ev        +H;       5!!          _onScrollC  F                                               ;  3    ~            W   QV       
:  E   QV      
:     V   5      
  Q     hasThread   isAtBottom   _thread   markAsRead!!      .this         +H;"       5 !!       -   _onThreadWindowClickedC  I                                                	  	               W  Q       
:  W   QV   5   V   5   H   V  5      
  Q 
3    window   getSelection   anchorOffset   focusOffset   $input   focus!!      selectObj   .this         +H;"       5!!    *   !!   template!!!!   custom_events!!!!   events!!!!/   FOLD_ANIMATION_DURATION!!!!   HEIGHT_OPEN!!!!   HEIGHT_FOLDED!!!!	   init!!!!   start!!!!   do_hide!!!!   do_show!!!!   do_toggle!!!!   close!!!!   getID!!!!   getThread!!!!   getThreadStatus!!!!   getTitle!!!!!   getUnreadCounter!!!!   hasThread!!!!   isAtBottom!!!!   isFolded!!!!   isMobile!!!!   isHidden!!!!   needsComposer!!!!   render!!!!   renderHeader!!!!   scrollToBottom!!!!   toggleFold!!!!+   updateVisualFoldState!!!!   _focusInput!!!!5   _getHeaderRenderingOptions!!!!   _getThreadID!!!!   _hasFocus!!!!   _postMessage!!!!-   _updateThreadFoldState!!!!   _onClickClose!!!!   _onClickFold!!!!!   _onComposerClick!!!!-   _onDocumentViewerClose!!!!   _onKeydown!!!!   _onKeypress!!!!   _onScroll!!!!-   _onThreadWindowClicked!!    ;5!!       C  u       	   5                                     	 n z	 n                 T  =    : W   QV      
[       ]      ]      ]      ]      ]      ]      ]   : W  QV   '  Tl  Sy x     web.Class   extend	   init   cancel   clear   do   _callFunction   _cooldown%   _onCooldownTimeout!!      require   Class1   CCThrottleFunctionObject       +H!!        	   initC T                                              	 
 	 
   3            W   QV       0   QV       0   QV   T  5   0   QV   T  5   0   QV   B0   Q < &    undefined   _arguments!   _cooldownTimeout   duration   _duration	   func   _func5   _shouldCallFunctionAfterCD!!      params   .this       +H;       5!!          cancelC  !                                               
 
 
 
               W   QV       0   QV   B0   Q &    undefined   _arguments5   _shouldCallFunctionAfterCD!!      .this         +H;       5 !!          clearC  =                                               
 P 
 P   6            W   QV   5    ,         V   5     QV      
  Q 9$ !   _cooldownTimeout   clearTimeout%   _onCooldownTimeout!!      .this         +H;"       5!!          doC  j      	                             	            \  T                	W   QW  QV      5   5      
V   l 0   QV  5      H   V     
  Q   V  C0   Q &&&    Array   prototype   slice	   call   _arguments!   _cooldownTimeout   undefined   _callFunction5   _shouldCallFunctionAfterCD!!      arguments   .this         +H;3       5 !!          _callFunctionC  4                                                P  P   W            W   QV   5       
@V   5   O QV      
  Q Z'    _func   apply   _arguments   _cooldown!!      .this         +H;       5 !!          _cooldownC  M                                               c  [                W   QV       
  QV         V   5      
V   : V   5   : 0   Q !>    cancel   setTimeout%   _onCooldownTimeout	   bind   _duration!   _cooldownTimeout!!      .this         +H;       5 !!       %   _onCooldownTimeoutC  ;                                                I  I   (            W   QV   5       V      
  Q   V      0   Q +$! 5   _shouldCallFunctionAfterCD   _callFunction   undefined!   _cooldownTimeout!!      .this         +H;2       5!!       !!	   init!!!!   cancel!!!!   clear!!!!   do!!!!   _callFunction!!!!   _cooldown!!!!%   _onCooldownTimeout!!    ;5 !!       C  "                                                                   T  =    :    Q    W   QV    F  m   im_livechat.legacy.mail.model.CCThrottleFunctionObject!!      require1   CCThrottleFunctionObject%   CCThrottleFunction      +H!!       %   CCThrottleFunctionB L  D              -   throttleFunctionObject   B   A  A   7         5    B  Z ~ R ~            5    B                 5 5;5!!       C  a          )                                     #                    T  =    : W   QV      
[       ]      ]      ]      ]      ]   : W  QV   	v/-W j    web.Class   extend	   init   clear   reset   start   _onTimeout!!      require   Class   Timer       +H!!       	   initC :                                              ~  v    	            W   QV   T  5    0   QV      0   QV   T  5   0   Q 	'    duration   _duration   undefined   _timeout   onTimeout!   _timeoutCallback!!      params   .this       +H;       5!!          clearC           	                                            8
            W   Q        V   5    Q 
;    clearTimeout   _timeout!!      .this         +H;       5 !!          resetC  %                                               $ B  B   g
            W   QV       
  QV      
  Q 
j    clear   start!!      .this         +H;       5 !!          startC  >                                               Q  I    
            W   QV           V   5      
V   : V   5   : 0   Q 
6    setTimeout   _onTimeout	   bind   _duration   _timeout!!      .this         +H;       5 !!          _onTimeoutC           	                                            
            W   QV       
  Q 
 !   _timeoutCallback!!      .this         +H;       5!!       !!	   init!!!!   clear!!!!   reset!!!!   start!!!!   _onTimeout!!    ;5 !!       C  _          2                                                         T  =    :    QT  =   : W   QV      
[       ]      ]      ]   : W  QV   v3nM     G   im_livechat.legacy.mail.model.Timer   web.Class   extend	   init   registerTimer   unregisterTimer!!      require   Timer   Class   Timers      +H!!       	   initC :                                                               W   QV   T  5    0   QV   T  5   0   QV   [    0   Q '    duration   _duration   onTimeout!   _timeoutCallback   _timers!!      params   .this       +H!!            ;       5!!          registerTimerC         9                                    $      g     
       W  QT  5    W   QV  5   V   7   V  5   V   7   
  Q[    V  5   ]   V  5   ]   W  Q=   T  qS   V  V  5   5   	   
V  5   Z   @`    
   
T  5   : O 0   Q   V  V  5   0   QV  5   V      AV  ,  R 9QV  5   V   7   
  Q t"(Nm    timerID   _timers   clear   _duration   duration!   _timeoutCallback   onTimeout1   timeoutCallbackArguments	   bind   apply   concat   start!!      params   timerID   timerParams   .this       +H!!       !!   duration!!!!   onTimeout!!    ;B       5 !!          unregisterTimerC Q                                                    e             W  QT  5    W   QV  5   V   7.   V  5   V   7   
  QV  5   V   /Qr    timerID   _timers   clear!!      params   timerID   .this       +H;"       5!!       !!	   init!!!!   registerTimer!!!!   unregisterTimer!!    ;5!!       C        B   0      #                               #B  #B                 T  =    :    QT  =   :    QT  =   : W   QT  =   :    QT  =   : W  QV   5      QV   5   W  Q[    ?]   ]      QV  =	   :    QV  =
   :    QV     
["   =   ]   [   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =    ]!   ="   ]#   =$   ]%   =&   ]'   =(   ])   =*   ]+   ],      ]-      ].      ]/      ]0      ]1      ]2      ]3   	   ]4   
   ]5      ]6      ]7      ]8      ]9      ]:      ]   ;   <   
   XC: ]=      ]>      ]?      ]@      ]      ]      ]*      ]$      ]       ]"      ]      ]&      ]      ]      ](       ]   !   ]   : W  QV     0A   QV   L6


"/7/9A57-,PA> 2   f6  !E mf     
      @ Xk6\     e       _ M   im_livechat.legacy.mail.DocumentViewer   mail.utils   web.core   web.time   web.Widget	   qweb   _lt   ASC	   DESC   read more   read less   extend   o_mail_thread   className!   _onClickRedirect   click a   click img   click strong!   _onClickShowMore3   click .o_thread_show_more+   _onAttachmentDownload9   click .o_attachment_download#   _onAttachmentView1   click .o_attachment_view'   _onDeleteAttachmentA   click .o_attachment_delete_cross3   _onClickMessageNeedactionE   click .o_thread_message_needaction'   _onClickMessageStar9   click .o_thread_message_star)   _onClickMessageReply;   click .o_thread_message_reply%   _onClickMailExpand+   click .oe_mail_expand   _onClickMessage/   click .o_thread_message   _onClick   clickA   _onClickMessageNotificationErrorU   click .o_thread_message_notification_error3   _onClickMessageModerationE   click .o_thread_message_moderation7   _onChangeModerationCheckbox7   change .moderation_checkbox   events	   init   destroy   render   renderLoading   getScrolltop   isAtBottom-   removeMessageAndRender   scrollToBottom   scrollToMessage!   scrollToPosition5   toggleModerationCheckboxes   unselectMessage5   _destroyOpenSeenPopoverIDs   _insertReadMore   _   debounce   _redirectC   _renderMessageNotificationPopover3   _renderMessageSeenPopover#   _updateTimestamps   ORDER!!      require   DocumentViewer   mailUtils	   core	   time   Widget	   QWeb   _lt   ORDER   READ_MORE   READ_LESS   ThreadWidget      +H!!       !!   ASC!!!!	   DESC!!    !!       !!   click a!!!!   click img!!!!   click strong!!!!3   click .o_thread_show_more!!!!9   click .o_attachment_download!!!!1   click .o_attachment_view!!!!A   click .o_attachment_delete_cross!!!!E   click .o_thread_message_needaction!!!!9   click .o_thread_message_star!!!!;   click .o_thread_message_reply!!!!+   click .oe_mail_expand!!!!/   click .o_thread_message!!!!   click!!!!U   click .o_thread_message_notification_error!!!!E   click .o_thread_message_moderation!!!!7   change .moderation_checkbox!!    !!        	   initC d        \                                  "  A  A               	W   QW  QV  5       
V  V   O QV  Z    0   QV        
T D   Q[    [      5   ]   C]   B]   C]	   C]
   C]   C]   C]   B]   B]   B]   : 0   QV  [   V  5   5   ]   B]   B]   B]	   B]
   V  5   5   ]   B]   B]   B]   V  5   5   ]   B]   0   QV  @0   QV  @0   QV  @0   QV  @0   QV  Z    0   Q "-  3/ 37&    _super   apply   attachments   _   defaults   ASC   displayOrder#   displayMarkAsRead3   displayModerationCommands   displayStars)   displayDocumentLinks   displayAvatars'   squashCloseMessages1   displayNotificationIcons#   displayReplyIcons!   loadMoreOnScroll;   hasMessageAttachmentDeletable   _enabledOptions!   _disabledOptions%   _selectedMessageID!   _currentThreadID'   _messageMailPopover'   _messageSeenPopover+   _openedSeenPopoverIDs!!      parent   options   arguments   .this       +H!!            !!       !!   displayOrder!!!!#   displayMarkAsRead!!!!3   displayModerationCommands!!!!   displayStars!!!!)   displayDocumentLinks!!!!   displayAvatars!!!!'   squashCloseMessages!!!!1   displayNotificationIcons!!!!#   displayReplyIcons!!!!!   loadMoreOnScroll!!!!;   hasMessageAttachmentDeletable!!    !!       !!   displayOrder!!!!#   displayMarkAsRead!!!!3   displayModerationCommands!!!!   displayStars!!!!)   displayDocumentLinks!!!!   displayAvatars!!!!'   squashCloseMessages!!!!1   displayNotificationIcons!!!!#   displayReplyIcons!!!!!   loadMoreOnScroll!!!!;   hasMessageAttachmentDeletable!!    ;      5 !!          destroyC                                                 R D J D   	            W   Q        V   5    QV   5      V   5      
=    QV   5      V   5      
=    QV      
  QV      
  Q 	."    clearInterval3   _updateTimestampsInterval'   _messageMailPopover   popover	   hide'   _messageSeenPopover5   _destroyOpenSeenPopoverIDs   _super!!      .this         +H;2       5!!          renderC      &          	                  B            T ' L '                 W  QV     QBW   QV  5    T     
:  HE   QV     
:     CW   QV  T     
:  0    Q      
T     
[       5   D   QZ    ]   : : W  Q   5      V  5      V  5	   W  QV     
   
      
      
V     : : : 0   Q      
[   V     [   V  5   ]   :    Q[      Q      
V      QV  5     5   H   V     
  QV  5      
     
=   [   T  ]      ]      ]     ]        
:  ]   :  Q      
V      QV      V     
  QV  5     %   V  !   !      X`: 0"   QV  #   
V   QT  $   
:     V  %   
T  V   QV)%=L"W)R*C,j    '!11 !   _currentThreadID   getID   isAtBottom   _   clone   getMessages   domain   isCreateMode!   _disabledOptions   _enabledOptions	   uniq   flatten   map   attachments   extend%   _selectedMessageID#   selectedMessageID	   each   displayOrder	   DESC   reverse   $el	   html   renderK   im_livechat.legacy.mail.widget.Thread   thread+   displayAuthorMessages   options   ORDER+   getLangDatetimeFormat   dateFormat   scrollToBottom3   _updateTimestampsInterval   setInterval1   updateTimestampsIntervalC   _renderMessageNotificationPopover   hasSeenFeature3   _renderMessageSeenPopover!!	      thread   options	   selfE   shouldScrollToBottomAfterRendering   messages   modeOptions+   displayAuthorMessages   prevMessage   .this      +H!!       !!   domain!!    !!       1   render/this.attachments<b   '!   '!             5 !!            !!       !!#   selectedMessageID!!    !!            !!           render/<b ! # ! #     0       5 !!       !!   thread!!!!+   displayAuthorMessages!!!!   options!!!!   ORDER!!!!   dateFormat!!    !!           render/<b 
% % % %             5 !!       K   render/this.updateTimestampsInterval<b  ]& z& U& z&   V          5;5!!          renderLoadingC  /                                               ' k' ' k'                W   QV   5       
      
=   :  Q  K    $el	   html   renderY   im_livechat.legacy.mail.widget.ThreadLoading!!      .this         +H;       5!!          getScrolltopC                                                 ' ' y' '                W   QV   5       
:        $el   scrollTop!!      .this         +H;       5 !!          isAtBottomC  e                                               ' ( ' (   /            W  QV  5    5   W   QV  5      
:  W  QV  5      
:  W  QV   V  V  W  QV   6$<    el   scrollHeight   $el   scrollTop   outerHeight!!      fullHeight   topHiddenHeight   visibleHeight%   bottomHiddenHeight   .this         +H;       5 !!       -   removeMessageAndRenderC =                                              ( ) ( )                 W   QV      QV          
:  0   Q   A    ,  R  D
    getID!   _currentThreadID   Promise!!      messageID   thread   options	   self   .this      +H!!       1   removeMessageAndRender/<b ) ) ) )                resolve    B  x) ) p) )             55;5!!          scrollToBottomC  )                                               ) )* ) )*   8             W   QV   5       
V   5   5    Q;)    $el   scrollTop   el   scrollHeight!!      .this         +H;       5!!          scrollToMessageC +        ;                                     B* + :* +   ~             W  QV      
=   T  5   =   : W   QT  5      V      
:     
:  V      
:  W  QV  >   ><   V  V      
:  5   V   	   
:     
:  5   W  Q
      
V  >: "W  QV  5      
=   V  =   T  5    Q-   V         V  5      
V    Q  E 	;    $G   .o_thread_message[data-message-id="   messageID   "]   onlyIfNecessary   parent   height   offset   top   offsetParent	   Math   min   $el   scrollTo   +=   px   duration   length!!      options   $target   delta   offset   .this       +H;2       5!!       !   scrollToPositionC =                                              + 7, + 7,                W   QT  "   V   5       
T   Q   V      
  Q +#    $el   scrollTop   scrollToBottom!!      position   .this       +H;2       5!!       5   toggleModerationCheckboxesC -                                              [, , S, ,               W   QV       
=   :    
=   T   Q     $)   .moderation_checkbox	   prop   checked!!      checked   .this       +H;       5 !!          unselectMessageC  5                                               , - , -               W   QV       
=   :    
=    QV   @0   Q )    $#   .o_thread_message   removeClass3   o_thread_selected_message%   _selectedMessageID!!      .this         +H;       5 !!       5   _destroyOpenSeenPopoverIDsC  4                                               @- - 8- -                 W   Q       
V   5        QV   Z    0   Q S    _	   each+   _openedSeenPopoverIDs!!      .this         +H!!       9   _destroyOpenSeenPopoverIDs/<b m- - e- -            5 ;5!!          _insertReadMoreC p         "                                     - 1 - 1                 W  QV     QZ       QT      
:     
    : W   Q      
V       Q      
       Q 
Xh Y    contents   filter   _	   each!!      $element	   self   groups   readMoreNodes   $children   .this      +H!!        5   _insertReadMore/$children<b  8. . 0. .   t         5 !!       #   _insertReadMore/<b . 0 . 0     P       5!!       #   _insertReadMore/<b 0 1 0 1   ~   @          group    $readMore    isReadMore    B @1 1 81 1               B 1 1 {1 1   W         5 55;5!!       '   _onDeleteAttachmentC x      
   #                                    2 2 2 2        	       W  QT      
  Q      T  5   : W   QV     
=   [    V      
=   : ]   V      
=   : ]	    Q %k    stopPropagation   $   currentTarget   trigger_up#   delete_attachment	   data   id   attachmentId	   name   attachmentName!!      ev   $target   .this       +H!!       !!   attachmentId!!!!   attachmentName!!    ;       5!!       1   ThreadWidget<._redirect<b 2 c3 2 c3     2       5 !!       C   _renderMessageNotificationPopover@          @                                     3 5 n3 5                 W   QV   5       V   5       
=    QV      
=   :        V   V      
=   :    
[   C]   =   ]   =	   ]
   =   ]   =   ]       ]   : 0    Q n$ d%
 g '   _messageMailPopover   popover	   hide   $#   .o_thread_tooltip   length	   html   viewport   boundary	   auto   placement   hover   trigger	   0, 1   offset   content!!      messages   .this      +H!!          contentB  4 5 4 5      "          messageID   B 4 ,5 4 ,5             5 5!!       !!	   html!!!!   boundary!!!!   placement!!!!   trigger!!!!   offset!!!!   content!!    ;5 !!       3   _renderMessageSeenPopoverC          F                                     5 8 5 8                 W   QV      QV       
  QV   5      V   5      
=    QV      
=   :        V   V      
=   :    
[   C]   =   ]	   =
   ]   =   ]   =   ]       ]   : 0   Q 
"J K
  5   _destroyOpenSeenPopoverIDs'   _messageSeenPopover   popover	   hide   $o   .o_thread_message_core .o_mail_thread_message_seen_icon   length	   html   viewport   boundary	   auto   placement   hover   trigger	   0, 1   offset   content!!      thread   messages	   self   .this      +H!!           contentB  u7 8 m7 8      "          messageID   B 8 C8 8 C8   a         5 5!!       !!	   html!!!!   boundary!!!!   placement!!!!   trigger!!!!   offset!!!!   content!!    ;5 !!       #   _updateTimestampsC  n                                  
             8 9 8 9                 W  QV      
:  W   QV     
=   :    
     QV   E   QV      
:      V     
  Q 5[    isAtBottom   $#   .o_mail_timestamp	   each   scrollToBottom!!      isAtBottom   .this         +H!!        '   _updateTimestamps/<b  /9 {9 '9 {9   {         5;5!!       +   _onAttachmentDownloadC           	                                      9 9 9 9   #             T      
  Q +    stopPropagation!!      event        +H;       5 !!       #   _onAttachmentViewC          %                                     : : : :   _     	       W  QT      
  Q      T  5   :    
=   : W   QV   J      AV  V  5   V   ,  R W  QV     
      =   :  Q g=&    stopPropagation   $   currentTarget	   data   id   attachments   appendTo	   body!!      event%   activeAttachmentID!   attachmentViewer   .this       +H;"       5 !!       7   _onChangeModerationCheckboxC          	                                     !; T; ; T;   m            W   QV       
=    Q r-    trigger_up3   update_moderation_buttons!!      ev   .this       +H;       5!!          _onClickC  :                                               f; ; ^; ;               W   QV   5    )   V      
  QV      
=    Q " %   _selectedMessageID   unselectMessage   trigger!   unselect_message!!      .this         +H;"       5!!       %   _onClickMailExpandC           	                                      ; ; ; ;   '             T      
  Q ,    preventDefault!!      ev        +H;       5!!          _onClickMessageC &                                                < Q< < Q<   Z                     T  5   :    
=    Q _)    $   currentTarget   toggleClass3   o_thread_selected_message!!      ev        +H;       5!!       3   _onClickMessageNeedactionC H                                              t< < l< <               W  Q        T  5   :    
=   : W   QV     
=   V    Q 
'    $   currentTarget	   data   message-id   trigger   mark_as_read!!      ev   messageID   .this       +H;       5!!       A   _onClickMessageNotificationError@ c                                            < = < =   C            W   Q  Q        T  5   :    
=   :   QV      
=   [   [    V  ]   ]    Q G
2k    $   currentTarget	   data   message-id   do_action?   mail.mail_resend_message_action-   mail_message_to_resend%   additional_context!!      ev   .this       !!          messageID          +H!!       !!-   mail_message_to_resend!!    !!       !!%   additional_context!!    ;      \          5 !!       )   _onClickMessageReplyC                                               = ? = ?   	            W   QV           T  5   :    
=   : 0   QV       
=   :    
=    QV       
=   V   5   =	   : 
   
=    QV      
=   V   5    QT     
  Q )K&7    $   currentTarget	   data   message-id%   _selectedMessageID#   .o_thread_message   removeClass3   o_thread_selected_messageG   .o_thread_message[data-message-id="   "]   addClass   trigger   select_message   stopPropagation!!      ev   .this       +H;       5 !!       '   _onClickMessageStarC H                                              !? ? ? ?   m            W  Q        T  5   :    
=   : W   QV     
=   V    Q v
-    $   currentTarget	   data   message-id   trigger%   toggle_star_status!!      ev   messageID   .this       +H;       5!!       3   _onClickMessageModerationC |         &                         	           ? p@ ? p@        	       W  Q        T  5   : W   QV      
=   : W  QV      
=   : W  QV     
=   [    V  ]   V  ]    Q 	
	&O    $   currentTarget	   data   message-id   decision   trigger_up%   message_moderation   messageID!!      ev   $button   messageID   decision   .this       +H!!       !!   messageID!!!!   decision!!    ;       5!!       !   _onClickRedirectC 
        H                                    @ A @ A   	            W  Q        T  5   :    
=   :    I           T  5   :    
=   : W   QV      T     
  Q        T  5   :    
=   : W  QV  E   QV  =   I'   [    V  ]	   V   ]
   W  Q   [   V   ]   W  QV     
V   Q 	 $		    $   target	   data   oe-field   undefined   oe-id   preventDefault   oe-model   mail.channel   model   id   channelID   _redirect!!      ev   id   model   options   .this       +H!!       !!   model!!!!   id!!    !!       !!   channelID!!    ;R       5 !!       !   _onClickShowMoreC                                                 A A A A   4             W   QV       
=    Q7#    trigger%   load_more_messages!!      .this         +H;       5 !!    "   !!   className!!!!   events!!!!	   init!!!!   destroy!!!!   render!!!!   renderLoading!!!!   getScrolltop!!!!   isAtBottom!!!!-   removeMessageAndRender!!!!   scrollToBottom!!!!   scrollToMessage!!!!!   scrollToPosition!!!!5   toggleModerationCheckboxes!!!!   unselectMessage!!!!5   _destroyOpenSeenPopoverIDs!!!!   _insertReadMore!!!!'   _onDeleteAttachment!!!!   _redirect!!!!C   _renderMessageNotificationPopover!!!!3   _renderMessageSeenPopover!!!!#   _updateTimestamps!!!!+   _onAttachmentDownload!!!!#   _onAttachmentView!!!!7   _onChangeModerationCheckbox!!!!   _onClick!!!!%   _onClickMailExpand!!!!   _onClickMessage!!!!3   _onClickMessageNeedaction!!!!A   _onClickMessageNotificationError!!!!)   _onClickMessageReply!!!!'   _onClickMessageStar!!!!3   _onClickMessageModeration!!!!!   _onClickRedirect!!!!!   _onClickShowMore!!    ;5!!       C  O      6                                       bB Z ZB Z                 T  =    : W   QT  =   : W  QV   5      Q<       Q<      QV     
[   =   ]   [    =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]    =!   ]"   =#   ]$   =%   ]&   ='   ](   ])      ]*      ]+      ],      ]-      ].      ]/      ]0      ]1   	   ]2   
   ]3      ]      ]4      ]      ]%      ]'      ]      ]5      ]      ]!      ]      ]      ]      ]      ]#      ]
      ]      ]      ]      ]   : W  QV    2&(*%!%7 /+)(*   w    c d aO9'     2<  k6> +      <\]  r  
6    web.core   web.Widget	   qweb   extendM   im_livechat.legacy.mail.DocumentViewer   template   _onDownload+   click .o_download_btn   _onImageClicked'   click .o_viewer_img   _onVideoClicked+   click .o_viewer_video   _onNext!   click .move_next   _onPrevious)   click .move_previous   _onRotate   click .o_rotate   _onZoomIn!   click .o_zoom_in   _onZoomOut#   click .o_zoom_out   _onZoomReset'   click .o_zoom_reset   _onCloseS   click .o_close_btn, .o_viewer_img_wrapper   _onPrint%   click .o_print_btn   _onScrollA   DOMMouseScroll .o_viewer_content9   mousewheel .o_viewer_content   _onKeydown   keydown   _onKeyUp   keyup   _onStartDrag/   mousedown .o_viewer_img   _onDrag7   mousemove .o_viewer_content   _onEndDrag3   mouseup .o_viewer_content   events	   init   start   destroy   _next   _previous   _reset   _updateContent   _getTransform   _rotate   _zoom   _onDestroy   _onImageLoaded!!?!!      ?!!      require	   core   Widget	   QWeb!   SCROLL_ZOOM_STEP   ZOOM_STEP   DocumentViewer      +H!!       !!+   click .o_download_btn!!!!'   click .o_viewer_img!!!!+   click .o_viewer_video!!!!!   click .move_next!!!!)   click .move_previous!!!!   click .o_rotate!!!!!   click .o_zoom_in!!!!#   click .o_zoom_out!!!!'   click .o_zoom_reset!!!!S   click .o_close_btn, .o_viewer_img_wrapper!!!!%   click .o_print_btn!!!!A   DOMMouseScroll .o_viewer_content!!!!9   mousewheel .o_viewer_content!!!!   keydown!!!!   keyup!!!!/   mousedown .o_viewer_img!!!!7   mousemove .o_viewer_content!!!!3   mouseup .o_viewer_content!!    !!       	   initC          %                                   " E HI E HI                 	W   QW  QV  5       
V  V   O QV        
T     : 0   QV        
T [   T ]   : 0   QV  =   0	   QV  
   
  Q "/1    _super   apply   _   filter   attachment   findWhere   id!   activeAttachment   ir.attachment   modelName   _reset!!      parent   attachments%   activeAttachmentID   arguments   .this       +H!!        +   init/this.attachment<b hF H `F H     `       5 !!       !!   id!!    ;5!!          startC           -                                     WI PJ OI PJ         	       	W   QW  QV  5       
=    QV  5       
=         
V  5   V  :  QV     
=	   :    
=
         
V  5   V  :  QV     
=   :    
[    >]    QV  5      
V  V   O   <",+"    $el   modal	   show   on   hidden.bs.modal   _	   bind   _onDestroy   $   .o_viewer_img	   load   _onImageLoaded/   [data-toggle="tooltip"]   tooltip   delay   _super   apply!!      arguments   .this         +H!!       !!   delay!!    ;       5 !!          destroyC        	   !                                      aJ J YJ J               	W   QW  QV      
:     V     
=    QV  5      
=    QV  5      
  QV  5      
V  V   O Q u*"    isDestroyed   trigger_up-   document_viewer_closed   $el   modal	   hide   remove   _super   apply!!      arguments   .this         +H;#       5 !!          _nextC  n                                               	K K K K                W  Q       
V  5   V  5   : W   QV   ?V  5      W   QV  V  5   V   70   QV     
  Q  3'-    _   findIndex   attachment!   activeAttachment   length   _updateContent!!      index   .this         +H;       5 !!          _previousC                                                 K |L K |L   C            W  Q       
V  5   V  5   : W   QV   >H   V  5      ?   V   ?W   QV  V  5   V   70   QV     
  Q J31-    _   findIndex   attachment!   activeAttachment   length   _updateContent!!      index   .this         +H;       5!!          _resetC  :                                                L L L L               W   QV   ?0    QV   V   >0   0   QV   V   >0   0   Q !!    scale   dragstopX   dragStartX   dragstopY   dragStartY!!      .this         +H;       5 !!          _updateContentC           -                                     L M L M   s            W   QV       
=   :    
      
=   [    V   ]   :  QV       
=   :    
=   	   
   
V   5   V   :  QV       
=   :    
[   >]    QV      
  Q v_R",+    $#   .o_viewer_content	   html   render]   im_livechat.legacy.mail.DocumentViewer.Content   widget   .o_viewer_img   on	   load   _	   bind   _onImageLoaded/   [data-toggle="tooltip"]   tooltip   delay   _reset!!      .this         +H!!       !!   widget!!    !!       !!   delay!!    ;       5!!          _getTransformC %          	                                       N TN M TN                =    T  =   T  =   T =    >    scale3d(   ,    , 1) rotate(	   deg)!!      scale   angle        +H;       5!!          _rotateC 3        9                                     eN O ]N O        	       W  QV      
  QV  5   D   Q>T  W   QV     
=   :    
=   V     
V  5   V   :  QV     
=   :    
=   V   X >I'         	   : 
   
:     =    QV     
=   :    
=   V   X >I'         	   :    
:     =    QV  V   0   Q  (::?;?    _reset   angle   $   .o_viewer_img   css   transform   _getTransform   scale   max-width   document   height	   100%   max-height   width!!      angle   new_angle   .this       +H;       5 !!          _zoomC                                              O P O P   @            W   QT  <    Y   V       
=   :    
=   V      
T  V   5   D   Q>:  QV   T  0   QV       
=   :    
=	   : 
   
=   T  ?H Q H(9"    $   .o_viewer_img   css   transform   _getTransform   angle   scale   .o_zoom_reset   add   .o_zoom_out   toggleClass   disabled!!      ?!!      scale   .this       +H;"       5 !!          _onCloseC $         	                                     P P P P   `             W   QT      
  QV      
  Qd    preventDefault   destroy!!      e   .this       +H;       5 !!          _onDestroyC           	                                      P P P P                W   QV       
  Q      destroy!!      .this         +H;       5 !!          _onDownloadC J      	                                        Q Q P Q                W   QT      
  Q   =   V   5   =   V   5   5   =   0   Q  i    preventDefault   window   /web/content/   modelName   /!   activeAttachment   id)   /datas?download=true   location!!      e   .this       +H;       5 !!          _onDragC ?        3                                     Q S Q S   U     
       W  QT      
  QV  5      V     
=   : W   QV     
=   : W  QV      
=   : V  5   V     
:     T  5	   V  5
      >W  QV      
=   : V  5   V     
:     T  5   V  5      >W  QV     
=   =   V  =   V  =    QV      
=   =    Q Y'1&,A    preventDefault   enableDrag   $   .o_viewer_img!   .o_viewer_zoomer	   prop   offsetHeight   scale   height   clientY   dragStartY   offsetWidth   width   clientX   dragStartX   css   transform   translate3d(	   px,    px, 0)   cursor	   move!!      e   $image   $zoomer   top	   left   .this       +H;"       5!!          _onEndDragC                                               2S S *S S               W   QT      
  QV   5   q   V   B0   QV   T  5   V   5   0   QV   T  5   V   5   0   QV      
=	   : 
   
=   =    Q ))    preventDefault   enableDrag   clientX   dragStartX   dragstopX   clientY   dragStartY   dragstopY   $   .o_viewer_img   css   cursor   !!      e   .this       +H;"       5!!          _onImageClickedC           	                                      	T "T T "T                T      
  Q     stopPropagation!!      e        +H;       5 !!          _onImageLoadedC  %                                               :T ^T 2T ^T               W   QV       
=   :    
  Q     $   .o_loading_img	   hide!!      .this         +H;       5!!          _onKeydownC       	   (                                     rT U jT U   4            W   QT  5    x   5   5   5   Hy'      5   5   5   Hy.   zK   T     
  QV      
  Q(   T     
  QV      
  Q    8p  xx (``    which   $   ui   keyCode   RIGHT	   LEFT   preventDefault   _next   _previous!!      e   .this       +H;"       5!!          _onKeyUpC X                                   	           U rU U rU               W   QT  5    x   5   5   5   Hy   z+   T     
  QV      
T   Q    pHx )`    which   $   ui   keyCode   ESCAPE   preventDefault   _onClose!!      e   .this       +H;"       5!!          _onNextC $                                              U U {U U   E            W   QT      
  QV      
  Q I    preventDefault   _next!!      e   .this       +H;       5 !!          _onPreviousC $                                              U U U U               W   QT      
  QV      
  Q     preventDefault   _previous!!      e   .this       +H;       5 !!          _onPrintC          -                                    U W U W        	       W  QT      
  QV     
=   :    
=   : W   Q      
=   [    V   ]   : W  Q      
=	   =
   : W  QV  5      
  QV  5      
V   QV  5      
  Q 9@"#    preventDefault   $   .o_viewer_img	   prop   src   renderE   im_livechat.legacy.mail.PrintImage   window	   open   about:blank	   _new   document   write   close!!      e   src   script   printWindow   .this       +H!!       !!   src!!    ;       5 !!          _onScrollC                                               $W W W W               W  QT  5    5   >D   QT  5    5   >2   V  5      W   QV     
V    Q-   V  5      W   QV     
V    Q ;""    originalEvent   wheelDelta   detail   scale   _zoom!!      e   scale   .this       +H;2       5 !!          _onStartDragC j                                              W |X W |X               W   QT      
  QV   C0   QV   T  5   V   5   D   Q>0   QV   T  5   V   5   D   Q>0   Q ..    preventDefault   enableDrag   clientX   dragstopX   dragStartX   clientY   dragstopY   dragStartY!!      e   .this       +H;       5 !!          _onVideoClickedC P                                                X Y X Y   W            T      
  QT  5   W   QV   5      V      
  Q   V      
  Q [    stopPropagation   target   paused	   play   pause!!      e   videoElement       +H;0       5 !!          _onRotateC &                                              #Y LY Y LY               W   QT      
  QV      
Z Q     preventDefault   _rotate!!      e   .this       +H;       5 !!          _onZoomInC <                                              _Y Y WY Y   !	            W  QT      
  QV  5      W   QV     
V    Q 	%    preventDefault   scale   _zoom!!      e   scale   .this       +H;       5 !!          _onZoomOutC <                                              Y Z Y Z   ~	            W  QT      
  QV  5      W   QV     
V    Q 	    preventDefault   scale   _zoom!!      e   scale   .this       +H;       5!!          _onZoomResetC M                                              Z pZ Z pZ   	            W   QT      
  QV      
=   :    
=   =    QV      
? Q 	    preventDefault   $!   .o_viewer_zoomer   css   transform      _zoom!!      e   .this       +H;       5 !!       !!   template!!!!   events!!!!	   init!!!!   start!!!!   destroy!!!!   _next!!!!   _previous!!!!   _reset!!!!   _updateContent!!!!   _getTransform!!!!   _rotate!!!!   _zoom!!!!   _onClose!!!!   _onDestroy!!!!   _onDownload!!!!   _onDrag!!!!   _onEndDrag!!!!   _onImageClicked!!!!   _onImageLoaded!!!!   _onKeydown!!!!   _onKeyUp!!!!   _onNext!!!!   _onPrevious!!!!   _onPrint!!!!   _onScroll!!!!   _onStartDrag!!!!   _onVideoClicked!!!!   _onRotate!!!!   _onZoomIn!!!!   _onZoomOut!!!!   _onZoomReset!!    ;5!!       C  r          2                                     J[ ] B[ ]                 T  =    :    QT  =   :    QT  =   : 5   W   QV      
[       ]      ]    Q[   V   ]   kE        web.utils   web.sessionU   im_livechat.legacy.im_livechat.im_livechat   LivechatButton   include   willStart%   _onCloseChatWindow!!      require   utils   session   LivechatButton      +H!!           willStartC  `                                               %\ \ \ \   +            W   QV   5    5   ;         
=         
V   5    5   : X QV      
:   .&'    options)   chat_request_session   set_cookie'   im_livechat_session	   JSON   stringify   _super!!      .this         +H;"       5!!       %   _onCloseChatWindowC       
   #                                    \ ] \ ]   2             W  QV      
T   Q      
=   : W   QV   b         
V   : W  Q      
=   [    V  5   ]    Q      
=   =	    Q7(2F/    _super   get_cookie'   im_livechat_session	   JSON   parse   rpcE   /im_livechat/visitor_leave_session	   uuid   set_cookie   !!      ev   cookie   channel   .this       +H!!       !!	   uuid!!    ;"       5 !!       !!   willStart!!!!%   _onCloseChatWindow!!    !!       !!   LivechatButton!!    ;5 !!       C  n       	   "                                     ^ a z^ a                 T  =    : W   QT  =   :    QV   5   V   5      
[   =   ]       ]   : 0   QV   5   5   G!@8+ #   web.public.widget   web.time   registry   Widget   extend   #wrapwrap   selector   start   websiteSlides!!      require   publicWidget	   time      +H!!          startC r                                              G_ ` ?_ `                 	W  QW  QZ   V  5       
V  V  O `    W   Q      
      =   :      Q      
V   :   #    _super   apply   _	   each   $   timeago.timeago   Promise   all!!      parent	   defs   arguments   .this       +H!!          start/<b _ ` _ `   K  0       5;5!!       !!   selector!!!!   start!!    ;5 !!       C            B                         	            La e Da e                 T  =    : W   QT  =    QV   5      
[   [    =   ]   ]      ]      ]      ]   :    QV   5	   V   5      
[   =
   ]      ]      ]   : 0   Q  %-!_  $E    #   web.public.widget+   website_slides.slides   Widget   extend   _onChangePage   change input   events	   init'   _updateEmbeddedCode   registry   #wrapwrap   selector   start)   _onIframeViewerReady%   websiteSlidesEmbed!!      require   publicWidget!   SlideSocialEmbed      +H!!       !!   change input!!    !!       	   initC ?                                            " b jb b jb   e            	W   QW  QV  5       
V  V   O QV  T D   QB0   Q v"    _super   apply   max_page!!      parent   maxPage   arguments   .this       +H;      5 !!       '   _updateEmbeddedCodeC c                                             b c b c               W  QV      
=   : W   QV      
:     
    =   T  =   : W  QV      
V   Q  -    $#   .slide_embed_code   val   replace   $1   $2!!   	   page   $embedInput   newCode   .this       +H!!%   (page=).*?([^\d]+)    ;       5!!          _onChangePageC          %                                     6c c .c c               W  QT      
  QV     
=   : W   Q      V      
:  : W  QV  5   E$   QV  >E   QV  V  5       ?W  QV     
V   Q      preventDefault   $   input   parseInt   val   max_page'   _updateEmbeddedCode!!      ev   input	   page   .this       +H;"       5 !!       !!   events!!!!	   init!!!!'   _updateEmbeddedCode!!!!   _onChangePage!!    !!          startC       
                                        Od d Gd d         	       	W  QW  QZ   V  5       
V  V  O `    W   Q      =   :    
=   V  5      
V  :  Q   	   
V   :   #/1    _super   apply   $=   iframe.o_wslides_iframe_viewer   on   ready)   _onIframeViewerReady	   bind   Promise   all!!      parent	   defs   arguments   .this       +H;       5!!       )   _onIframeViewerReadyC          "                                     e e 
e e   O            W  Q        T  5   : W   QV      
:     
=   :    
:  W  Q   AV  V  ,  R    
        =   :  Q X,.    $   currentTarget   contents	   find   #page_count   val   attachTo=   .oe_slide_js_embed_code_widget!!      ev   $iframe   maxPage   .this       +H;       5 !!       !!   selector!!!!   start!!!!)   _onIframeViewerReady!!    ;5 !!       C            F                         	            _f 9n Wf 9n                 T  =    : W   QT  =    QV   5      
[   [    =   ]   ]      ]   :    QV   5   V   5      
[   =   ]	   [   =
   ]   =   ]   ]      ]      ]
      ]   : 0   QM%& E;1      #   web.public.widget+   website_slides.slides   Widget   extend   _sendMail   click button   events   registry   #wrapwrap   selector)   _onSlidesSocialShareC   click a.o_wslides_js_social_share!   _onShareLinkCopy3   click .o_clipboard_button   start%   websiteSlidesShare!!      require   publicWidget   ShareMail      +H!!       !!   click button!!    !!          _sendMailC  S        Q                         !             &g ki g ki          	       W  QV     QV      
=   : W   QV      
=   :    
=   : W  QV      
:  E   QV   >7   
:     V  5      
=	   : 
   
=   :    
=    QV     
[   =   ]   [    V  ]   V      
:  ]   ]   :    
    QL   V  5      
=	   : 
   
=   :    
=    QV      
  Q  $&'b  !&    $   input   button	   data   slide-id   val   checkValidity   $el   removeClass   o_has_error	   find;   .form-control, .custom-select   is-invalid	   _rpc=   /slides/slide/send_share_email   route   slide_id   email   params	   then   addClass   focus!!   	   self   input   slideID   .this        +H!!       !!   slide_id!!!!   email!!    !!       !!   route!!!!   params!!    !!           _sendMail/<b  |h h th h   O         5;5!!       !!   events!!!!   _sendMail!!    !!       !!C   click a.o_wslides_js_social_share!!!!3   click .o_clipboard_button!!    !!           startC          #                                     Kj j Cj j        
       	W  QW  QZ   V  5       
V  V  O `    W   QV      
   AV  ,  R    
      =   : :  Q      
V   :  +#
G    _super   apply	   push   attachTo   $1   .oe_slide_js_share_email   Promise   all!!      parent	   defs   arguments   .this       +H;       5!!       )   _onSlidesSocialShareC                                                 k k j k                 T      
  Q      T  5   :    
=   : W   Q      
V   =   =   :    Q         : 	   
=
        Q 	<
B    preventDefault   $   currentTarget	   attr	   href   window	   open   Share Dialog)   width=626,height=436   on   focus!!      ev   popUpURL   popUp      +H!!       -   _onSlidesSocialShare/<b  k k k k   }          5;5!!       !   _onShareLinkCopyC          A                                     k 4n k 4n                 W   QT      
  Q      T  5   :    Q      
[    =   ]   =   ]   =   ]	    QV      Q
   A=      >75   [      ]   V   5   ]   ,  R    Q      
=       Q      
=       Q R3  S    F    preventDefault   $   currentTarget   tooltip   Copied !   title   manual   trigger   bottom   placement   ClipboardJS   #   id   target   el   container   on   success   error!!      ev   $clipboardBtn	   self   clipboard   .this      +H!!       !!   title!!!!   trigger!!!!   placement!!    !!          targetB  l Im l Im            5 !!       !!   target!!!!   container!!    !!        %   _onShareLinkCopy/<b  }m m um m   P            B  m m m m            5 5!!       %   _onShareLinkCopy/<b 
n 2n n 2n            5 ;5!!       !!   selector!!!!   events!!!!   start!!!!)   _onSlidesSocialShare!!!!!   _onShareLinkCopy!!    ;5 !!       C        8          &                              n  n                  T  =    : W   QT  =   : W  QT  =   : W  QT  =   :    QV   5      QV   5      QV     
[   =   ]   	      
[    V  5
   5   [   =   ]   =   ]   =   ]   =   ]   : ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]       ]!      ]"      ]#      ]$      ]%      ]&      ]'      ](      ]      ]      ]      ])      ]*      ]+      ],      ]   :    QV  5-   V  5.      
[$   =/   ]0   Z   =1   `    ]2   [    =3   ]4   ]   !   ]   "   ]5   #   ]3   : 06   Q[%      ]7   V  5-   56   ]6   M!!&,D7-3   v  ;   YH  |I                    n      	F&<+i  
  $?    web.core   web.Dialog#   web.public.widget   web.utils	   qweb   _t   extend5   website.slide.upload.modal   template   _   prototype   events+   _onClickInstallModuleS   click .o_wslides_js_upload_install_button+   _onClickSlideTypeIcon9   click .o_wslides_select_type)   _onChangeSlideUpload'   change input#upload#   _onChangeSlideUrl!   change input#url	   init   start   _alertDisplay   _alertRemove)   _bindSelect2Dropdown!   _fetchUrlPreview%   _formSetFieldValue%   _formGetFieldValue   _formValidate-   _formValidateGetValues   _fileReset!   _getModalButtons3   _getSelect2DropdownValues#   _resetModalButton   _select2Wrapper   _setup%   _showPreviewColumn%   _hidePreviewColumn   _svgToPng   _onChangeType-   _onChangeCanSubmitForm9   _onClickInstallModuleConfirm   _onClickGoBack%   _onClickFormSubmit#   _onFormSubmitDone   registry   Widget5   .o_wslides_js_slide_upload   selectorq   /website_slides/static/src/xml/website_slides_upload.xml   xmlDependencies   _onUploadClick   click   _openDialog'   websiteSlidesUpload#   SlideUploadDialog!!      require	   core   Dialog   publicWidget   utils	   QWeb   _t#   SlideUploadDialog      +H!!            !!       !!S   click .o_wslides_js_upload_install_button!!!!9   click .o_wslides_select_type!!!!'   change input#upload!!!!!   change input#url!!    !!        	   initC      !   Q                         "           p s p s   L            W   Q       
T D   Q[    [      =   : ]   =   ]   : U QV      
T  T  QV      
  QV         T 5	   
: 0
   QV         T 5   
: 0   QV   T 5   =   H0   QV   T 5   =   H0   QV   T 5   6         
T 5      
   =   : :    @0   QV   @0   QV      
=   =    QV      
=   V   V   5    QV      
=   B QV      
=   V   V   5    QV   [   0   QV   C0    Q ] G *,:<!0"C    _   defaults#   Upload a document   title   medium	   size   _super   _setup   parseInt   channelId   channelID   categoryId#   defaultCategoryID   canUpload	   True   canPublish!   modulesToInstall	   JSON   parse   replace   "-   modulesToInstallStatus   set   state   _select   on   change:state   _onChangeType   can_submit_form-   change:can_submit_form-   _onChangeCanSubmitForm	   file   isValidUrl!!      parent   options   .this       +H!!            !!       !!   title!!!!	   size!!    !!   '   !!            ;       5!!          startC  B                                               s t s t                 	W   QW  QV     QV  5       
V  V   O    
    :  
",    _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b  s t s t   G         5;5!!          _alertDisplayC v         %                         
           t t t t   ~            W   QV       
  Q      =   [    =   ]   =   ]   =   ]   : 	   
T  : 
   
V      
=   :  Q K    _alertRemove   $   <div/>'   alert alert-warning   class   upload-alert   id   alert	   role	   text   insertBefore	   form!!      message   .this       +H!!       !!   class!!!!   id!!!!	   role!!    ;       5!!          _alertRemoveC  %                                               t t t t   )            W   QV       
=   :    
  Q ,	    $   #upload-alert   remove!!      .this         +H;       5 !!       )   _bindSelect2DropdownC           /                                      u v u v                 W   QV      QV       
=   :    
V      
  =   : B    :  QV       
=   :    
V      
  =   : C   :  Q s
4  0      $   #category_id   select2   _select2Wrapper   Section   #tag_ids	   Tags!!   	   self   .this        +H!!        -   _bindSelect2Dropdown/<b  mu u eu u            5 !!       -   _bindSelect2Dropdown/<b  :v v 2v v            5 ;5!!       !   _fetchUrlPreviewC E                                             v  w v  w               W   QV       
[   =   ]   [    T  ]   V   5   ]   ]   :  !
^ 	   _rpc1   /slides/prepare_preview/   route   url   channelID   channel_id   params!!      url   .this       +H!!       !!   url!!!!   channel_id!!    !!       !!   route!!!!   params!!    ;       5!!       %   _formSetFieldValueC ;                                              <w yw 4w yw               W   QV       
=   :    
=   T  :    
T  Q     $	   form	   find   #   val!!      fieldId   value   .this       +H;       5 !!       %   _formGetFieldValueC )                                              w w w w               W   QV       
=   T  :    
:       $   #   val!!      fieldId   .this       +H;       5 !!          _formValidateC  U                                               w Cx w Cx   8	            W  QV      
=   : W   QV      
=    QV   >7   
:  E   QV  5    	?!    $	   form   addClass   was-validated   checkValidity   isValidUrl!!   	   form   .this         +H;       5!!       -   _formValidateGetValuesC }     '                            N           cx ,} [x ,}   	     
       W  QV      
=   : >7W   Q      
[    V  5   ]   V     
=   : ]   V     
=   : ]   V     
=	   : ]	   V     
=
   : ]
   T  ]   V     
:  : W  Q      
V  5    QV     
=   : #   V  V     
=   : 0   QV  5   5   =   H         
V  [   V      
:     
=   : ?7]   V   5   V   5      =      =   ]   V  5   5   ]   V  5   5   ]    Q  V  5   =    Hp         
V  [   =!   ]   V  5   5   ="   H   V  #   
:     V  5   5   ]    Q=     $   
V  5   5   :   V  5   =   H         
V  [   =%   ]   V  5   5   ="   H   =&      V  5   5   ]   V  5   5   ="   H   V  #   
:     V  5   5   ]    Qa         
V  [   V  5   5   ="   H   V  #   
:     V  5   5   ]    QV   	 '$ 
 !'Bd  %.  *H)c  .    $   #data_canvas   _   extend   channelID   channel_id%   _formGetFieldValue	   name   url   description   duration   is_published3   _getSelect2DropdownValues   contains   slide_type_data   get   state   slide_type	   file	   type   application/pdf   toDataURL   split   ,   image_1920   height   width   document   presentation   mime_type	   data   datas   webpage   text/html   image/svg+xml   _svgToPng	   test   infographic   image/png!!      forcePublished   canvas   values   .this       +H!!       !!   channel_id!!!!	   name!!!!   url!!!!   description!!!!   duration!!!!   is_published!!    !!       !!   image_1920!!!!   slide_type!!!!   mime_type!!!!   datas!!    !!       !!   mime_type!!!!   image_1920!!    !!   ^image\/.*    !!       !!   slide_type!!!!   mime_type!!!!   datas!!    !!       !!   image_1920!!    ;r       5!!          _fileResetC  Q                                               @} } 8} }   #             W  QV      
=   : W   QV      
V      
C: W    QV  5   B0   Q*1    $   #upload   replaceWith   clone	   file	   name!!      control   .this         +H;       5!!       !   _getModalButtonsC                                   8            }  }          	       W  QZ    W   QV      
=   : W  QV  =   HB   V      
[       =   : ]   =   ]   C]    Q^  V  =	   H   V  5
   5    |   V      
[   V  5
   5         =   :       =   : ]   =   ]   V  5      
V  : ]    QV      
[      =   : ]   =   ]   V  5      
V  : ]    Qo  V  =   I_  V  5     V  5      V      
[      =   : ]   =   ]   V  5      
V  : ]    QV      
[      =   : ]   =   ]   V  5      
V  : ]    QS   V      
[      =   : ]   =   ]   V  5      
V  : ]    QV      
[      =   : ]   =   ]   V  5      
V  : ]    QV     N)(jB  j'    get   state   _select	   push   Cancel	   text!   o_w_slide_cancel   classes   close   _import-   modulesToInstallStatus   installing   failed   Retry   Install   btn-primary9   _onClickInstallModuleConfirm	   bind   click   Discard#   o_w_slide_go_back   _onClickGoBack   _upload   canUpload   canPublish   Save & Publisho   btn-primary o_w_slide_upload o_w_slide_upload_published%   _onClickFormSubmit	   Save!   o_w_slide_upload9   btn-primary o_w_slide_upload!!      btnList   state   .this         +H!!       !!	   text!!!!   classes!!!!   close!!    !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   classes!!!!   click!!    ;       5 !!       3   _getSelect2DropdownValuesC  s        U                                       X  X          	       W  Q[    W   QV  W  QZ       Q       
V     
=   :    
=   :     Q      V      0   QV  5       V     
=   :    
=   : W  QV  E   QV  5	   8   V   Z   >`    [   V  5
   ]   `   0   Q@   V  6   V   Z   V  5   `    0   QV  V  5   0   Q6   V   Z   V  5   `    0   QV  V  5   0   QV   :  ("(    _	   each   $   #tag_ids   select2	   data   tag_ids#   defaultCategoryID   #category_id   create	   text	   name   category_id   id   categoryID!!      result	   self   tagValues   categoryValue   .this        +H!!            !!        7   _getSelect2DropdownValues/<b G  ?       0       5!!       !!	   name!!    ;5!!       #   _resetModalButtonC  $                                               s  k    *             W   QV       
V      
:   Q-*    set_buttons!   _getModalButtons!!      .this         +H;       5!!          _select2WrapperC           7                                      H  H                    D   Q=       Q[   =   ]      ]   C]   B]   B]   T ]       ]      ]	      ]
      ]   W   QT    V   C0   QV      }   
 	   name	   100%   width   placeholder   allowClear   formatNoMatches   selection_data   fetch_rpc_fnc   formatSelection%   createSearchChoice   fill_data   query   multiple!!      tag   multi   fetchFNC   nameKey   values      +H!!          formatSelectionB   z    9          5 !!       %   createSearchChoiceB  :  :   .   R       	   term    B D  <              5 5!!          fill_dataB M 	 E 	     B          query 	   self 	   tags   B                 55!!          queryB       m  R          query 	   self    B i  a             5 5!!    
   !!   width!!!!   placeholder!!!!   allowClear!!!!   formatNoMatches!!!!   selection_data!!!!   fetch_rpc_fnc!!!!   formatSelection!!!!%   createSearchChoice!!!!   fill_data!!!!   query!!    ;5 !!          _setupC           >                                     X  P                 W   QV   [   [    =    ]      =   : ]   =   ]   ]   [   =   ]      =   : ]   =	   ]   ]
   [   =   ]      =   : ]   =   ]   ]   [   =   ]      =   : ]   =   ]   ]   0   Q"5	0.'    fa-file-pdf-o	   icon   Presentation   labelO   website.slide.upload.modal.presentation   template   presentation   fa-file-text   Web PageE   website.slide.upload.modal.webpage   webpage   fa-video-camera   VideoA   website.slide.upload.modal.video   video%   fa-question-circle	   Quiz3   website.slide.upload.quiz	   quiz   slide_type_data!!      .this         +H!!       !!	   icon!!!!   label!!!!   template!!    !!       !!	   icon!!!!   label!!!!   template!!    !!       !!	   icon!!!!   label!!!!   template!!    !!       !!	   icon!!!!   label!!!!   template!!    !!       !!   presentation!!!!   webpage!!!!   video!!!!	   quiz!!    ;       5!!       %   _showPreviewColumnC  M                                                {  {               W   QV       
=   :    
=    QV       
=   :    
=    Q     $#   .o_slide_tutorial   addClass   d-none!   .o_slide_preview   removeClass!!      .this         +H;       5 !!       %   _hidePreviewColumnC  M                                                     ^            W   QV       
=   :    
=    QV       
=   :    
=    Q a    $#   .o_slide_tutorial   removeClass   d-none!   .o_slide_preview   addClass!!      .this         +H;       5 !!          _svgToPngC           %                                                        W  QV  5       
=   : >7W   Q      
=   : W  QV  V   5   0   QV  V   5   0   QV     
=	   : 
   
V   >> QV     
=   :    
=   : ?7 (!    $el	   find   img#slide-image   document   createElement   canvas   width   height   getContext   2d   drawImage   toDataURL   image/png   split   ,!!      img   canvas   .this         +H;       5 !!          _onChangeTypeC          `                         $                       
       W  QV      
=   : W   QV  5      
=   :    
=    QV   =   H   =   W  Q   V   =	   H   =
   W  Qf   V   =   H   =   W  QF   V  5   V   75   W  QV  5      
=   :    
=    QV     
=   :    
  QV     
=   :    
      
V  [    V  ]   :  QV     
  QV   =   H(   V     
   =   :  Q#   V     
   =   :  Q "/2/3",E(.)    get   state   $modal	   find   .modal-dialog   removeClass   modal-lg   _selectC   website.slide.upload.modal.select   _uploadI   website.slide.upload.modal.uploading   _importC   website.slide.upload.modal.import   slide_type_data   template   addClass   $C   .o_w_slide_upload_modal_container   empty   append   render   widget#   _resetModalButton   set_title#   New Certification#   Upload a document!!      currentType	   tmpl   .this         +H!!       !!   widget!!    ;r       5 !!       -   _onChangeCanSubmitFormC m                                   
                 5            W   QV       
=   : .   V      
=   :    
=    Q)   V      
=   :    
=    Q :    get   can_submit_form   $#   .o_w_slide_upload   button   reset   loading!!      ev   .this       +H;2       5!!       )   _onChangeSlideUploadC      #                            C                                W  QV     QV      
  Q      T  5   : W   QV      
=   : W  Q      
=   :    QT  5   5   >7W  QV   ?   V     
=   :    
=	   =
    QV     
  Q       
V  5   :    QB   QV  5   V  5   0   QV  5   V  5   0   Q   D   QV  5   5   =   H C   V     
  =   :  QV     
  QV     
  QV  5   X X C   V     
  =   :  QV     
  QV     
  Q     
V  :    
    QV  5   =   HO      A,  R  W  QV     
=   B QV     
V   QV     0   QV   ~   V  5   W  QV     
>V     
=   : : D   QV  W  QV      
=   : =!   H   V  "   
=   V   Q 
#	:    0M    H   O&"$.&+    _alertRemove   $   currentTarget	   data   preventOnchange   #slide-image   target   files	   attr   srcW   /website_slides/static/src/img/document.png%   _hidePreviewColumn	   test	   type	   file	   name   application/pdf   _alertDisplaye   Invalid file type. Please select pdf or image file   _fileReset	   size[   File is too big. File size cannot exceed 25MB%   getDataURLFromFile	   then   FileReader   set   can_submit_form#   readAsArrayBuffer   onload   substr   lastIndexOf   .%   _formGetFieldValue   %   _formSetFieldValue!!      ev	   self   $input   preventOnchange   $preview	   file   isImage   loaded   ArrayReader   input   inputVal   .this      +H!!   ^image\/.*    !!        -   _onChangeSlideUpload/<b  =  =   ,           5!!       O   _onChangeSlideUpload/ArrayReader.onloadb  E  E               B  !      1         5       getPdfB  B  B   %               getFirstPageB  ? p ?               B   <  <             5555;5!!       #   _onChangeSlideUrlC       	   $                                      D  D                 W  QV     Q        T  5   :    
:  W   QV     
  QV  B0   QV     
=   B QV     
V   :    
     Q  "      $   target   val   _alertRemove   isValidUrl   set   can_submit_form!   _fetchUrlPreview	   then!!      ev	   self   url   .this      +H!!        '   _onChangeSlideUrl/<b  A  A   v  @       5 ;5!!       +   _onClickInstallModuleC         a                         9            c X [ X          
       W  Q        T  5   : W   QV      
=   :    QV  5      V     
=   =    QV  5   5   Y   V      
=	   : 
   
   5      
  =   : V  5   5   :  Qh   V  5   5   T   V      
=	   : 
   
   5      
  =   : V  5   5   :  Q   V        
[          
V  5      : : 0   QV     
=   =    QV      
=	   : 
   
   5      
  =   : V  5   5   :  Q  	 +<['<[(V<b    $   currentTarget	   data   moduleId-   modulesToInstallStatus   set   state   _import   installing=   #o_wslides_install_module_text	   text   _   str   sprintf1   Already installing "%s".	   name   failed/   Failed to install "%s".   extend	   find!   modulesToInstallI   Do you want to install the "%s" app?!!      ev	   $btn   moduleId   .this      +H!!            !!       e   _onClickInstallModule/this.modulesToInstallStatus<b                5 ;5!!       9   _onClickInstallModuleConfirmC           @                                      ~ 
 v 
                 W   QV      QV       
=   :    Q      
   5      
  =   : V   5   5   :  QV   5   C0	   QV   
   
  QV      
[    =   ]   =   ]   Z   Z   V   5   5   `    `    ]   :    
       Q )Q,"q B    $=   #o_wslides_install_module_text	   text   _   str   sprintf!   Installing "%s".-   modulesToInstallStatus	   name   installing#   _resetModalButton	   _rpc!   ir.module.module   model1   button_immediate_install   method   id	   args	   then!!   	   self   $el   .this        +H!!       !!   model!!!!   method!!!!	   args!!    !!       =   _onClickInstallModuleConfirm/<b   4  4   W         5 !!       =   _onClickInstallModuleConfirm/<b  =  5             5 ;5!!          _onClickGoBackC  ]                                               "                  W   QV       
=   =    QV   C0   QV   5   E   QV   5   5       V   @0   Q  )"    set   state   _select   isValidUrl-   modulesToInstallStatus   installing!!      .this         +H;"       5!!       %   _onClickFormSubmitC          :                                      0  0                 W  QV     Q        T  5   : W   QV     
:     V     
V      
=   : : W  QV     
=   :    QV     
=   =	    QV  
   
[    =   ]   V  ]   :    
   :  j#M6=    $   currentTarget   _formValidate-   _formValidateGetValues   hasClass5   o_w_slide_upload_published   get   state   set   _upload	   _rpc#   /slides/add_slide   route   params	   then!!      ev	   self	   $btn   values   oldType   .this      +H!!       !!   route!!!!   params!!    !!       )   _onClickFormSubmit/<b  ,  ,            5 ;5!!       #   _onFormSubmitDoneC ]                                              K  C                W   QT  5    9   V      
=   T  QV      
T  5     Q      T  5   0   Q %    error   set   state   _alertDisplay   window   url   location!!   	   data   oldType   .this       +H;2       5!!       +   _onClickSlideTypeIconC a                                   	            i  i   e	            W  QV      
T  5   : W   QV      
=   : W  QV     
=   V   QV     
  Q 	n
    $   currentTarget	   data   slideType   set   state)   _bindSelect2Dropdown!!      ev   $elem   slideType   .this       +H;       5 !!       !!   template!!!!   events!!!!	   init!!!!   start!!!!   _alertDisplay!!!!   _alertRemove!!!!)   _bindSelect2Dropdown!!!!!   _fetchUrlPreview!!!!%   _formSetFieldValue!!!!%   _formGetFieldValue!!!!   _formValidate!!!!-   _formValidateGetValues!!!!   _fileReset!!!!!   _getModalButtons!!!!3   _getSelect2DropdownValues!!!!#   _resetModalButton!!!!   _select2Wrapper!!!!   _setup!!!!%   _showPreviewColumn!!!!%   _hidePreviewColumn!!!!   _svgToPng!!!!   _onChangeType!!!!-   _onChangeCanSubmitForm!!!!)   _onChangeSlideUpload!!!!#   _onChangeSlideUrl!!!!+   _onClickInstallModule!!!!9   _onClickInstallModuleConfirm!!!!   _onClickGoBack!!!!%   _onClickFormSubmit!!!!#   _onFormSubmitDone!!!!+   _onClickSlideTypeIcon!!    !!       !!   click!!    !!           startC  y                                               W  O    
            	W   QW  QV  5       
=   : 7   V  5       
=    QV     
V  5     QV  5      
V  V   O  
"'"    $el	   attr   data-open-modal   removeAttr   _openDialog   _super   apply!!      arguments   .this         +H;#       5 !!          _openDialogC 9                                               V  V   ?             W  QT      
:  W   Q   AV  V   ,  R    
:  N! 	   data	   open!!      $element	   data   .this       +H;       5!!          _onUploadClickC 9                                              n  f                 W   QT      
  QV      
      T  5   :  Q  &    preventDefault   _openDialog   $   currentTarget!!      ev   .this       +H;       5 !!       !!   selector!!!!   xmlDependencies!!!!   events!!!!   start!!!!   _openDialog!!!!   _onUploadClick!!    !!       !!#   SlideUploadDialog!!!!'   websiteSlidesUpload!!    ;5 !!       C           Z       	                                           	       T  =    : W   QT  =   : W  QT  =   : W  QV  5      QV     
[   =   ]       ]      ]      ]	   :    QV   5
   V   5      
[   =   ]   Z   =   `    ]   [   =   ]   ]      ]      ]   : 0   Q[      ]   V   5
   5   ]   M!! "`P 0K+7[ $I #   web.public.widget   web.Dialog   web.core   _t   extend'   slides.category.add   template	   init   _formValidate%   _onClickFormSubmit   registry   Widget?   .o_wslides_js_slide_section_add   selectorg   /website_slides/static/src/xml/slide_management.xml   xmlDependencies%   _onAddSectionClick   click   events   _openDialog1   websiteSlidesCategoryAdd#   categoryAddDialog!!      require   publicWidget   Dialog	   core   _t#   CategoryAddDialog      +H!!        	   initC          >                                               
       W   Q       
T D   Q[    [      =   : ]   =   ]   Z   [      =   : ]   =   ]	   V   5
      
V   : ]   `    [      =   : ]   C]   `   ]   : U QV   T 5   0   QV      
T  T  Q & 	$R  !    _   defaults   Add a section   title   medium	   size	   Save	   text   btn-primary   classes%   _onClickFormSubmit	   bind   click   Discard   close   buttons   channelId   _super!!      parent   options   .this       +H!!            !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!   title!!!!	   size!!!!   buttons!!    ;       5!!          _formValidateC $                                                      @             T      
=    QT  >7   
:   H     addClass   was-validated   checkValidity!!      $form        +H;       5!!       %   _onClickFormSubmitC G                                              /  '                W  QV      
=   : W   QV     
V   :    V      
  Q #    $1   #slide_category_add_form   _formValidate   submit!!      ev   $form   .this       +H;"       5 !!       !!   template!!!!	   init!!!!   _formValidate!!!!%   _onClickFormSubmit!!    !!       !!   click!!    !!          _openDialogC 0                                                               W   Q   AV   [    T  ]    ,  R    
  Q 2    channelId	   open!!      channelId   .this       +H!!       !!   channelId!!    ;       5!!       %   _onAddSectionClickC H                                   	            B  B   e            W   QT      
  QV      
      T  5   :    
=   :  Q j9    preventDefault   _openDialog   $   currentTarget	   attr   channel_id!!      ev   .this       +H;       5 !!       !!   selector!!!!   xmlDependencies!!!!   events!!!!   _openDialog!!!!%   _onAddSectionClick!!    !!       !!#   categoryAddDialog!!!!1   websiteSlidesCategoryAdd!!    ;5 !!       C           [       	                              \  T           	       T  =    : W   QT  =   : W  QT  =   : W  QV  5      QV     
[   =   ]       ]      ]      ]	   :    QV   5
   V   5      
[   =   ]   Z   =   `    ]   [   =   ]   ]      ]      ]   : 0   Q[      ]   V   5
   5   ]   N!"  U &VL'7!d &K #   web.public.widget   web.Dialog   web.core   _t   extend)   slides.slide.archive   template	   init-   _checkForEmptySections   _onClickArchive   registry   Widget7   .o_wslides_js_slide_archive   selectorg   /website_slides/static/src/xml/slide_management.xml   xmlDependencies)   _onArchiveSlideClick   click   events   _openDialog3   websiteSlidesSlideArchive%   slideArchiveDialog!!      require   publicWidget   Dialog	   core   _t%   SlideArchiveDialog      +H!!       	   initC         D                                    A  9         
       W   Q       
T D   Q[    [      =   : ]   =   ]   Z   [      =   : ]   =   ]	   V   5
      
V   : ]   `    [      =   : ]   C]   `   ]   : U QV   T 5   0   QV   V   5      
=   : 0   QV      
T  T  Q ) 	!S  &"    _   defaults   Archive Slide   title   medium	   size   Archive	   text   btn-primary   classes   _onClickArchive	   bind   click   Cancel   close   buttons   slideTarget   $slideTarget	   data   slideId   _super!!      parent   options   .this       +H!!            !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!   title!!!!	   size!!!!   buttons!!    ;       5!!       -   _checkForEmptySectionsC  #                                                                             =   :    
     Q $     $=   .o_wslides_slide_list_category	   each!!              +H!!       1   _checkForEmptySections/<b          "       5;5!!          _onClickArchiveC  V                                                                   W   QV      QV       
[   =   ]   [    V   5   ]   ]   :    
    Q 
K 	   _rpc+   /slides/slide/archive   route   slideId   slide_id   params	   then!!   	   self   .this        +H!!       !!   slide_id!!    !!       !!   route!!!!   params!!    !!        #   _onClickArchive/<b 0  (              5 ;5!!       !!   template!!!!	   init!!!!-   _checkForEmptySections!!!!   _onClickArchive!!    !!       !!   click!!    !!          _openDialogC 0                                              
  
               W   Q   AV   [    T  ]    ,  R    
  Q 8    slideTarget	   open!!      $slideTarget   .this       +H!!       !!   slideTarget!!    ;       5 !!       )   _onArchiveSlideClickC B                                              (       y            W  QT      
  Q      T  5   : W   QV     
V    Q ~    preventDefault   $   currentTarget   _openDialog!!      ev   $slideTarget   .this       +H;       5!!       !!   selector!!!!   xmlDependencies!!!!   events!!!!   _openDialog!!!!)   _onArchiveSlideClick!!    !!       !!%   slideArchiveDialog!!!!3   websiteSlidesSlideArchive!!    ;5 !!       C            0                                      :  :                 T  =    : W   QV   5   V   5      
[   =   ]   Z   =   `    ]   [    =   ]	   ]
      ]      ]   : 0   Q[   V   5   5   ]   NT17!  [ #   web.public.widget   registry   Widget   extendK   .o_wslides_js_slide_toggle_is_preview   selectorg   /website_slides/static/src/xml/slide_management.xml   xmlDependencies)   _onPreviewSlideClick   click   events'   _toggleSlidePreviewC   websiteSlidesSlideToggleIsPreview!!      require   publicWidget       +H!!       !!   click!!    !!        '   _toggleSlidePreviewC W                                               m  m                 W   QV       
[   =   ]   [          
=   : ]   ]   :    
    Q (	e   	   _rpc?   /slides/slide/toggle_is_preview   route	   data   slideId   slide_id   params	   then!!      $slideTarget   .this      +H!!       !!   slide_id!!    !!       !!   route!!!!   params!!    !!       +   _toggleSlidePreview/<b  j ~ j     0       5;5!!       )   _onPreviewSlideClickC 9                                                                W   QT      
  QV      
      T  5   :  Q .    preventDefault'   _toggleSlidePreview   $   currentTarget!!      ev   .this       +H;       5 !!       !!   selector!!!!   xmlDependencies!!!!   events!!!!'   _toggleSlidePreview!!!!)   _onPreviewSlideClick!!    !!       !!C   websiteSlidesSlideToggleIsPreview!!    ;5 !!       C           \       	                                                  T  =    : W   QT  =   : W  QT  =    QV   5      QV  5      
[   [    =   ]   =   ]	   ]
      ]      ]      ]      ]   :    QV  5   V  5      
[   =   ]      ]   : 0   Q[      ]   V  5   5   ]   R%,17   p    I  E    web.core#   web.public.widget+   website_slides.slides   _t   Widget   extend   _onClickUpC   click .o_wslides_js_slide_like_up   _onClickDownG   click .o_wslides_js_slide_like_down   events   _popoverAlert   _onClick   registry   #wrapwrap   selector   start-   websiteSlidesSlideLike   slideLikeWidget!!      require	   core   publicWidget   _t   SlideLikeWidget      +H!!       !!C   click .o_wslides_js_slide_like_up!!!!G   click .o_wslides_js_slide_like_down!!    !!          _popoverAlertC Q       
                                        $                     T      
[   =   ]   =   ]   =   ]   C]       ]   :     
=	    Q 
q    popover   focus   trigger   bottom   placement	   body   container	   html   content	   show!!      $el   message       +H!!           contentB                 5!!       !!   trigger!!!!   placement!!!!   container!!!!	   html!!!!   content!!    ;5!!          _onClickC ^         #                                                         W   QV      QV       
[   =   ]   [    T  ]   T =   H]   ]   :    
    Q 8
]  	   _rpc%   /slides/slide/like   route   slide_id	   like   upvote   params	   then!!      slideId   voteType	   self   .this      +H!!       !!   slide_id!!!!   upvote!!    !!       !!   route!!!!   params!!    !!           _onClick/<b Q  I             5 ;5!!          _onClickUpC H                                               k  k               W  Q        T  5   :    
=   : W   QV     
V   =   :      $   currentTarget	   data   slide-id   _onClick	   like!!      ev   slideId   .this       +H;       5!!          _onClickDownC H                                                y    a            W  Q        T  5   :    
=   : W   QV     
V   =   :  j!    $   currentTarget	   data   slide-id   _onClick   dislike!!      ev   slideId   .this       +H;       5 !!       !!   events!!!!   _popoverAlert!!!!   _onClick!!!!   _onClickUp!!!!   _onClickDown!!    !!           startC  y                                               P  H                  	W   QW  QV     QZ   V  5       
V  V   O `       Q      =   :    
     Q      
   :  7#J    _super   apply   $1   .o_wslides_js_slide_like	   each   Promise   all!!   	   self	   defs   arguments   .this        +H!!           start/<b                 5;5!!       !!   selector!!!!   start!!    !!       !!   slideLikeWidget!!!!-   websiteSlidesSlideLike!!    ;5!!       C            J                         	            , + $ +                 T  =    : W   QT  =   : W  QV  5      QV   5   V   5      
[   =   ]   Z   =   `    ]	       ]
      ]      ]      ]      ]      ]   : 0   QV   5   5   S!P"<   ^ s     ; #   web.public.widget   web.core   _t   registry   Widget   extend-   .o_wslides_slides_list   selectorq   /website_slides/static/src/xml/website_slides_upload.xml   xmlDependencies   start   _bindSortable-   _checkForEmptySections   _getSlides   _reorderSlides   _updateHref;   websiteSlidesCourseSlidesList!!      require   publicWidget	   core   _t      +H!!           startC  i                                   
          " j  b    v            	W   QW  QV  5       
V  V   O QV  V  5      
=   : 0   QV     
  QV     
  Q y"    _super   apply   $el	   data   channelId   _updateHref   _bindSortable!!      arguments   .this         +H;      5!!          _bindSortableC           =                                      @  @               W   QV       
=   :    
[    =   ]   V   5      
V   : ]   =   ]	   =
   ]    QV       
=   :    
[   =   ]   =   ]   V   5      
V   : ]   =   ]	   =
   ]    Q :%'  ;%5J.     $K   ul.o_wslides_js_slides_list_container   sortable7   .o_wslides_slides_list_drag   handle   _reorderSlides	   bind	   stop=   .o_wslides_slide_list_category   itemsu   o_wslides_slides_list_slide_hilight position-relative mb-1   placeholderM   .o_wslides_js_slides_list_container ul   connectWith   .o_wslides_slides_list_slide:not(.o_wslides_js_slides_list_empty)!!      .this         +H!!       !!   handle!!!!	   stop!!!!   items!!!!   placeholder!!    !!       !!   handle!!!!   connectWith!!!!	   stop!!!!   items!!!!   placeholder!!    ;       5!!       -   _checkForEmptySectionsC  *                                               `  X                  W   QV       
=   :    
     Q o) &    $=   .o_wslides_slide_list_category	   each!!      .this         +H!!        1   _checkForEmptySections/<b          2       5 ;5!!          _getSlidesC  ;                                                W  W                 W   QZ       QV       
=   :    
     Q    "F    $/   .o_wslides_js_list_item	   each!!      categories   .this        +H!!          _getSlides/<b   B  B            5 ;5!!          _reorderSlidesC  g      	   "                                      o  g                  W   QV      Q       
[   =   ]   [    =   ]         
:  ]   ]   :    
    Q 
 `4 	   _rpc/   /web/dataset/resequence   route   slide.slide   model   _getSlides   ids   params	   then!!   	   self   .this        +H!!       !!   model!!!!   ids!!    !!       !!   route!!!!   params!!    !!       !   _reorderSlides/<b                5 ;5!!          _updateHrefC  *                                               *  "                  W   QV       
=   :    
     Q 9/      $I   .o_wslides_js_slides_list_slide_link	   each!!      .this         +H!!          _updateHref/<b  i  a    u         5;5!!       !!   selector!!!!   xmlDependencies!!!!   start!!!!   _bindSortable!!!!-   _checkForEmptySections!!!!   _getSlides!!!!   _reorderSlides!!!!   _updateHref!!    ;5!!       C        J         :                                  	         	       T  =    : W   QT  =   : W  QT  =   :    QV  5      QV  5      QT  =   :    QT  =   : 5      QT  =   : W  QT  =	    Q       QV   5
      
[   =   ]   =   ]      ]      ]      ]      ]      ]   :    QV   5
      
[   [   =   ]   ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]    :  	  QV     
[   =!   ]   [   ="   ]#   =$   ]%   =&   ]'   ]      ]      ]"      ]$      ]&   :  
  QV   5
      
[    [   =(   ])   ]      ]      ]*      ](      ]+   :    QV   5
      
[4   [!   =,   ]-   ]   ["   =.   ]/   =0   ]1   =2   ]3   =4   ]5   ]6   #   ]   $   ]   %   ]7   &   ]8   '   ]9   (   ]:   )   ];   *   ]<   +   ]=   ,   ]>   -   ]+   .   ].   /   ]2   0   ]0   1   ]4   2   ],   3   ]?   :    QV   5@   V   5
      
[9   =A   ]B   Z   =C   `    =D   `   ]E   5   ]   6   ]F   7   ]G   8   ]H   : 0I   Q   q!(1r(+0X   O  PY$8    w              > 	z%@;1      (2fKI '?')&%           h 7    s6O    2P?;  8m C #   web.public.widget   web.core   web.config	   qweb   _t   web.session'   website_slides.quiz	   Quiz   web.DialogC   website_slides.course.join.widget   Widget   extend?   website.slides.fullscreen.video   templateE   https://www.youtube.com/iframe_api   youtubeUrl	   init   start   _loadYoutubeAPI'   _setupYoutubePlayer)   _onPlayerStateChange   _onClickTabK   click .o_wslides_fs_sidebar_list_item   events   destroy   goNext   goPrevious#   setSlideCompleted#   updateProgressbar!   _getCurrentIndex!   _onClickMiniQuiz+   _onChangeCurrentSlide   _onKeyDown3   website.slide.share.modal)   _onShareByEmailClickM   click .o_wslides_js_share_email button)   _onSlidesSocialShareC   click a.o_wslides_js_social_share!   _onShareLinkCopy3   click .o_clipboard_button%   _onClickShareSlide3   click .o_wslides_fs_share   _openDialog   _onChangeSlide+   _onClickToggleSidebarE   click .o_wslides_fs_toggle_sidebar+   _onChangeSlideRequest   change_slide%   _onSlideToComplete#   slide_to_complete#   _onSlideCompleted   slide_completed!   _onSlideGoToNext   slide_go_next   custom_events   attachTo#   _fetchHtmlContent%   _fetchSlideContent!   _markAsCompleted)   _preprocessSlideData   _pushUrlState   _renderSlide   _setCompleted   _toggleSidebar   registry%   .o_wslides_fs_main   selectory   /website_slides/static/src/xml/website_slides_fullscreen.xmlo   /website_slides/static/src/xml/website_slides_share.xml   xmlDependencies'   _extractChannelData%   _getCurrentSlideID   _getSlides;   websiteSlidesFullscreenPlayer!!      require   publicWidget	   core   config	   QWeb   _t   session	   Quiz   Dialog   findSlide   VideoPlayer   Sidebar   ShareDialog   ShareButton   Fullscreen      +H!!           findSlideB S  K  	           5!!       	   initC 6                                              C  ;  	              	W   QW  QV  T 0    QV  5      
V  V   O  "    slide   _super   apply!!      parent   slide   arguments   .this       +H;       5 !!          startC  n                                  
              +  + 	         	       	W   QW  QV     Q       
Z   V  5      
V  V   O `    V     
:  `   :    
    :  
"H.    Promise   all   _super   apply   _loadYoutubeAPI	   then!!   	   self   arguments   .this        +H!!           start/<b  	 (  ( 	  e         5;5!!          _loadYoutubeAPIC  -                                               D z < z 	                W  QV     Q    A    ,  R W   QV         Promise!!   	   self	   prom   .this        +H!!        +   _loadYoutubeAPI/prom<b r k j k 	    @          resolve   B  J X B X 	           5 5;5!!       '   _setupYoutubePlayerC           $                                      n  n 	       
       W   QV       5   A=   V   5   5   [   =   ]   [    ?]      5	   5
   ]
   ]   [   V   5      
V   : ]   ]   ,  R 0   Q :!a      YT   Player   youtube-player   slide   id/   https://www.youtube.com	   host   autoplay   window   location   origin   playerVars)   _onPlayerStateChange	   bind   onStateChange   events   player!!      .this         +H!!       !!   autoplay!!!!   origin!!    !!       !!   onStateChange!!    !!       !!	   host!!!!   playerVars!!!!   events!!    ;       5!!       )   _onPlayerStateChangeC H        W                         %                  	                W   QV      Q   5    5      T  5      5   5   I   T  5   5          5      	   	      5    Q   T  5      
:  0
   Q   T  5      
:  0   Q             X: 0   Qf      5      	   	      5    QV      0   QV   5    5      V      
=    Q 
P 
&P 	 #    slide   completed	   data   YT   PlayerState   ENDED   target   getCurrentTime   tid   clearInterval!   currentVideoTime   getDuration   totalVideoTime   setInterval   undefined   player   hasNext   trigger_up   slide_go_next!!      event	   self   .this      +H!!        =   _onPlayerStateChange/self.tid<b           0       5 ;5!!       !!   template!!!!   youtubeUrl!!!!	   init!!!!   start!!!!   _loadYoutubeAPI!!!!'   _setupYoutubePlayer!!!!)   _onPlayerStateChange!!    !!       !!K   click .o_wslides_fs_sidebar_list_item!!    !!       	   initC V                                               5  5                	W  QW  QV  5       
V  V  O W   QV  T 0   QV     
=   T  QV     "$    _super   apply   slideEntries   set   slideEntry!!      parent   slideList   defaultSlide   result   arguments   .this       +H;       5 !!          startC  c                                               D  <                  	W   QW  QV     QV      
=   V  V  5    QV  5      
V  V   O    
    :  |
="C    on#   change:slideEntry+   _onChangeCurrentSlide   _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b                 5;5!!          destroyC  b                                                v  v   A            	W   QW  Q           :    
=   V  5      
V  :  QV  5      
V  V   O  D-"    $   document   unbind   keydown   _onKeyDown	   bind   _super   apply!!      arguments   .this         +H;       5 !!          goNextC  Z                                                 ~                W  QV      
:  W   QV   V  5      ?*   V     
=   V  5   V   ?7 Q ,: !   _getCurrentIndex   slideEntries   length   set   slideEntry!!      currentIndex   .this         +H;"       5 !!          goPreviousC  K                                               -  %    ^            W  QV      
:  W   QV   ?*   V     
=   V  5   V   ?7 Q e: !   _getCurrentIndex   set   slideEntry   slideEntries!!      currentIndex   .this         +H;"       5 !!       #   setSlideCompletedC L                                               o  o               W  QV      
=   T  =   : W   QV      
=   :    
=    Q 7$<    $?   .fa-circle-thin[data-slide-id="   "]   removeClass   fa-circle-thin   addClass_   fa-check text-success o_wslides_slide_completed!!      slideId   $elem   .this       +H;       5 !!       #   updateProgressbarC o      	                                         <  <               W  Q       
dT  : W   QV     
=   :    
=   V   =    QV     
=   :    
V    Q  ) 	   Math   min   $   .progress-bar   css   width   %=   .o_wslides_progress_percentage	   text!!   #   channelCompletion   completion   .this       +H;       5!!       !   _getCurrentIndexC  G                                               V 	 N 	                 W  QV      
=   :    Q      
V  5       : W   QV    i    get   slideEntry   _   findIndex   slideEntries!!      slide   currentIndex   .this        +H!!        =   _getCurrentIndex/currentIndex<b                5 ;5!!       !   _onClickMiniQuizC          ,                                    #      T            W  Q              T  5   :    
:  5   : W   QV     
=   [    V   ]   C]    QV  	   
=
   V     
=   :  Q ].97    parseInt   $   currentTarget	   data   slide_id   set   slideEntry   slideID   isMiniQuiz   trigger_up   change_slide   get!!      ev   slideID   .this       +H!!       !!   slideID!!!!   isMiniQuiz!!    ;       5!!          _onClickTabC          9                                               
       W  QT      
  Q      T  5   : W   QV      
=   : =   H   V      
=   : W  Q      V      
=   : : W  Q   V  5	   [    V  ]   V  ]   : W  QV  
   
=   V   Q &#8    stopPropagation   $   currentTarget	   data   canAccess	   True   isQuiz   parseInt   id   slideEntries   set   slideEntry!!      ev   $elem   isQuiz   slideID   slide   .this       +H!!       !!   id!!!!   isQuiz!!    ;"       5 !!       +   _onChangeCurrentSlideC           #                                       +  +   =     	       W  QV      
=   : W   QV     
=   :    
=    Q=   V   5   =   W  QV     
V  : 	   
=    QV  
   
=   V      
=   :  Q D1T7    get   slideEntry   $M   .o_wslides_fs_sidebar_list_item.active   removeClass   activeQ   .o_wslides_fs_sidebar_list_item[data-id=   id)   ][data-is-quiz!="1"]   addClass   trigger_up   change_slide!!      slide   selector   .this         +H;       5!!          _onKeyDownC Z                                              ?  7    p	            W   QT  5    x=   Hy   =   Hy    z/   V      
  Q   V      
  Q    	upJxx ``    key   ArrowLeft   ArrowRight   goPrevious   goNext!!      ev   .this       +H;"       5!!       !!   events!!!!	   init!!!!   start!!!!   destroy!!!!   goNext!!!!   goPrevious!!!!#   setSlideCompleted!!!!#   updateProgressbar!!!!!   _getCurrentIndex!!!!!   _onClickMiniQuiz!!!!   _onClickTab!!!!+   _onChangeCurrentSlide!!!!   _onKeyDown!!    !!       !!M   click .o_wslides_js_share_email button!!!!C   click a.o_wslides_js_social_share!!!!3   click .o_clipboard_button!!    !!       	   initC          '                                     i  i   
            W   Q       
T D   Q[    [   =   ]   Z   [   =   ]   C]   `    ]   =   ]	   : U QV   
   
T  T  QV   T 0   QV      0   Q 
 	\    _   defaults   Share   title   Cancel	   text   close   buttons   medium	   size   _super   slide   session!!      parent   options   slide   .this       +H!!            !!       !!	   text!!!!   close!!    !!       !!   title!!!!   buttons!!!!	   size!!    ;       5 !!       )   _onShareByEmailClickC  b        W                         %                          	       W  QV      
=   :    Q      
=   : W   Q      
=   :    
=   : W  QV      
:  E   QV   >7   
:        	   
=
   :    
=   : 	   
=    QV     
[   =   ]   [    V  ]   V      
:  ]   C]   ]   :    
    QH         
=
   :    
=   :    
=    QV      
  Q ( &'q  &    $3   .o_wslides_js_share_email	   find   input   button	   data   slide-id   val   checkValidity   removeClass   o_has_error;   .form-control, .custom-select   is-invalid	   _rpc=   /slides/slide/send_share_email   route   slide_id   email   fullscreen   params	   then   addClass   focus!!   	   form   input   slideID   .this        +H!!       !!   slide_id!!!!   email!!!!   fullscreen!!    !!       !!   route!!!!   params!!    !!        -   _onShareByEmailClick/<b        >         5 ;5!!       )   _onSlidesSocialShareC V       	                             
                  J            T      
  Q      T  5   :    
=   : W   Q      
V   =   =    Q O	<    preventDefault   $   currentTarget	   attr	   href   window	   open   Share Dialog)   width=626,height=436!!      ev   popUpURL       +H;       5!!       !   _onShareLinkCopyC          ;                                                         W   QT      
  QV      
=   :    Q      
[    =   ]   =   ]   =   ]	    QV      Q
   A=   [      ]   V   5   ]   ,  R    Q      
=       Q      
=       Q R1A|  7    preventDefault   $'   .o_clipboard_button   tooltip   Copied !   title   manual   trigger   bottom   placement   ClipboardJS   target   el   container   on   success   error!!      ev   $clipboardBtn	   self   clipboard   .this      +H!!       !!   title!!!!   trigger!!!!   placement!!    !!          targetB                 5 !!       !!   target!!!!   container!!    !!        %   _onShareLinkCopy/<b   s  s   6            B  J l B l   {         5 5!!       %   _onShareLinkCopy/<b                5 ;5!!       !!   template!!!!   events!!!!	   init!!!!)   _onShareByEmailClick!!!!)   _onSlidesSocialShare!!!!!   _onShareLinkCopy!!    !!       !!3   click .o_wslides_fs_share!!    !!        	   initC ?                                              $ |  |   U            	W  QW  QV  5       
V  V  O W   QV  T 0   QV    d"    _super   apply   slide!!      el   slide   result   arguments   .this       +H;       5!!          _openDialogC  1                                                                W   Q 
  AV   [    V   5    ,  R    
:   $    slide	   open!!      .this         +H!!            ;       5!!       %   _onClickShareSlideC $                                                                W   QT      
  QV      
  Q     preventDefault   _openDialog!!      ev   .this       +H;       5 !!          _onChangeSlideC          	                                      ( P   P   Y            W   QV   T  0    Q h    slide!!      currentSlide   .this       +H;       5!!       !!   events!!!!	   init!!!!   _openDialog!!!!%   _onClickShareSlide!!!!   _onChangeSlide!!    !!       !!E   click .o_wslides_fs_toggle_sidebar!!    !!       !!   change_slide!!!!#   slide_to_complete!!!!   slide_completed!!!!   slide_go_next!!    !!       	   initC 7        F                                    | p t p               	W  QW  QV  5       
V  V  O W   QV  T 0   QV  V     
T : 0   QV  T 0   Q   5      
:  W  QT C      V  5   [    T ]	   V  5
   =   H]   : W  Q   V  5   >7W  QV     
=   V   QV   	  AV  V  5   V  ,  R 0   QV     AV  V  ,  R 0   QV    "#"

M$    _super   apply   initialSlideID)   _preprocessSlideData   slides   channel   $   deparam   querystring   id	   quiz   1   isQuiz   set   slide   sidebar   shareButton!!	      parent   slides   defaultSlideId   channelData   result   slide   urlParams   arguments   .this       +H!!       !!   id!!!!   isQuiz!!    ;3       5!!          startC  r                                  
              1 w 1                 	W   QW  QV     QV      
=   V  V  5    QV     
  QV  5      
V  V   O    
    :   
1"0    on   change:slide   _onChangeSlide   _toggleSidebar   _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b   .  .   "         5;5!!          attachToC        
   /                                      C  ;    X     
       	W  QW  QZ   V  5       
V  V  O `    W   QV      
V  5      
V     
=   : :  QV      
V  5      
V     
=   : :  Q   5	      
   V   O  _# B$K    _super   apply	   push   sidebar   attachTo   $+   .o_wslides_fs_sidebar   shareButton5   .o_wslides_slide_fs_header	   when!!   	   defs   arguments   .this         +H;       5 !!       #   _fetchHtmlContentC  o      	   "                                      8 % 0 %                 W  QV  W   QV      
=   :    QV      
[   =   ]   [       5   ]   ]   :    
   :  T'XY    get   slide	   _rpc=   /slides/slide/get_html_content   route   id   slide_id   params	   then!!   	   self   currentSlide   .this        +H!!       !!   slide_id!!    !!       !!   route!!!!   params!!    !!       '   _fetchHtmlContent/<b  "  "             5 ;5!!       %   _fetchSlideContentC  f         #                          	            A  9    V            W  QV      
=   : W   QV   5   =   HE   QV   5       V     
:        
:   ]    get   slide	   type   webpage   isQuiz#   _fetchHtmlContent   Promise   resolve!!      slide   .this         +H;"       5 !!       !   _markAsCompletedC j                                  
                 4             W  Q   V  5    [    T  ]   : W   QV   C0   QV  5      
V   5    QV  5      
T  QM$)+    slides   id   completed   sidebar#   setSlideCompleted#   updateProgressbar!!      slideId   completion   slide   .this       +H!!       !!   id!!    ;       5!!       )   _preprocessSlideDataC                                                                            
     Q          forEach!!      slidesDataList       +H!!       -   _preprocessSlideData/<b       /  P       5 ;5!!          _pushUrlStateC          ;                                      ?  ?               W  Q    5   5      
=   : W   QV   V      ?V     
=   : 5   9QV   	   
=   : W  QV  
   
=   :    
=   V   Q[    ?]   W  QV     
=   : 5      V  ?0   Q   5      
=   V  
      
V  : : W  Q      
@=   V   Q 	$((+)    window   location   pathname   split   /   length   get   slide	   slug	   join   $;   .o_wslides_fs_exit_fullscreen	   attr	   href   fullscreen   isQuiz	   quiz   _   str   sprintf   %s?%s   param   history   pushState   !!      urlParts   url   params   fullscreenUrl   .this         +H!!       !!   fullscreen!!    ;"       5!!          _renderSlideC  '     !                            /            U  M    }             W  QV      
=   : W   QV     
=   : W  QV     
  QV   5   =   HD   QV   5   P   V     
=	    Q   AV  V   V  5
   ,  R W  QV     
V  :       
Z   =   `    =   `   =   `   V   5   : <   V     
      
=   [    V  ]   :  Q   V   5   =   HB   V     AV  V   ,  R 0   QV  5      
V  :    V   5   =   H         =   :    
=   : W  Q      V   5   :    
V   QV     
V   QV     
=   [   V  ]    Q       
:    	 &"" B?T  K)    get   slide   $+   .o_wslides_fs_content   empty	   type	   quiz   isQuiz   addClass   bg-white   channel   appendTo   _   contains   document   presentation   infographic	   html   renderC   website.slides.fullscreen.content   widget   video   videoPlayer   webpage   <div>}   o_wslide_fs_webpage_content bg-white block w-100 overflow-auto   htmlContent   append   trigger_up+   widgets_start_request   $target   Promise   resolve!!      slide   $content   QuizWidget   $wpContainer   .this         +H!!       !!   widget!!    !!       !!   $target!!    ;R       5 !!          _setCompletedC          6                                                         W  QV     Q  V  5    [       ]   : W   QV   5    K   V     
[   =   ]   [   V   5   ]   ]   :    
   : 	   
   
:  ?$$M    slides   id   completed	   _rpc7   /slides/slide/set_completed   route   slide_id   params	   then   Promise   resolve!!      slideId	   self   slide   .this      +H!!       !!   id!!    !!       !!   slide_id!!    !!       !!   route!!!!   params!!    !!           _setCompleted/<b V  N              5;5!!          _onChangeSlideC  g                                                M  M                 W   QV      QV       
=   :    Q      
  QV      
:     
    :    
   : 9     get   slide   _pushUrlState%   _fetchSlideContent	   then!!   	   self   slide   .this        +H!!        !   _onChangeSlide/<b  T 3 L 3              5!!       !   _onChangeSlide/<b  B J : J   +   @         D"                  5 5;5!!       +   _onChangeSlideRequestC                                              l # d #   U            W  QT  5    W   Q   V  5   [    V   5   ]   V   5   D   QB]   : W  QV     
=   V   QV  5      
V   Q ^ I* 	   data   slides   id   isQuiz   set   slide   shareButton   _onChangeSlide!!      ev   slideData   newSlide   .this       +H!!       !!   id!!!!   isQuiz!!    ;       5!!       #   _onSlideCompletedC G                                              >  6    '            W  QT  5    5   W   QT  5    5   W  QV     
V   5   V   Q 0+ 	   data   slide   completion!   _markAsCompleted   id!!      ev   slide   completion   .this       +H;       5 !!       %   _onSlideToCompleteC >                                                                W  Q   5     +   T  5   5   W   QV     
V    Q     is_website_user	   data   id   _setCompleted!!      ev   slideId   .this       +H;"       5 !!       !   _onSlideGoToNextC          	                                     6 R . R               W   QV   5       
  Q $    sidebar   goNext!!      ev   .this       +H;       5 !!       +   _onClickToggleSidebarC $                                              q  i    Z            W   QT      
  QV      
  Q _    preventDefault   _toggleSidebar!!      ev   .this       +H;       5 !!          _toggleSidebarC  M                                                E  E               W   QV       
=   :    
=    QV       
=   :    
=    Q  +'    $+   .o_wslides_fs_sidebar   toggleClass7   o_wslides_fs_sidebar_hidden9   .o_wslides_fs_toggle_sidebar   active!!      .this         +H;       5!!       !!   events!!!!   custom_events!!!!	   init!!!!   start!!!!   attachTo!!!!#   _fetchHtmlContent!!!!%   _fetchSlideContent!!!!!   _markAsCompleted!!!!)   _preprocessSlideData!!!!   _pushUrlState!!!!   _renderSlide!!!!   _setCompleted!!!!   _onChangeSlide!!!!+   _onChangeSlideRequest!!!!#   _onSlideCompleted!!!!%   _onSlideToComplete!!!!!   _onSlideGoToNext!!!!+   _onClickToggleSidebar!!!!   _toggleSidebar!!    !!          startC        
   ,                                      P  = H  =   9            	W  QW  QZ   V  5       
V  V  O `    W   Q   AV  V     
:  V     
:  V     
:  ,  R W  QV      
V     
=   :  Q   	   
V   :  @'\6    _super   apply   _getSlides%   _getCurrentSlideID'   _extractChannelData	   push   attachTo%   .o_wslides_fs_main   Promise   all!!      proms   fullscreen   arguments   .this         +H;       5!!       '   _extractChannelDataC                                                 Z u R u   C            W   QV   5       
:   F    $el	   data!!      .this         +H;       5 !!       %   _getCurrentSlideIDC  7                                                     z            W   Q        V      
=   :    
=   : :  }1F    parseInt   $M   .o_wslides_fs_sidebar_list_item.active	   data   id!!      .this         +H;       5!!          _getSlidesC  D                                                                   W  QV      
=   : W   QZ       QV      
     Q    FR    $o   .o_wslides_fs_sidebar_list_item[data-can-access="True"]	   each!!      $slides   slideList   .this        +H!!          _getSlides/<b  m  e    V         5 ;5!!       !!   selector!!!!   xmlDependencies!!!!   start!!!!'   _extractChannelData!!!!%   _getCurrentSlideID!!!!   _getSlides!!    ;5 !!       C           e       
                              w  o                  T  =    : W   QT  =   : W  QV   5      QV  5      
[   =   ]   Z   =   `    ]   [    =	   ]
   ]      ]      ]	      ]      ]      ]   :    QV  5   V  5      
[   =   ]      ]   : 0   Q[	      ]   V  5   5   ]   S!-88 Y T       J* "G    web.core#   web.public.widget   _t   Widget   extend#   slide.course.join   templatei   /website_slides/static/src/xml/slide_course_join.xml   xmlDependencies   _onClickJoinI   click .o_wslides_js_course_join_link   events	   init!   _redirectToLogin   _popoverAlert   joinChannel   registry=   .o_wslides_js_course_join_link   selector   start/   websiteSlidesCourseJoin!   courseJoinWidget!!      require	   core   publicWidget   _t!   CourseJoinWidget      +H!!       !!I   click .o_wslides_js_course_join_link!!    !!       	   initC          "                                   "                     	W   QW  QV  5       
V  V   O QV  T 5   0   QV  T 5   0   QV  T 5   0   QV  T 5   D   Q   =   : 0   QV  T 5   D   Q   	   
:  0   QV  T 5
   D   Q    0
   Q "#&$J    _super   apply   channel   isMember   publicUser   joinMessage   Join Course   beforeJoin   Promise   resolve   afterJoin!!      parent   options   arguments   .this       +H!!        )   init/this.afterJoin<b                 5 ;5!!          _onClickJoinC          %                                     - ) % )               W   QT      
  QV   5   5   =   I   V   5   ;   V      
:     
V   5      
V   :  QO   V   5	    E   QV   5   5   =
   H#   V      
V   5   5    Q *-7+    preventDefault   channel   channelEnroll   invite   publicUser   beforeJoin	   then!   _redirectToLogin	   bind   isMember   public   joinChannel   channelId!!      ev   .this       +H;B       5!!       !   _redirectToLoginC           '                                      C d ; d        	       W  QV  5    5   =   HV      5   5   W   Q   5   5      
=	   : I   V   =
   W   Q    =   V  5    5   W   Q      5      
=         V   : : 0   Q *39@    channel   channelEnroll   public   window   location   pathname   document	   href   indexOf   fullscreen   ?fullscreen=1   /slides/   channelId   _   str   sprintf-   /web/login?redirect=%s%   encodeURIComponent!!      url   .this         +H;B       5 !!          _popoverAlertC Q       
                                        { 	 s 	                  T      
[   =   ]   =   ]   =   ]   C]       ]   :     
=	    Qx
q    popover   focus   trigger   bottom   placement	   body   container	   html   content	   show!!      $el   message       +H!!          contentB                  5!!       !!   trigger!!!!   placement!!!!   container!!!!	   html!!!!   content!!    ;5!!          joinChannelC P                                                	  	                  W   QV      QV       
[   =   ]   [    T  ]   ]   :    
    Q 
J   	   _rpc)   /slides/channel/join   route   channel_id   params	   then!!      channelId	   self   .this      +H!!       !!   channel_id!!    !!       !!   route!!!!   params!!    !!          joinChannel/<b 	  	      p       5;5!!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   _onClickJoin!!!!!   _redirectToLogin!!!!   _popoverAlert!!!!   joinChannel!!    !!           startC           )                                      O  G                  	W  QW  QV     QZ   V  5       
V  V  O `       Q   5      
:  W   Q[   [    V   5   ]   V   5   ]   ]      Q      =   : 	   
    Q
      
   :  x'		!T    _super   apply   $el	   data   channelEnroll   channelId   channel   $3   .o_wslides_js_course_join	   each   Promise   all!!   	   self   proms	   data   options   arguments   .this        +H!!       !!   channelEnroll!!!!   channelId!!    !!       !!   channel!!    !!           start/<b  % j  j   G         5;5!!       !!   selector!!!!   start!!    !!       !!!   courseJoinWidget!!!!/   websiteSlidesCourseJoin!!    ;5!!       C  
         U                                      K  K          	       T  =    : W   QT  =   : W  QT  =   : W  QV   5      QV     
[   =   ]       ]      ]   :    QV  5	   V  5
      
[   =   ]   Z   =   `    ]   [   =   ]   ]      ]      ]   : 0   Q[      ]   V  5	   5   ]   N!!% YsF(8 m $?    web.core   web.Dialog#   web.public.widget   _t   extend3   slide.course.join.request   template	   init   _onSendRequest   registry   Widget9   .o_wslides_js_channel_enroll   selectori   /website_slides/static/src/xml/slide_course_join.xml   xmlDependencies'   _onSendRequestClick   click   events   _openDialog'   websiteSlidesEnroll#   slideEnrollDialog!!      require	   core   Dialog   publicWidget   _t#   SlideEnrollDialog      +H!!        	   initC          A                                               
       W   Q       
T D   Q[    [      =   : ]   =   ]   Z   [      =   : ]   =   ]	   V   5
      
V   : ]   `    [      =   : ]   C]   `   ]   : U QV   T 5   0   QV   T 5   0   QV      
T  T  Q :*	
 Q  !!    _   defaults   Request Access.   title   medium	   size   Yes	   text   btn-primary   classes   _onSendRequest	   bind   click   Cancel   close   buttons   $element   channelId   _super!!      parent   options   modalOptions   .this       +H!!            !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!   title!!!!	   size!!!!   buttons!!    ;       5!!          _onSendRequestC  a                                                                      W   QV      QV       
[    =   ]   =   ]   Z      5   `    ]   :    
    Q 
X 	   _rpc   slide.channel   model+   action_request_access   method   channelId	   args	   then!!   	   self   .this        +H!!       !!   model!!!!   method!!!!	   args!!    !!        !   _onSendRequest/<b e  ]      @       5;5!!       !!   template!!!!	   init!!!!   _onSendRequest!!    !!       !!   click!!    !!           _openDialogC >                                              n  n               W   Q   AV   [    T  ]    V   5   ]   ,  R    
  Q D    channelId   $el   $element	   open!!      channelId   .this       +H!!       !!   channelId!!!!   $element!!    ;       5!!       '   _onSendRequestClickC H                                   	                 |            W   QT      
  QV      
      T  5   :    
=   :  Q 8    preventDefault   _openDialog   $   currentTarget	   data   channelId!!      ev   .this       +H;       5 !!       !!   selector!!!!   xmlDependencies!!!!   events!!!!   _openDialog!!!!'   _onSendRequestClick!!    !!       !!#   slideEnrollDialog!!!!'   websiteSlidesEnroll!!    ;5 !!       C        S         .                               M  M "         
       T  =    : W   QT  =   : W  QT  =   : W  QT  =   :    QT  =   : 5      QT  =   :    QT  =   :    QT  =   : 5	      QV  5
      QV  5      QV   5      
["   =   ]   Z   =   `    =   `   ]   [    =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =    ]!   ="   ]#   ]$   [   =%   ]&   ='   ](   =)   ]*   =+   ],   ]-      ].      ]/      ]0      ]1      ]2      ]3      ]4   	   ]5   
   ]6      ]7      ]8      ]9      ]:      ];      ]<      ]=      ]      ]>      ]?      ]      ]      ]      ]@      ]A      ]      ]      ]       ]"      ]%      ]'       ])   !   ]+   :  	  QV     
[%   =B   ]   V  5C   5   D   
Z   =E   `    : ]   #   ].   $   ]F   :  
  QV   5G   V   5      
[,   =H   ]I   [&   =J   ]K   =L   ]M   ]-   '   ]0   (   ]L   )   ]J   *   ]N   +   ]O   : 0P   Q[-    	  ]Q    
  ]R   V   5G   5P   ]P   E!B1*>!08071084@DJ33$   )I              @    ?  h r  U   qw   r         " ! ) "'9b A P"!% c u~  < r
&S #   web.public.widget   web.Dialog   web.core   web.sessionC   website_slides.course.join.widget!   courseJoinWidgetC   website_slides.quiz.question.form5   website_slides.quiz.finish9   website_slides.course.enroll#   slideEnrollDialog	   qweb   _t   Widget   extend!   slide.slide.quiz   template[   /website_slides/static/src/xml/slide_quiz.xmli   /website_slides/static/src/xml/slide_course_join.xml   xmlDependencies   _onAnswerClick9   click .o_wslides_quiz_answer   _submitQuizM   click .o_wslides_js_lesson_quiz_submit   _onClickNext?   click .o_wslides_quiz_modal_btn=   click .o_wslides_quiz_continue   _onClickResetK   click .o_wslides_js_lesson_quiz_reset%   _onCreateQuizClick9   click .o_wslides_js_quiz_add)   _onEditQuestionClickM   click .o_wslides_js_quiz_edit_question-   _onDeleteQuestionClickQ   click .o_wslides_js_quiz_delete_questionA   _onSendRequestToResponsibleClickE   click .o_wslides_js_channel_enroll   events/   _displayCreatedQuestion1   display_created_question/   _displayUpdatedQuestion1   display_updated_question   _resetDisplay   reset_display   _deleteQuestion   delete_question   custom_events	   init   willStart   start   _alertShow   _bindSortable!   _getQuestionsIds1   _modifyQuestionsSequence#   _reorderQuestions   _fetchQuiz!   _hideEditOptions   _disableAnswersK   _renderAnswersHighlightingAndComments)   _applySessionAnswers+   _renderValidationInfo#   _renderJoinWidget   _getQuizAnswers'   _getQuestionDetails%   _checkLocationHref3   _saveQuizAnswersToSession   _afterJoin7   slide.quiz.confirm.deletion   prototype   concati   /website_slides/static/src/xml/slide_quiz_create.xml   _onConfirmClick   registry-   .o_wslides_lesson_main   selector!   _onQuizNextSlide   slide_go_next!   _onQuizCompleted   slide_completed'   _extractChannelData7   _extractQuestionsAndAnswers;   websiteSlidesQuizNoFullscreen	   Quiz%   ConfirmationDialog!!      require   publicWidget   Dialog	   core   session!   CourseJoinWidget%   QuestionFormWidget)   SlideQuizFinishModal#   SlideEnrollDialog	   QWeb   _t	   Quiz%   ConfirmationDialog      +H!!    	   !!9   click .o_wslides_quiz_answer!!!!M   click .o_wslides_js_lesson_quiz_submit!!!!?   click .o_wslides_quiz_modal_btn!!!!=   click .o_wslides_quiz_continue!!!!K   click .o_wslides_js_lesson_quiz_reset!!!!9   click .o_wslides_js_quiz_add!!!!M   click .o_wslides_js_quiz_edit_question!!!!Q   click .o_wslides_js_quiz_delete_question!!!!E   click .o_wslides_js_channel_enroll!!    !!       !!1   display_created_question!!!!1   display_updated_question!!!!   reset_display!!!!   delete_question!!    !!       	   initC         9                                  " W  O  "              	W   QW  QV  5       
V  V   O QV        
T [    >]   =   ]   B]   B]   B]	   : 0
   QV  T D   QB0   QV  5   "   V  5   T 5      0   QV  T 5	   D   QB0	   QV     5   0   QV     5   0   QV           5   : 0   QV  T 0   Q ""T)(!    _super   apply   _   defaults   id   	   name   hasNext   completed   isMember   slide	   quiz   questions   length   questionsCount   is_website_user   publicUser   user_id   userId%   encodeURIComponent   document   URL   redirectURL   channel!!      parent   slide_data   channel_data   quiz_data   arguments   .this       +H!!       !!   id!!!!	   name!!!!   hasNext!!!!   completed!!!!   isMember!!    ;#      5!!          willStartC  y                                                /  '  #               	W  QW  QZ   V  5       
V  V  O `    W   QV  5    #   V      
V     
:   Q      
V   :   #
    _super   apply	   quiz	   push   _fetchQuiz   Promise   all!!   	   defs   arguments   .this         +H;#       5!!          startC  B                                                   $                	W   QW  QV     QV  5       
V  V   O    
    : 0
"      _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b      $  p   0       5;5!!          _alertShowC          9                         
                 $  W            W  Q   =    : W   QT  =   H      =   : W   QP   T  =   H      =   : W   Q(   T  =   H      =   : W   QV     
[    =   ]	   V   ]
   C]    Q g/(-"DG Q   There was an error validating this quiz.+   slide_quiz_incompleteA   All questions must be answered !   slide_quiz_doneo   This quiz is already done. Retaking it is not possible.   public_userM   You must be logged to submit the quiz.'   displayNotification   warning	   type   message   sticky!!      alertCode   message   .this       +H!!       !!	   type!!!!   message!!!!   sticky!!    ;B       5 !!          _bindSortableC  Z                                                !   ! %  _             W   QV   5       
[    =   ]   =   ]   V   5      
V   : ]   =	   ]
    Qb-+"n      $el   sortableG   .o_wslides_js_quiz_sequence_handler   handleE   .o_wslides_js_lesson_quiz_question   items#   _reorderQuestions	   bind	   stopw   o_wslides_js_quiz_sequence_highlight position-relative my-3   placeholder!!      .this         +H!!       !!   handle!!!!   items!!!!	   stop!!!!   placeholder!!    ;       5 !!       !   _getQuestionsIdsC  4                                               ! " ! " %                W   QV       
=   :    
    :    
:   ^-5    $E   .o_wslides_js_lesson_quiz_question   map   get!!      .this         +H!!       %   _getQuestionsIds/<b  ! " ! " %           5 ;5!!       1   _modifyQuestionsSequenceC  *                                               ;" " 3" " %                W   QV       
=   :    
     Q -i    $E   .o_wslides_js_lesson_quiz_question	   each!!      .this         +H!!       5   _modifyQuestionsSequence/<b x" " p" " %  -         5 ;5!!       #   _reorderQuestionsC  m         $                         	            " # " # %              W   QV       
[   =   ]   [    =   ]   V      
:  ]   ]   :    
V   5	   
   
V   :  Q  n. 	   _rpc/   /web/dataset/resequence   route   slide.question   model!   _getQuestionsIds   ids   params	   then1   _modifyQuestionsSequence	   bind!!      .this         +H!!       !!   model!!!!   ids!!    !!       !!   route!!!!   params!!    ;       5!!          _fetchQuizC  ]                                               # % # % %                W   QV      Q       
[   =   ]   [       5   5   ]   ]   :    
   :  [
O  	   _rpc-   /slides/slide/quiz/get   route   slide   id   slide_id   params	   then!!   	   self   .this        +H!!       !!   slide_id!!    !!       !!   route!!!!   params!!    !!          _fetchQuiz/<b $ % $ % %           5 ;5!!       !   _hideEditOptionsC  *                                               )% % !% % %              W   QV       
=   :    
=    Q       $  .o_wslides_js_lesson_quiz_question .o_wslides_js_quiz_edit_del, .o_wslides_js_lesson_quiz_question .o_wslides_js_quiz_sequence_handler   addClass   d-none!!      .this         +H;       5!!          _disableAnswersC  W                                               % & % & %                W   QV      QV       
=   :    
=    QV       
=   :    
     Q 
-A    $E   .o_wslides_js_lesson_quiz_question   addClass%   completed-disabled#   input[type=radio]	   each!!   	   self   .this        +H!!       #   _disableAnswers/<b  s& & k& & %  (         5;5!!       K   _renderAnswersHighlightingAndCommentsC  4                                               & * & * %                W   QV      QV       
=   :    
     Q 
-     $E   .o_wslides_js_lesson_quiz_question	   each!!   	   self   .this        +H!!       O   _renderAnswersHighlightingAndComments/<b  "' * ' * %    2          isCorrect    B  '  * '  * %    R       5 5;5!!       )   _applySessionAnswersC  y         %                         
             + , * , %                W   QV   5    5    D   QV   5    5      >H   V      QV      
=   :    
     QV   5    B0   Q 
B 
- $     slide   sessionAnswers   length   $E   .o_wslides_js_lesson_quiz_question	   each!!   	   self   .this        +H!!        -   _applySessionAnswers/<b  + , + , &  H             B  + , + , &     "       55;5!!       +   _renderValidationInfoC  P                                              , - , - &       	       W  QV      
=   : W   QV      
      
=   [    V  ]   :  Q /@Q    $I   .o_wslides_js_lesson_quiz_validation	   html   render7   slide.slide.quiz.validation   widget!!      $validationElem   .this         +H!!       !!   widget!!    ;       5!!       #   _renderJoinWidgetC  8        E                                     - / - / &  R     
       W  QV      
=   : W   QV      >I     AV  [    C]   V  5   ]   V  5   ]   V  5   ]   V  5      
V  : ]	   V  5
      
V  : ]      =   : ]   ,  R W  QV     
V    QV  5    E0   QV  5   5   =   HE   QV  5   5   #   V     
V  5   5    Q Y(#,*
,  +`7    $;   .o_wslides_join_course_widget   length   isQuiz   channel   isMember   publicUser3   _saveQuizAnswersToSession	   bind   beforeJoin   _afterJoin   afterJoin   Join & Submit   joinMessage   appendTo   channelEnroll   public   slide   sessionAnswers   joinChannel   channelId!!      $widgetLocation!   courseJoinWidget   .this         +H!!       !!   isQuiz!!!!   channel!!!!   isMember!!!!   publicUser!!!!   beforeJoin!!!!   afterJoin!!!!   joinMessage!!    ;2       5!!          _getQuizAnswersC  4                                               / \0 / \0 &                W   QV       
=   :    
    :    
:   $A    $3   input[type=radio]:checked   map   get!!      .this         +H!!       #   _getQuizAnswers/<b  0 S0 0 S0 &           5;5!!          _submitQuizC  o      
   #                         	             q0 2 i0 2 &                W   QV      QV       
[   =   ]   [       5   5   ]   V      
:  ]   ]   : 	   
   :  !
"rf 	   _rpc3   /slides/slide/quiz/submit   route   slide   id   slide_id   _getQuizAnswers   answer_ids   params	   then!!   	   self   .this        +H!!       !!   slide_id!!!!   answer_ids!!    !!       !!   route!!!!   params!!    !!           _submitQuiz/<b 1 2  1 2 &    @       5 ;5!!       '   _getQuestionDetailsC           0                                     2 t4 2 t4 '                 Z       QT      
=   :    
     Q[   T     
=   : ]         T      
=   :    
:  : ]	   T     
=
   : ]      ]     %  0A 	   find-   .o_wslides_quiz_answer	   each	   data   questionId   id   parseIntC   .o_wslides_quiz_question_sequence	   text   sequence   title   answers!!      $elem   answers       +H!!       +   _getQuestionDetails/<b  43 3 ,3 3 '            5!!       !!   id!!!!   sequence!!!!	   text!!!!   answers!!    ;5 !!       %   _checkLocationHrefC  ;                                               4 4 4 4 '  )            W   Q    5   5      
=   :    V      
  Q ,4    window   location	   href   includes#   quiz_quick_create%   _onCreateQuizClick!!      .this         +H;"       5 !!          _onAnswerClickC `      	                                        4 v5 4 v5 '              W   QT      
  QV   5   5    ;         T  5   :    
=   :    
=   C Q     preventDefault   slide   completed   $   currentTarget	   find#   input[type=radio]	   prop   checked!!      ev   .this       +H;"       5!!          _onClickNextC 0                                              5 5 5 5 '  %            W   QV   5    5      V      
=    Q *"    slide   hasNext   trigger_up   slide_go_next!!      ev   .this       +H;"       5 !!          _onClickResetC  Q                                               5 `6 5 `6 '                W   QV       
[   =   ]   [    V   5   5   ]   ]   :    
    Q ~!N, 	   _rpc1   /slides/slide/quiz/reset   route   slide   id   slide_id   params	   then!!      .this         +H!!       !!   slide_id!!    !!       !!   route!!!!   params!!    !!          _onClickReset/<b  @6 ]6 86 ]6 '           5;5!!       3   _saveQuizAnswersToSessionC           5                                     6 7 {6 7 '              W  QV      
:  W   QV      V  5   5      HY   V     
[   =   ]   [   [    V  5   5   ]	   V   ]
   ]   ]   : /   V     
=    Q      
=   :  #4+  )*    _getQuizAnswers   length	   quiz   questions	   _rpcE   /slides/slide/quiz/save_to_session   route   slide   id   slide_id   slide_answers   quiz_answers   params   _alertShow+   slide_quiz_incomplete   Promise   reject-   The quiz is incomplete!!      quizAnswers   .this         +H!!       !!   slide_id!!!!   slide_answers!!    !!       !!   quiz_answers!!    !!       !!   route!!!!   params!!    ;2       5 !!          _afterJoinC  ?                                               7 H8 7 H8 '  ~            W   QV   C0    QV      
  QV      
  QV      
  Q     isMember+   _renderValidationInfo)   _applySessionAnswers   _submitQuiz!!      .this         +H;       5!!       %   _onCreateQuizClickC           "                                     d8 @9 \8 @9 '              W  QV      
=   : W   QV      
=   :    
=    Q   AV  [    V  5   5   ]   V  5   5	   ?]
   ,  R    
V    Q 1!Y    $M   .o_wslides_js_lesson_quiz_new_question-   .o_wslides_js_quiz_add   addClass   d-none   slide   id   slideId	   quiz   questionsCount   sequence   appendTo!!      $elem   .this         +H!!       !!   slideId!!!!   sequence!!    ;       5!!       )   _onEditQuestionClickC          5                                    ^9 : V9 : '              W  Q        T  5   :    
=   : W   QV     
V   : W  Q   AV  [    V   ]   V  ]   V  5   5   ]	   V  5
   ]
   C]   ,  R    
V    QV      
  Q  2	*      $   currentTarget   closestE   .o_wslides_js_lesson_quiz_question'   _getQuestionDetails   editedQuestion   question   slide   id   slideId   sequence   update   insertAfter	   hide!!      ev   $editedQuestion   question   .this       +H!!       !!   editedQuestion!!!!   question!!!!   slideId!!!!   sequence!!!!   update!!    ;       5!!       -   _onDeleteQuestionClickC       	   &                                    : ; : ; '  k     	       W  Q        T  5   :    
=   : W   Q 
  AV  [    V      
=   : ]   V      
=   : ]   ,  R    
  Q t	.k    $   currentTarget   closestE   .o_wslides_js_lesson_quiz_question	   data   questionId   title   questionTitle	   open!!      ev   question   .this       +H!!       !!   questionId!!!!   questionTitle!!    ;       5!!       A   _onSendRequestToResponsibleClickC       	   )                                    ; < ; < '  \	     	       W  QT      
  Q      T  5   :    
=   : W   Q   AV  [    V   ]         T  5   :    
=   : ]   ,  R    
  Q 	a
	l    preventDefault   $   currentTarget	   data   channelId   closest#   .alert.alert-info   $element	   open!!      ev   channelId   .this       +H!!       !!   channelId!!!!   $element!!    ;       5!!       /   _displayCreatedQuestionC                                                < > < > '  >
            W  QV      
=   : W   QV      >I'   V      
T  5   5    Q'   V  5      
T  5   5    QV  5   5	   #
0	   QQT  5   5
      
  QV      
=   :    
=    Q 
J2B(*    $O   .o_wslides_js_lesson_quiz_question:last   length   after	   data7   newQuestionRenderedTemplate   $el   prepend	   quiz   questionsCount%   questionFormWidget   destroy?   .o_wslides_js_quiz_add_question   removeClass   d-none!!      event   $lastQuestion   .this       +H;2       5!!       /   _displayUpdatedQuestionC G                                    
            0> > (> > (               T  5    5   W   QT  5    5      
T  5    5    QV      
  Q  1O 	   data%   questionFormWidget   $editedQuestion   replaceWith7   newQuestionRenderedTemplate   destroy!!      event%   questionFormWidget       +H;       5 !!          _resetDisplayC          !                                     > >@ > >@ (  f            W  QT  5    5   W   QV   5      V   5      
  Qh   V  5   5   >.   V     
=   : 	   
=
    Q)   V     
=   : 	   
=
    QV      
  Q r10*& 	   data%   questionFormWidget   update   $editedQuestion	   show	   quiz   questionsCount   $?   .o_wslides_js_quiz_add_question   removeClass   d-none7   .o_wslides_js_quiz_add_quiz   destroy!!      event%   questionFormWidget   .this       +H;R       5!!          _deleteQuestionC R        ?                          #           W@ B O@ B )  7      	       W  QT  5    5   W   QV     
=   V   =   :    
  QV  5   5   #
0   QQV     
  QV     
=	   : W  QV  
   
      V  
   
:  : ? QV  5   5   >HE    QV     
=   :     o   V     
=   :    
=    QV     
=   :    
=    QV     
=   :    
=    QC!N	S#C!1&*/ 	   data   questionId   $i   .o_wslides_js_lesson_quiz_question[data-question-id=   ]   remove	   quiz   questionsCount#   _reorderQuestions   .o_wslides_js_lesson_quiz_new_question .o_wslides_quiz_question_sequence	   text   parseInt=   .o_wsildes_quiz_question_input   length7   .o_wslides_js_quiz_add_quiz   removeClass   d-none?   .o_wslides_js_quiz_add_question   addClassI   .o_wslides_js_lesson_quiz_validation!!      event   questionId)   $newQuestionSequence   .this       +H;"       5!!    $   !!   template!!!!   xmlDependencies!!!!   events!!!!   custom_events!!!!	   init!!!!   willStart!!!!   start!!!!   _alertShow!!!!   _bindSortable!!!!!   _getQuestionsIds!!!!1   _modifyQuestionsSequence!!!!#   _reorderQuestions!!!!   _fetchQuiz!!!!!   _hideEditOptions!!!!   _disableAnswers!!!!K   _renderAnswersHighlightingAndComments!!!!)   _applySessionAnswers!!!!+   _renderValidationInfo!!!!#   _renderJoinWidget!!!!   _getQuizAnswers!!!!   _submitQuiz!!!!'   _getQuestionDetails!!!!%   _checkLocationHref!!!!   _onAnswerClick!!!!   _onClickNext!!!!   _onClickReset!!!!3   _saveQuizAnswersToSession!!!!   _afterJoin!!!!%   _onCreateQuizClick!!!!)   _onEditQuestionClick!!!!-   _onDeleteQuestionClick!!!!A   _onSendRequestToResponsibleClick!!!!/   _displayCreatedQuestion!!!!/   _displayUpdatedQuestion!!!!   _resetDisplay!!!!   _deleteQuestion!!    !!        	   initC          ?                                  " C D C D )  ~            	W   QW  Q       
T D   Q[    [      =   : ]   Z   [      =   : ]   =   ]   V  5   ]	   `    [      =
   : ]   C]   `   ]   =   ]   : U QV  T 5   0   QV  T 5   0   QV  5      
V  V   O Q  	
	e  #)"    _   defaults   Delete Question   title   Yes	   text   btn-primary   classes   _onConfirmClick   click   No   close   buttons   medium	   size   questionId   questionTitle   _super   apply!!      parent   options   arguments   .this       +H!!            !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!   title!!!!   buttons!!!!	   size!!    ;      5!!          _onConfirmClickC  `                                               D E D E )                W   QV      QV       
[    =   ]   =   ]   Z   V   5   `    ]   :    
    Q 
L` 	   _rpc   slide.question   model   unlink   method   questionId	   args	   then!!   	   self   .this        +H!!       !!   model!!!!   method!!!!	   args!!    !!        #   _onConfirmClick/<b  TE E LE E )  4         5;5!!       !!   template!!!!   xmlDependencies!!!!	   init!!!!   _onConfirmClick!!    !!       !!   slide_go_next!!!!   slide_completed!!    !!          startC                                                 F H xF H )                	W   QW  QV     QV  Z    0    QZ   V  5      
V  V   O `       QV     
=   :    
     Q      
   :  g
#$     quizWidgets   _super   apply   $3   .o_wslides_js_lesson_quiz	   each   Promise   all!!   	   self	   defs   arguments   .this        +H!!           start/<b  G H F H )           5;5!!       !   _onQuizCompletedC          #                                     H IJ H IJ )       	       W  QT  5    5   W   QT  5    5   W  QV     
=   V   5   :    
=   :    
=	    Q      =
   :    
=   V  =    Q      =   :    
   5      
=   V  :  Q 8"$,2( 	   data   slide   completion   $I   #o_wslides_lesson_aside_slide_check_   id   addClass+   text-success fa-check   removeClass)   text-600 fa-circle-oM   .o_wslides_lesson_header .progress-bar   css   width   %O   .o_wslides_lesson_header .progress span	   text   _   str   sprintf   %s %%!!      ev   slide   completion   .this       +H;       5 !!       !   _onQuizNextSlideC  G                                               cJ J [J J )  C
            W  QV      
=   :    
=   : W   Q   5      
V    Q 
J$    $3   .o_wslides_js_lesson_quiz	   data   next-slide-url   window   location   replace!!      url   .this         +H;       5 !!       '   _extractChannelDataC D                                               J K J K )  
             [    T  5    ]    T  5   ]   T  5   D   QB]   T  5   ]    
&?'    channelId   channelEnroll-   channelRequestedAccess   signupAllowed!!      slideData        +H!!       !!   channelId!!!!   channelEnroll!!!!-   channelRequestedAccess!!!!   signupAllowed!!    ;       5!!       7   _extractQuestionsAndAnswersC  ;                                               K MM K MM )                W   QZ       QV       
=   :    
     Q    - 3    $E   .o_wslides_js_lesson_quiz_question	   each!!      questions   .this        +H!!       ;   _extractQuestionsAndAnswers/<b  L 9M L 9M )    "          answers   B  sL L kL L )  S         5 5;5!!       !!   selector!!!!   custom_events!!!!   start!!!!!   _onQuizCompleted!!!!!   _onQuizNextSlide!!!!'   _extractChannelData!!!!7   _extractQuestionsAndAnswers!!    !!       !!	   Quiz!!!!%   ConfirmationDialog!!!!;   websiteSlidesQuizNoFullscreen!!    ;5 !!       C  I                                              N ] N ] ,                T  =    : W   QT  =   : W  QV  5      QV  5      QV   5      
[   =   ]   Z   =   `    ]	   [    =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   ]      ]      ]      ]      ]      ]      ]      ]      ]
   	   ]   
   ]      ]      ]   : W  QV  S!/%8A?E7=LS     c          [ p  #   web.public.widget   web.core	   qweb   _t   Widget   extend3   slide.quiz.question.input   templatei   /website_slides/static/src/xml/slide_quiz_create.xml   xmlDependencies#   _validateQuestionU   click .o_wslides_js_quiz_validate_question#   _cancelValidationQ   click .o_wslides_js_quiz_cancel_question1   _toggleAnswerLineCommentO   click .o_wslides_js_quiz_comment_answer   _addAnswerLineG   click .o_wslides_js_quiz_add_answer#   _removeAnswerLineM   click .o_wslides_js_quiz_remove_answer1   _removeAnswerLineComment]   click .o_wslides_js_quiz_remove_answer_comment#   _onCommentChangedw   change .o_wslides_js_quiz_answer_comment > input[type=text]   events	   init   start/   _createOrUpdateQuestion   _isValidForm   _serializeForm!!      require   publicWidget	   core	   QWeb   _t%   QuestionFormWidget      +H!!       !!U   click .o_wslides_js_quiz_validate_question!!!!Q   click .o_wslides_js_quiz_cancel_question!!!!O   click .o_wslides_js_quiz_comment_answer!!!!G   click .o_wslides_js_quiz_add_answer!!!!M   click .o_wslides_js_quiz_remove_answer!!!!]   click .o_wslides_js_quiz_remove_answer_comment!!!!w   change .o_wslides_js_quiz_answer_comment > input[type=text]!!    !!       	   initC                                            " Q zR Q zR ,  J            	W   QW  QV  T 5    0   QV  T 5   D   Q[    0   QV  T 5   0   QV  T 5   0   QV  T 5   0   QV  5      
V  V   O Q [,#"    editedQuestion   $editedQuestion   question   update   sequence   slideId   _super   apply!!      parent   options   arguments   .this       +H!!            ;      5!!          startC  B                                               R S R S ,                	W   QW  QV     QV  5       
V  V   O    
    :  :
"D    _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b  R S R S ,  z         5;5!!       #   _onCommentChangedC           (                                      #S kT S kT ,              T  5    W   Q      V   :    
=   :    
=   : W  QV   5      
:  =   I3   V  	   
=
    QV     
=    Q.   V  	   
=    QV     
=
    Q 	%*%,#)    currentTarget   $   closest3   .o_wslides_js_quiz_answer	   findC   .o_wslides_js_quiz_comment_answer   value	   trim      addClass   text-primary   removeClass   text-muted!!      event   input   commentIcon       +H;0       5 !!       1   _toggleAnswerLineCommentC f       
                                         T IU T IU ,  7                    T  5   :    
=   :    
=   :    
=   : W   QV      
=   : 	   
  Q @%*%    $   currentTarget   closest3   .o_wslides_js_quiz_answer	   findC   .o_wslides_js_quiz_answer_comment   toggleClass   d-none!   input[type=text]   focus!!      ev   commentLine       +H;       5 !!          _addAnswerLineC D                                    
            aU U YU U ,                       T  5   :    
=   :    
      
=   :  Q +-    $   currentTarget   closest3   .o_wslides_js_quiz_answer   after   render-   slide.quiz.answer.line!!      ev        +H;       5!!       #   _removeAnswerLineC W                                   
           U bV U bV ,              W   QV       
=   :    ?5           T  5   :    
=   :    
  Q .%
    $3   .o_wslides_js_quiz_answer   length   currentTarget   closest   remove!!      ev   .this       +H;"       5!!       1   _removeAnswerLineCommentC f                                                V $W |V $W ,  .                    T  5   :    
=   :    
=   : W   QV      
=   :    
=	   : 
   
  Q 7-%	    $   currentTarget   closestC   .o_wslides_js_quiz_answer_comment   addClass   d-none	   find!   input[type=text]   val      change!!      ev   commentLine       +H;       5 !!       #   _validateQuestionC D                                             ?W W 7W W ,              W   QV       
[          T  5   :    
=   : ]    Q a /   _createOrUpdateQuestion   $   currentTarget   hasClass1   o_wslides_js_quiz_update   update!!      ev   .this       +H!!       !!   update!!    ;       5 !!       #   _cancelValidationC  )                                              W X W X ,  k	            W   QV       
=   [    V   ]    Q 	n!<    trigger_up   reset_display%   questionFormWidget!!      .this         +H!!       !!%   questionFormWidget!!    ;       5 !!       /   _createOrUpdateQuestionC          H                                     "X Z X Z ,         	       W  QV     QV      
=   : W   QV     
V   : X   V     
V   : W  QV     
[    =   ]   V  ]   :    
    Q[   V  	   
[   =
   ]     =   : ]   C]    QV      
=   :    
  Q 	2M O"a)	    $	   form   _isValidForm   _serializeForm	   _rpcS   /slides/slide/quiz/question_add_or_update   route   params	   then'   displayNotification   warning	   type7   Please fill up the question   message   sticky=   .o_wslides_quiz_question input   focus!!      options	   self   $form   values   .this      +H!!       !!   route!!!!   params!!    !!       3   _createOrUpdateQuestion/<b X *Z X *Z ,  
  0       5!!       !!	   type!!!!   message!!!!   sticky!!    ;5 !!          _isValidFormC .                                                Z 6[ Z 6[ ,               T      
=   :    
:     
:  =   I 8 	   findS   .o_wslides_quiz_question input[type=text]   val	   trim   !!      $form        +H;       5 !!          _serializeFormC          -                                     N[ ] F[ ] ,                W   QZ       Q?   QT      
=   :    
     Q[   V   5      
=   : ]   V   5   ]   T      
=   : 	   
:  ]
   V   5   ]      ]    ( W8 	   find3   .o_wslides_js_quiz_answer	   each   $el	   data   id)   existing_question_id   sequenceS   .o_wslides_quiz_question input[type=text]   val   question   slideId   slide_id   answer_ids!!      $form   answers   sequence   .this      +H!!       !   _serializeForm/<b  [ \ [ \ ,  S  "       5!!       !!)   existing_question_id!!!!   sequence!!!!   question!!!!   slide_id!!!!   answer_ids!!    ;5!!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   start!!!!#   _onCommentChanged!!!!1   _toggleAnswerLineComment!!!!   _addAnswerLine!!!!#   _removeAnswerLine!!!!1   _removeAnswerLineComment!!!!#   _validateQuestion!!!!#   _cancelValidation!!!!/   _createOrUpdateQuestion!!!!   _isValidForm!!!!   _serializeForm!!    ;5 !!       C            @                                     y^ h q^ h /                T  =    : W   QT  =   : W  QV  5      QV      
[   =   ]   [    =   ]   ]      ]	      ]
      ]      ]      ]   : W  QV  L$#3 f  J }r 	    web.Dialog   web.core   _t   extend/   slide.slide.quiz.finish   template   _onClickNext?   click .o_wslides_quiz_modal_btn   events	   init   start'   _animateProgressBar   _animateText!!      require   Dialog	   core   _t)   SlideQuizFinishModal      +H!!       !!?   click .o_wslides_quiz_modal_btn!!    !!       	   initC          -                                  " p_ ` h_ ` /                	W   QW  QV     QV  T 5    0    QV  T 5   0   QV  T 5   0   Q      
T D   Q[    [   =   ]   =   ]   B]	   B]
   B]   : U QV  5      
V  V   O QV     
    Q =
 w"H 	   quiz   hasNext   userId   _   defaults   medium	   size   d-flex p-0   dialogClass   technical   renderHeader   renderFooter   _super   apply   opened!!      parent   options	   self   arguments   .this      +H!!            !!       !!	   size!!!!   dialogClass!!!!   technical!!!!   renderHeader!!!!   renderFooter!!    !!           init/<b  ` ` ` ` /  K         5 ;5!!          startC  B                                             " ` a ` a /                	W   QW  QV     QV  5       
V  V   O    
     Q 
"      _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b  a a a a /           5;5!!          _onClickNextC  *                                               a b a b /              W   QV       
=    QV      
  Q !    trigger_up   slide_go_next   destroy!!      .this         +H;       5 !!       '   _animateProgressBarC          S                         /             #b f b f /                W   QV      QV       
=   :    
[    =   ]   =   ]   :    
=    QV       
=   : 	   
=
   V   5   5   5   5
   :    
[   V   5   5   5   5
   ]
   [   V   5   5   5      X	   X ]      ]    QV       
=   :    QV   5   5   5   i   V       
=   :    
  =   :  Q      
=   =    Q      
   X  Q9         
=   V   5   5   5   5   =    Q 
+?B.2  $+! H    $/   [data-toggle="tooltip"]   tooltip   manual   trigger+   .progress-bar-tooltip   container	   show   .tooltip-inner	   prop   karma	   quiz   rankProgress   previous_rank   animate   new_rank   level_up   duration	   step   .progress-bar7   .o_wslides_quiz_modal_title	   text   Level up!   css   width	   100%   _   delay   progress   %!!   	   self   $progressBar   .this        +H!!       !!   trigger!!!!   container!!    !!       !!   karma!!    !!       	   stepB mc c ec c /  %         5 !!       !!   duration!!!!	   step!!    !!       +   _animateProgressBar/<b  d .f d .f /  U           B  ze e re e /  2         5    B  e 'f e 'f /  }         5 5;5!!          _animateTextC  [                                  	             f h f h /                W   QV      Q       
    X  QV   5   5   5             
   X  Q X
  $ g    _   delay	   quiz   rankProgress   level_up!!   	   self   .this        +H!!           _animateText/<b  f <g f <g /  r         5 !!          _animateText/<b  vg h ng h /  .	            B  g h g h /  	         5 5;5!!       !!   template!!!!   events!!!!	   init!!!!   start!!!!   _onClickNext!!!!'   _animateProgressBar!!!!   _animateText!!    ;5!!       C        &                                        i  i  2                T  =    : W   QT  =   : W  QT  =   : W  QV   5      QV     
[   =   ]         
[    V  5   5	   [   =
   ]   : ]	      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]      ]
   :    QV  5   V  5      
[   =   ]   Z   =   `    ]    [   =!   ]"   ]	      ]#      ]!   : 0$   Q[      ]%   V  5   5$   ]$   P!",M     z    <    y   2   7  C)Ag | 9    web.core   web.Dialog#   web.public.widget   _t   extend-   website.slides.tag.add   template   _   prototype   events   _onChangeTag'   change input#tag_id	   init   start)   _bindSelect2Dropdown   _select2Wrapper)   _setDefaultSelection3   _getSelect2DropdownValues   _formValidate   _alertDisplay   _alertRemove   _hideTagGroup   _showTagGroup%   _onClickFormSubmit!   _addTagToChannel   _createNewTag   _onClickClose   registry   Widget;   .o_wslides_js_channel_tag_add   selector{   /website_slides/static/src/xml/website_slides_channel_tag.xml   xmlDependencies   _onAddTagClick   click   _openDialog!   websiteSlidesTag   TagCourseDialog!!      require	   core   Dialog   publicWidget   _t   TagCourseDialog      +H!!            !!       !!'   change input#tag_id!!    !!        	   initC 9        J                                    j Il j Il 2  m     
       W   Q       
T D   Q[    [      =   : ]   =   ]   Z   [      =   : ]   =   ]	   V   5
      
V   : ]   `    [      =   : ]   V   5      
V   : ]   `   ]   : U QV         T 5   
: 0   QV   T 5   D   QZ    0   QV   T 5   0   QV      
T  T  Q ~ 	
$Q  &#    _   defaults   Add a tag   title   medium	   size   Add	   text   btn-primary   classes%   _onClickFormSubmit	   bind   click   Discard   _onClickClose   buttons   parseInt   channelId   channelID   channelTagIds   tagIds   defaultTag   _super!!      parent   options   .this       +H!!            !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   click!!    !!       !!   title!!!!	   size!!!!   buttons!!    ;       5 !!          startC  B                                               Xl m Pl m 2                	W   QW  QV     QV  5       
V  V   O    
    :  
"u    _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b  l m l m 2  A          5 ;5!!       )   _bindSelect2DropdownC           /                                      &m n m n 2                W   QV      QV       
=   :    
V      
  =   :     :  QV       
=   :    
V      
  =   :    :  Q 
/  5      $   #tag_id   select2   _select2Wrapper   Tag   #tag_group_idC   Tag Group (required for new tags)!!   	   self   .this        +H!!       -   _bindSelect2Dropdown/<b  xm m pm m 2           5 !!       -   _bindSelect2Dropdown/<b  _n n Wn n 2           5 ;5!!          _select2WrapperC ~          2                                     n Js n Js 2                   D   Q=       Q[   =   ]      ]   C]   B]   B]   T ]       ]      ]	      ]
      ]   W   QV     }    	   name	   100%   width   placeholder   allowClear   formatNoMatches   selection_data   fetch_rpc_fnc   formatSelection%   createSearchChoice   fill_data   query!!      tag   fetchFNC   nameKey   values      +H!!          formatSelectionB o o o o 2  J          5 !!       %   createSearchChoiceB o `q o `q 3  .   R       	   term    B jp p bp p 3            5 5!!          fill_dataB sq /r kq /r 3    B          query 	   that 	   tags   B q r q r 3            55!!          queryB >r 9s 6r 9s 3  m  R          query 	   that    B r s r s 3           5 5!!    
   !!   width!!!!   placeholder!!!!   allowClear!!!!   formatNoMatches!!!!   selection_data!!!!   fetch_rpc_fnc!!!!   formatSelection!!!!%   createSearchChoice!!!!   fill_data!!!!   query!!    ;5 !!       )   _setDefaultSelectionC                                                hs s `s s 3              W   QV       
=   :    
=   [          
=   : ]   V   5   ]	   C]
   C QV       
=   :    
=   C Q "N    $   #tag_id   select2	   data   _   uniqueId	   tag_   id   defaultTag	   text   create   readonly!!      .this         +H!!       !!   id!!!!	   text!!!!   create!!    ;       5!!       3   _getSelect2DropdownValuesC  8        I                                     t cu t cu 3  I            W  Q[    W   QV      
=   :    
=   : W  QV     V  5      V      
=   :    
=   : W  QV     V   Z   >`    [   V  5   ]   `   0   QV  5   8   V   Z   >`    [   V  5   ]   `   0	   Q#   V   Z   V  5
   `    0	   Q#   V   Z   V  5
   `    0   QV    P
    $   #tag_id   select2	   data   create   #tag_group_id	   text	   name   tag_id   group_id   id!!      result   tag   group   .this         +H!!            !!       !!	   name!!    !!       !!	   name!!    ;r       5!!          _formValidateC         Z                          %           zu x ru x 5  &      	       W  QT      
=    QT  >7   
:  W   QV     
=   : W  QV     >IQ  V     
=   :    
=	   : W  QV  
   
=    QV     
=   :    V      
=    Q   V     
=   :    V      
=    QV     
=   : W  QV     >I   V     
=   :    
=	   : W  QV     
=   :    V      
=    Q3   V     
=   :    V      
=    QV   .$
!82."&7    addClass   was-validated   checkValidity   $   #tag_id   length   closest   .form-group	   find%   .select2-container   removeClass'   is-invalid is-valid   is   :invalid   is-invalid   :valid   is-valid   #tag_group_id!!      $form   result   $tagInput)   $tagSelect2Container   $tagGroupInput3   $tagGroupSelect2Container   .this       +H;r       5!!          _alertDisplayC l      
                            
           x y x y 6  &             W   QV       
  Q      =   [    =   ]   =   ]   :    
T  :    
V      
=	   :  Q09    _alertRemove   $   <div/>'   alert alert-warning   class   alert	   role	   text   insertBefore	   form!!      message   .this       +H!!       !!   class!!!!	   role!!    ;       5!!          _alertRemoveC  %                                               4y Zy ,y Zy 6               W   QV       
=   :    
  Q  	    $   .alert-warning   remove!!      .this         +H;       5!!          _hideTagGroupC  s      
                             
            qy Hz iy Hz 6               W  QV      
=   : W   QV      
=   : W  QV     
  QV      
=    QV      
=   =	    Q %!%     $   #tag_group_id   closest   .form-group	   hide   removeAttr   required   select2   val   !!      $tag_group_id3   $tagGroupSelect2Container   .this         +H;       5!!          _showTagGroupC  _                                               _z { Wz { 6              W  QV      
=   : W   QV      
=   : W  QV     
  QV      
=   =    Q %!*    $   #tag_group_id   closest   .form-group	   show	   attr   required!!      $tag_group_id3   $tagGroupSelect2Container   .this         +H;       5 !!       %   _onClickFormSubmitC  M                                               7{ { /{ { 6              W   QV   5    E   QV   5       V      
  Q   V      
  Q     defaultTag   channelID   _createNewTag!   _addTagToChannel!!      .this         +H;2       5 !!       !   _addTagToChannelC           7                                      { -} { -} 6                W  QV     QV      
=   : W   QV     
V   : z   V     
:  W  QV     
[   =   ]   [    V  5   ]   V  5	   ]	   V  5
   ]
   ]   :    
   :  @'!   f    $9   #slides_channel_tag_add_form   _formValidate3   _getSelect2DropdownValues	   _rpc/   /slides/channel/tag/add   route   channelID   channel_id   tag_id   group_id   params	   then!!   	   self   $form   values   .this        +H!!       !!   channel_id!!!!   tag_id!!!!   group_id!!    !!       !!   route!!!!   params!!    !!       %   _addTagToChannel/<b | )} | )} 6  ^  0       5 ;5!!          _createNewTagC           >                                      D}   <}   6         	       W  QV     QV      
=   : W   QV      
=   :    
=   B QV     
V   : W  QV      
=   :    
=   C QV  l   V     
:  W  QV     
[   =   ]	   [    V  5
   ]
   V  5   ]   ]   :    
   :  '!hY    $9   #slides_channel_tag_add_form   #tag_id   select2   readonly   _formValidate3   _getSelect2DropdownValues	   _rpc-   /slide_channel_tag/add   route   tag_id   group_id   params	   then!!   	   self   $form   valid   values   .this        +H!!       !!   tag_id!!!!   group_id!!    !!       !!   route!!!!   params!!    !!           _createNewTag/<b ~ ~ ~ ~ 6  >         5;5!!          _onClickCloseC  L                                                q  q 6              W   QV   5    E   QV   5       V      
=    QV      
  Q     defaultTag   channelID   trigger_up   tag_remove_new   close!!      .this         +H;"       5 !!          _onChangeTagC y                                   
               7  $             W  QV  W   Q        T  5   :    
=   : W  QV  E   QV  5      V      
  Q   V      
  Q-    $   currentTarget   select2	   data   create   _showTagGroup   _hideTagGroup!!      ev	   self   tag   .this       +H;2       5!!       !!   template!!!!   events!!!!	   init!!!!   start!!!!)   _bindSelect2Dropdown!!!!   _select2Wrapper!!!!)   _setDefaultSelection!!!!3   _getSelect2DropdownValues!!!!   _formValidate!!!!   _alertDisplay!!!!   _alertRemove!!!!   _hideTagGroup!!!!   _showTagGroup!!!!%   _onClickFormSubmit!!!!!   _addTagToChannel!!!!   _createNewTag!!!!   _onClickClose!!!!   _onChangeTag!!    !!       !!   click!!    !!          _openDialogC 9                                               W  W 7              W  QT      
:  W   Q   AV  V   ,  R    
:    	   data	   open!!      $element	   data   .this       +H;       5 !!          _onAddTagClickC 9                                              o  g  7              W   QT      
  QV      
      T  5   :  Q &    preventDefault   _openDialog   $   currentTarget!!      ev   .this       +H;       5 !!       !!   selector!!!!   xmlDependencies!!!!   events!!!!   _openDialog!!!!   _onAddTagClick!!    !!       !!   TagCourseDialog!!!!!   websiteSlidesTag!!    ;5 !!       C        &                                            :                T  =    : W   QT  =   : W  QT  =   : W  QT  =   : W  QV   5      QV   5      QV     
[   =   ]   [       =	   : ]
      =   : ]      =   : ]   ]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]   :    QV  5   V  5      
[   =   ]   Z   =   `    ]   [   =    ]!   ]"      ]#      ]    : 0$   Q[      ]%   V  5   5$   ]$   R!&+   T,<I     :  ?  K-A n .I    web.core   web.Dialog#   web.public.widget   web.utils	   qweb   _t   extend?   slides.course.unsubscribe.modal   template   Subscribe   titleSubscribe   Notifications!   titleUnsubscribe!   Leave the course!   titleLeaveCourse   _texts	   init   start)   getSubscriptionState!   _getModalButtons   _resetModal'   _onClickLeaveCourse3   _onClickLeaveCourseCancel3   _onClickLeaveCourseSubmit5   _onClickSubscriptionSubmit   _onChangeType   registry   WidgetC   .o_wslides_js_channel_unsubscribe   selector{   /website_slides/static/src/xml/website_slides_unsubscribe.xml   xmlDependencies'   _onUnsubscribeClick   click   events   _openDialog1   websiteSlidesUnsubscribe-   SlideUnsubscribeDialog!!      require	   core   Dialog   publicWidget   utils	   QWeb   _t-   SlideUnsubscribeDialog      +H!!       !!   titleSubscribe!!!!!   titleUnsubscribe!!!!!   titleLeaveCourse!!    !!        	   initC         .                                    Y  Q  :              W   Q       
T D   Q[    [   T 5   =   H   V   5   5      V   5   5   ]   =   ]	   : U QV   
   
T  T  QV      
=   =    QV      
=   V   V   5    QV         T 5   
: 0   QV   T 5   =   H0   QV   T 5   0   Q  Z  "0,    _   defaults   isFollower	   True   _texts   titleSubscribe!   titleUnsubscribe   title   medium	   size   _super   set   state   _subscription   on   change:state   _onChangeType   parseInt   channelId   channelID   enroll!!      parent   options   .this       +H!!            !!       !!   title!!!!	   size!!    ;       5!!          startC  B                                                   :                	W   QW  QV     QV  5       
V  V   O    
    :  h
"a    _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b  /  '  :           5;5!!       )   getSubscriptionStateC  *                                                   :              W   QV       
=   :    
=   :      $!   input#subscribed	   prop   checked!!      .this         +H;       5 !!       !   _getModalButtonsC                                   "             8  8 :  k     	       W  QZ    W   QV      
=   : W  QV  =   H   V      
[       =   : ]   =   ]   V  5   	   
V  : ]
    QV      
[      =   : ]   C]    QV      
[      =   : ]   =   ]   V  5   	   
V  : ]
    Q   V  =   H   V      
[      =   : ]   =   ]   V  5   	   
V  : ]
    QV      
[      =   : ]   V  5   	   
V  : ]
    QV    rg.|q    get   state   _subscription	   push	   Save	   text   btn-primary   classes5   _onClickSubscriptionSubmit	   bind   click   Discard   close'   or Leave the course%   btn-danger ml-auto'   _onClickLeaveCourse   _leave!   Leave the course   btn-danger3   _onClickLeaveCourseSubmit3   _onClickLeaveCourseCancel!!      btnList   state   .this         +H!!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   click!!    ;2       5 !!          _resetModalC           )                                      M  E  ;  %             W  QV      
=   : W   QV   =   Hx   V     
V  5      V  5   5      V  5   5    QV     
=	   : 
   
=   V  5    Q3   V   =   H#   V     
V  5   5    QV     
V     
:   Q,X*    get   state   _subscription   set_title   isFollower   _texts!   titleUnsubscribe   titleSubscribe   $!   input#subscribed	   prop   checked   _leave!   titleLeaveCourse   set_buttons!   _getModalButtons!!      state   .this         +H;2       5 !!       '   _onClickLeaveCourseC                                                      =  H             W   QV       
=   =    QK    set   state   _leave!!      .this         +H;       5!!       3   _onClickLeaveCourseCancelC            	                                          =               W   QV       
=   =    Q  "    set   state   _subscription!!      .this         +H;       5!!       3   _onClickLeaveCourseSubmitC  L                                               9  1  =                W   QV       
[   =   ]   [    V   5   ]   ]   :    
    Q  O, 	   _rpc+   /slides/channel/leave   route   channelID   channel_id   params	   then!!      .this         +H!!       !!   channel_id!!    !!       !!   route!!!!   params!!    !!       7   _onClickLeaveCourseSubmit/<b      =  2         5;5!!       5   _onClickSubscriptionSubmitC           4                                          =                W   QV   5    V      
:  H   V      
  QV      
[   V      
:     =      =   ]   [    V   5   ]   ]	   : 
   
    Q y  GV  ,    isFollower)   getSubscriptionState   destroy	   _rpc3   /slides/channel/subscribe7   /slides/channel/unsubscribe   route   channelID   channel_id   params	   then!!      .this         +H!!       !!   channel_id!!    !!       !!   route!!!!   params!!    !!       9   _onClickSubscriptionSubmit/<b      >            5 ;5!!          _onChangeTypeC           3                                      t  t >        
       W  QV      
=   : W   QV   =   H   =   W  Q    V   =   H   =   W  QV     
=   :    
  QV     
=   : 	   
   
   
V  [    V  ]   :  QV     
  Q  ":1J(    get   state   _subscriptionY   slides.course.unsubscribe.modal.subscription   _leaveK   slides.course.unsubscribe.modal.leave   $M   .o_w_slide_unsubscribe_modal_container   empty   append   render   widget   _resetModal!!      currentType	   tmpl   .this         +H!!       !!   widget!!    ;2       5 !!       !!   template!!!!   _texts!!!!	   init!!!!   start!!!!)   getSubscriptionState!!!!!   _getModalButtons!!!!   _resetModal!!!!'   _onClickLeaveCourse!!!!3   _onClickLeaveCourseCancel!!!!3   _onClickLeaveCourseSubmit!!!!5   _onClickSubscriptionSubmit!!!!   _onChangeType!!    !!       !!   click!!    !!           _openDialogC 9                                              ~  v  ?              W  QT      
:  W   Q   AV  V   ,  R    
:   & 	   data	   open!!      $element	   data   .this       +H;       5 !!       '   _onUnsubscribeClickC 9                                               4  4 ?  &            W   QT      
  QV      
      T  5   :  Q +&    preventDefault   _openDialog   $   currentTarget!!      ev   .this       +H;       5!!       !!   selector!!!!   xmlDependencies!!!!   events!!!!   _openDialog!!!!'   _onUnsubscribeClick!!    !!       !!-   SlideUnsubscribeDialog!!!!1   websiteSlidesUnsubscribe!!    ;5 !!       C        B                                       S | K | B  1             T  =    : W   QV   5   W  QT  =   : W  QV     
=   [    =   ]   Z   [   =   ]   V  =	   : ]
   =   ]   `    [   =   ]   V  =   : ]
   =   ]   X ]   `   [   =   ]   V  =   : ]
   =   ]   X]   =   ]   `   [   =   ]   V  =   : ]
   =   ]   X,]   =   ]   `   [   =   ]   V  =   : ]
   `   [   =   ]   V  =   : ]
   =   ]   `   [   =   ]   V  =   : ]
   =   ]   `   [   =   ]   V  =   : ]
   =   ]   X]   `   [	   =   ]   V  =   : ]
   =   ]   `   [
   =   ]   V  =    : ]
   =   ]   `	   [   =!   ]   V  ="   : ]
   `
   [   =#   ]   V  =$   : ]
   `   [   =%   ]   V  =&   : ]
   `   [   ='   ]   V  =(   : ]
   =   ]   X]   `   [   =)   ]   V  =*   : ]
   =   ]   `   [   =+   ]   =,   ]-   V  =.   : ]
   `   [   =/   ]   V  =0   : ]
   =1   ]   XJ]   `   [   =2   ]   V  =3   : ]
   =1   ]   X"]   `   [   =4   ]   V  =5   : ]
   =6   ]   X ]   `   [   =7   ]   V  =8   : ]
   =6   ]   `   [   =9   ]   V  =:   : ]
   =1   ]   X ]   `   [   =;   ]   V  =<   : ]
   ==   ]   `   [   =>   ]   V  =?   : ]
   =   ]   `   [   =@   ]   V  =A   : ]
   =   ]   `    QL x-71
'5
0G*  n-2  ,L/    ,P*  33  &8/2)C2t0!*FD0|S     web.core   _t   web_tour.tour   register   slides_tour   /slides   url+   #new-content-menu > a   trigger   Welcome on your course's home page. It's still empty for now. Click on "<b>New</b>" to write your first course.   content   bottom   positionE   a[data-action="new_slide_channel"]a   Select <b>Course</b> to create it and manage it.   width%   input[name="name"]U   Give your course an engaging <b>Title</b>.%   text My New Course   run9   textarea[name="description"]]   Give your course a helpful <b>Description</b>.O   text This course is for advanced users.%   button.btn-primary}   Click on the <b>Create</b> button to create your first course.?   .o_wslides_js_slide_section_add  Congratulation, your course is created, but there isn't any content yet. First, let's add a <b>Section</b> to give your course a structure.   A good course has structure and a table of content. Your first section will be the <b>Introduction</b>.M   Click on <b>Save</b> to apply changes.O   a.btn-primary.o_wslides_js_slide_uploadA  Your first section is created, now it's time to add lessons to your course. Click on <b>Add Content</b> to upload a document, create a web page or link a video.C   a[data-slide-type="presentation"]   First, let's add a <b>Presentation</b>. It can be a .pdf or an image.   input#uploadM   Choose a <b>File</b> on your computer.   input#nameG  The <b>Title</b> of your lesson is autocompleted but you can change it if you want.</br>A <b>Preview</b> of your file is available on the right side of the screen.   input#duration_  The <b>Duration</b> of the lesson is based on the number of pages of your document. You can change this number if your attendees will need more time to assimilate the content.C   button.o_w_slide_upload_published   <b>Save & Publish</b> your lesson to make it available to your attendees.?   span.badge-info:contains("New")5  Congratulation! Your first lesson is available. Let's see the options available here. The tag "<b>New</b>" indicate that this lesson has less than 7 days.Q   a[name="o_wslides_list_slide_add_quizz"]E   .o_wslides_slides_list_slide:hover   extra_trigger  If you want to be sure that attendees have understood and memorized the content, you can add a Quiz on the lesson. Click on <b>Add Quiz</b>.7   input[name="question-name"]c   Enter your <b>Question</b>. Be clear and concise.	   leftI   input.o_wslides_js_quiz_answer_valueW   Enter at least two possible <b>Answers</b>.=   a.o_wslides_js_quiz_is_correcty   Mark the correct answer by checking the <b>correct</b> mark.   rightO   i.o_wslides_js_quiz_comment_answer:last   You can add <b>comments</b> on answers. This will be visible with the results if the user select this answer.K   a.o_wslides_js_quiz_validate_question5   <b>Save</b> your question.?   li.breadcrumb-item:nth-child(2)   Click on your <b>Course</b> to go back to the table of content.   top)   label.js_publish_btn{   Once you're done, don't forget to <b>Publish</b> your course.K   a.o_wslides_js_slides_list_slide_link   Congratulation you've created your first course.<br/>Click on the title of this content to see it in fullscreen mode.!!      require	   core   _t	   tour       +H!!       !!   url!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!!!   run!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!!!   run!!    !!       !!   trigger!!!!   content!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!    !!       !!   trigger!!!!   content!!    !!       !!   trigger!!!!   content!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!!!   width!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    ;      5 !!       C        )                                            E                T  =    : W   QT  =   : W  QT  =   :    QT  =   :    QV   5      QV  5   W  QV   5      QV     
[      	   
[    V  5
   5   [   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   : ]   V  5
   5   D   QZ       
Z   =   `    =   `   : ]      ]      ]      ]      ]       ]!      ]"      ]#   	   ]$   
   ]%      ]&      ]'      ]      ]      ]      ]      ]      ]      ](    QG.36@GHPP/ $F1n  )f c 3f      P      \  E  M'    web.core   portal.chatter   web.utils   web.time   _t   PortalChatter	   qweb   include   _   extend   prototype   events%   _onClickStarDomain=   click .o_website_rating_select/   _onClickStarDomainResetG   click .o_website_rating_select_text1   _onClickPublisherCommentS   click .o_wrating_js_publisher_comment_btnU   click .o_wrating_js_publisher_comment_edit=   _onClickPublisherCommentDeleteY   click .o_wrating_js_publisher_comment_delete=   _onClickPublisherCommentSubmitY   click .o_wrating_js_publisher_comment_submit=   _onClickPublisherCommentCancelY   click .o_wrating_js_publisher_comment_cancel   xmlDependencies   concat]   /portal_rating/static/src/xml/portal_tools.xmla   /portal_rating/static/src/xml/portal_chatter.xml	   init%   preprocessMessages   roundToHalf   _chatterInit5   _messageFetchPrepareParams1   _newPublisherCommentData-   _preprocessCommentData)   _getCommentContainer#   _getCommentButton'   _getCommentTextarea#   _focusTextComment+   _onChangeRatingDomain!!      require	   core   portalChatter   utils	   time   _t   PortalChatter	   qweb      +H!!            !!       !!=   click .o_website_rating_select!!!!G   click .o_website_rating_select_text!!!!S   click .o_wrating_js_publisher_comment_btn!!!!U   click .o_wrating_js_publisher_comment_edit!!!!Y   click .o_wrating_js_publisher_comment_delete!!!!Y   click .o_wrating_js_publisher_comment_submit!!!!Y   click .o_wrating_js_publisher_comment_cancel!!    !!        	   initC          '                                  "  6  6 E              	W   QW  QV  5       
V  V   O Q      
V  5   =   :  9   V        
V  5   [    B]   >]   : 0   QV     
=	   [    QV     
=
   B QV     
=   V  V  5    Q $"+&"?    _super   apply   _   contains   options   display_rating   defaults)   rating_default_value   set%   rating_card_values   rating_value   on'   change:rating_value+   _onChangeRatingDomain!!      parent   options   arguments   .this       +H!!       !!   display_rating!!!!)   rating_default_value!!    !!            ;#      5!!       %   preprocessMessagesC t                                             R h J h F                	W   QW  QV     QV  5       
V  V   O U  QV  5   5            
T       QV  T  0   QT    
	"#    _super   apply   options   display_rating   _	   each   messages!!      messages	   self   arguments   .this      +H!!        )   preprocessMessages/<b  <  < F           5 ;5!!          roundToHalfC           8                                     }  u  G  =                     T  : W   QV         V   
: W  Q      
V  
: W  QV  H          V   
: <    V  D   QV           
V   :           V   
: <   I
d@    parseFloat   parseInt	   Math   round!!      ?!!      ?!!      value   converted   decimal       +H;@       5 !!          _chatterInitC  B                                                z  z H                	W   QW  QV     QV  5       
V  V   O    
    :   
" a    _super   apply	   then!!   	   self   arguments   .this        +H!!          _chatterInit/<b  w  w H     @          result    ratingData   B  J  J I             55;5!!       5   _messageFetchPrepareParamsC  R                                                     I              	W  QW  QV  5       
V  V  O W   QV  5   5      V   C0   QV    "#    _super   apply   options   display_rating   rating_include!!      params   arguments   .this         +H;#       5!!       1   _newPublisherCommentDataC                                   
           B S : S J  1             W   Q[    T  ]    V   5   5   ]      5      
=   =   V   5   5   : ]	      =
   : ]   =   ]   =   ]   @%X    mes_index   options   partner_id   publisher_id   _   str   sprintfA   /web/image/%s/%s/image_128/50x50   res.partner!   publisher_avatar%   Write your comment   publisher_name   %   publisher_datetime#   publisher_comment!!      messageIndex   .this       +H!!       !!   mes_index!!!!   publisher_id!!!!!   publisher_avatar!!!!   publisher_name!!!!%   publisher_datetime!!!!#   publisher_comment!!    ;       5!!       -   _preprocessCommentDataC M        A                                    s   k   J  b     	       W  Q[    T  5    ]    T ]   T  5   >               
T  5   : :    
=   :    =   ]   T  5      T  5      =   ]   W   QT  5	   E   QT  5	   
   _   V   T  5	   >70	   QV   T  5	   ?70   QV      5      
=   =   V   5	   : 0   Q      
V     
T : V   : W  QV   7;%O=24A    id   mes_index%   publisher_datetime   moment   str_to_datetime   format/   MMMM Do YYYY, h:mm:ss a   #   publisher_comment   publisher_id   length   publisher_name   _   str   sprintfA   /web/image/%s/%s/image_128/50x50   res.partner!   publisher_avatar   extend1   _newPublisherCommentData!!      rawRating   messageIndex   ratingData   commentData   .this       +H!!       !!   id!!!!   mes_index!!!!%   publisher_datetime!!!!#   publisher_comment!!    ;"       5!!       )   _getCommentContainerC 7                                                >  6  K                T      
=   :    
:     
=   :    
:    2%    parents=   .o_wrating_publisher_container   first	   find9   .o_wrating_publisher_comment!!      $source        +H;       5!!       #   _getCommentButtonC 7                                                 R  R K               T      
=   :    
:     
=   :    
:   !2,    parents=   .o_wrating_publisher_container   first	   findG   .o_wrating_js_publisher_comment_btn!!      $source        +H;       5!!       '   _getCommentTextareaC 7                                                o  g  K               T      
=   :    
:     
=   :    
:   2'    parents=   .o_wrating_publisher_container   first	   find=   .o_portal_rating_comment_input!!      $source        +H;       5 !!       #   _focusTextCommentC #                                               :  : K  J            W   QV       
T  :    
  Q T" '   _getCommentTextarea   focus!!      $source   .this       +H;       5!!       %   _onClickStarDomainC         >                                   V  N  K              W  QV      
T  5   : W   QV      
=   : W  QV      
=   : =   H   V     
=   V   QV      
=	   :    
[    <    ]    QV      
=
   V  =   :    
[   =   ]   ?]    QV      
=   V  =   :    
[   ?]    Q (B+=    $   currentTarget	   data	   star   css   opacity   1   set   rating_value1   .o_website_rating_selectS   .o_website_rating_select_text[data-star="   "]   visible   visibilityI   .o_website_rating_select[data-star="!!      ?!!      ev   $tr   num   .this       +H!!       !!   opacity!!    !!       !!   visibility!!!!   opacity!!    !!       !!   opacity!!    ;"       5 !!       /   _onClickStarDomainResetC                                                  K  $            W   QT      
  QT     
  QV      
=   B QV      
=   :    
=   =    QV      
=	   :    
[    ?]
    Q )((    stopPropagation   preventDefault   set   rating_value   $;   .o_website_rating_select_text   css   visibility   hidden1   .o_website_rating_select   opacity!!      ev   .this       +H!!       !!   opacity!!    ;       5 !!       1   _onClickPublisherCommentC R        N                         !               K              W  QV      
T  5   : W   QV     
V   :    ?H%   V     
V   :    
  QV      
=   : W  Q[    V  5   5	   ]
   W  QV  V     
V  : 0   QV  5   V  75   W  QV  5   V  5      V  5      =   0   QV     
V   :    
              
=   V  : :  QV     
V    Q .# Q00-Y*I     $   currentTarget'   _getCommentTextarea   length)   _getCommentContainer   empty	   data   mes_index   options#   is_user_publisher   is_publisher1   _newPublisherCommentData   rating   messages#   publisher_comment   	   html   renderW   portal_rating.chatter_rating_publisher_form#   _focusTextComment!!      ev   $source   messageIndex	   data   oldRating   .this       +H!!       !!   is_publisher!!    ;"       5 !!       =   _onClickPublisherCommentDeleteC          1                                     4  ,  L                W  QV     QV      
T  5   :    Q      
=   :    QV  5      75   5   W   QV     
[   =   ]	   [    V   ]
   =   ]   ]   :    
    Q / b      $   currentTarget	   data   mes_index   messages   rating   id	   _rpc/   /website/rating/comment   route   rating_id   #   publisher_comment   params	   then!!      ev	   self   $source   messageIndex   ratingId   .this      +H!!       !!   rating_id!!!!#   publisher_comment!!    !!       !!   route!!!!   params!!    !!       A   _onClickPublisherCommentDelete/<b 9  1  L           5 ;5!!       =   _onClickPublisherCommentSubmitC          :                                      Q  Q L                W  QV     QV      
T  5   :    Q      
=   :    QV     
   :    
:  W   QV  5      75   5   W  QV  	   
[   =
   ]   [    V  ]   V   ]   ]   :    
    Q "
/ g     $   currentTarget	   data   mes_index'   _getCommentTextarea   val   messages   rating   id	   _rpc/   /website/rating/comment   route   rating_id#   publisher_comment   params	   then!!      ev	   self   $source   messageIndex   comment   ratingId   .this      +H!!       !!   rating_id!!!!#   publisher_comment!!    !!       !!   route!!!!   params!!    !!       A   _onClickPublisherCommentSubmit/<b [ N S N L    0       5 ;5!!       =   _onClickPublisherCommentCancelC          5                                    y  q  L  !            W  QV      
T  5   : W   QV      
=   : W  QV  5   V  75   5   W  QV     [    V  5   V  75   ]   V  5   5   ]	   W  QV  
   
V   :    
              
=   V  : :  Q#   V  
   
V   :    
  Q *=*-*R#	    $   currentTarget	   data   mes_index   messages   rating#   publisher_comment   options#   is_user_publisher   is_publisher)   _getCommentContainer	   html   render]   portal_rating.chatter_rating_publisher_comment   empty!!      ev   $source   messageIndex   comment	   data   .this       +H!!       !!   rating!!!!   is_publisher!!    ;2       5!!       +   _onChangeRatingDomainC                                                 =  5  L              W  QZ    W   QV      
=   : F   Z   Z   =   `    =   `   V      
=   : `   `    W   QV     
?V    Q 
"    get   rating_value   =%   _changeCurrentPage!!      domain   .this         +H;"       5 !!       !!   events!!!!   xmlDependencies!!!!	   init!!!!%   preprocessMessages!!!!   roundToHalf!!!!   _chatterInit!!!!5   _messageFetchPrepareParams!!!!1   _newPublisherCommentData!!!!-   _preprocessCommentData!!!!)   _getCommentContainer!!!!#   _getCommentButton!!!!'   _getCommentTextarea!!!!#   _focusTextComment!!!!%   _onClickStarDomain!!!!/   _onClickStarDomainReset!!!!1   _onClickPublisherComment!!!!=   _onClickPublisherCommentDelete!!!!=   _onClickPublisherCommentSubmit!!!!=   _onClickPublisherCommentCancel!!!!+   _onChangeRatingDomain!!    ;5 !!       C            `       
                              a % Y % P                T  =    : W   QT  =   : W  QV   5      QV  5   W  QV     
[	         
[    V  5   5   [   =	   ]
   =   ]   =   ]   =   ]   : ]      ]      ]      ]      ]	      ]      ]      ]    QH-4 -#c    %7  @   P      web.core   portal.composer   _t   PortalComposer   include   _   extend   prototype   events   _onClickStar   click .stars i-   _onMouseleaveStarBlock#   mouseleave .stars   _onMoveStar%   mousemove .stars i!   _onMoveLeaveStar'   mouseleave .stars i	   init   start%   _onChangeStarValue!!      require	   core   portalComposer   _t   PortalComposer      +H!!            !!       !!   click .stars i!!!!#   mouseleave .stars!!!!%   mousemove .stars i!!!!'   mouseleave .stars i!!    !!       	   initC M        O                                  "  .  . P              	W   QW  QV  5       
V  V   O QT 5   $   T       T 5   : 0   QV        
V  5   [    B]   B]   >]   B]	   : 0   QV  Y    >=
   ^?   =   : ^   =   : ^   =   : ^   =   : ^   =   : ^0   QV  B0   QV     
=   V  5   5    QV     
=   V  V  5    Q "!&  9:    _super   apply)   default_rating_value   parseFloat   _   defaults   options   default_message%   default_message_id!   force_submit_url      I hate it   I don't like it   It's okay   I like it   I love it   labels   user_click   set   star_value   on#   change:star_value%   _onChangeStarValue!!      parent   options   arguments   .this       +H!!       !!   default_message!!!!%   default_message_id!!!!)   default_rating_value!!!!!   force_submit_url!!    ;#      5 !!          startC  B                                               = S 5 S Q                	W   QW  QV     QV  5       
V  V   O    
    :  
"      _super   apply	   then!!   	   self   arguments   .this        +H!!          start/<b   P | P Q           5;5!!       %   _onChangeStarValueC  <        7                                       o * g * Q              W  QV      
=   : W   Q      
V   : W  QV   V  W  QV  5      
=   :    
=    QV  	   
=
   :    
=   V  =   :    
=   :    
=    QV  R   V  	   
=
   :    
=   V  =   :    
=   :    
=    QV  	   
=   :    
V  5   V  7 Q 6(0    get   star_value	   Math   floor   $star_list   removeClass-   fa-star fa-star-half-o   addClass   fa-star-o   $   .stars	   find   i:lt(   )1   fa-star-o fa-star-half-o   fa-star   i:eq(A   fa-star-o fa-star fa-star-half-o   fa-star-half-o#   .rate_text .badge	   text   labels!!      val   index   decimal   .this         +H;"       5 !!          _onClickStarC }      
                                        @  8  R  L             W  QV      
=   :    
T  5   : W   QV     
=   V   ? QV  C0   QV  5      
V  	   
=   :  QU(    $   .stars i   index   currentTarget   set   star_value   user_click   $input   val   get!!      ev   index   .this       +H;       5 !!       -   _onMouseleaveStarBlockC  %                                                   R              W   QV       
=   :    
  Q     $   .rate_text	   hide!!      .this         +H;       5!!          _onMoveStarC i                                              ,  $  R  8            W  QV      
=   :    
T  5   : W   QV      
=   :    
  QV     
=   V   ? Q A    $   .stars i   index   currentTarget   .rate_text	   show   set   star_value!!      ev   index   .this       +H;       5 !!       !   _onMoveLeaveStarC  W                                                     R              W   QV   5     :   V      
=         V   5      
:  :  QV   B0    Q     user_click   set   star_value   parseInt   $input   val!!      .this         +H;"       5!!       !!   events!!!!	   init!!!!   start!!!!%   _onChangeStarValue!!!!   _onClickStar!!!!-   _onMouseleaveStarBlock!!!!   _onMoveStar!!!!!   _onMoveLeaveStar!!    ;5!!       C            M                                      T  T V                T  =    : W   QT  =   :    QT  =   : W  QV  5      QV   5      
[   =   ]   Z   =   `    =	   `   =
   `   ]       ]      ]   :    QV   5   V   5      
[   =   ]      ]   : 0   QH!10',1= k zF$  #   web.public.widget   web.session   portal.composer   PortalComposer   Widget   extend7   portal_rating.PopupComposer   templateS   /portal/static/src/xml/portal_chatter.xml]   /portal_rating/static/src/xml/portal_tools.xmlq   /portal_rating/static/src/xml/portal_rating_composer.xml   xmlDependencies	   init   start   registry1   .o_rating_popup_composer   selector'   RatingPopupComposer!!      require   publicWidget   session   portalComposer   PortalComposer'   RatingPopupComposer      +H!!        	   initC          7                                  "  4  4 V       	       	W   QW  QV  5       
V  V   O QV        
T 5   d: dD   Q>0   QV  T 5   D   Q>0   QV     	   
[    T [   B]
   B]   B]   >]   T 5      B      5    ]   C]      5   ]      5   ]   : 0   Q "..$51      _super   apply	   Math   round   ratingAvg   rating_avg   ratingTotal   rating_total   _   defaults   token   res_model   res_id   pid!   disable_composer   is_website_user!   display_composer   display_rating	   odoo   csrf_token   user_id   options!!      parent   options   arguments   .this       +H!!            !!       !!   token!!!!   res_model!!!!   res_id!!!!   pid!!!!!   display_composer!!!!   display_rating!!!!   csrf_token!!!!   user_id!!    ;      5!!          startC        
   .                                      C  ;  V       
       	W  QW  QZ    W   QV       
V  5      
V  V  O  QV     AV  V  5   ,  R 0   QV       
V  5      
V     
=   : :  Q   	   
V   :  
-&!H 	   push   _super   apply   options   _composer   replace   $5   .o_portal_chatter_composer   Promise   all!!   	   defs   arguments   .this         +H;       5!!       !!   template!!!!   xmlDependencies!!!!	   init!!!!   start!!    !!          startC           !                                       O  O V              	W  QW  QV  5       
:  W   Q   AV  V   ,  R W  Q      
Z   V  5      
V  V  O `    V     
V  5    : `   :  ."P    $el	   data   Promise   all   _super   apply   appendTo!!      ratingPopupData   ratingPopup   arguments   .this         +H;       5 !!       !!   selector!!!!   start!!    ;5 !!       C  B                                                M  M Y                T  =    : W   QT  =   :    QV      
[       ]    QM$!   )   web_tour.TourManager+   web.public.lazyloader   include)   _waitBeforeTourStart!!      require   TourManager   lazyloader      +H!!       )   _waitBeforeTourStartC  G                                                H  H Y                	W   QW  QV  5       
V  V   O    
    :    
   :   "6O    _super   apply	   then!!      arguments   .this         +H!!       -   _waitBeforeTourStart/<b      Y           5 !!       -   _waitBeforeTourStart/<b   E  E Y  J            B # B  B Y  h         5 5;5!!       !!)   _waitBeforeTourStart!!    ;5!!       C           x                                      4  4 \                T  =    : W   QT  =   : W  QV      
V  [   X0u]   X']   =   ]   @]   >]   C]	   @]
       ]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]   : W  QV  A!)%  R    68  << Jm  [ \        web.Bus#   web.ServicesMixin   extend=   PARTNERS_PRESENCE_CHECK_PERIOD#   ERROR_RETRY_DELAY#   /longpolling/poll   POLL_ROUTE   _isActive'   _lastNotificationID   _isOdooFocused#   _pollRetryTimeout	   init   destroy   addChannel   deleteChannel   isOdooFocused   startPolling   stopPolling   updateOption!   _getLastPresence   _poll   _makePoll   _onFocusChange   _onPoll   _onPresence!!      require   Bus   ServicesMixin   LongpollingBus       +H!!       	   initC L        m                         A         "     \  m     
       	W   QW  QV  5       
V  V   O QV        
=   : 0   QV  V  5   0   QV  [    0   QV  Z    0   QV  	   A,  R  
   
:  0   Q         :    
=   V  5   V  5      
V  [   C]   :  Q         :    
=   V  5   V  5      
V  [   B]   :  Q         :    
=   V  5   V  5      
V  [   B]   :  Q         :    
=   V  5   V  5      
V  :  Q         :    
=   V  5   V  5      
V  :  Q         :    
=   V  5   V  5      
V  :  Q }"	 
LPKPMR-@/B-@    _super   apply   _   uniqueId   bus   _id#   _longPollingBusId   _options   _channels	   Date   getTime#   _lastPresenceTime   $   window   on   focus.   _onFocusChange	   bind   focus   blur.   unload.   click.   _onPresence   keydown.   keyup.!!      parent   params   arguments   .this       +H!!            !!       !!   focus!!    !!       !!   focus!!    !!       !!   focus!!    ;      5!!          destroyC  -        *                          (                \  +            W   QV       
  Q         :    
=   V   5    Q         :    
=   V   5    Q         :    
=   V   5    Q         :    
=   V   5    Q         :    
=	   V   5    Q         :    
=
   V   5    QV      
  Q .
%
$
&
%
'
%    stopPolling   $   window   off   focus.#   _longPollingBusId   blur.   unload.   click.   keydown.   keyup.   _super!!      .this         +H;       5 !!          addChannelC v                                              +  #  \              W   QV   5       
T  : HU   V   5       
T   QV   5      V   5      
  Q   V      
  Q &    _channels   indexOf	   push   _pollRpc   abort   startPolling!!      channel   .this       +H;B       5!!          deleteChannelC l                                   
            d  d \  ,            W  QV  5       
T  : W   QV   IB   V  5       
V   ? QV  5      V  5      
  Q :     _channels   indexOf   splice   _pollRpc   abort!!      channel   index   .this       +H;2       5!!          isOdooFocusedC           	                                      {  s  \              W   QV   5         _isOdooFocused!!      .this         +H;       5!!          startPollingC  e                                                '  ' \              W   QV   5    @H'   V   V   5      
V   : 0   QV   5         V   C0    QV      
  Q     _isActive   _poll	   bind!!      .this         +H;2       5 !!          stopPollingC  \                                               <  4  ]  L             W   QV   B0    QV   Z    0   Q      V   5    QV   5      V   5      
  QO%    _isActive   _channels   clearTimeout#   _pollRetryTimeout   _pollRpc   abort!!      .this         +H;"       5!!          updateOptionC          	                                         ]               W   QV   5    T  T 9Q      _options!!      key   value   .this       +H;       5!!       !   _getLastPresenceC           	                                       -  - ]              W   QV   5      #   _lastPresenceTime!!      .this         +H;       5!!          _pollC           K                                      <  4  ]                W  QV     QV  5           A,  R     
:  W   Q      
[    V  5   [   V   V     
:  ]   : W  Q[   V  5   ]	   V  5
   ]   V  ]   W  QV  V     
V  : 0   QV  5      
   :    
    Q S
 H#M]     _isActive	   Date   getTime   _   extend   _options!   _getLastPresence   bus_inactivity   _channels   channels'   _lastNotificationID	   last   options   _makePoll   _pollRpc	   then   guardedCatch!!   	   self   now   options	   data   .this        +H!!            !!       !!   bus_inactivity!!    !!       !!   channels!!!!	   last!!!!   options!!    !!          _poll/<b k  c  ^           5!!          _poll/<b     ^  X  0       5;5!!          _makePollC D                                                   ^  \            W   QV       
[    V   5   ]   T  ]   [   C]   X`]   :  cK 	   _rpc   POLL_ROUTE   route   params   shadow   timeout!!   	   data   .this       +H!!       !!   route!!!!   params!!    !!       !!   shadow!!!!   timeout!!    ;       5!!          _onFocusChangeC f                                   	           8  0  ^              W   QV   T  5    0   QT  5    D   V      A,  R     
:  0   QV      
=   V   5    Q !
2    focus   _isOdooFocused	   Date   getTime#   _lastPresenceTime   trigger   window_focus!!      params   .this       +H;"       5!!          _onPollC J                                                  ^                W  QV     Q       
T      : W   QV     
=   V    QV    '$    _   map   trigger   notification!!      notifications	   self   notifs   .this      +H!!           _onPoll/notifs<b (     ^            5 ;5!!          _onPresenceC  (                                                   _  o             W   QV       A,  R     
:  0   Qr
 	   Date   getTime#   _lastPresenceTime!!      .this         +H;       5!!       !!=   PARTNERS_PRESENCE_CHECK_PERIOD!!!!#   ERROR_RETRY_DELAY!!!!   POLL_ROUTE!!!!   _isActive!!!!'   _lastNotificationID!!!!   _isOdooFocused!!!!#   _pollRetryTimeout!!!!	   init!!!!   destroy!!!!   addChannel!!!!   deleteChannel!!!!   isOdooFocused!!!!   startPolling!!!!   stopPolling!!!!   updateOption!!!!!   _getLastPresence!!!!   _poll!!!!   _makePoll!!!!   _onFocusChange!!!!   _onPoll!!!!   _onPresence!!    ;5!!       C  +                                                  b                T  =    : W   QT  =   :    QV      
[   X']   X]   X]   X:]   =   ]   B]	   B]
       ]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]      ]   : W  QV  > !"   Hvy&2;vu`eI^ 5{ ) sx b   s V    bus.Longpolling   web.session   extend)   TAB_HEARTBEAT_PERIOD7   MASTER_TAB_HEARTBEAT_PERIOD9   HEARTBEAT_OUT_OF_DATE_PERIOD3   HEARTBEAT_KILL_OLD_PERIOD   bus)   LOCAL_STORAGE_PREFIX   _isMasterTab   _isRegistered	   init   destroy   addChannel   deleteChannel   getTabId   isMasterTab   startPolling   updateOption#   _callLocalStorage   _generateKey!   _getLastPresence   _heartbeat+   _registerWindowUnload   _startElection   _onFocusChange   _onPoll   _onStorage   _onUnload!!      require   Longpolling   session   CrossTabBus      +H!!       	   initC  %        1                                   "      b  y     	       	W  QW  QV  5       
V  V  O Q   A,  R     
:  W   QV     5      
    =   : 0   QV        
V  5	   : =
   V   0   QV     
=   =   >: XPV      V     
=   =    QV  V     
=   =   >: 0   QV     
=   =   V  V  5   l Q |&
(	.9+<    _super   apply	   Date   getTime   origin   replace   _!   _sanitizedOrigin   uniqueId)   LOCAL_STORAGE_PREFIX   :   _id#   _callLocalStorage   getItem   last_ts   removeItem	   last'   _lastNotificationID	   call   local_storage   onStorage   _onStorage!!      now   arguments   .this         +H!!   :\/{0,2}   ;#      5!!          destroyC  -                                                   c               W   QV       
  Q      V   5    Q  %    _super   clearTimeout#   _heartbeatTimeout!!      .this         +H;       5!!          addChannelC  K                                             "  h  h c               	W   QW  QV  5       
V  V   O QV     
=   =   V  5    Q  "<    _super   apply#   _callLocalStorage   setItem   channels   _channels!!      arguments   .this         +H;      5 !!          deleteChannelC  K                                             "   w  c  V            	W   QW  QV  5       
V  V   O QV     
=   =   V  5    Q Y"<    _super   apply#   _callLocalStorage   setItem   channels   _channels!!      arguments   .this         +H;      5!!          getTabIdC           	                                          c              W   QV   5         _id!!      .this         +H;       5!!          isMasterTabC           	                                       9  9 c              W   QV   5         _isMasterTab!!      .this         +H;       5!!          startPollingC          ^                         '            O 6 G 6 c  &     	       	W  QW  QV  5    @H'   V  V  5      
V  : 0   QV  5    u  V  C0   QV     
=   =   [    : W   QV   V  5      A,  R  	   
:  9QV     
=
   =   V    QV     
  QV     
=   =   :     V     
  QV     
  QV  5   O   V     
=
   =   V  5    QV     
=
   =   V  5    Q\   V  V     
=   =   V  5   : 0   QV  V     
=   =   V  5   : 0   QV  5   "   V  5      
V  V  O Q )-
0,<@<9#    _isActive   _heartbeat	   bind   _isRegistered#   _callLocalStorage   getItem   peers   _id	   Date   getTime   setItem+   _registerWindowUnload   master   _startElection   _isMasterTab   channels   _channels   options   _options   _super   apply!!      peers   arguments   .this         +H!!            ;s       5 !!          updateOptionC  K         
                                    " L  D  g  P             	W   QW  QV  5       
V  V   O QV     
=   =   V  5    QS":    _super   apply#   _callLocalStorage   setItem   options   _options!!      arguments   .this         +H;      5!!       #   _callLocalStorageC 2                                               !  ! g               W   QV       
=   T  V      
T : T l   (? 	   call   local_storage   _generateKey!!      method   key   param   .this       +H;       5!!          _generateKeyC +         	                                     7  /  g  ;            W   QV   5    =   V   5   =   T   AC )   LOCAL_STORAGE_PREFIX   .!   _sanitizedOrigin!!      key   .this       +H;       5!!       !   _getLastPresenceC  6                                                   g              W   QV       
=   =   : D   QV      
:   2 #   _callLocalStorage   getItem   lastPresence   _super!!      .this         +H;       5 !!          _heartbeatC                                  0                g              W  Q    A,  R     
:  W   Q      V     
=   =   >: : W  QV     
=   =   [    : W  QV  V  5   V   @   V     
  Q      V     
=   =   >: : W  QV  5	   1  [   W  QV  K=   mW  V  V  7V  5
   V      V  V  V  V  79QQLMQNV  V  5   It   V  B0	   QV  >0   QV  V  5   V   9QV     
=   =   V   QV     
  QV     
=    QN   V  V   0   QV     
=   =   V    QV     
=   =   V   Q6   V  V  5   V   9QV     
=   =   V   QV  5	      V  5      V  5   W  QV  5   V  V   (   V     
=   =   V  5    QV        V  5      
V  : V  : 0   Q >-;8B7(0'2>V("0 	   Date   getTime   parseInt#   _callLocalStorage   getItem   heartbeat   peers9   HEARTBEAT_OUT_OF_DATE_PERIOD   _startElection   _isMasterTab3   HEARTBEAT_KILL_OLD_PERIOD   lastHeartbeat   _id   setItem   stopPolling   trigger!   no_longer_master7   MASTER_TAB_HEARTBEAT_PERIOD)   TAB_HEARTBEAT_PERIOD#   _lastPresenceTime   lastPresence   setTimeout   _heartbeat	   bind#   _heartbeatTimeout!!      now   heartbeatValue   peers   cleanedPeers   peerName   hbPeriod   .this         +H!!            !!            ;      D          5 !!       +   _registerWindowUnloadC  J                                   	                k  g             W   Q           :    
=   V   5   V   5      
V   :  Qj 1    $   window   on   unload.   _id   _onUnload	   bind!!      .this         +H;       5 !!          _startElectionC  d        d                                    
 `  ` k               W  QV  5          A,  R     
:  W   QV     
=   =   [    : W  QV   V  5   W  QV  K3   mW  V  V  7V        V  W  Q   QLMQNV  V  5   H   V  V   0   QV     
=	   =
   V  5    QV     
=	   =   C QV  C0    QV     
  QV     
=    QV  V  /QV     
=	   =   V   Q   3 l18>8%HP l  A01    _isMasterTab	   Date   getTime#   _callLocalStorage   getItem   peers3   HEARTBEAT_KILL_OLD_PERIOD   _id   lastHeartbeat   setItem   heartbeat   master   startPolling   trigger   become_master!!      now   peers!   heartbeatKillOld   newMaster   peerName   .this         +H!!            ;   t   :   R       5 !!          _onFocusChangeC J                                            " x  p  n  L            	W   QW  QV  5       
V  V   O QV     
=   =   T  5    Q U"7    _super   apply#   _callLocalStorage   setItem   focus!!      params   arguments   .this       +H;      5 !!          _onPollC          #                                         n       	       W  QV      
T  : W   QV  5   E   QV      u   V     
=   =   V  5    QV     
=   =      A,  R  	   
:   QV     
=   =
   V    Q %B+A9    _super   _isMasterTab   length#   _callLocalStorage   setItem	   last'   _lastNotificationID   last_ts	   Date   getTime   notification!!      notifications   notifs   .this       +H;"       5 !!          _onStorageC 2        o                          .               n       
       W  Q       
T  5   : W   QT  5   W  QV  5   E+   QV  V     
=   : HE   QV       V     
  QV  V     
=   : H"   V  V   D   Q>0	   Q  V  V     
=
   : H4   V  5       V     
=
   V    Q4  V  V     
=   : H   V   W  Q      
      
V  5   V  : V  5      
V  :  Q      
      
V  V  5   : V  5      
V  :  Q   V  V     
=   : H   V  V   0   QO   V  V     
=   : H1   V  V   0   QV     
=   V  5    Q 
		#	#&L&		2 	   JSON   parse   newValue   key   _isRegistered   _generateKey   master   _startElection	   last'   _lastNotificationID   notification   _isMasterTab   trigger   channels   _	   each   difference   _channels   deleteChannel	   bind   addChannel   options   _options   focus   _isOdooFocused   window_focus!!      e   value   key   channels   .this       +H;       5!!          _onUnloadC                                                    s               W  QV      
=   =   : D   Q[    W   QV   V  5   /QV      
=   =   V    QV  5      V      
=   =    Q  .0/ #   _callLocalStorage   getItem   peers   _id   setItem   _isMasterTab   removeItem   master!!      peers   .this         +H!!            ;"       5 !!       !!)   TAB_HEARTBEAT_PERIOD!!!!7   MASTER_TAB_HEARTBEAT_PERIOD!!!!9   HEARTBEAT_OUT_OF_DATE_PERIOD!!!!3   HEARTBEAT_KILL_OLD_PERIOD!!!!)   LOCAL_STORAGE_PREFIX!!!!   _isMasterTab!!!!   _isRegistered!!!!	   init!!!!   destroy!!!!   addChannel!!!!   deleteChannel!!!!   getTabId!!!!   isMasterTab!!!!   startPolling!!!!   updateOption!!!!#   _callLocalStorage!!!!   _generateKey!!!!!   _getLastPresence!!!!   _heartbeat!!!!+   _registerWindowUnload!!!!   _startElection!!!!   _onFocusChange!!!!   _onPoll!!!!   _onStorage!!!!   _onUnload!!    ;5!!       C            W                        	            f  ^  v         
          T  =    : W   QT  =   : W  QT  =   : W  QT  =   :    QV      
V  [   Z   =   `    ]   @]       ]      ]	      ]
      ]      ]      ]      ]   : W  QV  5      
=   V   QV  .	#*0   o5 v   3    bus.CrossTab   web.core#   web.ServicesMixin   web.session   extend   local_storage   dependencies   _audio	   init   _trigger_up   start!   sendNotification   onNotification   _beep/   _sendNativeNotification   serviceRegistry   add   bus_service!!      require   CrossTab	   core   ServicesMixin   BusService       !!          session          +H!!      	   initC #                                              y  q  v  8            W   QV   T  0    QV      
  Q >    env   _super!!      env   .this       +H;       5 !!         _trigger_upC          *                                        v  o     	       W   QT  5    =   H           QT  5     QV  5   D   QZ      QV  5   =   HE   QV  5   =   H!   V     
T  5	   : W  QV   5
   5   V  5   7  QV  V  5   7   
V  V  O   QV     
V   Q t51, 	   name   call_service	   data	   args   service	   ajax   method   rpc   concat   target   env   services   apply   callback!!      ev   .this       !!       	   args   payload   service   result         +H;         2       5 !!         startC                                                         w                    !!              +H;       5 !!      !   sendNotificationC         3                                       w               W   Q    5   E   Q   5   =   H   V      
:     V      
T  T T  Qg     Qv  QV  5      
=   : /   V   	   
T  T  QV   
   
  Q   V  p >   V   	   
T  T  QV      
:     V   
   
  Q  =B7    window   Notification   permission   granted   isMasterTab/   _sendNativeNotification   message   indexOf3   ServiceWorkerRegistration   do_notify   _beep!!      title   content   callback   .this       !!          error         +H;     C         c   ^          5!!         onNotificationC  [                                   
          "     w  C     
       	W   QW  QV  5       
V  Z   =   `       
   5   5      
V   l : O Q FS    on   apply   notification   concat   Array   prototype   slice	   call!!      arguments   .this         +H;      5 !!         _beepC           1                                       	  	 w              W  Q    '=   I   V  5    ~   V      A,  R  0   QV  5      
=   :    =      =   W   QV  5            
=   V   : 0	   Q
      
V  5      
:  :    
   5    Q B$    Audio   undefined   _audio   canPlayType1   audio/ogg; codecs=vorbis	   .ogg	   .mp3   url7   /mail/static/src/audio/ting   src   Promise   resolve	   play   catch   _	   noop!!      ext   .this         +H;2       5 !!      /   _sendNativeNotificationC Z                                               * T " T x                    A      
T  : [          
T : ]   =   ]   ,  R W   QV      0   Qrs    Notification   _   unescape	   bodyY   /mail/static/src/img/odoobot_transparent.png	   icon   onclick!!      title   content   callback   notification      +H!!       !!	   body!!!!	   icon!!    !!        Y   _sendNativeNotification/notification.onclickb   R  R x    B       5;5!!    	   !!   dependencies!!!!   _audio!!!!	   init!!!!   _trigger_up!!!!   start!!!!!   sendNotification!!!!   onNotification!!!!   _beep!!!!/   _sendNativeNotification!!    ;                       5!!       C         	   =                                    6   .   |                          QT  =    :    QT  =   :    QT  =   :   QV  5      QV      
[       ]      ]      ]   :   Q[   V  ]   <: |        web.ajax   web.Class   web.core   _t   extend	   init   loadLibs   getToken   ReCaptcha!!      require        !!       	   ajax   Class	   core   _t   ReCaptcha           +H!!      	   initC           	                                          |               W   QV       5   0   Q  ( 	   odoo%   reCaptchaPublicKey   _publicKey!!      .this         +H;       5 !!         loadLibsC  q         &                         
             & Q  Q |                W   QV   5    ^   V            
=   V   5    :    
    : 0   QV   5      
   : B &VTG    _publicKey   loadJSe   https://www.recaptcha.net/recaptcha/api.js?render=	   then   _recaptchaReady!!      .this         +H!!       =   loadLibs/this._recaptchaReady<d"      |              D"     |               resolve    D"      |           5 55!!          loadLibs/<d"   ?  ? |           5 ;5!!         getTokenE          L                                 i q  [ q  }  &                 Q      Q   5     *   [        =   : ]         5            Q[      5      
   5    [      ]   :          ]      ;      v   Q[       =	   : ]
           }/  MR7  .    _publicKey9   No recaptcha public key set.   message   _recaptchaReady   window   grecaptcha   execute   action   tokenI   The recaptcha public key is invalid.   error!!      action   .generator   .this       !!          e           +H!!       !!   message!!    !!       !!   action!!    !!       !!   token!!    !!       !!   error!!    ;     h   V         -                    d      5 !!       !!	   init!!!!   loadLibs!!!!   getToken!!    !!       !!   ReCaptcha!!    ;                       5 !!       C  M                                               $ Q  Q                 T  =    : W   QV   5   V   5      
[   =   ]       ]   : 0   QEA. #   web.public.widget   registry   Widget   extend   #wrapwrap   selector   start   UnsplashBeacon!!      require   publicWidget       +H!!           startC           *                                       L  L                 	W   QW  Q       
V     
=   :     :    Q      3   V     
[   =   ]   :    
    QV  5	   
   
V  V   O   l/"    _   map   $-   img[src*="/unsplash/"]   length	   _rpc1   /web_unsplash/get_app_id   route	   then   _super   apply!!      unsplashImages   arguments   .this        +H!!        +   start/unsplashImages<b  M 
 M            5!!       !!   route!!    !!           start/<b                 5 ;5!!       !!   selector!!!!   start!!    ;5 !!       C  a       
                                          @  @                 T  =    : W   QV   5   V   5      
[   =   ]   [    =   ]   ]      ]   : 0	   QD=  #   web.public.widget   registry   Widget   extend   .oe_signup_form   selector   _onSubmit   submit   events   SignUpForm!!      require   publicWidget       +H!!       !!   submit!!    !!           _onSubmitC  L                                                ;  ;                W  QV      
=   : W   QV      
=   =    QV      
=    Q  4!4    $S   .oe_login_buttons > button[type="submit"]	   attr   disabled   prependG   <i class="fa fa-refresh fa-spin"/> !!   	   $btn   .this         +H;       5 !!       !!   selector!!!!   events!!!!   _onSubmit!!    ;5 !!       C            E                                     
  
                    T  =    :    QT  =   : W   QT  =   : W  QT  =   :   QV   5   V     
[   =   ]   [    =   ]	   ]
      ]      ]      ]   : 0   Q<!$A%4(        web.dom#   web.public.widget)   portal.PortalSidebar   web.utils   registry   extend3   .o_portal_invoice_sidebar   selector   _onPrintInvoice;   click .o_portal_invoice_print   events   start#   _updateIframeSize)   AccountPortalSidebar!!      require   publicWidget   PortalSidebar   utils      !!          dom          +H!!       !!;   click .o_portal_invoice_print!!    !!         startC           ,                                      ?  7         
       	W  QW  QV  5       
V  V  O W   QV  5      
=   : W  QV  5      
V  V  : W  Q         : 	   
=
   V   QV  >75   D   QV  >75   5   W  QV  5   =   H   V    Q   V  	   
=   V   QV    &)/
"R&    _super   apply   $el	   find'   iframe#invoice_html#   _updateIframeSize	   bind   $   window   on   resize   contentDocument   contentWindow   document   readyState   complete	   load!!      def   $invoiceHtml!   updateIframeSize   iframeDoc   arguments   .this         +H;3       5 !!      #   _updateIframeSizeC           C                                      
  
   '             T      
:     
=   : W   QT     
> QT     
V   >75    Q     
   5   5   :     	   	      5   5   : W  QV  
                
V  >7[    >]    Q1
&+& &&    contents	   find   div#wrapwrap   height   scrollHeight   isValidAnchor   window   location	   hash   $   length   scrollTo   duration!!      $el   $wrapwrap   $target       +H!!       !!   duration!!    ;0       5 !!         _onPrintInvoiceC Q                                   	           
 }
 
 }
   @             W  QT      
  Q      T  5   :    
=   : W   QV     
V    QE    preventDefault   $   currentTarget	   attr	   href'   _printIframeContent!!      ev	   href   .this       +H;       5!!       !!   selector!!!!   events!!!!   start!!!!#   _updateIframeSize!!!!   _onPrintInvoice!!    ;         5 !!       C   b      #   /      5                  ,              
 < 
 <                 Z    5       QZ    5   D   Q     
  Q   5   D"   Q   5   D   Q   5      Q   [   6   Q   5   [   6   Q   5      6   Q   W   Q   5   Z
   [   =   ]	   f   ]
   V   ]   f   ]   Z   `    ]   C]   `    [   =   ]	   Z   XX`    ]
   V   ]   Z   `    ]   Z   `    ]   C]   `   [	   =   ]	   Z   X`    ]
   V   ]   Z   `    ]   Z   `    ]   C]   `   [
   =   ]	   Z   `    ]
   V   ]   Z   `    `   ]   Z   `    ]   C]   `   [   =   ]	   f   ]
   V   ]   Z   `    ]   Z   `    ]   C]   `   [   =   ]	   Z   "`    %`   ]
      ]   Z   `    ]   Z   `    `   ]   C]   `   [   =   ]	   Z   `    $`   &`   '`   ]
      ]   Z   `    ]   Z   `    ]   C]   `   [   =   ]	   Z   <`    @`   A`   Xn`   ]
   V   ]   Z   `    ]   Z   `    ]   C]   `   [   =   ]	   Z   >`    X`   ]
   V   ]   Z   `    `   `   `   ]   Z   `    ]   B]   `   [   =   ]	   Z   #`    ]
   V   ]   Z   `    ]   Z   `    ]   C]   `	      6   Q      Q      Q      Q      Q      Q      Q      Q      Q      Q      Q      Q      Q       Q!      Q"      Q#      Q$      Q%      Q&    	  Q'      Q(      Q   5   5   )   6   Q   5   5   *   6   Q   5   5   +   6   Q   5   5   ,   6   Q   5   5   -   6   Q   5   .   6   Q   5   /   6   Q   5   0   6   Q   5   1   6    Q   5   2   6!   Q   5   3   6   Q   5   4   6"   Q
z(  .!


,
'
'


 (  T            hr    B  [/     [ v  VPc     BW    slice   indexOf   window   jQuery   Zepto   $   payment   fn   maestro	   type   patterns   format   length   cvcLength	   luhn%   forbrugsforeningen   dankort	   visa   mastercard	   amex   dinersclub   discover   unionpay   jcb   cards   formatCardCVC!   formatCardExpiry!   formatCardNumber   restrictNumeric   cardExpiryVal%   validateCardNumber%   validateCardExpiry   validateCardCVC   cardType   formatExpiry!!   !   formatBackExpiry5   formatForwardSlashAndSpace   reFormatNumeric   __slice   luhnCheck   setCardType'   formatForwardExpiry   restrictExpiry   __indexOf   cards)   formatBackCardNumber   cardFromType   reFormatCVC!   formatCardNumber   restrictCVC   cardFromNumber   $   hasTextSelected   reFormatExpiry+   replaceFullWidthChars   safeVal   restrictNumeric%   reFormatCardNumber   defaultFormat   formatExpiry%   restrictCardNumber        +H!!          __indexOf<b         "       5!!            !!            !!          $.fn.paymentc   v                                              
  I  A    Z            	W  QW  QV  >7W  QV               
V  ?l    Z    W   Q   5   5   V  7   
V  V   O  a&    length	   call   payment   fn   apply!!   	   args   method   arguments   .this         +H;       5!!   (\d{1,4})   !!   	   !!  !!  !!  !!  !!8   !!:   !!  !!L  !!C      !!      !!   !!   !!   !!   !!   !!   !!   !!      !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!      !!3   !!4   !!5   !!6   !!7   !!   !!   !!   !!   !!   !!      !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!;   (\d{1,4})(\d{1,6})?(\d{1,5})?    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!;   (\d{1,4})(\d{1,6})?(\d{1,4})?    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!       !!	   type!!!!   patterns!!!!   format!!!!   length!!!!   cvcLength!!!!	   luhn!!    !!           cardFromNumberB 9 I 1 I   J  @       5!!          cardFromTypeB _  W    p  0       5 !!          luhnCheckB         @       5 !!          hasTextSelectedB  J  J   ,   @       5 !!          safeValB [  S              5 !!       +   replaceFullWidthCharsB       r   @       5 !!          reFormatNumericB +  #    '              $target   B  p  h    l          5 5!!       %   reFormatCardNumberB                    $target    B  U  M    Q         5 5!!       !   formatCardNumberB                   $target    digit    value    B  Z  R    @          5    B                  5 5!!       )   formatBackCardNumberB            p          $target    value    B     R    R    E          5    B                      5 5!!          reFormatExpiryB   !   !                $target    B  1! ! )! !   V         5 5!!          formatExpiryB ! # ! #     `          $target    val   B  " " " "             5    B  /# # '# #      0       5 5!!       '   formatForwardExpiryB # $ # $     0       5!!       5   formatForwardSlashAndSpaceB $ % $ %      0       5 !!       !   formatBackExpiryB % ' % '      `          $target    value   B  & ' & '   I          5 5!!          reFormatCVCB ' ' ' '                 $target   B  b' ' Z' '             5 5!!          restrictNumericB 
( ( ( (     P       5!!       %   restrictCardNumberB ( G* ( G*   ]   P       5 !!          restrictExpiryB _* [+ W* [+      @       5!!          restrictCVCB p+ >, h+ >,   o   0       5!!          setCardTypeB S, d. K, d.   C   0       	   card   B  	- - - -              55!!       5   $.payment.fn.formatCardCVCc                                                 
  . 4/ . 4/               W   QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV    $     on   keypress   paste   change   input!!      .this         +H;       5 !!       ;   $.payment.fn.formatCardExpiryc                                                  
  [/ 0 S/ 0               W   QV       
=       QV       
=    	   QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV    $#!/($!     on   keypress   keydown   change   input!!      .this         +H;       5!!       ;   $.payment.fn.formatCardNumberc            #                                     
  0 2 0 2   6            W   QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV       
=       QV    9$'%($%$    on   keypress   keydown   keyup   paste   change   input!!      .this         +H;       5!!       9   $.payment.fn.restrictNumericb  +2 2 #2 2            5 !!       5   $.payment.fn.cardExpiryValb  2 3 2 3   g         5 !!       /   $.payment.cardExpiryValb :3 x4 23 x4             5 !!       9   $.payment.validateCardNumberb 4 5 4 5   u   0       5 !!       9   $.payment.validateCardExpiryb 5 7 5 7             5!!       3   $.payment.validateCardCVCb 8 8 8 8      @       5 !!       %   $.payment.cardTypeb 9 9 9 9              5!!       5   $.payment.formatCardNumberb 9 L; 9 L;   e   P          B "; 0; ; 0;   ,          5 5!!       -   $.payment.formatExpiryb l; < d; <   v   `       5;5!!       C            6                                       `= H X= H                          =   :    
=    Q        =   :    
=    Q        =   :    
=    Q        =   :    
=	        Q        =   :    
=	       Q        =   :    
=	       Q        =
   :    
=       Q      #      $   input#cc_number   payment!   formatCardNumber   input#cc_cvc   formatCardCVC   input#cc_expiry!   formatCardExpiry   on   focusout;   select[name="pm_acquirer_id"]   change!!              +H!!        B > A > A   +   R       5 !!       B B D B D     2       5 !!       B E G D G      2       5 !!       B  H H H H   ,         5 ;5!!       C  ~      #                            
            (I gy  I gy                 T  =    : W   QT  =   :    QT  =   : W  QV   5      QV  5   V  5      
[   =   ]   [    =	   ]
   =   ]   =   ]   =   ]   =   ]   =   ]   ]      ]      ]      ]      ]      ]      ]      ]      ]   	   ]   
   ]      ]       ]!      ]      ]      ]	      ]      ]      ]   : 0"   QV  5   5"   F!>',1?7  f9Q  WUt    %   | x	         2)    web.core   web.Dialog#   web.public.widget   _t   registry   Widget   extend   .o_payment_form   selector   onSubmit   submit   payEvent3   click #o_payment_form_pay   addPmEvent9   click #o_payment_form_add_pm   deletePmEvent=   click button[name="delete_pm"]-   onClickMorePaymentIconG   click .o_payment_form_pay_icon_more   radioClickEventA   click .o_payment_acquirer_select   events   start   displayError   hideError-   getAcquirerIdFromRadio   getFormData%   isFormPaymentRadio#   isNewPaymentRadio;   updateNewPaymentDisplayStatus   disableButton   enableButton   _parseError   _adaptPayButton   PaymentForm!!      require	   core   Dialog   publicWidget   _t      +H!!       !!   submit!!!!3   click #o_payment_form_pay!!!!9   click #o_payment_form_add_pm!!!!=   click button[name="delete_pm"]!!!!G   click .o_payment_form_pay_icon_more!!!!A   click .o_payment_acquirer_select!!    !!           startC  Q                                               7K L /K L                 	W   QW  QV      
  QV     QV  5      
V  V   O    
    :  =
"      _adaptPayButton   _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b  K L K L            5;5!!          displayErrorC                                  .           2L O *L O   5            W  QV      
=   : W   QV     
V   >7: W  QV     
V   >7: (   V      
=   V  : W  Q=   V     
V   >7: #   V      
=   V  : W  QV      >H      A@[      =   : 	   5
      
T  : ]   =   ]   =   	   5
      
T : D   Q=   =   ]   Z   [       =   : ]   C]   `    ]   ,  R    
:     V      
=   :    
  Q=   W  QT  =   3   V  =   	   5
      
T  : =   W  QV  	   5
      
T : =   W  QV     
V   Q I&2*+&		g  d   H"#%    $7   input[type="radio"]:checked-   getAcquirerIdFromRadio#   isNewPaymentRadio3   #o_payment_add_token_acq_%   isFormPaymentRadio)   #o_payment_form_acq_   length   Error:    _   str   escapeHTML   title   medium	   size   <p>   	   </p>   $content   Ok	   text   close   buttons	   open   #payment_error   removeo   <div class="alert alert-danger mb4" id="payment_error">   <b>   :</b></br>   </div>   append!!      title   message   $checkedRadio   acquirerID   $acquirerForm   messageResult   .this       +H!!       !!	   text!!!!   close!!    !!       !!   title!!!!	   size!!!!   $content!!!!   buttons!!    ;b       5!!          hideErrorC  %                                               O O O O   x             W   QV       
=   :    
  Q{	    $   #payment_error   remove!!      .this         +H;       5!!       -   getAcquirerIdFromRadioC !                                                O +P O +P                         T  :    
=   :       $	   data   acquirer-id!!      element        +H;       5!!          getFormDataC =                                               @P P 8P P                 T      
:  W   Q[       Q      
V       Q    E    serializeArray   $   map!!      $form   unindexed_array   indexed_array      +H!!            !!          getFormData/<b P P P P   j         5;5!!       %   isFormPaymentRadioC '                                                P :Q P :Q                        T  :    
=   : =   H     $	   data   form-payment	   True!!      element        +H;       5!!       #   isNewPaymentRadioC '                                                UQ Q MQ Q                        T  :    
=   : =   H #    $	   data   s2s-payment	   True!!      element        +H;       5!!       ;   updateNewPaymentDisplayStatusC  "        D                                      Q S Q S   z            W  QV      
=   : W   QV      
=   :    
=    QV      
=   :    
=    QV      ?I   V   >7W   QV     
V   : W  QV     
V   : 3   V      
=	   V  : 
   
=    QF   V     
V   : .   V      
=   V  : 
   
=    Q &+&r #+'0(+    $7   input[type="radio"]:checkedA   [id*="o_payment_add_token_acq_"]   addClass   d-none7   [id*="o_payment_form_acq_"]   length-   getAcquirerIdFromRadio#   isNewPaymentRadio3   #o_payment_add_token_acq_   removeClass%   isFormPaymentRadio)   #o_payment_form_acq_!!      checked_radio   acquirer_id   .this         +H;B       5 !!          disableButtonC q       	                                         S T S T                         T  :    
=   C Q        T  :    
=   :    
=    Q        T  :    
=    Q  


U    $	   attr   disabled   children   .fa-lock   removeClass   fa-lock   prepend   <span class="o_loader"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span>!!      button        +H;       5 !!          enableButtonC {       
                                         T ;U T ;U   _                     T  :    
=   B Q        T  :    
=   :    
=    Q        T  :    
=   : 	   
  Q h


	    $	   attr   disabled   children   .fa   addClass   fa-lock	   find   span.o_loader   remove!!      button        +H;       5!!          _parseErrorC [                                                PU U HU U                T  5    5   5   ?70   T  5    5   5   >7T  5    5   5   ?7T  5    5   5   >7  ##    message	   data   arguments!!      e        +H;        5!!          _adaptPayButtonC  e                                   	             U V U V   =      	               =   : W   QV      
=   : D   Q[    W  QV      
=         
V  C:  QD(=    $'   #o_payment_form_pay	   data!   disabled_reasons	   prop   disabled   _   contains!!      $payButton   disabledReasons         +H!!            ;       5!!          payEventC      <   3      	                  }            V 7g V 7g                 W  QT      
  QV  5      QV     
=   :    QV     QT  5   =   H7         T  5   :    
=   : >7   Q   T  5      Q   	   ?H     >7   QV  
   
   : W   QBW  QV     
   : (   V     
=   V   : W  Q#   V     
=   V   : W  Q      =   V  : W  Q      =   V  : >7W  QV     
   :    V  5   5      H         
=    QV     
V  : W  QB   QV     
:     
     Q      V     
    QV     
[   V  5   5   ]   V  ]   :    
   :     
   :   V  !   
   :   V     
    QV  5"      
=#   : W  QV  	   ?H  V     
=$   : %   
=&   : W  QV     
[   V  >75'   ]   [   (   (   V   : ])   V  ]*      5   5+   ],      5   5-   ].      5   5/   ]0      5   51   ]2      5   53   ]4   ]   :    
   :     
   : F   V  5   
  =6   :   =7   :  Q   8   
    Q=   V     
    Q      
  Q9   A   ,  R E   V  5   
  =:   :   =;   :  QV  8   
    Q  *
%#/'6-''
"  z < z (.>(&". .  z ^z!Z    preventDefault   el   $7   input[type="radio"]:checked	   type   submit   target	   find!   *[type="submit"]   length-   getAcquirerIdFromRadio#   isNewPaymentRadio3   #o_payment_add_token_acq_)   #o_payment_form_acq_   input-   input[name="data_set"]   options   partnerId   undefined   console	   warn   payment_form: unset partner_id when adding new token; things could go wrong   getFormData   toArray   forEach   disableButton	   _rpc   dataset   createRoute   route   params	   then   guardedCatch%   isFormPaymentRadio   $el9   input[name="prepare_tx_url"]O   input[name="o_payment_form_save_token"]	   prop   checked   value   parseInt   acquirer_id   save_token   accessToken   access_token   successUrl   success_url   errorUrl   error_url   callbackMethod   callback_method   orderId   order_id   displayError1   Cannot setup the paymentK   We're unable to process your payment.   enableButton   Promise5   No payment method selected?   Please select a payment method.!!      ev	   form   checked_radio	   self   button   acquirer_id   acquirer_form   inputs_form   ds   form_data   wrong_input   $tx_url   form_save_token   .this      +H!!          payEvent/<b ,Z ] $Z ]   h   @       5!!       !!   route!!!!   params!!    !!           payEvent/<b -^ _ %^ _   k   p          B  ^ ^ ^ ^   J          5 5!!          payEvent/<b _ l` _ l`   2          5 !!       !!   acquirer_id!!!!   save_token!!!!   access_token!!!!   success_url!!!!   error_url!!!!   callback_method!!!!   order_id!!    !!       !!   route!!!!   params!!    !!           payEvent/<b b +e b +e   @  @         B  d d d d   0         5 5!!          payEvent/<b Be e :e e             5 !!          payEvent/<b  f f f f   I          5 ;5!!          addPmEventC      $                            C            Kg 4r Cg 4r                 W  QT      
  QT     
  QV     
=   : W   QV     QT  5   =   H7         T  5   :    
=   : >7   Q   T  5      QV   	   ?HE   QV  
   
V   >7:   V   >7W   QV     
V   : W  QV     
=   V  : W  Q      =   V  : W  QV     
V  :    Q      =   V  : >7W  QB   QV     
:     
     Q               :    
=   C Q         :    
=   :    
=    Q         :    
=    QV     
[   V  5   5   ]      ]   :    
   :     
    Q1   V  !   
  ="   :   =#   :  Q  *
%*#/4
"1  v 


U<  !q    stopPropagation   preventDefault   $7   input[type="radio"]:checked	   type   submit   target	   find!   *[type="submit"]   length#   isNewPaymentRadio-   getAcquirerIdFromRadio3   #o_payment_add_token_acq_   input   getFormData-   input[name="data_set"]   toArray   forEach	   attr   disabled   children   .fa-plus-circle   removeClass   fa-plus-circle   prepend   <span class="o_loader"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span>	   _rpc   dataset   createRoute   route   params	   then   guardedCatch   displayError5   No payment method selectedk   Please select the option to add a new payment method.!!      ev   checked_radio	   self   button   acquirer_id   acquirer_form   inputs_form   form_data   ds   wrong_input   .this      +H!!          addPmEvent/<b i qm i qm     @       5!!       !!   route!!!!   params!!    !!           addPmEvent/<b n zp n zp            5 !!          addPmEvent/<b p q p q             5 ;5!!          onSubmitC          6                                     Fr 9s >r 9s                W  QT      
  QT     
  Q      T  5   :    
=   : >7W   QV   5   =   H   V     
T  : -   V   5   =	   H   V  
   
T  :   % D(    stopPropagation   preventDefault   $   target	   find!   *[type="submit"]   id%   o_payment_form_pay   payEvent+   o_payment_form_add_pm   addPmEvent!!      ev   button   .this       +H;2       5 !!          deletePmEventC          2                                     Ps w Hs w                 W   Q       
  Q      
  QV      Q         5   5   :    Q       QV      
[   =   ]   =   ]	   Z      `    ]
   :    
       Q$ M      stopPropagation   preventDefault   parseInt   target   value	   _rpc   payment.token   model%   get_linked_records   method	   args	   then!!      ev	   self   pm_id   tokenDelete   .this      +H!!           tokenDeleteB  s t s t               B t Xt t Xt              5   B  at t Yt t   0         5 5!!       !!   model!!!!   method!!!!	   args!!    !!           deletePmEvent/<b ,u  w $u  w     @          content   B }u u uu u   L         5 5!!          deletePmEvent/<b )w w !w w             5;5!!       -   onClickMorePaymentIconC           '                                      w x w x                T      
  QT     
  Q      T  5   :    
=   :    
=   : W   Q      T  5   :    
=   : W  QV      
=	    QV  
   
=	    Q  
!    preventDefault   stopPropagation   $   currentTarget   parents   ul   children   li   removeClass   d-none   addClass!!      ev   $listItems   $moreItem       +H;       5 !!          radioClickEventC K                                   	           x 9y x 9y               W   Q        T  5   :    
=   :    
=   C QV      
  Q %    $   currentTarget	   find'   input[type="radio"]	   prop   checked;   updateNewPaymentDisplayStatus!!      ev   .this       +H;       5!!       !!   selector!!!!   events!!!!   start!!!!   displayError!!!!   hideError!!!!-   getAcquirerIdFromRadio!!!!   getFormData!!!!%   isFormPaymentRadio!!!!#   isNewPaymentRadio!!!!;   updateNewPaymentDisplayStatus!!!!   disableButton!!!!   enableButton!!!!   _parseError!!!!   _adaptPayButton!!!!   payEvent!!!!   addPmEvent!!!!   onSubmit!!!!   deletePmEvent!!!!-   onClickMorePaymentIcon!!!!   radioClickEvent!!    ;5!!       C  *         ^                                     y  y                  T  =    : W   QT  =   :    QT  =   :    Q   5      Q   5   5   5   =   0	   Q   5   5   5   =
   0   Q   5   5   5   =   0   QV   5   V   5      
[   =   ]   Z   =   `    ]   >]       ]      ]      ]      ]      ]      ]   : 0   QD!"./D!2^=t?    ^   #   web.public.widget   web.ajax   web.core   _t   $   blockUI   defaults   css   0   border   !   background-color   overlayCSS   0.9   opacity   registry   Widget   extend+   .o_payment_processing   selector]   /payment/static/src/xml/payment_processing.xml   xmlDependencies   _pollCount   start   startPolling	   poll#   processPolledData   displayContent   displayLoading#   PaymentProcessing!!      require   publicWidget	   ajax	   core   _t      +H!!          startC  G                                               { | { |               	W   QW  QV      
  QV     
  QV  5      
V  V   O  "    displayLoading	   poll   _super   apply!!      arguments   .this         +H;       5!!          startPollingC           $                          	            *| | "| |   ^            W  QXW   QV  5    
E   QV  5       X'W   Q    V  5       X0uW   Q      V  5      
V  : V    QV  5    #
0    QQ e,)    _pollCount   setTimeout	   poll	   bind!!      timeout   .this         +H;2       5 !!       	   pollC  N                                               | ~ | ~                 W   QV      Q      
=   =   [    :    
   :    
    QQ
0[    jsonRpc+   /payment/process/poll	   call	   then   guardedCatch!!   	   self   .this        +H!!            !!           poll/<b ?} o~ 7} o~      @       5!!          poll/<b  ~ ~ ~~ ~   ,          5 ;5!!       #   processPolledDataC y        a                                     ~ P ~ P                 W  Q    W   Q[   Z    ]    Z    ]   Z    ]   Z    ]   Z    ]   Z    ]      QT     >E6   QZ   =   `    =   `   	   
T  >75
   : >      T  >75   0   QT     
    QV   Z   =   `    =   `   =   `   =   `   : ?H^      5   >7D&   Q   5   >7D   Q   5   >7W  QV        V  5   0   QV     
=       Q  /+= 
M`==    tx_draft   tx_pending   tx_authorized   tx_done   tx_cancel   tx_error   length   transfer#   sepa_direct_debit   indexOf#   acquirer_provider   window   return_url   location   forEach   displayContent/   payment.display_tx_list!!      transactions   render_values   countTxInState   tx   .this      +H!!          countTxInState  2 w 2      0       5 !!       !!   tx_draft!!!!   tx_pending!!!!   tx_authorized!!!!   tx_done!!!!   tx_cancel!!!!   tx_error!!    !!        '   processPolledData/<b " u  u              5 ;5!!          displayContentC ]                                              h  `    V             W  Q   5       
T  T : W   Q      
  QV  5      
=   :    
V    Qp&/ 	   qweb   render   $   unblockUI   $el	   find;   .o_payment_processing_content	   html!!      xmlid   render_values	   html   .this       +H;       5!!          displayLoadingC  >                                                                      =    : W   Q      
[    =   V   =   ]    Q 6   _   We are processing your payment, please wait ...   $   blockUI   <h2 class="text-white"><img src="/web/static/src/img/spin.png" class="fa-pulse"/>    <br />   </h2>   message!!      msg         +H!!       !!   message!!    ;       5!!    	   !!   selector!!!!   xmlDependencies!!!!   _pollCount!!!!   start!!!!   startPolling!!!!	   poll!!!!#   processPolledData!!!!   displayContent!!!!   displayLoading!!    ;5 !!       C   E                                                 N  F                           =   :    
  Q        =   :    
=        Q%%H    $?   input.o-purchase-datetimepicker   datetimepicker   on'   hide.datetimepicker!!              +H!!        B                  5 ;5!!       C            @                                      1 | 1                 T  =    : W   QT  =   : W  QV   5   V     
[   =   ]       ]      ]      ]      ]	      ]
   : 0   QH! >"  q g      #   web.public.widget)   portal.PortalSidebar   registry   extend-   .o_portal_sale_sidebar   selector	   init   start   _setElementId   _generateMenu   _extractText#   SalePortalSidebar!!      require   publicWidget   PortalSidebar       +H!!        	   initC |      
                                      " h  `                	W   QW  QV  5       
V  V   O QV  Z   =   `    =   `   =   `   =   `   0   QV        =   : 0	   Q ""!    _super   apply   em   b   i   u#   authorizedTextTag   $7   body[data-target=".navspy"]   spyWatched!!      parent   options   arguments   .this       +H;      5!!          startC           ,                                       f  f               	W  QW  QV  5       
V  V  O W   QV  5      
=   : W  QV     
V   QV     
  Q   5   	   
=
   : =   HE   QV     
=   :    C   V     
=   :    
=    Q   5      
=
    QV    &,&)(     _super   apply   $el	   find5   [data-id="portal_sidebar"]   _setElementId   _generateMenu   $   bbq   getState   allow_payment   yes+   #o_sale_portal_paynow   length   trigger   click   removeState!!      def#   $spyWatcheElement   arguments   .this         +H;#       5 !!          _setElementIdC M                                              }  u    #             W  Q       
T  : W   QV  5      
T :    
=   V    QV   4
    _   uniqueId   spyWatched	   find	   attr   id!!      prefix   $el   id   .this       +H;       5!!          _generateMenuC           3                                                          W   QV      QB   Q@   QV   5       
=   :    Q      =   V   5   :    
=   =    Q	   
   
V   5      
=   :      QV      
=   [      ]    Q  
U ')>    $el	   find   .bs-sidenav   $   #quote_content [id^=quote_header_], #quote_content [id^=quote_]   spyWatched	   attr   id      _	   eachI   #quote_content h2, #quote_content h3   trigger_up+   widgets_start_request   $target!!   	   self   lastLI   lastUL   $bsSidenav   .this        +H!!          _generateMenu/<b         `       5 !!       !!   $target!!    ;5 !!          _extractTextC S                                               ,  ,                 W   QV      QZ       Q       
T     
:       Q      
=   :        _	   each   contents	   join    !!      $node	   self   rawText   .this      +H!!           _extractText/<b "         0       5 ;5!!       !!   selector!!!!	   init!!!!   start!!!!   _setElementId!!!!   _generateMenu!!!!   _extractText!!    ;5 !!       C            T       
                                  
                T  =    : W   QV   5   V   5      
[	   =   ]   [    =   ]   =   ]	   =
   ]   ]      ]      ]
      ]      ]      ]      ]      ]      ]   : 0   QQG")=1   [ |kj 
      #   web.public.widget   registry   Widget   extend-   .o_portal_sale_sidebar   selector   _onClick7   click a.js_update_line_json/   _onClickOptionalProductA   click a.js_add_optional_products#   _onChangeQuantity'   change .js_quantity   events   start)   _callUpdateLineRoute-   _updateOrderLineValues%   _updateOrderValues+   _getUpdatableElements)   SaleUpdateLineButton!!      require   publicWidget       +H!!       !!7   click a.js_update_line_json!!!!A   click a.js_add_optional_products!!!!'   change .js_quantity!!    !!          start@           &                                   ( #    
               	   Q   Q      Q       
Z    >   -
  5   
   m5   _,  ,  :   5    Q)         Q      5      
=   :    
:  0   Q      	   
:  0
   Q    @!)    _super	   next   value	   done   $el	   find/   table#sales_order_table	   data   orderDetail+   _getUpdatableElements   elems!!      .generator   arguments   .this         +H;   K   !         5!!       #   _onChangeQuantity@          ;                                     7  7 
         	       W   Q     QT      
  QV      Q      T  5   :    Q            
:  :   QV      
   5   5   [          
=	   : ]
   V  >   V     B]      5   5   ]   :    
    Q +
4
,  g    preventDefault   $   currentTarget   parseInt   val)   _callUpdateLineRoute   orderDetail   orderId	   data   lineId   line_id   input_quantity   token   access_token	   then!!      ev   .this       !!       	   self   $target   quantity         +H!!       !!   line_id!!!!   input_quantity!!!!   access_token!!    !!       '   _onChangeQuantity/<d"  4  4 
  9         5;         5!!          _onClick@          8                                    @ Y 8 Y 
                W   Q   T      
  QV      Q      T  5   :    QV      
   5   5   [          
=   : ]         
=	   : ]	         
=
   : ]
      5   5   ]   :    
    Q 
4
		k  Y    preventDefault   $   currentTarget)   _callUpdateLineRoute   orderDetail   orderId	   data   lineId   line_id   remove   unlink   token   access_token	   then!!      ev   .this       !!       	   self   $target         +H!!       !!   line_id!!!!   remove!!!!   unlink!!!!   access_token!!    !!          _onClick/<d" E V E V 
            5;         5!!       /   _onClickOptionalProduct@          1                                    q  Z           	       W   Q     QT      
  QV      Q      T  5   :   QV     
=   =    QV      
[   =      5   5	   =
   V     
=   : ]   [       5   5   ]   ]   :    
    Qv
%<        preventDefault   $   currentTarget   css   pointer-events	   none	   _rpc   /my/orders/   orderDetail   orderId   /add_option/	   data   optionId   route   token   access_token   params	   then!!      ev   .this       !!       	   self   $target         +H!!       !!   access_token!!    !!       !!   route!!!!   params!!    !!       3   _onClickOptionalProduct/<d" m  m    n          5 ;         5!!       )   _callUpdateLineRoute@ 7                                               	                W   QV       
[    =   T  =   ]   T ]   :  01M 	   _rpc   /my/orders/#   /update_line_dict   route   params!!      order_id   params   .this       +H!!       !!   route!!!!   params!!    ;       5!!       -   _updateOrderLineValues@ 3         >                                      L  L                        QT 5       QT 5     QT     
=   :   QT     
=   :   QV      E   QV      +   T     
=   :    
:  W  W  QT     
=   : 	   
T 5
    QV     E   QV      I   V     
V    QV     E   QV     I   V     
V   Q +1AD#& %7=, -   order_line_price_total3   order_line_price_subtotal	   find[   .oe_order_line_price_total .oe_currency_valuea   .oe_order_line_price_subtotal .oe_currency_value   length%   .oe_currency_value	   last   .js_quantity   val5   order_line_product_uom_qty   undefined	   text!!      $orderLine	   data        !!          linePriceTotal#   linePriceSubTotal   $linePriceTotal%   $linePriceSubTotal          +H;       2  @       5 !!       %   _updateOrderValues@ !        3                                    _  M    }             W   Q        QT  5      QT  5     QT  5     Q      T  5   :   QV     I#   V   5   5      
V   QV     I#   V   5   5	      
V   QV     I#   V   5   5
      
V   QV     2   V   5   5      
=   :    
V   Q  )-7#!(+  %   order_amount_total)   order_amount_untaxed3   order_amount_undiscounted   $%   order_totals_table   undefined   elems'   $orderAmountUntaxed	   text#   $orderAmountTotal1   $orderAmountUndiscounted   length#   $orderTotalsTable	   find   table   replaceWith!!   	   data   .this       !!       !   orderAmountTotal%   orderAmountUntaxed/   orderAmountUndiscounted#   $orderTotalsTable         +H;        R       5 !!       +   _getUpdatableElements@           N                                                               Q        =   :    
=   :    Q        =   :    
=   :   Q        =   :    
=   :   QV       H   V     
?: W   QV     
>:    
V     
: : W  Q[    V   ]	   V  ]
           =   : ]   V  ]     %($4    $3   [data-id="total_untaxed"]	   find   span, b1   [data-id="total_amount"]?   [data-id="amount_undiscounted"]   length   eq   add'   $orderAmountUntaxed#   $orderAmountTotal   #total#   $orderTotalsTable1   $orderAmountUndiscounted!!              !!       '   $orderAmountUntaxed#   $orderAmountTotal1   $orderAmountUndiscounted          +H!!       !!'   $orderAmountUntaxed!!!!#   $orderAmountTotal!!!!#   $orderTotalsTable!!!!1   $orderAmountUndiscounted!!    ;                              5!!    
   !!   selector!!!!   events!!!!   start!!!!#   _onChangeQuantity!!!!   _onClick!!!!/   _onClickOptionalProduct!!!!)   _callUpdateLineRoute!!!!-   _updateOrderLineValues!!!!%   _updateOrderValues!!!!+   _getUpdatableElements!!    ;5!!       C  _       	   !                                     n  f                  T  =    :    QT  =   : W   QV   5   V   5      
[   =   ]       ]   : 0   QOE4     web.time#   web.public.widget   registry   Widget   extendQ   .o_portal_project_rating .o_rating_image   selector   start%   ProjectRatingImage!!      require	   time   publicWidget      +H!!          startC  f      
   "                                      W  O                  	W   QW  QV  5       
[   =   ]   =   ]   C]       ]    QV  5   	   
V  V   O   
 h"    $el   popover   bottom   placement   hover   trigger	   html   content   _super   apply!!      arguments   .this         +H!!          contentB        o         5!!       !!   placement!!!!   trigger!!!!	   html!!!!   content!!    ;5 !!       !!   selector!!!!   start!!    ;5 ;m4
}<ot      
`!-`!-B"ag   K    :http://hr.deerom.com/web/content/589-eb89a21/1/web.assets_frontend_lazy.js necko:classified 1 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Server: nginx/1.18.0 (Ubuntu)
Date: Wed, 03 Feb 2021 05:28:01 GMT
Content-Type: application/javascript
Content-Length: 368889
X-Content-Type-Options: nosniff
ETag: fd6d92f7964689168c6381e776b4183028483721
Cache-Control: max-age=31536000
 original-response-headers Server: nginx/1.18.0 (Ubuntu)
Date: Wed, 03 Feb 2021 05:28:01 GMT
Content-Type: application/javascript
Content-Length: 368889
Connection: keep-alive
X-Content-Type-Options: nosniff
ETag: fd6d92f7964689168c6381e776b4183028483721
Cache-Control: max-age=31536000
Set-Cookie: session_id=839de609f657aac20a6094c0b89465282a5d3154; Expires=Tue, 04-May-2021 05:28:01 GMT; Max-Age=7776000; HttpOnly; Path=/
 uncompressed-len 0 net-response-time-onstart 244 net-response-time-onstop 549 alt-data 1;368889,javascript/moz-bytecode-20190327091201 alt-data-from-child 1  