
/* /website/static/src/js/editor/editor_menu.js defined in bundle 'website.assets_editor' */
odoo.define('website.editor.menu',function(require){'use strict';var Dialog=require('web.Dialog');var Widget=require('web.Widget');var core=require('web.core');var Wysiwyg=require('web_editor.wysiwyg.root');var _t=core._t;var WysiwygMultizone=Wysiwyg.extend({assetLibs:Wysiwyg.prototype.assetLibs.concat(['website.compiled_assets_wysiwyg']),_getWysiwygContructor:function(){return odoo.__DEBUG__.services['web_editor.wysiwyg.multizone'];}});var EditorMenu=Widget.extend({template:'website.editorbar',xmlDependencies:['/website/static/src/xml/website.editor.xml'],events:{'click button[data-action=undo]':'_onUndoClick','click button[data-action=redo]':'_onRedoClick','click button[data-action=save]':'_onSaveClick','click button[data-action=cancel]':'_onCancelClick',},custom_events:{request_save:'_onSnippetRequestSave',get_clean_html:'_onGetCleanHTML',},willStart:function(){var self=this;this.$el=null;return this._super().then(function(){var $wrapwrap=$('#wrapwrap');$wrapwrap.removeClass('o_editable');self.editable($wrapwrap).addClass('o_editable');self.wysiwyg=self._wysiwygInstance();});},start:function(){var self=this;this.$el.css({width:'100%'});return this.wysiwyg.attachTo($('#wrapwrap')).then(function(){self.trigger_up('edit_mode');self.$el.css({width:''});});},destroy:function(){this.trigger_up('readonly_mode');this._super.apply(this,arguments);},cancel:function(reload){var self=this;var def=new Promise(function(resolve,reject){if(!self.wysiwyg.isDirty()){resolve();}else{var confirm=Dialog.confirm(self,_t("If you discard the current edits, all unsaved changes will be lost. You can cancel to return to edit mode."),{confirm_callback:resolve,});confirm.on('closed',self,reject);}});return def.then(function(){self.trigger_up('edition_will_stopped');var $wrapwrap=$('#wrapwrap');self.editable($wrapwrap).removeClass('o_editable');if(reload!==false){window.onbeforeunload=null;self.wysiwyg.destroy();return self._reload();}else{self.wysiwyg.destroy();self.trigger_up('readonly_mode');self.trigger_up('edition_was_stopped');self.destroy();}});},save:async function(reload){if(this._saving){return false;}
var self=this;this._saving=true;this.trigger_up('edition_will_stopped');return this.wysiwyg.save(false).then(function(result){var $wrapwrap=$('#wrapwrap');self.editable($wrapwrap).removeClass('o_editable');if(result.isDirty&&reload!==false){$('body').removeClass('o_connected_user');return self._reload();}else{self.wysiwyg.destroy();self.trigger_up('edition_was_stopped');self.destroy();}
return true;}).guardedCatch(()=>{this._saving=false;});},editable:function($wrapwrap){return $wrapwrap.find('[data-oe-model]').not('.o_not_editable').filter(function(){var $parent=$(this).closest('.o_editable, .o_not_editable');return!$parent.length||$parent.hasClass('o_editable');}).not('link, script').not('[data-oe-readonly]').not('img[data-oe-field="arch"], br[data-oe-field="arch"], input[data-oe-field="arch"]').not('.oe_snippet_editor').not('hr, br, input, textarea').add('.o_editable');},_wysiwygInstance:function(){var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});return new WysiwygMultizone(this,{snippets:'website.snippets',recordInfo:{context:context,data_res_model:'website',data_res_id:context.website_id,}});},_reload:function(){$('body').addClass('o_wait_reload');this.wysiwyg.destroy();this.$el.hide();window.location.hash='scrollTop='+window.document.body.scrollTop;window.location.reload(true);return new Promise(function(){});},_onCancelClick:function(){this.cancel(true);},_onGetCleanHTML:function(ev){ev.data.callback(this.wysiwyg.getValue({$layout:ev.data.$layout}));},_onSnippetRequestSave:function(ev){this.save(false).then(ev.data.onSuccess,ev.data.onFailure);},_onSaveClick:function(){this.save();},_onUndoClick(){$('.note-history [data-event=undo]').first().click();},_onRedoClick(){$('.note-history [data-event=redo]').first().click();},});return EditorMenu;});;

/* /website/static/src/js/editor/editor_menu_translate.js defined in bundle 'website.assets_editor' */
odoo.define('website.editor.menu.translate',function(require){'use strict';require('web.dom_ready');var core=require('web.core');var Dialog=require('web.Dialog');var localStorage=require('web.local_storage');var Wysiwyg=require('web_editor.wysiwyg.root');var EditorMenu=require('website.editor.menu');var _t=core._t;var localStorageNoDialogKey='website_translator_nodialog';var TranslatorInfoDialog=Dialog.extend({template:'website.TranslatorInfoDialog',xmlDependencies:Dialog.prototype.xmlDependencies.concat(['/website/static/src/xml/translator.xml']),init:function(parent,options){this._super(parent,_.extend({title:_t("Translation Info"),buttons:[{text:_t("Ok, never show me this again"),classes:'btn-primary',close:true,click:this._onStrongOk.bind(this)},{text:_t("Ok"),close:true}],},options||{}));},_onStrongOk:function(){localStorage.setItem(localStorageNoDialogKey,true);},});var WysiwygTranslate=Wysiwyg.extend({assetLibs:Wysiwyg.prototype.assetLibs.concat(['website.compiled_assets_wysiwyg']),_getWysiwygContructor:function(){return odoo.__DEBUG__.services['web_editor.wysiwyg.multizone.translate'];}});var TranslatorMenu=EditorMenu.extend({start:function(){if(!localStorage.getItem(localStorageNoDialogKey)){new TranslatorInfoDialog(this).open();}
return this._super();},editable:function($wrapwrap){var selector='[data-oe-translation-id], '+'[data-oe-model][data-oe-id][data-oe-field], '+'[placeholder*="data-oe-translation-id="], '+'[title*="data-oe-translation-id="], '+'[alt*="data-oe-translation-id="]';var $edit=$wrapwrap.find(selector);$edit.filter(':has('+selector+')').attr('data-oe-readonly',true);return $edit.not('[data-oe-readonly]');},_wysiwygInstance:function(){var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});return new WysiwygTranslate(this,{lang:context.lang});},});return TranslatorMenu;});;

/* /website/static/src/js/menu/content.js defined in bundle 'website.assets_editor' */
odoo.define('website.contentMenu',function(require){'use strict';var Class=require('web.Class');var core=require('web.core');var Dialog=require('web.Dialog');var time=require('web.time');var weWidgets=require('wysiwyg.widgets');var websiteNavbarData=require('website.navbar');var websiteRootData=require('website.root');var Widget=require('web.Widget');var _t=core._t;var qweb=core.qweb;var PagePropertiesDialog=weWidgets.Dialog.extend({template:'website.pagesMenu.page_info',xmlDependencies:weWidgets.Dialog.prototype.xmlDependencies.concat(['/website/static/src/xml/website.pageProperties.xml']),events:_.extend({},weWidgets.Dialog.prototype.events,{'keyup input#page_name':'_onNameChanged','keyup input#page_url':'_onUrlChanged','change input#create_redirect':'_onCreateRedirectChanged','click input#visibility_password':'_onPasswordClicked','change input#visibility_password':'_onPasswordChanged','change select#visibility':'_onVisibilityChanged',}),init:function(parent,page_id,options){var self=this;var serverUrl=window.location.origin+'/';var length_url=serverUrl.length;var serverUrlTrunc=serverUrl;if(length_url>30){serverUrlTrunc=serverUrl.slice(0,14)+'..'+serverUrl.slice(-14);}
this.serverUrl=serverUrl;this.serverUrlTrunc=serverUrlTrunc;this.current_page_url=window.location.pathname;this.page_id=page_id;var buttons=[{text:_t("Save"),classes:'btn-primary',click:this.save},{text:_t("Discard"),classes:'mr-auto',close:true},];if(options.fromPageManagement){buttons.push({text:_t("Go To Page"),icon:'fa-globe',classes:'btn-link',click:function(e){window.location.href='/'+self.page.url;},});}
buttons.push({text:_t("Duplicate Page"),icon:'fa-clone',classes:'btn-link',click:function(e){this.$el.closest('.modal').addClass('d-none');_clonePage.call(this,self.page_id);},});buttons.push({text:_t("Delete Page"),icon:'fa-trash',classes:'btn-link',click:function(e){_deletePage.call(this,self.page_id,options.fromPageManagement);},});this._super(parent,_.extend({},{title:_t("Page Properties"),size:'medium',buttons:buttons,},options||{}));},willStart:function(){var defs=[this._super.apply(this,arguments)];var self=this;defs.push(this._rpc({model:'website.page',method:'get_page_properties',args:[this.page_id],}).then(function(page){page.url=_.str.startsWith(page.url,'/')?page.url.substring(1):page.url;page.hasSingleGroup=page.group_id!==undefined;self.page=page;}));return Promise.all(defs);},start:function(){var self=this;var defs=[this._super.apply(this,arguments)];this.$('.ask_for_redirect').addClass('d-none');this.$('.redirect_type').addClass('d-none');this.$('.warn_about_call').addClass('d-none');if(this.page.visibility!=='password'){this.$('.show_visibility_password').addClass('d-none');}
if(this.page.visibility!=='restricted_group'){this.$('.show_group_id').addClass('d-none');}
this.autocompleteWithGroups(this.$('#group_id'));defs.push(this._getPageDependencies(this.page_id).then(function(dependencies){var dep_text=[];_.each(dependencies,function(value,index){if(value.length>0){dep_text.push(value.length+' '+index.toLowerCase());}});dep_text=dep_text.join(', ');self.$('#dependencies_redirect').html(qweb.render('website.show_page_dependencies',{dependencies:dependencies,dep_text:dep_text}));self.$('#dependencies_redirect [data-toggle="popover"]').popover({container:'body',});}));defs.push(this._getSupportedMimetype().then(function(mimetypes){self.supportedMimetype=mimetypes;}));defs.push(this._getPageKeyDependencies(this.page_id).then(function(dependencies){var dep_text=[];_.each(dependencies,function(value,index){if(value.length>0){dep_text.push(value.length+' '+index.toLowerCase());}});dep_text=dep_text.join(', ');self.$('.warn_about_call').html(qweb.render('website.show_page_key_dependencies',{dependencies:dependencies,dep_text:dep_text}));self.$('.warn_about_call [data-toggle="popover"]').popover({container:'body',});}));defs.push(this._rpc({model:'res.users',method:'has_group',args:['website.group_multi_website']}).then(function(has_group){if(!has_group){self.$('#website_restriction').addClass('hidden');}}));var datepickersOptions={minDate:moment({y:1}),maxDate:moment().add(200,'y'),calendarWeeks:true,icons:{time:'fa fa-clock-o',date:'fa fa-calendar',next:'fa fa-chevron-right',previous:'fa fa-chevron-left',up:'fa fa-chevron-up',down:'fa fa-chevron-down',},locale:moment.locale(),format:time.getLangDatetimeFormat(),widgetPositioning:{horizontal:'auto',vertical:'top',},widgetParent:'body',};if(this.page.date_publish){datepickersOptions.defaultDate=time.str_to_datetime(this.page.date_publish);}
this.$('#date_publish_container').datetimepicker(datepickersOptions);return Promise.all(defs);},destroy:function(){$('.popover').popover('hide');return this._super.apply(this,arguments);},save:function(data){var self=this;var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});var url=this.$('#page_url').val();var $datePublish=this.$("#date_publish");$datePublish.closest(".form-group").removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');var datePublish=$datePublish.val();if(datePublish!==""){datePublish=this._parse_date(datePublish);if(!datePublish){$datePublish.closest(".form-group").addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');return;}}
var params={id:this.page.id,name:this.$('#page_name').val(),url:url.replace(/\/{2,}/g,'/'),is_menu:this.$('#is_menu').prop('checked'),is_homepage:this.$('#is_homepage').prop('checked'),website_published:this.$('#is_published').prop('checked'),create_redirect:this.$('#create_redirect').prop('checked'),redirect_type:this.$('#redirect_type').val(),website_indexed:this.$('#is_indexed').prop('checked'),visibility:this.$('#visibility').val(),date_publish:datePublish,};if(this.page.hasSingleGroup&&this.$('#visibility').val()==='restricted_group'){params['group_id']=this.$('#group_id').data('group-id');}
if(this.$('#visibility').val()==='password'){var field_pwd=$('#visibility_password');if(!field_pwd.get(0).reportValidity()){return;}
if(field_pwd.data('dirty')){params['visibility_pwd']=field_pwd.val();}}
this._rpc({model:'website.page',method:'save_page_info',args:[[context.website_id],params],}).then(function(url){var mo;self.trigger_up('main_object_request',{callback:function(value){mo=value;},});if(mo.model==='website.page'){window.location.href=url.toLowerCase();}else{window.location.reload(true);}});},_getPageDependencies:function(moID){return this._rpc({model:'website',method:'page_search_dependencies',args:[moID],});},_getPageKeyDependencies:function(moID){return this._rpc({model:'website',method:'page_search_key_dependencies',args:[moID],});},_getSupportedMimetype:function(){return this._rpc({model:'website',method:'guess_mimetype',});},_getMainObject:function(){var repr=$('html').data('main-object');var m=repr.match(/(.+)\((\d+),(.*)\)/);return{model:m[1],id:m[2]|0,};},_parse_date:function(value){var datetime=moment(value,time.getLangDatetimeFormat(),true);if(datetime.isValid()){return time.datetime_to_str(datetime.toDate());}
else{return false;}},autocompleteWithGroups:function($input){$input.autocomplete({source:(request,response)=>{return this._rpc({model:'res.groups',method:'search_read',args:[[['name','ilike',request.term]],['display_name']],kwargs:{limit:15,},}).then(founds=>{founds=founds.map(g=>({'id':g['id'],'label':g['display_name']}));response(founds);});},change:(ev,ui)=>{var $target=$(ev.target);if(!ui.item){$target.val("");$target.removeData('group-id');}else{$target.data('group-id',ui.item.id);}},});},_onUrlChanged:function(){var url=this.$('input#page_url').val();this.$('.ask_for_redirect').toggleClass('d-none',url===this.page.url);},_onNameChanged:function(){var name=this.$('input#page_name').val();var ext='.'+this.page.name.split('.').pop();if(ext in this.supportedMimetype&&ext!=='.html'){this.$('.warn_about_call').toggleClass('d-none',name===this.page.name);}},_onCreateRedirectChanged:function(){var createRedirect=this.$('input#create_redirect').prop('checked');this.$('.redirect_type').toggleClass('d-none',!createRedirect);},_onVisibilityChanged:function(ev){this.$('.show_visibility_password').toggleClass('d-none',ev.target.value!=='password');this.$('.show_group_id').toggleClass('d-none',ev.target.value!=='restricted_group');this.$('#visibility_password').attr('required',ev.target.value==='password');},_onPasswordClicked:function(ev){ev.target.value='';this._onPasswordChanged();},_onPasswordChanged:function(){this.$('#visibility_password').data('dirty',1);},});var MenuEntryDialog=weWidgets.LinkDialog.extend({xmlDependencies:weWidgets.LinkDialog.prototype.xmlDependencies.concat(['/website/static/src/xml/website.contentMenu.xml']),init:function(parent,options,editable,data){this._super(parent,_.extend({title:_t("Add a menu item"),},options||{}),editable,_.extend({needLabel:true,text:data.name||'',isNewWindow:data.new_window,},data||{}));this.menuType=data.menuType;},start:function(){this.$('.o_link_dialog_preview').remove();this.$('input[name="is_new_window"], .link-style').closest('.form-group').remove();this.$modal.find('.modal-lg').removeClass('modal-lg');this.$('form.col-lg-8').removeClass('col-lg-8').addClass('col-12');this.$('label[for="o_link_dialog_label_input"]').text(_t("Menu Label"));if(this.menuType==='mega'){var $url=this.$('input[name="url"]');$url.val('#').trigger('change');$url.closest('.form-group').addClass('d-none');}
return this._super.apply(this,arguments);},save:function(){var $e=this.$('#o_link_dialog_label_input');if(!$e.val()||!$e[0].checkValidity()){$e.closest('.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$e.focus();return;}
return this._super.apply(this,arguments);},});var SelectEditMenuDialog=weWidgets.Dialog.extend({template:'website.contentMenu.dialog.select',xmlDependencies:weWidgets.Dialog.prototype.xmlDependencies.concat(['/website/static/src/xml/website.contentMenu.xml']),init:function(parent,options){var self=this;self.roots=[{id:null,name:_t("Top Menu")}];$('[data-content_menu_id]').each(function(){self.roots.push({id:$(this).data('content_menu_id'),name:$(this).attr('name')||$(this).data('menu_name')});});this._super(parent,_.extend({},{title:_t("Select a Menu"),save_text:_t("Continue")},options||{}));},save:function(){this.final_data=parseInt(this.$el.find('select').val()||null);this._super.apply(this,arguments);},});var EditMenuDialog=weWidgets.Dialog.extend({template:'website.contentMenu.dialog.edit',xmlDependencies:weWidgets.Dialog.prototype.xmlDependencies.concat(['/website/static/src/xml/website.contentMenu.xml']),events:_.extend({},weWidgets.Dialog.prototype.events,{'click a.js_add_menu':'_onAddMenuButtonClick','click button.js_delete_menu':'_onDeleteMenuButtonClick','click button.js_edit_menu':'_onEditMenuButtonClick',}),init:function(parent,options,rootID){this._super(parent,_.extend({},{title:_t("Edit Menu"),size:'medium',},options||{}));this.rootID=rootID;},willStart:function(){var defs=[this._super.apply(this,arguments)];var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});defs.push(this._rpc({model:'website.menu',method:'get_tree',args:[context.website_id,this.rootID],}).then(menu=>{this.menu=menu;this.rootMenuID=menu.fields['id'];this.flat=this._flatenize(menu);this.toDelete=[];}));return Promise.all(defs);},start:function(){var r=this._super.apply(this,arguments);this.$('.oe_menu_editor').nestedSortable({listType:'ul',handle:'div',items:'li',maxLevels:2,toleranceElement:'> div',forcePlaceholderSize:true,opacity:0.6,placeholder:'oe_menu_placeholder',tolerance:'pointer',attribute:'data-menu-id',expression:'()(.+)',isAllowed:(placeholder,placeholderParent,currentItem)=>{return!placeholderParent||!currentItem[0].dataset.megaMenu&&!placeholderParent[0].dataset.megaMenu;},});return r;},save:function(){var _super=this._super.bind(this);var newMenus=this.$('.oe_menu_editor').nestedSortable('toArray',{startDepthCount:0});var levels=[];var data=[];var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});newMenus.forEach(menu=>{if(menu.id){levels[menu.depth]=(levels[menu.depth]||0)+1;var menuFields=this.flat[menu.id].fields;menuFields['sequence']=levels[menu.depth];menuFields['parent_id']=menu['parent_id']||this.rootMenuID;data.push(menuFields);}});return this._rpc({model:'website.menu',method:'save',args:[context.website_id,{'data':data,'to_delete':this.toDelete,}],}).then(function(){return _super();});},_flatenize:function(node,_dict){_dict=_dict||{};_dict[node.fields['id']]=node;node.children.forEach(child=>{this._flatenize(child,_dict);});return _dict;},_onAddMenuButtonClick:function(ev){var menuType=ev.currentTarget.dataset.type;var dialog=new MenuEntryDialog(this,{},null,{menuType:menuType,});dialog.on('save',this,link=>{var newMenu={'fields':{'id':_.uniqueId('new-'),'name':link.text,'url':link.url,'new_window':link.isNewWindow,'is_mega_menu':menuType==='mega','sequence':0,'parent_id':false,},'children':[],'is_homepage':false,};this.flat[newMenu.fields['id']]=newMenu;this.$('.oe_menu_editor').append(qweb.render('website.contentMenu.dialog.submenu',{submenu:newMenu}));});dialog.open();},_onDeleteMenuButtonClick:function(ev){var $menu=$(ev.currentTarget).closest('[data-menu-id]');var menuID=parseInt($menu.data('menu-id'));if(menuID){this.toDelete.push(menuID);}
$menu.remove();},_onEditMenuButtonClick:function(ev){var $menu=$(ev.currentTarget).closest('[data-menu-id]');var menuID=$menu.data('menu-id');var menu=this.flat[menuID];if(menu){var dialog=new MenuEntryDialog(this,{},null,_.extend({menuType:menu.fields['is_mega_menu']?'mega':undefined,},menu.fields));dialog.on('save',this,link=>{_.extend(menu.fields,{'name':link.text,'url':link.url,'new_window':link.isNewWindow,});$menu.find('.js_menu_label').first().text(menu.fields['name']);});dialog.open();}else{Dialog.alert(null,"Could not find menu entry");}},});var PageOption=Class.extend({init:function(name,value,setValueCallback){this.name=name;this.value=value;this.isDirty=false;this.setValueCallback=setValueCallback;},setValue:function(value){if(value===undefined){value=!this.value;}
this.setValueCallback.call(this,value);this.value=value;this.isDirty=true;},});var ContentMenu=websiteNavbarData.WebsiteNavbarActionWidget.extend({xmlDependencies:['/website/static/src/xml/website.xml'],actions:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.prototype.actions||{},{edit_menu:'_editMenu',get_page_option:'_getPageOption',on_save:'_onSave',page_properties:'_pageProperties',toggle_page_option:'_togglePageOption',}),pageOptionsSetValueCallbacks:{header_overlay:function(value){$('#wrapwrap').toggleClass('o_header_overlay',value);},header_color:function(value){$('#wrapwrap > header').removeClass(this.value).addClass(value);},header_visible:function(value){$('#wrapwrap > header').toggleClass('d-none o_snippet_invisible',!value);},footer_visible:function(value){$('#wrapwrap > footer').toggleClass('d-none o_snippet_invisible',!value);},},start:function(){var self=this;this.pageOptions={};_.each($('.o_page_option_data'),function(el){var value=el.value;if(value==="True"){value=true;}else if(value==="False"){value=false;}
self.pageOptions[el.name]=new PageOption(el.name,value,self.pageOptionsSetValueCallbacks[el.name]);});return this._super.apply(this,arguments);},_editMenu:function(beforeReloadCallback){var self=this;return new Promise(function(resolve){function resolveWhenEditMenuDialogIsCancelled(rootID){return self._openEditMenuDialog(rootID,beforeReloadCallback).then(resolve);}
if($('[data-content_menu_id]').length){var select=new SelectEditMenuDialog(self);select.on('save',self,resolveWhenEditMenuDialogIsCancelled);select.on('cancel',self,resolve);select.open();}else{resolveWhenEditMenuDialogIsCancelled(null);}});},_openEditMenuDialog:function(rootID,beforeReloadCallback){var self=this;return new Promise(function(resolve){var dialog=new EditMenuDialog(self,{},rootID);dialog.on('save',self,function(){if(beforeReloadCallback){beforeReloadCallback().then(function(){window.location.reload(true);});}else{window.location.reload(true);}});dialog.on('cancel',self,resolve);dialog.open();});},_getPageOption:function(name){var option=this.pageOptions[name];if(!option){return Promise.reject();}
return Promise.resolve(option.value);},_onSave:function(){var self=this;var defs=_.map(this.pageOptions,function(option,optionName){if(option.isDirty){return self._togglePageOption({name:optionName,value:option.value,},true,true);}});return Promise.all(defs);},_pageProperties:function(){var mo;this.trigger_up('main_object_request',{callback:function(value){mo=value;},});var dialog=new PagePropertiesDialog(this,mo.id,{}).open();return dialog.opened();},_togglePageOption:function(params,forceSave,noReload){var mo;this.trigger_up('main_object_request',{callback:function(value){mo=value;},});if(mo.model!=='website.page'){return Promise.reject();}
var option=this.pageOptions[params.name];if(!option){return Promise.reject();}
option.setValue(params.value);if(!forceSave){return Promise.resolve();}
var vals={};vals[params.name]=option.value;var prom=this._rpc({model:'website.page',method:'write',args:[[mo.id],vals],});if(noReload){return prom;}
return prom.then(function(){window.location.reload();return new Promise(function(){});});},});var PageManagement=Widget.extend({xmlDependencies:['/website/static/src/xml/website.xml'],events:{'click a.js_page_properties':'_onPagePropertiesButtonClick','click a.js_clone_page':'_onClonePageButtonClick','click a.js_delete_page':'_onDeletePageButtonClick',},_getPageDependencies:function(moID){return this._rpc({model:'website',method:'page_search_dependencies',args:[moID],});},_onPagePropertiesButtonClick:function(ev){var moID=$(ev.currentTarget).data('id');var dialog=new PagePropertiesDialog(this,moID,{'fromPageManagement':true}).open();return dialog;},_onClonePageButtonClick:function(ev){var pageId=$(ev.currentTarget).data('id');_clonePage.call(this,pageId);},_onDeletePageButtonClick:function(ev){var pageId=$(ev.currentTarget).data('id');_deletePage.call(this,pageId,true);},});function _deletePage(pageId,fromPageManagement){var self=this;new Promise(function(resolve,reject){self._getPageDependencies(pageId).then(function(dependencies){return new Promise(function(confirmResolve,confirmReject){Dialog.safeConfirm(self,"",{title:_t("Delete Page"),$content:$(qweb.render('website.delete_page',{dependencies:dependencies})),confirm_callback:confirmResolve,cancel_callback:resolve,});});}).then(function(){return self._rpc({model:'website.page',method:'unlink',args:[pageId],});}).then(function(){if(fromPageManagement){window.location.reload(true);}else{window.location.href='/';}},reject);});}
function _clonePage(pageId){var self=this;new Promise(function(resolve,reject){Dialog.confirm(this,undefined,{title:_t("Duplicate Page"),$content:$(qweb.render('website.duplicate_page_action_dialog')),confirm_callback:function(){var new_page_name=this.$('#page_name').val();return self._rpc({model:'website.page',method:'clone_page',args:[pageId,new_page_name],}).then(function(path){window.location.href=path;}).guardedCatch(reject);},cancel_callback:reject,}).on('closed',null,reject);});}
websiteNavbarData.websiteNavbarRegistry.add(ContentMenu,'#content-menu');websiteRootData.websiteRootRegistry.add(PageManagement,'#list_website_pages');return{PagePropertiesDialog:PagePropertiesDialog,ContentMenu:ContentMenu,EditMenuDialog:EditMenuDialog,MenuEntryDialog:MenuEntryDialog,SelectEditMenuDialog:SelectEditMenuDialog,};});;

/* /website/static/src/js/menu/customize.js defined in bundle 'website.assets_editor' */
odoo.define('website.customizeMenu',function(require){'use strict';var core=require('web.core');var Widget=require('web.Widget');var websiteNavbarData=require('website.navbar');var WebsiteAceEditor=require('website.ace');var qweb=core.qweb;var CustomizeMenu=Widget.extend({xmlDependencies:['/website/static/src/xml/website.editor.xml'],events:{'show.bs.dropdown':'_onDropdownShow','click .dropdown-item[data-view-key]':'_onCustomizeOptionClick',},willStart:function(){this.viewName=$(document.documentElement).data('view-xmlid');return this._super.apply(this,arguments);},start:function(){if(!this.viewName){_.defer(this.destroy.bind(this));}
if(this.$el.is('.show')){this._loadCustomizeOptions();}
return this._super.apply(this,arguments);},_doCustomize:function(viewKey){return this._rpc({route:'/website/toggle_switchable_view',params:{'view_key':viewKey,},}).then(function(){window.location.reload();return new Promise(function(){});});},_loadCustomizeOptions:function(){if(this.__customizeOptionsLoaded){return Promise.resolve();}
this.__customizeOptionsLoaded=true;var $menu=this.$el.children('.dropdown-menu');return this._rpc({route:'/website/get_switchable_related_views',params:{key:this.viewName,},}).then(function(result){var currentGroup='';if(result.length){$menu.append($('<div/>',{class:'dropdown-divider',role:'separator',}));}
_.each(result,function(item){if(currentGroup!==item.inherit_id[1]){currentGroup=item.inherit_id[1];$menu.append('<li class="dropdown-header">'+currentGroup+'</li>');}
var $a=$('<a/>',{href:'#',class:'dropdown-item','data-view-key':item.key,role:'menuitem'}).append(qweb.render('website.components.switch',{id:'switch-'+item.id,label:item.name}));$a.find('input').prop('checked',!!item.active);$menu.append($a);});});},_onCustomizeOptionClick:function(ev){ev.preventDefault();var viewKey=$(ev.currentTarget).data('viewKey');this._doCustomize(viewKey);},_onDropdownShow:function(){this._loadCustomizeOptions();},});var AceEditorMenu=websiteNavbarData.WebsiteNavbarActionWidget.extend({actions:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.prototype.actions||{},{close_all_widgets:'_hideEditor',edit:'_enterEditMode',ace:'_launchAce',}),start:function(){if(window.location.hash.substr(0,WebsiteAceEditor.prototype.hash.length)===WebsiteAceEditor.prototype.hash){this._launchAce();}
return this._super.apply(this,arguments);},_enterEditMode:function(){this._hideEditor();},_hideEditor:function(){if(this.globalEditor){this.globalEditor.do_hide();}},_launchAce:function(){var self=this;var prom=new Promise(function(resolve,reject){self.trigger_up('action_demand',{actionName:'close_all_widgets',onSuccess:resolve,});});prom.then(function(){if(self.globalEditor){self.globalEditor.do_show();return Promise.resolve();}else{var currentHash=window.location.hash;var indexOfView=currentHash.indexOf("?res=");var initialResID=undefined;if(indexOfView>=0){initialResID=currentHash.substr(indexOfView+("?res=".length));var parsedResID=parseInt(initialResID,10);if(parsedResID){initialResID=parsedResID;}}
self.globalEditor=new WebsiteAceEditor(self,$(document.documentElement).data('view-xmlid'),{initialResID:initialResID,defaultBundlesRestriction:['web.assets_frontend','web.assets_frontend_minimal','web.assets_frontend_lazy',],});return self.globalEditor.appendTo(document.body);}});return prom;},});websiteNavbarData.websiteNavbarRegistry.add(CustomizeMenu,'#customize-menu');websiteNavbarData.websiteNavbarRegistry.add(AceEditorMenu,'#html_editor');return CustomizeMenu;});;

/* /website/static/src/js/menu/debug_manager.js defined in bundle 'website.assets_editor' */
odoo.define('website.debugManager',function(require){'use strict';var config=require('web.config');var DebugManager=require('web.DebugManager');var websiteNavbarData=require('website.navbar');var DebugManagerMenu=websiteNavbarData.WebsiteNavbar.include({start:function(){if(config.isDebug()){new DebugManager(this).prependTo(this.$('.o_menu_systray'));}
return this._super.apply(this,arguments);},});return DebugManagerMenu;});;

/* /website/static/src/js/menu/edit.js defined in bundle 'website.assets_editor' */
odoo.define('website.editMenu',function(require){'use strict';var core=require('web.core');var EditorMenu=require('website.editor.menu');var websiteNavbarData=require('website.navbar');var _t=core._t;var EditPageMenu=websiteNavbarData.WebsiteNavbarActionWidget.extend({assetLibs:['web_editor.compiled_assets_wysiwyg','website.compiled_assets_wysiwyg'],xmlDependencies:['/website/static/src/xml/website.editor.xml'],actions:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.prototype.actions,{edit:'_startEditMode',on_save:'_onSave',}),custom_events:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.custom_events||{},{content_will_be_destroyed:'_onContentWillBeDestroyed',content_was_recreated:'_onContentWasRecreated',snippet_will_be_cloned:'_onSnippetWillBeCloned',snippet_cloned:'_onSnippetCloned',snippet_dropped:'_onSnippetDropped',edition_will_stopped:'_onEditionWillStop',edition_was_stopped:'_onEditionWasStopped',}),init:function(){this._super.apply(this,arguments);var context;this.trigger_up('context_get',{extra:true,callback:function(ctx){context=ctx;},});this._editorAutoStart=(context.editable&&window.location.search.indexOf('enable_editor')>=0);var url=window.location.href.replace(/([?&])&*enable_editor[^&#]*&?/,'\$1');window.history.replaceState({},null,url);},start:function(){var def=this._super.apply(this,arguments);if(this._editorAutoStart){return Promise.all([def,this._startEditMode()]);}
var $wrap=this._targetForEdition().filter('#wrapwrap.homepage').find('#wrap');if($wrap.length&&$wrap.html().trim()===''){this.$welcomeMessage=$(core.qweb.render('website.homepage_editor_welcome_message'));this.$welcomeMessage.addClass('o_homepage_editor_welcome_message');this.$welcomeMessage.css('min-height',$wrap.parent('main').height()-($wrap.outerHeight(true)-$wrap.height()));$wrap.empty().append(this.$welcomeMessage);}
return def;},_startEditMode:async function(){var self=this;if(this.editModeEnable){return;}
this.trigger_up('widgets_stop_request',{$target:this._targetForEdition(),});if(this.$welcomeMessage){this.$welcomeMessage.detach();}
this.editModeEnable=true;await new EditorMenu(this).prependTo(document.body);this._addEditorMessages();var res=await new Promise(function(resolve,reject){self.trigger_up('widgets_start_request',{editableMode:true,onSuccess:resolve,onFailure:reject,});});this.$editorMessageElements.mousedown();return res;},_onSave:function(){},_addEditorMessages:function(){var $target=this._targetForEdition();this.$editorMessageElements=$target.find('.oe_structure.oe_empty, [data-oe-type="html"]').not('[data-editor-message]').attr('data-editor-message',_t('DRAG BUILDING BLOCKS HERE'));},_targetForEdition:function(){return $('#wrapwrap');},_onContentWillBeDestroyed:function(ev){this.trigger_up('widgets_stop_request',{$target:ev.data.$target,});},_onContentWasRecreated:function(ev){this.trigger_up('widgets_start_request',{editableMode:true,$target:ev.data.$target,});},_onEditionWillStop:function(ev){this.$editorMessageElements&&this.$editorMessageElements.removeAttr('data-editor-message');this.trigger_up('widgets_stop_request',{$target:this._targetForEdition(),});},_onEditionWasStopped:function(ev){this.trigger_up('widgets_start_request',{$target:this._targetForEdition(),});this.editModeEnable=false;},_onSnippetWillBeCloned:function(ev){this.trigger_up('widgets_stop_request',{$target:ev.data.$target,});},_onSnippetCloned:function(ev){this.trigger_up('widgets_start_request',{editableMode:true,$target:ev.data.$target,});if(ev.data.$origin){this.trigger_up('widgets_start_request',{editableMode:true,$target:ev.data.$origin,});}},_onSnippetDropped:function(ev){this.trigger_up('widgets_start_request',{editableMode:true,$target:ev.data.$target,});this._addEditorMessages();},});websiteNavbarData.websiteNavbarRegistry.add(EditPageMenu,'#edit-page-menu');});;

/* /website/static/src/js/menu/mobile_view.js defined in bundle 'website.assets_editor' */
odoo.define('website.mobile',function(require){'use strict';var core=require('web.core');var Dialog=require('web.Dialog');var websiteNavbarData=require('website.navbar');var _t=core._t;var MobilePreviewDialog=Dialog.extend({start:function(){var self=this;this.$modal.addClass('oe_mobile_preview');this.$modal.on('click','.modal-header',function(){self.$el.toggleClass('o_invert_orientation');});this.$iframe=$('<iframe/>',{id:'mobile-viewport',src:$.param.querystring(window.location.href,'mobilepreview'),});this.$iframe.on('load',function(e){self.$iframe.contents().find('body').removeClass('o_connected_user');self.$iframe.contents().find('#oe_main_menu_navbar').remove();});this.$iframe.appendTo(this.$el);return this._super.apply(this,arguments);},});var MobileMenu=websiteNavbarData.WebsiteNavbarActionWidget.extend({actions:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.prototype.actions||{},{'show-mobile-preview':'_onMobilePreviewClick',}),_onMobilePreviewClick:function(){if(this.mobilePreview&&!this.mobilePreview.isDestroyed()){return this.mobilePreview.close();}
this.mobilePreview=new MobilePreviewDialog(this,{title:_t('Mobile preview')+' <span class="fa fa-refresh"/>',}).open();},});websiteNavbarData.websiteNavbarRegistry.add(MobileMenu,'#mobile-menu');return{MobileMenu:MobileMenu,MobilePreviewDialog:MobilePreviewDialog,};});;

/* /website/static/src/js/menu/new_content.js defined in bundle 'website.assets_editor' */
odoo.define('website.newMenu',function(require){'use strict';var core=require('web.core');var Dialog=require('web.Dialog');var websiteNavbarData=require('website.navbar');var wUtils=require('website.utils');var qweb=core.qweb;var _t=core._t;var enableFlag='enable_new_content';var NewContentMenu=websiteNavbarData.WebsiteNavbarActionWidget.extend({xmlDependencies:['/website/static/src/xml/website.editor.xml'],actions:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.prototype.actions||{},{close_all_widgets:'_handleCloseDemand',new_page:'_createNewPage',}),events:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.prototype.events||{},{'click':'_onBackgroundClick','click [data-module-id]':'_onModuleIdClick','keydown':'_onBackgroundKeydown',}),newContentText:{failed:_t('Failed to install "%s"'),installInProgress:_t("The installation of an App is already in progress."),installNeeded:_t('Do you want to install the "%s" App?'),installPleaseWait:_t('Installing "%s"'),},start:function(){this.pendingInstall=false;this.$newContentMenuChoices=this.$('#o_new_content_menu_choices');var $modules=this.$newContentMenuChoices.find('.o_new_content_element');_.each($modules,function(el,index){var $el=$(el);$el.data('original-index',index);if($el.data('module-id')){$el.appendTo($el.parent());$el.find('a i, a p').addClass('o_uninstalled_module');}});this.$firstLink=this.$newContentMenuChoices.find('a:eq(0)');this.$lastLink=this.$newContentMenuChoices.find('a:last');if($.deparam.querystring()[enableFlag]!==undefined){this._showMenu();}
return this._super.apply(this,arguments);},_createNewPage:function(){return wUtils.prompt({id:'editor_new_page',window_title:_t("New Page"),input:_t("Page Title"),init:function(){var $group=this.$dialog.find('div.form-group');$group.removeClass('mb0');var $add=$('<div/>',{'class':'form-group mb0 row'}).append($('<span/>',{'class':'offset-md-3 col-md-9 text-left'}).append(qweb.render('website.components.switch',{id:'switch_addTo_menu',label:_t("Add to menu")})));$add.find('input').prop('checked',true);$group.after($add);}}).then(function(result){var val=result.val;var $dialog=result.dialog;if(!val){return;}
var url='/website/add/'+encodeURIComponent(val);const res=wUtils.sendRequest(url,{add_menu:$dialog.find('input[type="checkbox"]').is(':checked')||'',});return new Promise(function(){});});},_handleCloseDemand:function(){this._hideMenu();},_focusFirstLink:function(){this.$firstLink.focus();},_focusLastLink:function(){this.$lastLink.focus();},_hideMenu:function(){this.shown=false;this.$newContentMenuChoices.addClass('o_hidden');$('body').removeClass('o_new_content_open');},_install:function(moduleId){this.pendingInstall=true;$('body').css('pointer-events','none');return this._rpc({model:'ir.module.module',method:'button_immediate_install',args:[[moduleId]],}).guardedCatch(function(){$('body').css('pointer-events','');});},_showMenu:function(){var self=this;return new Promise(function(resolve,reject){self.trigger_up('action_demand',{actionName:'close_all_widgets',onSuccess:resolve,});}).then(function(){self.firstTab=true;self.shown=true;self.$newContentMenuChoices.removeClass('o_hidden');$('body').addClass('o_new_content_open');self.$('> a').focus();});},_onBackgroundClick:function(ev){if(this.$newContentMenuChoices.hasClass('o_hidden')){this._showMenu();}else{this._hideMenu();}},_onBackgroundKeydown:function(ev){if(!this.shown){return;}
switch(ev.which){case $.ui.keyCode.ESCAPE:this._hideMenu();ev.stopPropagation();break;case $.ui.keyCode.TAB:if(ev.shiftKey){if(this.firstTab||document.activeElement===this.$firstLink[0]){this._focusLastLink();ev.preventDefault();}}else{if(this.firstTab||document.activeElement===this.$lastLink[0]){this._focusFirstLink();ev.preventDefault();}}
this.firstTab=false;break;}},_onModuleIdClick:function(ev){var self=this;var $el=$(ev.currentTarget);var $i=$el.find('a i');var $p=$el.find('a p');var title=$p.text();var content='';var buttons;var moduleId=$el.data('module-id');var name=$el.data('module-shortdesc');ev.stopPropagation();ev.preventDefault();if(this.pendingInstall){content=this.newContentText.installInProgress;}else{content=_.str.sprintf(this.newContentText.installNeeded,name);buttons=[{text:_t("Install"),classes:'btn-primary',close:true,click:function(){var $finalPosition=self.$newContentMenuChoices.find('.o_new_content_element:not([data-module-id])').filter(function(){return $(this).data('original-index')<$el.data('original-index');}).last();if($finalPosition){$el.fadeTo(400,0,function(){if(!$el.hasClass('o_new_content_element_once')){$el.insertAfter($finalPosition);}
$i.removeClass().addClass('fa fa-spin fa-spinner fa-pulse').css('background-image','none');$p.removeClass('o_uninstalled_module').text(_.str.sprintf(self.newContentText.installPleaseWait,name));$el.fadeTo(1000,1);});}
self._install(moduleId).then(function(){var origin=window.location.origin;var redirectURL=$el.find('a').data('url')||(window.location.pathname+'?'+enableFlag);window.location.href=origin+redirectURL;},function(){$i.removeClass().addClass('fa fa-exclamation-triangle');$p.text(_.str.sprintf(self.newContentText.failed,name));});}},{text:_t("Cancel"),close:true,}];}
new Dialog(this,{title:title,size:'medium',$content:$('<div/>',{text:content}),buttons:buttons}).open();},});websiteNavbarData.websiteNavbarRegistry.add(NewContentMenu,'.o_new_content_menu');return NewContentMenu;});;

/* /website/static/src/js/menu/seo.js defined in bundle 'website.assets_editor' */
odoo.define('website.seo',function(require){'use strict';var core=require('web.core');var Class=require('web.Class');var Dialog=require('web.Dialog');var mixins=require('web.mixins');var rpc=require('web.rpc');var Widget=require('web.Widget');var weWidgets=require('wysiwyg.widgets');var websiteNavbarData=require('website.navbar');var _t=core._t;var WORD_SEPARATORS_REGEX='([\\u2000-\\u206F\\u2E00-\\u2E7F\'!"#\\$%&\\(\\)\\*\\+,\\-\\.\\/:;<=>\\?¿¡@\\[\\]\\^_`\\{\\|\\}~\\s]+|^|$)';var Suggestion=Widget.extend({template:'website.seo_suggestion',xmlDependencies:['/website/static/src/xml/website.seo.xml'],events:{'click .o_seo_suggestion':'select',},init:function(parent,options){this.keyword=options.keyword;this._super(parent);},select:function(){this.trigger('selected',this.keyword);},});var SuggestionList=Widget.extend({template:'website.seo_suggestion_list',xmlDependencies:['/website/static/src/xml/website.seo.xml'],init:function(parent,options){this.root=options.root;this.language=options.language;this.htmlPage=options.htmlPage;this._super(parent);},start:function(){this.refresh();},refresh:function(){var self=this;self.$el.append(_t("Loading..."));var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});var language=self.language||context.lang.toLowerCase();this._rpc({route:'/website/seo_suggest',params:{keywords:self.root,lang:language,},}).then(function(keyword_list){self.addSuggestions(JSON.parse(keyword_list));});},addSuggestions:function(keywords){var self=this;self.$el.empty();var regex=new RegExp(WORD_SEPARATORS_REGEX+self.root+WORD_SEPARATORS_REGEX,'gi');keywords=_.map(_.uniq(keywords),function(word){return word.replace(regex,'').trim();});_.each(keywords,function(keyword){if(keyword){var suggestion=new Suggestion(self,{keyword:keyword,});suggestion.on('selected',self,function(word,language){self.trigger('selected',word,language);});suggestion.appendTo(self.$el);}});},});var Keyword=Widget.extend({template:'website.seo_keyword',xmlDependencies:['/website/static/src/xml/website.seo.xml'],events:{'click a[data-action=remove-keyword]':'destroy',},init:function(parent,options){this.keyword=options.word;this.language=options.language;this.htmlPage=options.htmlPage;this.used_h1=this.htmlPage.isInHeading1(this.keyword);this.used_h2=this.htmlPage.isInHeading2(this.keyword);this.used_content=this.htmlPage.isInBody(this.keyword);this._super(parent);},start:function(){var self=this;this.$('.o_seo_keyword_suggestion').empty();this.suggestionList=new SuggestionList(this,{root:this.keyword,language:this.language,htmlPage:this.htmlPage,});this.suggestionList.on('selected',this,function(word,language){this.trigger('selected',word,language);});return this.suggestionList.appendTo(this.$('.o_seo_keyword_suggestion')).then(function(){self.htmlPage.on('title-changed',self,self._updateTitle);self.htmlPage.on('description-changed',self,self._updateDescription);self._updateTitle();self._updateDescription();});},destroy:function(){this.trigger('removed');this._super();},_updateTitle:function(){var $title=this.$('.js_seo_keyword_title');if(this.htmlPage.isInTitle(this.keyword)){$title.css('visibility','visible');}else{$title.css('visibility','hidden');}},_updateDescription:function(){var $description=this.$('.js_seo_keyword_description');if(this.htmlPage.isInDescription(this.keyword)){$description.css('visibility','visible');}else{$description.css('visibility','hidden');}},});var KeywordList=Widget.extend({template:'website.seo_list',xmlDependencies:['/website/static/src/xml/website.seo.xml'],maxKeywords:10,init:function(parent,options){this.htmlPage=options.htmlPage;this._super(parent);},start:function(){var self=this;var existingKeywords=self.htmlPage.keywords();if(existingKeywords.length>0){_.each(existingKeywords,function(word){self.add.call(self,word);});}},keywords:function(){var result=[];this.$('.js_seo_keyword').each(function(){result.push($(this).data('keyword'));});return result;},isFull:function(){return this.keywords().length>=this.maxKeywords;},exists:function(word){return _.contains(this.keywords(),word);},add:async function(candidate,language){var self=this;var word=candidate?candidate.replace(/[,;.:<>]+/g,' ').replace(/ +/g,' ').trim().toLowerCase():'';if(word&&!self.isFull()&&!self.exists(word)){var keyword=new Keyword(self,{word:word,language:language,htmlPage:this.htmlPage,});keyword.on('removed',self,function(){self.trigger('list-not-full');self.trigger('content-updated',true);});keyword.on('selected',self,function(word,language){self.trigger('selected',word,language);});await keyword.appendTo(self.$el);}
if(self.isFull()){self.trigger('list-full');}
self.trigger('content-updated');},});var Preview=Widget.extend({template:'website.seo_preview',xmlDependencies:['/website/static/src/xml/website.seo.xml'],init:function(parent,options){this.title=options.title;this.url=options.url;this.description=options.description;if(this.description.length>160){this.description=this.description.substring(0,159)+'…';}
this._super(parent);},});var HtmlPage=Class.extend(mixins.PropertiesMixin,{init:function(){mixins.PropertiesMixin.init.call(this);this.initTitle=this.title();this.defaultTitle=$('meta[name="default_title"]').attr('content');this.initDescription=this.description();},url:function(){return window.location.origin+window.location.pathname;},title:function(){return $('title').text().trim();},changeTitle:function(title){$('title').text(title.trim()||this.defaultTitle);this.trigger('title-changed',title);},description:function(){return($('meta[name=description]').attr('content')||'').trim();},changeDescription:function(description){$('meta[name=description]').attr('content',description);this.trigger('description-changed',description);},keywords:function(){var $keywords=$('meta[name=keywords]');var parsed=($keywords.length>0)&&$keywords.attr('content')&&$keywords.attr('content').split(',');return(parsed&&parsed[0])?parsed:[];},changeKeywords:function(keywords){$('meta[name=keywords]').attr('content',keywords.join(','));},headers:function(tag){return $('#wrap '+tag).map(function(){return $(this).text();});},getOgMeta:function(){var ogImageUrl=$('meta[property="og:image"]').attr('content');var title=$('meta[property="og:title"]').attr('content');var description=$('meta[property="og:description"]').attr('content');return{ogImageUrl:ogImageUrl&&ogImageUrl.replace(window.location.origin,''),metaTitle:title,metaDescription:description,};},images:function(){return $('#wrap img').filter(function(){return this.naturalHeight>=200&&this.naturalWidth>=200;}).map(function(){return{src:this.getAttribute('src'),alt:this.getAttribute('alt'),};});},company:function(){return $('html').attr('data-oe-company-name');},bodyText:function(){return $('body').children().not('.oe_seo_configuration').text();},heading1:function(){return $('body').children().not('.oe_seo_configuration').find('h1').text();},heading2:function(){return $('body').children().not('.oe_seo_configuration').find('h2').text();},isInBody:function(text){return new RegExp(WORD_SEPARATORS_REGEX+text+WORD_SEPARATORS_REGEX,'gi').test(this.bodyText());},isInTitle:function(text){return new RegExp(WORD_SEPARATORS_REGEX+text+WORD_SEPARATORS_REGEX,'gi').test(this.title());},isInDescription:function(text){return new RegExp(WORD_SEPARATORS_REGEX+text+WORD_SEPARATORS_REGEX,'gi').test(this.description());},isInHeading1:function(text){return new RegExp(WORD_SEPARATORS_REGEX+text+WORD_SEPARATORS_REGEX,'gi').test(this.heading1());},isInHeading2:function(text){return new RegExp(WORD_SEPARATORS_REGEX+text+WORD_SEPARATORS_REGEX,'gi').test(this.heading2());},});var MetaTitleDescription=Widget.extend({template:'website.seo_meta_title_description',xmlDependencies:['/website/static/src/xml/website.seo.xml'],events:{'input input[name=website_meta_title]':'_titleChanged','input input[name=website_seo_name]':'_seoNameChanged','input textarea[name=website_meta_description]':'_descriptionOnInput','change textarea[name=website_meta_description]':'_descriptionOnChange',},maxRecommendedDescriptionSize:300,minRecommendedDescriptionSize:50,showDescriptionTooSmall:false,init:function(parent,options){this.htmlPage=options.htmlPage;this.canEditTitle=!!options.canEditTitle;this.canEditDescription=!!options.canEditDescription;this.canEditUrl=!!options.canEditUrl;this.isIndexed=!!options.isIndexed;this.seoName=options.seoName;this.seoNameDefault=options.seoNameDefault;this.seoNameHelp=options.seoNameHelp;this.previewDescription=options.previewDescription;this._super(parent,options);},start:function(){this.$title=this.$('input[name=website_meta_title]');this.$seoName=this.$('input[name=website_seo_name]');this.$seoNamePre=this.$('span.seo_name_pre');this.$seoNamePost=this.$('span.seo_name_post');this.$description=this.$('textarea[name=website_meta_description]');this.$warning=this.$('div#website_meta_description_warning');this.$preview=this.$('.js_seo_preview');if(!this.canEditTitle){this.$title.attr('disabled',true);}
if(!this.canEditDescription){this.$description.attr('disabled',true);}
if(this.htmlPage.title().trim()!==this.htmlPage.defaultTitle.trim()){this.$title.val(this.htmlPage.title());}
if(this.htmlPage.description().trim()!==this.previewDescription){this.$description.val(this.htmlPage.description());}
if(this.canEditUrl){this.previousSeoName=this.seoName;this.$seoName.val(this.seoName);this.$seoName.attr('placeholder',this.seoNameDefault);const splitsUrl=window.location.pathname.split(this.previousSeoName||this.seoNameDefault);this.$seoNamePre.text(splitsUrl[0]);this.$seoNamePost.text(splitsUrl.slice(-1)[0]);}
this._descriptionOnChange();},getTitle:function(){return this.$title.val().trim()||this.htmlPage.defaultTitle;},getUrl:function(){const path=window.location.pathname.replace(this.previousSeoName||this.seoNameDefault,(this.$seoName.length&&this.$seoName.val()?this.$seoName.val().trim():this.$seoName.attr('placeholder')));return window.location.origin+path},getDescription:function(){return this.getRealDescription()||this.previewDescription;},getRealDescription:function(){return this.$description.val()||'';},_titleChanged:function(){var self=this;self._renderPreview();self.trigger('title-changed');},_seoNameChanged:function(){var self=this;const slugified=this.$seoName.val().toString().toLowerCase().replace(/\s+/g,'-').replace(/[^\w\-]+/g,'-').replace(/\-\-+/g,'-');this.$seoName.val(slugified);self._renderPreview();},_descriptionOnChange:function(){this.showDescriptionTooSmall=true;this._descriptionOnInput();},_descriptionOnInput:function(){var length=this.getDescription().length;if(length>=this.minRecommendedDescriptionSize){this.showDescriptionTooSmall=true;}else if(length===0){this.showDescriptionTooSmall=false;}
if(length>this.maxRecommendedDescriptionSize){this.$warning.text(_t('Your description looks too long.')).show();}else if(this.showDescriptionTooSmall&&length<this.minRecommendedDescriptionSize){this.$warning.text(_t('Your description looks too short.')).show();}else{this.$warning.hide();}
this._renderPreview();this.trigger('description-changed');},_renderPreview:function(){var indexed=this.isIndexed;var preview="";if(indexed){preview=new Preview(this,{title:this.getTitle(),description:this.getDescription(),url:this.getUrl(),});}else{preview=new Preview(this,{description:_t("You have hidden this page from search results. It won't be indexed by search engines."),});}
this.$preview.empty();preview.appendTo(this.$preview);},});var MetaKeywords=Widget.extend({template:'website.seo_meta_keywords',xmlDependencies:['/website/static/src/xml/website.seo.xml'],events:{'keyup input[name=website_meta_keywords]':'_confirmKeyword','click button[data-action=add]':'_addKeyword',},init:function(parent,options){this.htmlPage=options.htmlPage;this._super(parent,options);},start:function(){var self=this;this.$input=this.$('input[name=website_meta_keywords]');this.keywordList=new KeywordList(this,{htmlPage:this.htmlPage});this.keywordList.on('list-full',this,function(){self.$input.attr({readonly:'readonly',placeholder:"Remove a keyword first"});self.$('button[data-action=add]').prop('disabled',true).addClass('disabled');});this.keywordList.on('list-not-full',this,function(){self.$input.removeAttr('readonly').attr('placeholder',"");self.$('button[data-action=add]').prop('disabled',false).removeClass('disabled');});this.keywordList.on('selected',this,function(word,language){self.keywordList.add(word,language);});this.keywordList.on('content-updated',this,function(removed){self._updateTable(removed);});return this.keywordList.insertAfter(this.$('.table thead')).then(function(){self._getLanguages();self._updateTable();});},_addKeyword:function(){var $language=this.$('select[name=seo_page_language]');var keyword=this.$input.val();var language=$language.val().toLowerCase();this.keywordList.add(keyword,language);this.$input.val('').focus();},_confirmKeyword:function(e){if(e.keyCode===13){this._addKeyword();}},_getLanguages:function(){var self=this;var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});this._rpc({route:'/website/get_languages',}).then(function(data){self.$('#language-box').html(core.qweb.render('Configurator.language_promote',{'language':data,'def_lang':context.lang}));});},_updateTable:function(removed){var min=removed?1:0;if(this.keywordList.keywords().length>min){this.$('table').show();}else{this.$('table').hide();}},});var MetaImageSelector=Widget.extend({template:'website.seo_meta_image_selector',xmlDependencies:['/website/static/src/xml/website.seo.xml'],events:{'click .o_meta_img_upload':'_onClickUploadImg','click .o_meta_img':'_onClickSelectImg',},init:function(parent,data){this.metaTitle=data.title||'';this.activeMetaImg=data.metaImg;this.serverUrl=data.htmlpage.url();const imgField=data.hasSocialDefaultImage?'social_default_image':'logo';data.pageImages.unshift(_.str.sprintf('/web/image/website/%s/%s',odoo.session_info.website_id,imgField));this.images=_.uniq(data.pageImages);this.customImgUrl=_.contains(data.pageImages.map((img)=>new URL(img,window.location.origin).pathname),new URL(data.metaImg,window.location.origin).pathname)?false:data.metaImg;this.previewDescription=data.previewDescription;this._setDescription(this.previewDescription);this._super(parent);},setTitle:function(title){this.metaTitle=title;this._updateTemplateBody();},setDescription:function(description){this._setDescription(description);this._updateTemplateBody();},_setDescription:function(description){this.metaDescription=description||this.previewDescription;if(this.metaDescription.length>160){this.metaDescription=this.metaDescription.substring(0,159)+'…';}},_updateTemplateBody:function(){this.$el.empty();this.images=_.uniq(this.images);this.$el.append(core.qweb.render('website.og_image_body',{widget:this}));},_onClickSelectImg:function(ev){var $img=$(ev.currentTarget);this.activeMetaImg=$img.find('img').attr('src');this._updateTemplateBody();},_onClickUploadImg:function(ev){var self=this;var $image=$('<img/>');var mediaDialog=new weWidgets.MediaDialog(this,{onlyImages:true,res_model:'ir.ui.view',},$image[0]);mediaDialog.open();mediaDialog.on('save',this,function(image){self.activeMetaImg=image.src;self.customImgUrl=image.src;self._updateTemplateBody();});},});var SeoConfigurator=Dialog.extend({template:'website.seo_configuration',xmlDependencies:Dialog.prototype.xmlDependencies.concat(['/website/static/src/xml/website.seo.xml']),canEditTitle:false,canEditDescription:false,canEditKeywords:false,canEditLanguage:false,canEditUrl:false,init:function(parent,options){options=options||{};_.defaults(options,{title:_t('Optimize SEO'),buttons:[{text:_t('Save'),classes:'btn-primary',click:this.update},{text:_t('Discard'),close:true},],});this._super(parent,options);},start:function(){var self=this;this.$modal.addClass('oe_seo_configuration');this.htmlPage=new HtmlPage();this.disableUnsavableFields().then(function(){self.metaImageSelector=new MetaImageSelector(self,{htmlpage:self.htmlPage,hasSocialDefaultImage:self.hasSocialDefaultImage,title:self.htmlPage.getOgMeta().metaTitle,metaImg:self.metaImg||self.htmlPage.getOgMeta().ogImageUrl,pageImages:_.pluck(self.htmlPage.images().get(),'src'),previewDescription:_t('The description will be generated by social media based on page content unless you specify one.'),});self.metaImageSelector.appendTo(self.$('.js_seo_image'));self.metaTitleDescription=new MetaTitleDescription(self,{htmlPage:self.htmlPage,canEditTitle:self.canEditTitle,canEditDescription:self.canEditDescription,canEditUrl:self.canEditUrl,isIndexed:self.isIndexed,previewDescription:_t('The description will be generated by search engines based on page content unless you specify one.'),seoNameHelp:_t('This value will be escaped to be compliant with all major browsers and used in url. Keep it empty to use the default name of the record.'),seoName:self.seoName,seoNameDefault:self.seoNameDefault,});self.metaTitleDescription.on('title-changed',self,self.titleChanged);self.metaTitleDescription.on('description-changed',self,self.descriptionChanged);self.metaTitleDescription.appendTo(self.$('.js_seo_meta_title_description'));self.metaKeywords=new MetaKeywords(self,{htmlPage:self.htmlPage});self.metaKeywords.appendTo(self.$('.js_seo_meta_keywords'));});},destroy:function(){if(!this.savedData){this.htmlPage.changeTitle(this.htmlPage.initTitle);this.htmlPage.changeDescription(this.htmlPage.initDescription);}
this._super.apply(this,arguments);},disableUnsavableFields:function(){var self=this;return this.loadMetaData().then(function(data){self.reloadOnSave=data.website_id===undefined?false:!data.website_id;self.isIndexed=(data&&('website_indexed'in data))?data.website_indexed:true;self.canEditTitle=data&&('website_meta_title'in data);self.canEditDescription=data&&('website_meta_description'in data);self.canEditKeywords=data&&('website_meta_keywords'in data);self.metaImg=data.website_meta_og_img;self.hasSocialDefaultImage=data.has_social_default_image;self.canEditUrl=data&&('seo_name'in data);self.seoName=self.canEditUrl&&data.seo_name;self.seoNameDefault=self.canEditUrl&&data.seo_name_default;if(!self.canEditTitle&&!self.canEditDescription&&!self.canEditKeywords){self.$footer.find('button[data-action=update]').attr('disabled',true);}});},update:function(){var self=this;var data={};if(this.canEditTitle){data.website_meta_title=this.metaTitleDescription.$title.val();}
if(this.canEditDescription){data.website_meta_description=this.metaTitleDescription.$description.val();}
if(this.canEditKeywords){data.website_meta_keywords=this.metaKeywords.keywordList.keywords().join(', ');}
if(this.canEditUrl){if(this.metaTitleDescription.$seoName.val()!=this.metaTitleDescription.previousSeoName){data.seo_name=this.metaTitleDescription.$seoName.val();self.reloadOnSave=true;}}
data.website_meta_og_img=this.metaImageSelector.activeMetaImg;this.saveMetaData(data).then(function(){if(self.reloadOnSave){window.location.href=self.htmlPage.url();}else{self.htmlPage.changeKeywords(self.metaKeywords.keywordList.keywords());self.savedData=true;self.close();}});},getMainObject:function(){var mainObject;this.trigger_up('main_object_request',{callback:function(value){mainObject=value;},});return mainObject;},getSeoObject:function(){var seoObject;this.trigger_up('seo_object_request',{callback:function(value){seoObject=value;},});return seoObject;},loadMetaData:function(){var obj=this.getSeoObject()||this.getMainObject();return new Promise(function(resolve,reject){if(!obj){resolve(null);}else{rpc.query({route:"/website/get_seo_data",params:{'res_id':obj.id,'res_model':obj.model,},}).then(function(data){var meta=data;meta.model=obj.model;resolve(meta);}).guardedCatch(reject);}});},saveMetaData:function(data){var obj=this.getSeoObject()||this.getMainObject();if(!obj){return Promise.reject();}else{return this._rpc({model:obj.model,method:'write',args:[[obj.id],data],});}},titleChanged:function(){var self=this;_.defer(function(){var title=self.metaTitleDescription.getTitle();self.htmlPage.changeTitle(title);self.metaImageSelector.setTitle(title);});},descriptionChanged:function(){var self=this;_.defer(function(){var description=self.metaTitleDescription.getRealDescription();self.htmlPage.changeDescription(description);self.metaImageSelector.setDescription(description);});},});var SeoMenu=websiteNavbarData.WebsiteNavbarActionWidget.extend({actions:_.extend({},websiteNavbarData.WebsiteNavbarActionWidget.prototype.actions||{},{'promote-current-page':'_promoteCurrentPage',}),init:function(parent,options){this._super(parent,options);if($.deparam.querystring().enable_seo!==undefined){this._promoteCurrentPage();}},_promoteCurrentPage:function(){new SeoConfigurator(this).open();},});websiteNavbarData.websiteNavbarRegistry.add(SeoMenu,'#promote-menu');return{SeoConfigurator:SeoConfigurator,SeoMenu:SeoMenu,};});;

/* /website/static/src/js/menu/translate.js defined in bundle 'website.assets_editor' */
odoo.define('website.translateMenu',function(require){'use strict';var utils=require('web.utils');var TranslatorMenu=require('website.editor.menu.translate');var websiteNavbarData=require('website.navbar');var TranslatePageMenu=websiteNavbarData.WebsiteNavbarActionWidget.extend({assetLibs:['web_editor.compiled_assets_wysiwyg','website.compiled_assets_wysiwyg'],actions:_.extend({},websiteNavbarData.WebsiteNavbar.prototype.actions||{},{edit_master:'_goToMasterPage',translate:'_startTranslateMode',}),start:function(){var context;this.trigger_up('context_get',{extra:true,callback:function(ctx){context=ctx;},});this._mustEditTranslations=context.edit_translations;if(this._mustEditTranslations){var url=window.location.href.replace(/([?&])&*edit_translations[^&#]*&?/,'\$1');window.history.replaceState({},null,url);this._startTranslateMode();}
return this._super.apply(this,arguments);},_goToMasterPage:function(){var current=document.createElement('a');current.href=window.location.toString();current.search+=(current.search?'&':'?')+'enable_editor=1';current.pathname=current.pathname.substr(Math.max(0,current.pathname.indexOf('/',1)));var link=document.createElement('a');link.href='/website/lang/default';link.search+=(link.search?'&':'?')+'r='+encodeURIComponent(current.pathname+current.search+current.hash);window.location=link.href;return new Promise(function(){});},_startTranslateMode:function(){if(!this._mustEditTranslations){window.location.search+='&edit_translations';return new Promise(function(){});}
var translator=new TranslatorMenu(this);$('.dropdown-menu').on('click','.o_editable',function(ev){ev.stopPropagation();});return translator.prependTo(document.body);},});websiteNavbarData.websiteNavbarRegistry.add(TranslatePageMenu,'.o_menu_systray:has([data-action="translate"])');});;

/* /website/static/src/js/tours/homepage.js defined in bundle 'website.assets_editor' */
odoo.define("website.tour.homepage",function(require){"use strict";var core=require("web.core");var tour=require("web_tour.tour");var _t=core._t;tour.register("homepage",{url:"/",},[{trigger:"a[data-action=edit]",content:_t("<b>Click Edit</b> to start designing your homepage."),extra_trigger:".homepage",position:"bottom",},{trigger:"#snippet_structure .oe_snippet:eq(1) .oe_snippet_thumbnail",extra_trigger:"body.editor_enable.editor_has_snippets",content:_t("Drag the <i>Cover</i> block and drop it in your page."),position:"bottom",run:"drag_and_drop #wrap",},{trigger:"#wrapwrap .s_cover h1",content:_t("<b>Click on a text</b> to start editing it. <i>It's that easy to edit your content!</i>"),position:"bottom",consumeEvent:'input',run:"text",},{trigger:".o_we_customize_panel",extra_trigger:"#wrapwrap .s_cover h1:not(:containsExact(\"Catchy Headline\"))",content:_t("Customize any block through this menu. Try to change the background color of this block."),position:"right",},{trigger:'.o_we_add_snippet_btn',content:_t("Go back to the blocks menu."),position:'bottom',},{trigger:"#snippet_structure .oe_snippet:eq(3) .oe_snippet_thumbnail",content:_t("Drag another block in your page, below the cover."),position:"bottom",run:"drag_and_drop #wrap",},{trigger:"button[data-action=save]",content:_t("Click the <b>Save</b> button."),position:"bottom",},{trigger:"a[data-action=show-mobile-preview]",content:_t("Good Job! You have designed your homepage. Let's check how this page looks like on <b>mobile devices</b>."),position:"bottom",},{trigger:".modal-dialog:has(#mobile-viewport) button[data-dismiss=modal]",content:_t("After having checked how it looks on mobile, <b>close the preview</b>."),position:"right",},{trigger:"#new-content-menu > a",content:_t("<p><b>Your homepage is live.</b></p><p>Let's add a new page for your site.</p>"),position:"bottom",},{trigger:"a[data-action=new_page]",content:_t("<p><b>Click here</b> to create a new page.</p>"),position:"bottom",},{trigger:".modal-dialog #editor_new_page input[type=text]",content:_t("<p>Enter a title for the page.</p>"),position:"bottom",},{trigger:".modal-footer button.btn-primary.btn-continue",content:_t("Click on <b>Continue</b> to create the page."),position:"bottom",},{trigger:"#snippet_structure .oe_snippet:eq(3) .oe_snippet_thumbnail",content:_t("Drag the block and drop it in your new page."),position:"bottom",run:"drag_and_drop #wrap",},{trigger:"button[data-action=save]",content:_t("Click the <b>Save</b> button."),position:"bottom",},{trigger:".js_publish_management .js_publish_btn",content:_t("<b>That's it!</b><p>Your page is all set to go live. Click the <b>Publish</b> button to publish it on the website.</p>"),position:"bottom",}]);});;

/* /website/static/src/js/tours/tour_utils.js defined in bundle 'website.assets_editor' */
odoo.define("website.tour_utils",function(require){"use strict";const core=require("web.core");const _t=core._t;function addMedia(position="right"){return{trigger:`.modal-content footer .btn-primary`,content:_t("<b>Add</b> the selected image."),position:position,run:"click",};}
function changeBackground(snippet,position="bottom"){return{trigger:".o_we_customize_panel .o_we_edit_image",content:_t("<b>Customize</b> any block through this menu. Try to change the background image of this block."),position:position,run:"click",};}
function changeBackgroundColor(position="bottom"){return{trigger:".o_we_customize_panel .o_we_color_preview",content:_t("<b>Customize</b> any block through this menu. Try to change the background color of this block."),position:position,run:"click",};}
function changeColumnSize(position="right"){return{trigger:`.oe_overlay.ui-draggable.o_we_overlay_sticky.oe_active .o_handle.e`,content:_t("<b>Slide</b> this button to change the column size."),position:position,};}
function changeIcon(snippet,index=0,position="bottom"){return{trigger:`#wrapwrap .${snippet.id} i:eq(${index})`,content:_t("<b>Double click on an icon</b> to change it with one of our choice."),position:position,run:"dblclick",};}
function changeImage(snippet,position="bottom"){return{trigger:`#wrapwrap .${snippet.id} img`,content:_t("<b>Double click on an image</b> to change it with one of our choice."),position:position,run:"dblclick",};}
function changeOption(optionName,weName='',optionTooltipLabel='',position="bottom"){const option_block=`we-customizeblock-option[class='snippet-option-${optionName}']`
return{trigger:`${option_block} ${weName}, ${option_block} [title='${weName}']`,content:_t(`<b>Click</b> on this option to change the ${optionTooltipLabel} of the block.`),position:position,run:"click",};}
function changePaddingSize(direction){let paddingDirection="n";let position="top";if(direction==="bottom"){paddingDirection="s";position="bottom";}
return{trigger:`.oe_overlay.ui-draggable.o_we_overlay_sticky.oe_active .o_handle.${paddingDirection}`,content:_t(`<b>Slide</b> this button to change the ${direction} padding`),position:position,};}
function clickOnEdit(position="bottom"){return{trigger:"a[data-action=edit]",content:_t("<b>Click Edit</b> to start designing your homepage."),extra_trigger:".homepage",position:position,};}
function clickOnSnippet(snippet,position="bottom"){return{trigger:`#wrapwrap .${snippet.id}`,content:_t("<b>Click on a snippet</b> to access its options menu."),position:position,run:"click",};}
function clickOnSave(position="bottom"){return{trigger:"button[data-action=save]",content:_t("Good job! It's time to <b>Save</b> your work."),position:position,};}
function clickOnText(snippet,element,position="bottom"){return{trigger:`#wrapwrap .${snippet.id} ${element}`,content:_t("Even if this title is cool, you can change it. <b>Click on a text</b> to start editing it."),position:position,run:"text",consumeEvent:"input",};}
function dragNDrop(snippet,position="bottom"){return{trigger:`#oe_snippets .oe_snippet[name="${snippet.name}"] .oe_snippet_thumbnail:not(.o_we_already_dragging)`,extra_trigger:"body.editor_enable.editor_has_snippets",moveTrigger:'.oe_drop_zone',content:_t(`Drag the <b>${snippet.name}</b> building block and drop it in your page.`),position:position,run:"drag_and_drop #wrap",};}
function goBackToBlocks(position="bottom"){return{trigger:'.o_we_add_snippet_btn',content:_t("Click here to go back to block tab."),position:position,run:"click",};}
function goToOptions(position="bottom"){return{trigger:'.o_we_customize_theme_btn',content:_t("Go to the Options tab"),position:position,run:"click",};}
function selectHeader(position="bottom"){return{trigger:`header#top`,content:_t(`<b>Click</b> on this header to configure it.`),position:position,run:"click",};}
function selectSnippetColumn(snippet,index=0,position="bottom"){return{trigger:`#wrapwrap .${snippet.id} .row div[class*="col-lg-"]:eq(${index})`,content:_t("<b>Click</b> on this column to access its options."),position:position,run:"click",};}
return{addMedia,changeBackground,changeBackgroundColor,changeColumnSize,changeIcon,changeImage,changeOption,changePaddingSize,clickOnEdit,clickOnSave,clickOnSnippet,clickOnText,dragNDrop,goBackToBlocks,goToOptions,selectHeader,selectSnippetColumn,};});;

/* /website/static/src/js/widgets/ace.js defined in bundle 'website.assets_editor' */
odoo.define("website.ace",function(require){"use strict";var AceEditor=require('web_editor.ace');var WebsiteAceEditor=AceEditor.extend({hash:'#advanced-view-editor',do_hide:function(){this._super.apply(this,arguments);window.location.hash="";},_displayResource:function(){this._super.apply(this,arguments);this._updateHash();},_saveResources:function(){return this._super.apply(this,arguments).then((function(){var defs=[];if(this.currentType==='xml'){var selectedView=_.findWhere(this.views,{id:this._getSelectedResource()});var context;this.trigger_up('context_get',{callback:function(ctx){context=ctx;},});defs.push(this._rpc({model:'ir.ui.view',method:'search_read',fields:['id'],domain:[['key','=',selectedView.key],['website_id','=',context.website_id]],}).then((function(view){if(view[0]){this._updateHash(view[0].id);}}).bind(this)));}
return Promise.all(defs).then((function(){window.location.reload();return new Promise(function(){});}));}).bind(this));},_resetResource:function(){return this._super.apply(this,arguments).then((function(){window.location.reload();return new Promise(function(){});}).bind(this));},_updateHash:function(resID){window.location.hash=this.hash+"?res="+(resID||this._getSelectedResource());},});return WebsiteAceEditor;});;

/* /website_form/static/src/snippets/s_website_form/options.js defined in bundle 'website.assets_editor' */
odoo.define('website_form_editor',function(require){'use strict';const core=require('web.core');const FormEditorRegistry=require('website_form.form_editor_registry');const options=require('web_editor.snippets.options');const qweb=core.qweb;const _t=core._t;const FormEditor=options.Class.extend({xmlDependencies:['/website_form/static/src/xml/website_form_editor.xml','/google_recaptcha/static/src/xml/recaptcha.xml',],_fetchFieldRecords:async function(field){field.required=field.required?1:null;if(field.records){return field.records;}
if(field.type==='selection'){field.records=field.selection.map(el=>({id:el[0],display_name:el[1],}));}else if(field.relation&&field.relation!=='ir.attachment'){field.records=await this._rpc({model:field.relation,method:'search_read',args:[field.domain,['display_name']],});}
return field.records;},_getCustomField:function(type,name){return{name:name,string:name,custom:true,type:type,records:[{id:_t('Option 1'),display_name:_t('Option 1'),},{id:_t('Option 2'),display_name:_t('Option 2'),},{id:_t('Option 3'),display_name:_t('Option 3'),}],};},_getDefaultFormat:function(){return{labelWidth:this.$target[0].querySelector('.s_website_form_label').style.width,labelPosition:'left',multiPosition:'horizontal',requiredMark:this._isRequiredMark(),optionalMark:this._isOptionalMark(),mark:this._getMark(),};},_getMark:function(){return this.$target[0].dataset.mark;},_isOptionalMark:function(){return this.$target[0].classList.contains('o_mark_optional');},_isRequiredMark:function(){return this.$target[0].classList.contains('o_mark_required');},_renderField:function(field){field.id=Math.random().toString(36).substring(2,15);const template=document.createElement('template');template.innerHTML=qweb.render("website_form.field_"+field.type,{field:field}).trim();return template.content.firstElementChild;},});const FieldEditor=FormEditor.extend({init:function(){this._super.apply(this,arguments);this.formEl=this.$target[0].closest('form');},_getActiveField:function(){let field;const labelText=this.$target.find('.s_website_form_label_content').text();if(this._isFieldCustom()){field=this._getCustomField(this.$target[0].dataset.type,labelText);}else{field=Object.assign({},this.fields[this._getFieldName()]);field.string=labelText;}
field.records=this._getListItems();this._setActiveProperties(field);return field;},_getFieldFormat:function(){let requiredMark,optionalMark;const mark=this.$target[0].querySelector('.s_website_form_mark');if(mark){requiredMark=this._isFieldRequired();optionalMark=!requiredMark;}
const multipleInput=this._getMultipleInputs();const format={labelPosition:this._getLabelPosition(),labelWidth:this.$target[0].querySelector('.s_website_form_label').style.width,multiPosition:multipleInput&&multipleInput.dataset.display||'horizontal',col:[...this.$target[0].classList].filter(el=>el.match(/^col-/g)).join(' '),requiredMark:requiredMark,optionalMark:optionalMark,mark:mark&&mark.textContent,};return format;},_getFieldName:function(){const multipleName=this.$target[0].querySelector('.s_website_form_multiple');return multipleName?multipleName.dataset.name:this.$target[0].querySelector('.s_website_form_input').name;},_getFieldType:function(){return this.$target[0].dataset.type;},_getLabelPosition:function(){const label=this.$target[0].querySelector('.s_website_form_label');if(this.$target[0].querySelector('.row:not(.s_website_form_multiple)')){return label.classList.contains('text-right')?'right':'left';}else{return label.classList.contains('d-none')?'none':'top';}},_getMultipleInputs:function(){return this.$target[0].querySelector('.s_website_form_multiple');},_getPlaceholder:function(){const input=this._getPlaceholderInput();return input?input.placeholder:'';},_getPlaceholderInput:function(){return this.$target[0].querySelector('input[type="text"], input[type="email"], input[type="number"], input[type="tel"], input[type="url"], textarea');},_isFieldCustom:function(){return!!this.$target[0].classList.contains('s_website_form_custom');},_isFieldRequired:function(){const classList=this.$target[0].classList;return classList.contains('s_website_form_required')||classList.contains('s_website_form_model_required');},_setActiveProperties(field){const classList=this.$target[0].classList;const textarea=this.$target[0].querySelector('textarea');field.placeholder=this._getPlaceholder();field.rows=textarea&&textarea.rows;field.required=classList.contains('s_website_form_required');field.modelRequired=classList.contains('s_website_form_model_required');field.hidden=classList.contains('s_website_form_field_hidden');field.formatInfo=this._getFieldFormat();},_setPlaceholder:function(value){const input=this._getPlaceholderInput();if(input){input.placeholder=value;}},});options.registry.WebsiteFormEditor=FormEditor.extend({events:_.extend({},options.Class.prototype.events||{},{'click .toggle-edit-message':'_onToggleEndMessageClick',}),willStart:async function(){const _super=this._super.bind(this);this.modelCantChange=this.$target.attr('hide-change-model')!==undefined;if(this.modelCantChange){return _super(...arguments);}
this.models=await this._rpc({model:"ir.model",method:"search_read",args:[[['website_form_access','=',true]],['id','model','name','website_form_label','website_form_key']],});const targetModelName=this.$target[0].dataset.model_name||'mail.mail';this.activeForm=_.findWhere(this.models,{model:targetModelName});this.selectActionEl=document.createElement('we-select');this.selectActionEl.setAttribute('string','Action');this.selectActionEl.dataset.noPreview='true';this.models.forEach(el=>{const option=document.createElement('we-button');option.textContent=el.website_form_label;option.dataset.selectAction=el.id;this.selectActionEl.append(option);});return _super(...arguments);},start:function(){const proms=[this._super(...arguments)];this.$target.attr('contentEditable',false);this.$target.find('.s_website_form_send, .s_website_form_recaptcha').attr('contentEditable',true);this.$message=this.$target.parent().find('.s_website_form_end_message');this.showEndMessage=false;if(!this.$target[0].dataset.model_name){proms.push(this._applyFormModel());}
return Promise.all(proms);},cleanForSave:function(){const model=this.$target[0].dataset.model_name;if(model){const fields=[...this.$target[0].querySelectorAll('.s_website_form_field:not(.s_website_form_custom) .s_website_form_input')].map(el=>el.name);if(fields.length){this._rpc({model:'ir.model.fields',method:'formbuilder_whitelist',args:[model,_.uniq(fields)],});}}
if(this.$message.length){this.$target.removeClass('d-none');this.$message.addClass("d-none");}},updateUI:async function(){if(this.rerender){this.rerender=false;await this._rerenderXML();return;}
await this._super.apply(this,arguments);this.updateUIEndMessage();},updateUIEndMessage:function(){this.$target.toggleClass("d-none",this.showEndMessage);this.$message.toggleClass("d-none",!this.showEndMessage);this.$el.find(".toggle-edit-message").toggleClass('text-primary',this.showEndMessage);},notify:function(name,data){this._super(...arguments);if(name==='field_mark'){this._setLabelsMark();}else if(name==='add_field'){const field=this._getCustomField('char','Custom Text');field.formatInfo=data.formatInfo;field.formatInfo.requiredMark=this._isRequiredMark();field.formatInfo.optionalMark=this._isOptionalMark();field.formatInfo.mark=this._getMark();const htmlField=this._renderField(field);data.$target.after(htmlField);this.trigger_up('activate_snippet',{$snippet:$(htmlField),});}},addActionField:function(previewMode,value,params){const fieldName=params.fieldName;if(params.isSelect==='true'){value=parseInt(value);}
this._addHiddenField(value,fieldName);},onSuccess:function(previewMode,value,params){this.$target[0].dataset.successMode=value;if(value==='message'){if(!this.$message.length){this.$message=$(qweb.render('website_form.s_website_form_end_message'));}
this.$target.after(this.$message);}else{this.showEndMessage=false;this.$message.remove();}},selectAction:async function(previewMode,value,params){if(this.modelCantChange){return;}
await this._applyFormModel(parseInt(value));this.rerender=true;},selectClass:function(previewMode,value,params){this._super(...arguments);if(params.name==='field_mark_select'){this._setLabelsMark();}},setMark:function(previewMode,value,params){this.$target[0].dataset.mark=value.trim();this._setLabelsMark();},toggleRecaptchaLegal:function(previewMode,value,params){const recaptchaLegalEl=this.$target[0].querySelector('.s_website_form_recaptcha');if(recaptchaLegalEl){recaptchaLegalEl.remove();}else{const template=document.createElement('template');const labelWidth=this.$target[0].querySelector('.s_website_form_label').style.width;template.innerHTML=qweb.render("webite_form.s_website_form_recaptcha_legal",{labelWidth:labelWidth});const legal=template.content.firstElementChild;legal.setAttribute('contentEditable',true);this.$target.find('.s_website_form_submit').before(legal);}},_computeWidgetState:function(methodName,params){switch(methodName){case'selectAction':return this.activeForm.id;case'addActionField':{const value=this.$target.find(`.s_website_form_dnone input[name="${params.fieldName}"]`).val();if(value){return value;}else{return params.isSelect?'0':'';}}
case'onSuccess':return this.$target[0].dataset.successMode;case'setMark':return this._getMark();case'toggleRecaptchaLegal':return!this.$target[0].querySelector('.s_website_form_recaptcha')||'';}
return this._super(...arguments);},_renderCustomXML:function(uiFragment){if(this.modelCantChange){return;}
const firstOption=uiFragment.childNodes[0];uiFragment.insertBefore(this.selectActionEl.cloneNode(true),firstOption);const formKey=this.activeForm.website_form_key;const formInfo=FormEditorRegistry.get(formKey);if(!formInfo||!formInfo.fields){return;}
const proms=formInfo.fields.map(field=>this._fetchFieldRecords(field));return Promise.all(proms).then(()=>{formInfo.fields.forEach(field=>{let option;switch(field.type){case'many2one':option=this._buildSelect(field);break;case'char':option=this._buildInput(field);break;}
if(field.required){const currentValue=this.$target.find(`.s_website_form_dnone input[name="${field.name}"]`).val();const defaultValue=field.defaultValue||field.records[0].id;this._addHiddenField(currentValue||defaultValue,field.name);}
uiFragment.insertBefore(option,firstOption);});});},_addHiddenField:function(value,fieldName){this.$target.find(`.s_website_form_dnone:has(input[name="${fieldName}"])`).remove();if(value){const hiddenField=qweb.render('website_form.field_hidden',{field:{name:fieldName,value:value,},});this.$target.find('.s_website_form_submit').before(hiddenField);}},_buildInput:function(field){const inputEl=document.createElement('we-input');inputEl.dataset.noPreview='true';inputEl.dataset.fieldName=field.name;inputEl.dataset.addActionField='';inputEl.setAttribute('string',field.string);inputEl.classList.add('o_we_large_input');return inputEl;},_buildSelect:function(field){const selectEl=document.createElement('we-select');selectEl.dataset.noPreview='true';selectEl.dataset.fieldName=field.name;selectEl.dataset.isSelect='true';selectEl.setAttribute('string',field.string);if(!field.required){const noneButton=document.createElement('we-button');noneButton.textContent='None';noneButton.dataset.addActionField=0;selectEl.append(noneButton);}
field.records.forEach(el=>{const button=document.createElement('we-button');button.textContent=el.display_name;button.dataset.addActionField=el.id;selectEl.append(button);});return selectEl;},_applyFormModel:async function(modelId){let oldFormInfo;if(modelId){const oldFormKey=this.activeForm.website_form_key;if(oldFormKey){oldFormInfo=FormEditorRegistry.get(oldFormKey);}
this.$target.find('.s_website_form_field').remove();this.activeForm=_.findWhere(this.models,{id:modelId});}
const formKey=this.activeForm.website_form_key;const formInfo=FormEditorRegistry.get(formKey);if(!this.$target[0].dataset.successMode){this.$target[0].dataset.successMode='redirect';}
if(this.$target[0].dataset.successMode==='redirect'){const currentSuccessPage=this.$target[0].dataset.successPage;if(formInfo&&formInfo.successPage){this.$target[0].dataset.successPage=formInfo.successPage;}else if(!oldFormInfo||(oldFormInfo!==formInfo&&oldFormInfo.successPage&&currentSuccessPage===oldFormInfo.successPage)){this.$target[0].dataset.successPage='/contactus-thank-you';}}
this.$target[0].dataset.model_name=this.activeForm.model;if(formInfo){const formatInfo=this._getDefaultFormat();await formInfo.formFields.forEach(async field=>{field.formatInfo=formatInfo;await this._fetchFieldRecords(field);this.$target.find('.s_website_form_submit, .s_website_form_recaptcha').first().before(this._renderField(field));});}},_setLabelsMark:function(){this.$target[0].querySelectorAll('.s_website_form_mark').forEach(el=>el.remove());const mark=this._getMark();if(!mark){return;}
let fieldsToMark=[];const requiredSelector='.s_website_form_model_required, .s_website_form_required';const fields=Array.from(this.$target[0].querySelectorAll('.s_website_form_field'));if(this._isRequiredMark()){fieldsToMark=fields.filter(el=>el.matches(requiredSelector));}else if(this._isOptionalMark()){fieldsToMark=fields.filter(el=>!el.matches(requiredSelector));}
fieldsToMark.forEach(field=>{let span=document.createElement('span');span.classList.add('s_website_form_mark');span.textContent=` ${mark}`;field.querySelector('.s_website_form_label').appendChild(span);});},_onToggleEndMessageClick:function(){this.showEndMessage=!this.showEndMessage;this.updateUIEndMessage();this.trigger_up('activate_snippet',{$snippet:this.showEndMessage?this.$message:this.$target,});},});options.registry.WebsiteFieldEditor=FieldEditor.extend({events:_.extend({},FieldEditor.prototype.events,{'click we-button.o_we_select_remove_option':'_onRemoveItemClick','click we-button.o_we_list_add_optional':'_onAddCustomItemClick','click we-button.o_we_list_add_existing':'_onAddExistingItemClick','click we-list we-select':'_onAddItemSelectClick','input we-list input':'_onListItemInput',}),init:function(){this._super.apply(this,arguments);this.rerender=true;},willStart:async function(){const _super=this._super.bind(this);this.existingFields=await this._rpc({model:"ir.model",method:"get_authorized_fields",args:[this.formEl.dataset.model_name],}).then(fields=>{this.fields=_.each(fields,function(field,fieldName){field.name=fieldName;field.domain=field.domain||[];});return Object.keys(fields).map(key=>{const field=fields[key];const button=document.createElement('we-button');button.textContent=field.string;button.dataset.existingField=field.name;return button;}).sort((a,b)=>(a.textContent>b.textContent)?1:(a.textContent<b.textContent)?-1:0);});return _super(...arguments);},cleanForSave:function(){this.$target[0].querySelectorAll('#editable_select').forEach(el=>el.remove());const select=this._getSelect();if(select&&this.listTable){select.style.display='';select.innerHTML='';this.listTable.querySelectorAll('input').forEach(el=>{const option=document.createElement('option');option.textContent=el.value;option.value=this._isFieldCustom()?el.value:el.name;select.appendChild(option);});}},updateUI:async function(){if(this.rerender){const select=this._getSelect();if(select&&!this.$target[0].querySelector('#editable_select')){select.style.display='none';const editableSelect=document.createElement('div');editableSelect.id='editable_select';editableSelect.classList='form-control s_website_form_input';select.parentElement.appendChild(editableSelect);}
this.rerender=false;await this._rerenderXML().then(()=>this._renderList());return;}
await this._super.apply(this,arguments);},onFocus:function(){this.rerender=true;},customField:async function(previewMode,value,params){if(!value){return;}
const name=this.el.querySelector(`[data-custom-field="${value}"]`).textContent;const field=this._getCustomField(value,`Custom ${name}`);this._setActiveProperties(field);await this._replaceField(field);this.rerender=true;},existingField:async function(previewMode,value,params){if(!value){return;}
const field=Object.assign({},this.fields[value]);this._setActiveProperties(field);await this._replaceField(field);this.rerender=true;},setLabelText:function(previewMode,value,params){this.$target.find('.s_website_form_label_content').text(value);if(this._isFieldCustom()){const multiple=this.$target[0].querySelector('.s_website_form_multiple');if(multiple){multiple.dataset.name=value;}
this.$target[0].querySelectorAll('.s_website_form_input').forEach(el=>el.name=value);}},setPlaceholder:function(previewMode,value,params){this._setPlaceholder(value);},selectLabelPosition:async function(previewMode,value,params){const field=this._getActiveField();field.formatInfo.labelPosition=value;await this._replaceField(field);this.rerender=true;},selectType:async function(previewMode,value,params){const field=this._getActiveField();field.type=value;await this._replaceField(field);},multiCheckboxDisplay:function(previewMode,value,params){const target=this._getMultipleInputs();target.querySelectorAll('.checkbox, .radio').forEach(el=>{if(value==='horizontal'){el.classList.add('col-lg-4','col-md-6');}else{el.classList.remove('col-lg-4','col-md-6');}});target.dataset.display=value;},toggleRequired:function(previewMode,value,params){const isRequired=this.$target[0].classList.contains(params.activeValue);this.$target[0].classList.toggle(params.activeValue,!isRequired);this.$target[0].querySelectorAll('input, select, textarea').forEach(el=>el.toggleAttribute('required',!isRequired));this.trigger_up('option_update',{optionName:'WebsiteFormEditor',name:'field_mark',});},_computeWidgetState:function(methodName,params){switch(methodName){case'customField':return this._isFieldCustom()?this._getFieldType():'';case'existingField':return this._isFieldCustom()?'':this._getFieldName();case'setLabelText':return this.$target.find('.s_website_form_label_content').text();case'setPlaceholder':return this._getPlaceholder();case'selectLabelPosition':return this._getLabelPosition();case'selectType':return this._getFieldType();case'multiCheckboxDisplay':{const target=this._getMultipleInputs();return target?target.dataset.display:'';}
case'toggleRequired':return this.$target[0].classList.contains(params.activeValue)?params.activeValue:'false';}
return this._super(...arguments);},_computeWidgetVisibility:function(widgetName,params){switch(widgetName){case'char_input_type_opt':return!this.$target[0].classList.contains('s_website_form_custom')&&['char','email','tel','url'].includes(this.$target[0].dataset.type);case'multi_check_display_opt':return!!this._getMultipleInputs();case'placeholder_opt':return!!this._getPlaceholderInput();case'required_opt':case'hidden_opt':case'type_opt':return!this.$target[0].classList.contains('s_website_form_model_required');}
return this._super(...arguments);},_renderCustomXML:function(uiFragment){const selectEl=uiFragment.querySelector('we-select[data-name="type_opt"]');const currentFieldName=this._getFieldName();const fieldsInForm=Array.from(this.formEl.querySelectorAll('.s_website_form_field:not(.s_website_form_custom) .s_website_form_input')).map(el=>el.name).filter(el=>el!==currentFieldName);const availableFields=this.existingFields.filter(el=>!fieldsInForm.includes(el.dataset.existingField));if(availableFields.length){const title=document.createElement('we-title');title.textContent='Existing fields';availableFields.unshift(title);availableFields.forEach(option=>selectEl.append(option.cloneNode(true)));}},_replaceField:async function(field){await this._fetchFieldRecords(field);const htmlField=this._renderField(field);[...this.$target[0].childNodes].forEach(node=>node.remove());[...htmlField.childNodes].forEach(node=>this.$target[0].appendChild(node));[...htmlField.attributes].forEach(el=>this.$target[0].removeAttribute(el.nodeName));[...htmlField.attributes].forEach(el=>this.$target[0].setAttribute(el.nodeName,el.nodeValue));},_renderList:function(){let addItemButton,addItemTitle,listTitle;const select=this._getSelect();const multipleInputs=this._getMultipleInputs();this.listTable=document.createElement('table');const isCustomField=this._isFieldCustom();if(select){listTitle='Options List';addItemTitle='Add new Option';select.querySelectorAll('option').forEach(opt=>{this._addItemToTable(opt.value,opt.textContent.trim());});this._renderListItems();}else if(multipleInputs){listTitle=multipleInputs.querySelector('.radio')?'Radio List':'Checkbox List';addItemTitle='Add new Checkbox';multipleInputs.querySelectorAll('.checkbox, .radio').forEach(opt=>{this._addItemToTable(opt.querySelector('input').value,opt.querySelector('.s_website_form_check_label').textContent.trim());});}else{return;}
if(isCustomField){addItemButton=document.createElement('we-button');addItemButton.textContent=addItemTitle;addItemButton.classList.add('o_we_list_add_optional');addItemButton.dataset.noPreview='true';}else{addItemButton=document.createElement('we-select');addItemButton.classList.add('o_we_user_value_widget');const togglerEl=document.createElement('we-toggler');togglerEl.textContent=addItemTitle;addItemButton.appendChild(togglerEl);const selectMenuEl=document.createElement('we-selection-items');addItemButton.appendChild(selectMenuEl);this._loadListDropdown(selectMenuEl);}
const selectInputEl=document.createElement('we-list');const title=document.createElement('we-title');title.textContent=listTitle;selectInputEl.appendChild(title);const tableWrapper=document.createElement('div');tableWrapper.classList.add('oe_we_table_wraper');tableWrapper.appendChild(this.listTable);selectInputEl.appendChild(tableWrapper);selectInputEl.appendChild(addItemButton);this.el.insertBefore(selectInputEl,this.el.querySelector('[data-set-placeholder]'));this._makeListItemsSortable();},_loadListDropdown:function(selectMenu){selectMenu=selectMenu||this.el.querySelector('we-list we-selection-items');if(selectMenu){selectMenu.innerHTML='';const field=Object.assign({},this.fields[this._getFieldName()]);this._fetchFieldRecords(field).then(()=>{let buttonItems;const optionIds=Array.from(this.listTable.querySelectorAll('input')).map(opt=>{return field.type==='selection'?opt.name:parseInt(opt.name);});const availableRecords=(field.records||[]).filter(el=>!optionIds.includes(el.id));if(availableRecords.length){buttonItems=availableRecords.map(el=>{const option=document.createElement('we-button');option.classList.add('o_we_list_add_existing');option.dataset.addOption=el.id;option.dataset.noPreview='true';option.textContent=el.display_name;return option;});}else{const title=document.createElement('we-title');title.textContent='No more records';buttonItems=[title];}
buttonItems.forEach(button=>selectMenu.appendChild(button));});}},_makeListItemsSortable:function(){$(this.listTable).sortable({axis:'y',handle:'.o_we_drag_handle',items:'tr',cursor:'move',opacity:0.6,stop:(event,ui)=>{this._renderListItems();},});},_addItemToTable:function(id,text){const isCustomField=this._isFieldCustom();const draggableEl=document.createElement('we-button');draggableEl.classList.add('o_we_drag_handle','o_we_link','fa','fa-fw','fa-arrows');draggableEl.dataset.noPreview='true';const inputEl=document.createElement('input');inputEl.type='text';if(text){inputEl.value=text;}
if(!isCustomField&&id){inputEl.name=id;}
inputEl.disabled=!isCustomField;const trEl=document.createElement('tr');const buttonEl=document.createElement('we-button');buttonEl.classList.add('o_we_select_remove_option','o_we_link','o_we_text_danger','fa','fa-fw','fa-minus');buttonEl.dataset.removeOption=id;buttonEl.dataset.noPreview='true';const draggableTdEl=document.createElement('td');const inputTdEl=document.createElement('td');const buttonTdEl=document.createElement('td');draggableTdEl.appendChild(draggableEl);trEl.appendChild(draggableTdEl);inputTdEl.appendChild(inputEl);trEl.appendChild(inputTdEl);buttonTdEl.appendChild(buttonEl);trEl.appendChild(buttonTdEl);this.listTable.appendChild(trEl);if(isCustomField){inputEl.focus();}},_renderListItems:function(){const multiInputsWrap=this._getMultipleInputs();const selectWrap=this.$target[0].querySelector('#editable_select');const isRequiredField=this._isFieldRequired();const name=this._getFieldName();if(multiInputsWrap){const type=multiInputsWrap.querySelector('.radio')?'radio':'checkbox';multiInputsWrap.innerHTML='';const params={field:{name:name,id:Math.random().toString(36).substring(2,15),required:isRequiredField,formatInfo:{multiPosition:multiInputsWrap.dataset.display,}}};this._getListItems().forEach((record,idx)=>{params.record_index=idx;params.record=record;const template=document.createElement('template');template.innerHTML=qweb.render(`website_form.${type}`,params);multiInputsWrap.appendChild(template.content.firstElementChild);});}else if(selectWrap){selectWrap.innerHTML='';this.listTable.querySelectorAll('input').forEach(el=>{const option=document.createElement('div');option.id=(el.name||el.value);option.classList.add('s_website_form_select_item');option.textContent=el.value;selectWrap.appendChild(option);});}},_getListItems:function(){if(!this.listTable){return null;}
const isCustomField=this._isFieldCustom();const records=[];this.listTable.querySelectorAll('input').forEach(el=>{const id=isCustomField?el.value:el.name;records.push({id:id,display_name:el.value,});});return records;},_getSelect:function(){return this.$target[0].querySelector('select');},_onRemoveItemClick:function(ev){ev.target.closest('tr').remove();this._loadListDropdown();this._renderListItems();},_onAddCustomItemClick:function(ev){this._addItemToTable();this._makeListItemsSortable();this._renderListItems();},_onAddExistingItemClick:function(ev){const value=ev.currentTarget.dataset.addOption;this._addItemToTable(value,ev.currentTarget.textContent);this._makeListItemsSortable();this._loadListDropdown();this._renderListItems();},_onAddItemSelectClick:function(ev){ev.currentTarget.querySelector('we-toggler').classList.toggle('active');},_onListItemInput:function(){this._renderListItems();},});options.registry.AddFieldForm=FormEditor.extend({isTopOption:true,addField:async function(previewMode,value,params){const field=this._getCustomField('char','Custom Text');field.formatInfo=this._getDefaultFormat();const htmlField=this._renderField(field);this.$target.find('.s_website_form_submit, .s_website_form_recaptcha').first().before(htmlField);this.trigger_up('activate_snippet',{$snippet:$(htmlField),});},});options.registry.AddField=FieldEditor.extend({isTopOption:true,addField:async function(previewMode,value,params){this.trigger_up('option_update',{optionName:'WebsiteFormEditor',name:'add_field',data:{formatInfo:this._getFieldFormat(),$target:this.$target,},});},});const DisableOverlayButtonOption=options.Class.extend({disableButton:function(buttonName,message){const className='oe_snippet_'+buttonName;this.$overlay.add(this.$overlay.data('$optionsSection')).on('click','.'+className,this.preventButton);const $button=this.$overlay.add(this.$overlay.data('$optionsSection')).find('.'+className);$button.attr('title',message).tooltip({delay:0});$button.removeClass(className);},preventButton:function(event){event.preventDefault();event.stopImmediatePropagation();}});options.registry.WebsiteFormFieldModel=DisableOverlayButtonOption.extend({start:function(){this.disableButton('clone',_t('You can\'t duplicate a model field.'));return this._super.apply(this,arguments);}});options.registry.WebsiteFormFieldRequired=DisableOverlayButtonOption.extend({start:function(){this.disableButton('remove',_t('You can\'t remove a field that is required by the model itself.'));return this._super.apply(this,arguments);}});options.registry.WebsiteFormSubmitRequired=DisableOverlayButtonOption.extend({start:function(){this.disableButton('remove',_t('You can\'t remove the submit button of the form'));this.disableButton('clone',_t('You can\'t duplicate the submit button of the form.'));return this._super.apply(this,arguments);}});});;

/* /website_form/static/src/js/website_form_editor_registry.js defined in bundle 'website.assets_editor' */
odoo.define('website_form.form_editor_registry',function(require){'use strict';var Registry=require('web.Registry');return new Registry();});odoo.define('website_form.send_mail_form',function(require){'use strict';var core=require('web.core');var FormEditorRegistry=require('website_form.form_editor_registry');var _t=core._t;FormEditorRegistry.add('send_mail',{formFields:[{type:'char',custom:true,required:true,name:'Your Name',},{type:'tel',custom:true,name:'Phone Number',},{type:'email',modelRequired:true,name:'email_from',string:'Your Email',},{type:'char',custom:true,name:'Your Company',},{type:'char',modelRequired:true,name:'subject',string:'Subject',},{type:'text',custom:true,required:true,name:'Your Question',}],fields:[{name:'email_to',type:'char',required:true,string:_t('Recipient Email'),defaultValue:'info@yourcompany.example.com',}],});});;

/* /website_crm/static/src/js/website_crm_editor.js defined in bundle 'website.assets_editor' */
odoo.define('website_crm.form',function(require){'use strict';var core=require('web.core');var FormEditorRegistry=require('website_form.form_editor_registry');var _t=core._t;FormEditorRegistry.add('create_lead',{formFields:[{type:'char',required:true,name:'contact_name',string:'Your Name',},{type:'tel',name:'phone',string:'Phone Number',},{type:'email',required:true,name:'email_from',string:'Your Email',},{type:'char',required:true,name:'partner_name',string:'Your Company',},{type:'char',modelRequired:true,name:'name',string:'Subject',},{type:'text',required:true,name:'description',string:'Your Question',}],fields:[{name:'team_id',type:'many2one',relation:'crm.team',domain:[['use_opportunities','=',true]],string:_t('Sales Team'),title:_t('Assign leads/opportunities to a sales team.'),},{name:'user_id',type:'many2one',relation:'res.users',string:_t('Salesperson'),title:_t('Assign leads/opportunities to a salesperson.'),}],});});;

/* /website_form_project/static/src/js/website_form_project_editor.js defined in bundle 'website.assets_editor' */
odoo.define('website_form_project.form',function(require){'use strict';var core=require('web.core');var FormEditorRegistry=require('website_form.form_editor_registry');var _t=core._t;FormEditorRegistry.add('create_task',{formFields:[{type:'char',modelRequired:true,name:'name',string:'Task Title',},{type:'email',modelRequired:true,name:'email_from',string:'Your Email',},{type:'char',name:'description',string:'Description',}],fields:[{name:'project_id',type:'many2one',relation:'project.project',required:true,string:_t('Project'),}],});});;

/* /website_links/static/src/js/website_links_menu.js defined in bundle 'website.assets_editor' */
odoo.define('website_links.website_links_menu',function(require){'use strict';var publicWidget=require('web.public.widget');var websiteNavbarData=require('website.navbar');var WebsiteLinksMenu=publicWidget.Widget.extend({start:function(){this.$el.attr('href','/r?u='+encodeURIComponent(window.location.href));return this._super.apply(this,arguments);},});websiteNavbarData.websiteNavbarRegistry.add(WebsiteLinksMenu,'#o_website_links_share_page');});;

/* /website_calendar/static/src/js/website_calendar.editor.js defined in bundle 'website.assets_editor' */
odoo.define('website_calendar.editor',function(require){'use strict';var core=require('web.core');var wUtils=require('website.utils');var WebsiteNewMenu=require('website.newMenu');var _t=core._t;WebsiteNewMenu.include({actions:_.extend({},WebsiteNewMenu.prototype.actions||{},{new_appointment:'_createNewAppointment',}),_createNewAppointment:function(){var self=this;return wUtils.prompt({window_title:_t("New Appointment Type"),input:_t("Name"),}).then(function(result){var name=result.val;if(!name){return;}
return self._rpc({model:'calendar.appointment.type',method:'create_and_get_website_url',args:[[]],kwargs:{name:name,},}).then(function(url){window.location.href=url;return new Promise(function(){});});});},});});;

/* /website_blog/static/src/js/website_blog.editor.js defined in bundle 'website.assets_editor' */
odoo.define('website_blog.new_blog_post',function(require){'use strict';var core=require('web.core');var wUtils=require('website.utils');var WebsiteNewMenu=require('website.newMenu');var _t=core._t;WebsiteNewMenu.include({actions:_.extend({},WebsiteNewMenu.prototype.actions||{},{new_blog_post:'_createNewBlogPost',}),_createNewBlogPost:function(){return this._rpc({model:'blog.blog',method:'search_read',args:[wUtils.websiteDomain(this),['name']],}).then(function(blogs){if(blogs.length===1){document.location='/blog/'+blogs[0]['id']+'/post/new';return new Promise(function(){});}else if(blogs.length>1){return wUtils.prompt({id:'editor_new_blog',window_title:_t("New Blog Post"),select:_t("Select Blog"),init:function(field){return _.map(blogs,function(blog){return[blog['id'],blog['name']];});},}).then(function(result){var blog_id=result.val;if(!blog_id){return;}
document.location='/blog/'+blog_id+'/post/new';return new Promise(function(){});});}});},});});odoo.define('website_blog.editor',function(require){'use strict';require('web.dom_ready');const{qweb,_t}=require('web.core');const options=require('web_editor.snippets.options');var WysiwygMultizone=require('web_editor.wysiwyg.multizone');if(!$('.website_blog').length){return Promise.reject("DOM doesn't contain '.website_blog'");}
const NEW_TAG_PREFIX='new-blog-tag-';WysiwygMultizone.include({custom_events:Object.assign({},WysiwygMultizone.prototype.custom_events,{'set_blog_post_updated_tags':'_onSetBlogPostUpdatedTags',}),init(){this._super(...arguments);this.blogTagsPerBlogPost={};},async start(){await this._super(...arguments);$('.js_tweet, .js_comment').off('mouseup').trigger('mousedown');},async save(){const ret=await this._super(...arguments);await this._saveBlogTags();return ret;},async _saveBlogTags(){for(const[key,tags]of Object.entries(this.blogTagsPerBlogPost)){const proms=tags.filter(tag=>typeof tag.id==='string').map(tag=>{return this._rpc({model:'blog.tag',method:'create',args:[{'name':tag.name,}],});});const createdIDs=await Promise.all(proms);await this._rpc({model:'blog.post',method:'write',args:[parseInt(key),{'tag_ids':[[6,0,tags.filter(tag=>typeof tag.id==='number').map(tag=>tag.id).concat(createdIDs)]],}],});}},_onSetBlogPostUpdatedTags:function(ev){this.blogTagsPerBlogPost[ev.data.blogPostID]=ev.data.tags;},});options.registry.many2one.include({_selectRecord:function($opt){var self=this;this._super.apply(this,arguments);if(this.$target.data('oe-field')==='author_id'){var $nodes=$('[data-oe-model="blog.post"][data-oe-id="'+this.$target.data('oe-id')+'"][data-oe-field="author_avatar"]');$nodes.each(function(){var $img=$(this).find('img');var css=window.getComputedStyle($img[0]);$img.css({width:css.width,height:css.height});$img.attr('src','/web/image/res.partner/'+self.ID+'/image_1024');});setTimeout(function(){$nodes.removeClass('o_dirty');},0);}}});options.registry.CoverProperties.include({updateUI:async function(){await this._super(...arguments);var isRegularCover=this.$target.is('.o_wblog_post_page_cover_regular');var $coverFull=this.$el.find('[data-select-class*="o_full_screen_height"]');var $coverMid=this.$el.find('[data-select-class*="o_half_screen_height"]');var $coverAuto=this.$el.find('[data-select-class*="cover_auto"]');this._coverFullOriginalLabel=this._coverFullOriginalLabel||$coverFull.text();this._coverMidOriginalLabel=this._coverMidOriginalLabel||$coverMid.text();this._coverAutoOriginalLabel=this._coverAutoOriginalLabel||$coverAuto.text();$coverFull.children('div').text(isRegularCover?_t("Large"):this._coverFullOriginalLabel);$coverMid.children('div').text(isRegularCover?_t("Medium"):this._coverMidOriginalLabel);$coverAuto.children('div').text(isRegularCover?_t("Tiny"):this._coverAutoOriginalLabel);},});options.registry.BlogPostTagSelection=options.Class.extend({xmlDependencies:(options.Class.prototype.xmlDependencies||[]).concat(['/website_blog/static/src/xml/website_blog_tag.xml']),async willStart(){const _super=this._super.bind(this);this.blogPostID=parseInt(this.$target[0].dataset.blogId);this.isEditingTags=false;const tags=await this._rpc({model:'blog.tag',method:'search_read',args:[[],['id','name','post_ids']],});this.allTagsByID={};this.tagIDs=[];for(const tag of tags){this.allTagsByID[tag.id]=tag;if(tag['post_ids'].includes(this.blogPostID)){this.tagIDs.push(tag.id);}}
return _super(...arguments);},cleanForSave(){if(this.isEditingTags){this._notifyUpdatedTags();}},editTagList(previewMode,widgetValue,params){this.isEditingTags=true;this.rerender=true;},saveTagList(previewMode,widgetValue,params){this.isEditingTags=false;this.rerender=true;this._notifyUpdatedTags();},setNewTagName(previewMode,widgetValue,params){this.newTagName=widgetValue;},confirmNew(previewMode,widgetValue,params){if(!this.newTagName){return;}
const existing=Object.values(this.allTagsByID).some(tag=>tag.name.toLowerCase()===this.newTagName.toLowerCase());if(existing){return this.displayNotification({type:'warning',message:_t("This tag already exists"),});}
const newTagID=_.uniqueId(NEW_TAG_PREFIX);this.allTagsByID[newTagID]={'id':newTagID,'name':this.newTagName,};this.tagIDs.push(newTagID);this.newTagName='';this.rerender=true;},addTag(previewMode,widgetValue,params){const tagID=parseInt(widgetValue);this.tagIDs.push(tagID);this.rerender=true;},removeTag(previewMode,widgetValue,params){this.tagIDs=this.tagIDs.filter(tagID=>(`${tagID}`!==widgetValue));if(widgetValue.startsWith(NEW_TAG_PREFIX)){delete this.allTagsByID[widgetValue];}
this.rerender=true;},async updateUI(){if(this.rerender){this.rerender=false;await this._rerenderXML();return;}
return this._super(...arguments);},async _computeWidgetVisibility(widgetName,params){if(['blog_existing_tag_opt','new_tag_input_opt','new_tag_button_opt','save_tags_opt'].includes(widgetName)){return this.isEditingTags;}
if(widgetName==='edit_tags_opt'){return!this.isEditingTags;}
if(params.optionsPossibleValues['removeTag']){return this.isEditingTags;}
return this._super(...arguments);},async _computeWidgetState(methodName,params){if(methodName==='addTag'){return'';}
return this._super(...arguments);},_notifyUpdatedTags(){this.trigger_up('set_blog_post_updated_tags',{blogPostID:this.blogPostID,tags:this.tagIDs.map(tagID=>this.allTagsByID[tagID]),});},async _renderCustomXML(uiFragment){const $tagList=$(uiFragment.querySelector('.o_wblog_tag_list'));for(const tagID of this.tagIDs){const tag=this.allTagsByID[tagID];$tagList.append(qweb.render('website_blog.TagListItem',{tag:tag,}));}
const $select=$(uiFragment.querySelector('we-select[data-name="blog_existing_tag_opt"]'));for(const[key,tag]of Object.entries(this.allTagsByID)){if(this.tagIDs.includes(parseInt(key))){continue;}
$select.prepend(qweb.render('website_blog.TagSelectItem',{tag:tag,}));}},});});;

/* /website_blog/static/src/js/tours/website_blog.js defined in bundle 'website.assets_editor' */
odoo.define("website_blog.tour",function(require){"use strict";var core=require("web.core");var tour=require("web_tour.tour");var _t=core._t;tour.register("blog",{url:"/",},[{trigger:'#new-content-menu > a',auto:true,position:'bottom',},{trigger:"a[data-action=new_blog_post]",content:_t("Select this menu item to create a new blog post."),position:"bottom",},{trigger:"button.btn-continue",extra_trigger:"form[id=\"editor_new_blog\"]",content:_t("Select the blog you want to add the post to."),},{trigger:"div[data-oe-expression=\"blog_post.name\"]",extra_trigger:"#oe_snippets.o_loaded",content:_t("Write a title, the subtitle is optional."),position:"top",run:"text",},{trigger:"we-button[data-background]:nth(1)",extra_trigger:"#wrap div[data-oe-expression=\"blog_post.name\"]:not(:containsExact(\"\"))",content:_t("Set a blog post <b>cover</b>."),position:"right",},{trigger:".o_select_media_dialog .o_we_search",content:_t("Search for an image. (eg: type \"business\")"),position:"top",},{trigger:".o_select_media_dialog .o_existing_attachment_cell:first img",extra_trigger:'.modal:has(.o_existing_attachment_cell:first)',content:_t("Choose an image from the library."),position:"top",},{trigger:"#o_wblog_post_content",content:_t("<b>Write your story here.</b> Use the top toolbar to style your text: add an image or table, set bold or italic, etc. Drag and drop building blocks for more graphical blogs."),position:"top",run:function(actions){actions.auto();actions.text("Blog content",this.$anchor.find("p"));},},{trigger:"button[data-action=save]",extra_trigger:"#o_wblog_post_content .o_wblog_post_content_field p:first:not(:containsExact("+_t("Start writing here...")+"))",content:_t("<b>Click on Save</b> to record your changes."),position:"bottom",},{trigger:"a[data-action=show-mobile-preview]",extra_trigger:"body:not(.editor_enable)",content:_t("Use this icon to preview your blog post on <b>mobile devices</b>."),position:"bottom",},{trigger:"button[data-dismiss=modal]",extra_trigger:'.modal:has(#mobile-viewport)',content:_t("Once you have reviewed the content on mobile, close the preview."),position:"right",},{trigger:".js_publish_management .js_publish_btn",extra_trigger:"body:not(.editor_enable)",position:"bottom",content:_t("<b>Publish your blog post</b> to make it visible to your visitors."),},{trigger:"#customize-menu > a",extra_trigger:".js_publish_management .js_publish_btn .css_unpublish:visible",content:_t("<b>That's it, your blog post is published!</b> Discover more features through the <i>Customize</i> menu."),position:"bottom",width:500,}]);});;

/* /website_livechat/static/src/js/website_livechat.editor.js defined in bundle 'website.assets_editor' */
odoo.define('website_livechat.editor',function(require){'use strict';var core=require('web.core');var wUtils=require('website.utils');var WebsiteNewMenu=require('website.newMenu');var _t=core._t;WebsiteNewMenu.include({actions:_.extend({},WebsiteNewMenu.prototype.actions||{},{new_channel:'_createNewChannel',}),_createNewChannel:function(){var self=this;return wUtils.prompt({window_title:_t("New Channel"),input:_t("Name"),}).then(function(result){var name=result.val;if(!name){return;}
return self._rpc({model:'im_livechat.channel',method:'create_and_get_website_url',args:[[]],kwargs:{name:name,},}).then(function(url){window.location.href=url;return new Promise(function(){});});});},});});;

/* /website_slides/static/src/js/website_slides.editor.js defined in bundle 'website.assets_editor' */
odoo.define('website_slides.editor',function(require){"use strict";var core=require('web.core');var Dialog=require('web.Dialog');var QWeb=core.qweb;var WebsiteNewMenu=require('website.newMenu');var TagCourseDialog=require('website_slides.channel_tag.add').TagCourseDialog;var wUtils=require('website.utils');var _t=core._t;var ChannelCreateDialog=Dialog.extend({template:'website.slide.channel.create',xmlDependencies:Dialog.prototype.xmlDependencies.concat(['/website_slides/static/src/xml/website_slides_channel.xml','/website_slides/static/src/xml/website_slides_channel_tag.xml']),events:_.extend({},Dialog.prototype.events,{'change input#tag_ids':'_onChangeTag',}),custom_events:_.extend({},Dialog.prototype.custom_events,{'tag_refresh':'_onTagRefresh','tag_remove_new':'_onTagRemoveNew',}),init:function(parent,options){options=_.defaults(options||{},{title:_t("New Course"),size:'medium',buttons:[{text:_t("Create"),classes:'btn-primary',click:this._onClickFormSubmit.bind(this)},{text:_t("Discard"),close:true},]});this._super(parent,options);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){var $input=self.$('#tag_ids');$input.select2({width:'100%',allowClear:true,formatNoMatches:false,multiple:true,selection_data:false,formatSelection:function(data){if(data.tag){data.text=data.tag;}
return data.text;},createSearchChoice:function(term,data){var addedTags=$(this.opts.element).select2('data');if(_.filter(_.union(addedTags,data),function(tag){return tag.text.toLowerCase().localeCompare(term.toLowerCase())===0;}).length===0){if(this.opts.can_create){return{id:_.uniqueId('tag_'),create:true,tag:term,text:_.str.sprintf(_t("Create new Tag '%s'"),term),};}else{return undefined;}}},fill_data:function(query,data){var that=this,tags={results:[]};_.each(data,function(obj){if(that.matcher(query.term,obj.name)){tags.results.push({id:obj.id,text:obj.name});}});query.callback(tags);},query:function(query){var that=this;if(!this.selection_data){self._rpc({route:'/slides/channel/tag/search_read',params:{fields:['name'],domain:[],}}).then(function(data){that.can_create=data.can_create;that.fill_data(query,data.read_results);that.selection_data=data.read_results;});}else{this.fill_data(query,this.selection_data);}}});});},_onClickFormSubmit:function(ev){var $form=this.$("#slide_channel_add_form");var $title=this.$("#title");if(!$title[0].value){$title.addClass('border-danger');this.$("#title-required").removeClass('d-none');}else{$form.submit();}},_onChangeTag:function(ev){var self=this;var tags=$(ev.currentTarget).select2('data');tags.forEach(function(element){if(element.create){new TagCourseDialog(self,{defaultTag:element.text}).open();}});},_onTagRefresh:function(ev){var $tag_ids=$('#tag_ids');var tags=$tag_ids.select2('data');tags.forEach(function(element){if(element.create){element.id=ev.data.tag_id;element.create=false;}});$tag_ids.select2('data',tags);$tag_ids.data('select2').opts.selection_data=false;},_onTagRemoveNew:function(){var tags=$('#tag_ids').select2('data');tags=tags.filter(function(value){return!value.create;});$('#tag_ids').select2('data',tags);},});WebsiteNewMenu.include({actions:_.extend({},WebsiteNewMenu.prototype.actions||{},{new_slide_channel:'_createNewSlideChannel',}),_createNewSlideChannel:function(){var self=this;var def=new Promise(function(resolve){var dialog=new ChannelCreateDialog(self,{});dialog.open();dialog.on('closed',self,resolve);});return def;},});});         20190327091201                                  K             &     
 / *   / w e b s i t e / s t a t i c / s r c / j s / e d i t o r / e d i t o r _ m e n u . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . e d i t o r . m e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   W y s i w y g = r e q u i r e ( ' w e b _ e d i t o r . w y s i w y g . r o o t ' ) ; v a r   _ t = c o r e . _ t ; v a r   W y s i w y g M u l t i z o n e = W y s i w y g . e x t e n d ( { a s s e t L i b s : W y s i w y g . p r o t o t y p e . a s s e t L i b s . c o n c a t ( [ ' w e b s i t e . c o m p i l e d _ a s s e t s _ w y s i w y g ' ] ) , _ g e t W y s i w y g C o n t r u c t o r : f u n c t i o n ( ) { r e t u r n   o d o o . _ _ D E B U G _ _ . s e r v i c e s [ ' w e b _ e d i t o r . w y s i w y g . m u l t i z o n e ' ] ; } } ) ; v a r   E d i t o r M e n u = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . e d i t o r b a r ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . e d i t o r . x m l ' ] , e v e n t s : { ' c l i c k   b u t t o n [ d a t a - a c t i o n = u n d o ] ' : ' _ o n U n d o C l i c k ' , ' c l i c k   b u t t o n [ d a t a - a c t i o n = r e d o ] ' : ' _ o n R e d o C l i c k ' , ' c l i c k   b u t t o n [ d a t a - a c t i o n = s a v e ] ' : ' _ o n S a v e C l i c k ' , ' c l i c k   b u t t o n [ d a t a - a c t i o n = c a n c e l ] ' : ' _ o n C a n c e l C l i c k ' , } , c u s t o m _ e v e n t s : { r e q u e s t _ s a v e : ' _ o n S n i p p e t R e q u e s t S a v e ' , g e t _ c l e a n _ h t m l : ' _ o n G e t C l e a n H T M L ' , } , w i l l S t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ e l = n u l l ; r e t u r n   t h i s . _ s u p e r ( ) . t h e n ( f u n c t i o n ( ) { v a r   $ w r a p w r a p = $ ( ' # w r a p w r a p ' ) ; $ w r a p w r a p . r e m o v e C l a s s ( ' o _ e d i t a b l e ' ) ; s e l f . e d i t a b l e ( $ w r a p w r a p ) . a d d C l a s s ( ' o _ e d i t a b l e ' ) ; s e l f . w y s i w y g = s e l f . _ w y s i w y g I n s t a n c e ( ) ; } ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ e l . c s s ( { w i d t h : ' 1 0 0 % ' } ) ; r e t u r n   t h i s . w y s i w y g . a t t a c h T o ( $ ( ' # w r a p w r a p ' ) ) . t h e n ( f u n c t i o n ( ) { s e l f . t r i g g e r _ u p ( ' e d i t _ m o d e ' ) ; s e l f . $ e l . c s s ( { w i d t h : ' ' } ) ; } ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . t r i g g e r _ u p ( ' r e a d o n l y _ m o d e ' ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , c a n c e l : f u n c t i o n ( r e l o a d ) { v a r   s e l f = t h i s ; v a r   d e f = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { i f ( ! s e l f . w y s i w y g . i s D i r t y ( ) ) { r e s o l v e ( ) ; } e l s e { v a r   c o n f i r m = D i a l o g . c o n f i r m ( s e l f , _ t ( " I f   y o u   d i s c a r d   t h e   c u r r e n t   e d i t s ,   a l l   u n s a v e d   c h a n g e s   w i l l   b e   l o s t .   Y o u   c a n   c a n c e l   t o   r e t u r n   t o   e d i t   m o d e . " ) , { c o n f i r m _ c a l l b a c k : r e s o l v e , } ) ; c o n f i r m . o n ( ' c l o s e d ' , s e l f , r e j e c t ) ; } } ) ; r e t u r n   d e f . t h e n ( f u n c t i o n ( ) { s e l f . t r i g g e r _ u p ( ' e d i t i o n _ w i l l _ s t o p p e d ' ) ; v a r   $ w r a p w r a p = $ ( ' # w r a p w r a p ' ) ; s e l f . e d i t a b l e ( $ w r a p w r a p ) . r e m o v e C l a s s ( ' o _ e d i t a b l e ' ) ; i f ( r e l o a d ! = = f a l s e ) { w i n d o w . o n b e f o r e u n l o a d = n u l l ; s e l f . w y s i w y g . d e s t r o y ( ) ; r e t u r n   s e l f . _ r e l o a d ( ) ; } e l s e { s e l f . w y s i w y g . d e s t r o y ( ) ; s e l f . t r i g g e r _ u p ( ' r e a d o n l y _ m o d e ' ) ; s e l f . t r i g g e r _ u p ( ' e d i t i o n _ w a s _ s t o p p e d ' ) ; s e l f . d e s t r o y ( ) ; } } ) ; } , s a v e : a s y n c   f u n c t i o n ( r e l o a d ) { i f ( t h i s . _ s a v i n g ) { r e t u r n   f a l s e ; } 
 v a r   s e l f = t h i s ; t h i s . _ s a v i n g = t r u e ; t h i s . t r i g g e r _ u p ( ' e d i t i o n _ w i l l _ s t o p p e d ' ) ; r e t u r n   t h i s . w y s i w y g . s a v e ( f a l s e ) . t h e n ( f u n c t i o n ( r e s u l t ) { v a r   $ w r a p w r a p = $ ( ' # w r a p w r a p ' ) ; s e l f . e d i t a b l e ( $ w r a p w r a p ) . r e m o v e C l a s s ( ' o _ e d i t a b l e ' ) ; i f ( r e s u l t . i s D i r t y & & r e l o a d ! = = f a l s e ) { $ ( ' b o d y ' ) . r e m o v e C l a s s ( ' o _ c o n n e c t e d _ u s e r ' ) ; r e t u r n   s e l f . _ r e l o a d ( ) ; } e l s e { s e l f . w y s i w y g . d e s t r o y ( ) ; s e l f . t r i g g e r _ u p ( ' e d i t i o n _ w a s _ s t o p p e d ' ) ; s e l f . d e s t r o y ( ) ; } 
 r e t u r n   t r u e ; } ) . g u a r d e d C a t c h ( ( ) = > { t h i s . _ s a v i n g = f a l s e ; } ) ; } , e d i t a b l e : f u n c t i o n ( $ w r a p w r a p ) { r e t u r n   $ w r a p w r a p . f i n d ( ' [ d a t a - o e - m o d e l ] ' ) . n o t ( ' . o _ n o t _ e d i t a b l e ' ) . f i l t e r ( f u n c t i o n ( ) { v a r   $ p a r e n t = $ ( t h i s ) . c l o s e s t ( ' . o _ e d i t a b l e ,   . o _ n o t _ e d i t a b l e ' ) ; r e t u r n ! $ p a r e n t . l e n g t h | | $ p a r e n t . h a s C l a s s ( ' o _ e d i t a b l e ' ) ; } ) . n o t ( ' l i n k ,   s c r i p t ' ) . n o t ( ' [ d a t a - o e - r e a d o n l y ] ' ) . n o t ( ' i m g [ d a t a - o e - f i e l d = " a r c h " ] ,   b r [ d a t a - o e - f i e l d = " a r c h " ] ,   i n p u t [ d a t a - o e - f i e l d = " a r c h " ] ' ) . n o t ( ' . o e _ s n i p p e t _ e d i t o r ' ) . n o t ( ' h r ,   b r ,   i n p u t ,   t e x t a r e a ' ) . a d d ( ' . o _ e d i t a b l e ' ) ; } , _ w y s i w y g I n s t a n c e : f u n c t i o n ( ) { v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; r e t u r n   n e w   W y s i w y g M u l t i z o n e ( t h i s , { s n i p p e t s : ' w e b s i t e . s n i p p e t s ' , r e c o r d I n f o : { c o n t e x t : c o n t e x t , d a t a _ r e s _ m o d e l : ' w e b s i t e ' , d a t a _ r e s _ i d : c o n t e x t . w e b s i t e _ i d , } } ) ; } , _ r e l o a d : f u n c t i o n ( ) { $ ( ' b o d y ' ) . a d d C l a s s ( ' o _ w a i t _ r e l o a d ' ) ; t h i s . w y s i w y g . d e s t r o y ( ) ; t h i s . $ e l . h i d e ( ) ; w i n d o w . l o c a t i o n . h a s h = ' s c r o l l T o p = ' + w i n d o w . d o c u m e n t . b o d y . s c r o l l T o p ; w i n d o w . l o c a t i o n . r e l o a d ( t r u e ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } , _ o n C a n c e l C l i c k : f u n c t i o n ( ) { t h i s . c a n c e l ( t r u e ) ; } , _ o n G e t C l e a n H T M L : f u n c t i o n ( e v ) { e v . d a t a . c a l l b a c k ( t h i s . w y s i w y g . g e t V a l u e ( { $ l a y o u t : e v . d a t a . $ l a y o u t } ) ) ; } , _ o n S n i p p e t R e q u e s t S a v e : f u n c t i o n ( e v ) { t h i s . s a v e ( f a l s e ) . t h e n ( e v . d a t a . o n S u c c e s s , e v . d a t a . o n F a i l u r e ) ; } , _ o n S a v e C l i c k : f u n c t i o n ( ) { t h i s . s a v e ( ) ; } , _ o n U n d o C l i c k ( ) { $ ( ' . n o t e - h i s t o r y   [ d a t a - e v e n t = u n d o ] ' ) . f i r s t ( ) . c l i c k ( ) ; } , _ o n R e d o C l i c k ( ) { $ ( ' . n o t e - h i s t o r y   [ d a t a - e v e n t = r e d o ] ' ) . f i r s t ( ) . c l i c k ( ) ; } , } ) ; r e t u r n   E d i t o r M e n u ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / e d i t o r / e d i t o r _ m e n u _ t r a n s l a t e . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . e d i t o r . m e n u . t r a n s l a t e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; r e q u i r e ( ' w e b . d o m _ r e a d y ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   l o c a l S t o r a g e = r e q u i r e ( ' w e b . l o c a l _ s t o r a g e ' ) ; v a r   W y s i w y g = r e q u i r e ( ' w e b _ e d i t o r . w y s i w y g . r o o t ' ) ; v a r   E d i t o r M e n u = r e q u i r e ( ' w e b s i t e . e d i t o r . m e n u ' ) ; v a r   _ t = c o r e . _ t ; v a r   l o c a l S t o r a g e N o D i a l o g K e y = ' w e b s i t e _ t r a n s l a t o r _ n o d i a l o g ' ; v a r   T r a n s l a t o r I n f o D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . T r a n s l a t o r I n f o D i a l o g ' , x m l D e p e n d e n c i e s : D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e / s t a t i c / s r c / x m l / t r a n s l a t o r . x m l ' ] ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r ( p a r e n t , _ . e x t e n d ( { t i t l e : _ t ( " T r a n s l a t i o n   I n f o " ) , b u t t o n s : [ { t e x t : _ t ( " O k ,   n e v e r   s h o w   m e   t h i s   a g a i n " ) , c l a s s e s : ' b t n - p r i m a r y ' , c l o s e : t r u e , c l i c k : t h i s . _ o n S t r o n g O k . b i n d ( t h i s ) } , { t e x t : _ t ( " O k " ) , c l o s e : t r u e } ] , } , o p t i o n s | | { } ) ) ; } , _ o n S t r o n g O k : f u n c t i o n ( ) { l o c a l S t o r a g e . s e t I t e m ( l o c a l S t o r a g e N o D i a l o g K e y , t r u e ) ; } , } ) ; v a r   W y s i w y g T r a n s l a t e = W y s i w y g . e x t e n d ( { a s s e t L i b s : W y s i w y g . p r o t o t y p e . a s s e t L i b s . c o n c a t ( [ ' w e b s i t e . c o m p i l e d _ a s s e t s _ w y s i w y g ' ] ) , _ g e t W y s i w y g C o n t r u c t o r : f u n c t i o n ( ) { r e t u r n   o d o o . _ _ D E B U G _ _ . s e r v i c e s [ ' w e b _ e d i t o r . w y s i w y g . m u l t i z o n e . t r a n s l a t e ' ] ; } } ) ; v a r   T r a n s l a t o r M e n u = E d i t o r M e n u . e x t e n d ( { s t a r t : f u n c t i o n ( ) { i f ( ! l o c a l S t o r a g e . g e t I t e m ( l o c a l S t o r a g e N o D i a l o g K e y ) ) { n e w   T r a n s l a t o r I n f o D i a l o g ( t h i s ) . o p e n ( ) ; } 
 r e t u r n   t h i s . _ s u p e r ( ) ; } , e d i t a b l e : f u n c t i o n ( $ w r a p w r a p ) { v a r   s e l e c t o r = ' [ d a t a - o e - t r a n s l a t i o n - i d ] ,   ' + ' [ d a t a - o e - m o d e l ] [ d a t a - o e - i d ] [ d a t a - o e - f i e l d ] ,   ' + ' [ p l a c e h o l d e r * = " d a t a - o e - t r a n s l a t i o n - i d = " ] ,   ' + ' [ t i t l e * = " d a t a - o e - t r a n s l a t i o n - i d = " ] ,   ' + ' [ a l t * = " d a t a - o e - t r a n s l a t i o n - i d = " ] ' ; v a r   $ e d i t = $ w r a p w r a p . f i n d ( s e l e c t o r ) ; $ e d i t . f i l t e r ( ' : h a s ( ' + s e l e c t o r + ' ) ' ) . a t t r ( ' d a t a - o e - r e a d o n l y ' , t r u e ) ; r e t u r n   $ e d i t . n o t ( ' [ d a t a - o e - r e a d o n l y ] ' ) ; } , _ w y s i w y g I n s t a n c e : f u n c t i o n ( ) { v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; r e t u r n   n e w   W y s i w y g T r a n s l a t e ( t h i s , { l a n g : c o n t e x t . l a n g } ) ; } , } ) ; r e t u r n   T r a n s l a t o r M e n u ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / c o n t e n t . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . c o n t e n t M e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   t i m e = r e q u i r e ( ' w e b . t i m e ' ) ; v a r   w e W i d g e t s = r e q u i r e ( ' w y s i w y g . w i d g e t s ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   w e b s i t e R o o t D a t a = r e q u i r e ( ' w e b s i t e . r o o t ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   _ t = c o r e . _ t ; v a r   q w e b = c o r e . q w e b ; v a r   P a g e P r o p e r t i e s D i a l o g = w e W i d g e t s . D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . p a g e s M e n u . p a g e _ i n f o ' , x m l D e p e n d e n c i e s : w e W i d g e t s . D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . p a g e P r o p e r t i e s . x m l ' ] ) , e v e n t s : _ . e x t e n d ( { } , w e W i d g e t s . D i a l o g . p r o t o t y p e . e v e n t s , { ' k e y u p   i n p u t # p a g e _ n a m e ' : ' _ o n N a m e C h a n g e d ' , ' k e y u p   i n p u t # p a g e _ u r l ' : ' _ o n U r l C h a n g e d ' , ' c h a n g e   i n p u t # c r e a t e _ r e d i r e c t ' : ' _ o n C r e a t e R e d i r e c t C h a n g e d ' , ' c l i c k   i n p u t # v i s i b i l i t y _ p a s s w o r d ' : ' _ o n P a s s w o r d C l i c k e d ' , ' c h a n g e   i n p u t # v i s i b i l i t y _ p a s s w o r d ' : ' _ o n P a s s w o r d C h a n g e d ' , ' c h a n g e   s e l e c t # v i s i b i l i t y ' : ' _ o n V i s i b i l i t y C h a n g e d ' , } ) , i n i t : f u n c t i o n ( p a r e n t , p a g e _ i d , o p t i o n s ) { v a r   s e l f = t h i s ; v a r   s e r v e r U r l = w i n d o w . l o c a t i o n . o r i g i n + ' / ' ; v a r   l e n g t h _ u r l = s e r v e r U r l . l e n g t h ; v a r   s e r v e r U r l T r u n c = s e r v e r U r l ; i f ( l e n g t h _ u r l > 3 0 ) { s e r v e r U r l T r u n c = s e r v e r U r l . s l i c e ( 0 , 1 4 ) + ' . . ' + s e r v e r U r l . s l i c e ( - 1 4 ) ; } 
 t h i s . s e r v e r U r l = s e r v e r U r l ; t h i s . s e r v e r U r l T r u n c = s e r v e r U r l T r u n c ; t h i s . c u r r e n t _ p a g e _ u r l = w i n d o w . l o c a t i o n . p a t h n a m e ; t h i s . p a g e _ i d = p a g e _ i d ; v a r   b u t t o n s = [ { t e x t : _ t ( " S a v e " ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . s a v e } , { t e x t : _ t ( " D i s c a r d " ) , c l a s s e s : ' m r - a u t o ' , c l o s e : t r u e } , ] ; i f ( o p t i o n s . f r o m P a g e M a n a g e m e n t ) { b u t t o n s . p u s h ( { t e x t : _ t ( " G o   T o   P a g e " ) , i c o n : ' f a - g l o b e ' , c l a s s e s : ' b t n - l i n k ' , c l i c k : f u n c t i o n ( e ) { w i n d o w . l o c a t i o n . h r e f = ' / ' + s e l f . p a g e . u r l ; } , } ) ; } 
 b u t t o n s . p u s h ( { t e x t : _ t ( " D u p l i c a t e   P a g e " ) , i c o n : ' f a - c l o n e ' , c l a s s e s : ' b t n - l i n k ' , c l i c k : f u n c t i o n ( e ) { t h i s . $ e l . c l o s e s t ( ' . m o d a l ' ) . a d d C l a s s ( ' d - n o n e ' ) ; _ c l o n e P a g e . c a l l ( t h i s , s e l f . p a g e _ i d ) ; } , } ) ; b u t t o n s . p u s h ( { t e x t : _ t ( " D e l e t e   P a g e " ) , i c o n : ' f a - t r a s h ' , c l a s s e s : ' b t n - l i n k ' , c l i c k : f u n c t i o n ( e ) { _ d e l e t e P a g e . c a l l ( t h i s , s e l f . p a g e _ i d , o p t i o n s . f r o m P a g e M a n a g e m e n t ) ; } , } ) ; t h i s . _ s u p e r ( p a r e n t , _ . e x t e n d ( { } , { t i t l e : _ t ( " P a g e   P r o p e r t i e s " ) , s i z e : ' m e d i u m ' , b u t t o n s : b u t t o n s , } , o p t i o n s | | { } ) ) ; } , w i l l S t a r t : f u n c t i o n ( ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; v a r   s e l f = t h i s ; d e f s . p u s h ( t h i s . _ r p c ( { m o d e l : ' w e b s i t e . p a g e ' , m e t h o d : ' g e t _ p a g e _ p r o p e r t i e s ' , a r g s : [ t h i s . p a g e _ i d ] , } ) . t h e n ( f u n c t i o n ( p a g e ) { p a g e . u r l = _ . s t r . s t a r t s W i t h ( p a g e . u r l , ' / ' ) ? p a g e . u r l . s u b s t r i n g ( 1 ) : p a g e . u r l ; p a g e . h a s S i n g l e G r o u p = p a g e . g r o u p _ i d ! = = u n d e f i n e d ; s e l f . p a g e = p a g e ; } ) ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; t h i s . $ ( ' . a s k _ f o r _ r e d i r e c t ' ) . a d d C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' . r e d i r e c t _ t y p e ' ) . a d d C l a s s ( ' d - n o n e ' ) ; t h i s . $ ( ' . w a r n _ a b o u t _ c a l l ' ) . a d d C l a s s ( ' d - n o n e ' ) ; i f ( t h i s . p a g e . v i s i b i l i t y ! = = ' p a s s w o r d ' ) { t h i s . $ ( ' . s h o w _ v i s i b i l i t y _ p a s s w o r d ' ) . a d d C l a s s ( ' d - n o n e ' ) ; } 
 i f ( t h i s . p a g e . v i s i b i l i t y ! = = ' r e s t r i c t e d _ g r o u p ' ) { t h i s . $ ( ' . s h o w _ g r o u p _ i d ' ) . a d d C l a s s ( ' d - n o n e ' ) ; } 
 t h i s . a u t o c o m p l e t e W i t h G r o u p s ( t h i s . $ ( ' # g r o u p _ i d ' ) ) ; d e f s . p u s h ( t h i s . _ g e t P a g e D e p e n d e n c i e s ( t h i s . p a g e _ i d ) . t h e n ( f u n c t i o n ( d e p e n d e n c i e s ) { v a r   d e p _ t e x t = [ ] ; _ . e a c h ( d e p e n d e n c i e s , f u n c t i o n ( v a l u e , i n d e x ) { i f ( v a l u e . l e n g t h > 0 ) { d e p _ t e x t . p u s h ( v a l u e . l e n g t h + '   ' + i n d e x . t o L o w e r C a s e ( ) ) ; } } ) ; d e p _ t e x t = d e p _ t e x t . j o i n ( ' ,   ' ) ; s e l f . $ ( ' # d e p e n d e n c i e s _ r e d i r e c t ' ) . h t m l ( q w e b . r e n d e r ( ' w e b s i t e . s h o w _ p a g e _ d e p e n d e n c i e s ' , { d e p e n d e n c i e s : d e p e n d e n c i e s , d e p _ t e x t : d e p _ t e x t } ) ) ; s e l f . $ ( ' # d e p e n d e n c i e s _ r e d i r e c t   [ d a t a - t o g g l e = " p o p o v e r " ] ' ) . p o p o v e r ( { c o n t a i n e r : ' b o d y ' , } ) ; } ) ) ; d e f s . p u s h ( t h i s . _ g e t S u p p o r t e d M i m e t y p e ( ) . t h e n ( f u n c t i o n ( m i m e t y p e s ) { s e l f . s u p p o r t e d M i m e t y p e = m i m e t y p e s ; } ) ) ; d e f s . p u s h ( t h i s . _ g e t P a g e K e y D e p e n d e n c i e s ( t h i s . p a g e _ i d ) . t h e n ( f u n c t i o n ( d e p e n d e n c i e s ) { v a r   d e p _ t e x t = [ ] ; _ . e a c h ( d e p e n d e n c i e s , f u n c t i o n ( v a l u e , i n d e x ) { i f ( v a l u e . l e n g t h > 0 ) { d e p _ t e x t . p u s h ( v a l u e . l e n g t h + '   ' + i n d e x . t o L o w e r C a s e ( ) ) ; } } ) ; d e p _ t e x t = d e p _ t e x t . j o i n ( ' ,   ' ) ; s e l f . $ ( ' . w a r n _ a b o u t _ c a l l ' ) . h t m l ( q w e b . r e n d e r ( ' w e b s i t e . s h o w _ p a g e _ k e y _ d e p e n d e n c i e s ' , { d e p e n d e n c i e s : d e p e n d e n c i e s , d e p _ t e x t : d e p _ t e x t } ) ) ; s e l f . $ ( ' . w a r n _ a b o u t _ c a l l   [ d a t a - t o g g l e = " p o p o v e r " ] ' ) . p o p o v e r ( { c o n t a i n e r : ' b o d y ' , } ) ; } ) ) ; d e f s . p u s h ( t h i s . _ r p c ( { m o d e l : ' r e s . u s e r s ' , m e t h o d : ' h a s _ g r o u p ' , a r g s : [ ' w e b s i t e . g r o u p _ m u l t i _ w e b s i t e ' ] } ) . t h e n ( f u n c t i o n ( h a s _ g r o u p ) { i f ( ! h a s _ g r o u p ) { s e l f . $ ( ' # w e b s i t e _ r e s t r i c t i o n ' ) . a d d C l a s s ( ' h i d d e n ' ) ; } } ) ) ; v a r   d a t e p i c k e r s O p t i o n s = { m i n D a t e : m o m e n t ( { y : 1 } ) , m a x D a t e : m o m e n t ( ) . a d d ( 2 0 0 , ' y ' ) , c a l e n d a r W e e k s : t r u e , i c o n s : { t i m e : ' f a   f a - c l o c k - o ' , d a t e : ' f a   f a - c a l e n d a r ' , n e x t : ' f a   f a - c h e v r o n - r i g h t ' , p r e v i o u s : ' f a   f a - c h e v r o n - l e f t ' , u p : ' f a   f a - c h e v r o n - u p ' , d o w n : ' f a   f a - c h e v r o n - d o w n ' , } , l o c a l e : m o m e n t . l o c a l e ( ) , f o r m a t : t i m e . g e t L a n g D a t e t i m e F o r m a t ( ) , w i d g e t P o s i t i o n i n g : { h o r i z o n t a l : ' a u t o ' , v e r t i c a l : ' t o p ' , } , w i d g e t P a r e n t : ' b o d y ' , } ; i f ( t h i s . p a g e . d a t e _ p u b l i s h ) { d a t e p i c k e r s O p t i o n s . d e f a u l t D a t e = t i m e . s t r _ t o _ d a t e t i m e ( t h i s . p a g e . d a t e _ p u b l i s h ) ; } 
 t h i s . $ ( ' # d a t e _ p u b l i s h _ c o n t a i n e r ' ) . d a t e t i m e p i c k e r ( d a t e p i c k e r s O p t i o n s ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , d e s t r o y : f u n c t i o n ( ) { $ ( ' . p o p o v e r ' ) . p o p o v e r ( ' h i d e ' ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , s a v e : f u n c t i o n ( d a t a ) { v a r   s e l f = t h i s ; v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; v a r   u r l = t h i s . $ ( ' # p a g e _ u r l ' ) . v a l ( ) ; v a r   $ d a t e P u b l i s h = t h i s . $ ( " # d a t e _ p u b l i s h " ) ; $ d a t e P u b l i s h . c l o s e s t ( " . f o r m - g r o u p " ) . r e m o v e C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . r e m o v e C l a s s ( ' i s - i n v a l i d ' ) ; v a r   d a t e P u b l i s h = $ d a t e P u b l i s h . v a l ( ) ; i f ( d a t e P u b l i s h ! = = " " ) { d a t e P u b l i s h = t h i s . _ p a r s e _ d a t e ( d a t e P u b l i s h ) ; i f ( ! d a t e P u b l i s h ) { $ d a t e P u b l i s h . c l o s e s t ( " . f o r m - g r o u p " ) . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; r e t u r n ; } } 
 v a r   p a r a m s = { i d : t h i s . p a g e . i d , n a m e : t h i s . $ ( ' # p a g e _ n a m e ' ) . v a l ( ) , u r l : u r l . r e p l a c e ( / \ / { 2 , } / g , ' / ' ) , i s _ m e n u : t h i s . $ ( ' # i s _ m e n u ' ) . p r o p ( ' c h e c k e d ' ) , i s _ h o m e p a g e : t h i s . $ ( ' # i s _ h o m e p a g e ' ) . p r o p ( ' c h e c k e d ' ) , w e b s i t e _ p u b l i s h e d : t h i s . $ ( ' # i s _ p u b l i s h e d ' ) . p r o p ( ' c h e c k e d ' ) , c r e a t e _ r e d i r e c t : t h i s . $ ( ' # c r e a t e _ r e d i r e c t ' ) . p r o p ( ' c h e c k e d ' ) , r e d i r e c t _ t y p e : t h i s . $ ( ' # r e d i r e c t _ t y p e ' ) . v a l ( ) , w e b s i t e _ i n d e x e d : t h i s . $ ( ' # i s _ i n d e x e d ' ) . p r o p ( ' c h e c k e d ' ) , v i s i b i l i t y : t h i s . $ ( ' # v i s i b i l i t y ' ) . v a l ( ) , d a t e _ p u b l i s h : d a t e P u b l i s h , } ; i f ( t h i s . p a g e . h a s S i n g l e G r o u p & & t h i s . $ ( ' # v i s i b i l i t y ' ) . v a l ( ) = = = ' r e s t r i c t e d _ g r o u p ' ) { p a r a m s [ ' g r o u p _ i d ' ] = t h i s . $ ( ' # g r o u p _ i d ' ) . d a t a ( ' g r o u p - i d ' ) ; } 
 i f ( t h i s . $ ( ' # v i s i b i l i t y ' ) . v a l ( ) = = = ' p a s s w o r d ' ) { v a r   f i e l d _ p w d = $ ( ' # v i s i b i l i t y _ p a s s w o r d ' ) ; i f ( ! f i e l d _ p w d . g e t ( 0 ) . r e p o r t V a l i d i t y ( ) ) { r e t u r n ; } 
 i f ( f i e l d _ p w d . d a t a ( ' d i r t y ' ) ) { p a r a m s [ ' v i s i b i l i t y _ p w d ' ] = f i e l d _ p w d . v a l ( ) ; } } 
 t h i s . _ r p c ( { m o d e l : ' w e b s i t e . p a g e ' , m e t h o d : ' s a v e _ p a g e _ i n f o ' , a r g s : [ [ c o n t e x t . w e b s i t e _ i d ] , p a r a m s ] , } ) . t h e n ( f u n c t i o n ( u r l ) { v a r   m o ; s e l f . t r i g g e r _ u p ( ' m a i n _ o b j e c t _ r e q u e s t ' , { c a l l b a c k : f u n c t i o n ( v a l u e ) { m o = v a l u e ; } , } ) ; i f ( m o . m o d e l = = = ' w e b s i t e . p a g e ' ) { w i n d o w . l o c a t i o n . h r e f = u r l . t o L o w e r C a s e ( ) ; } e l s e { w i n d o w . l o c a t i o n . r e l o a d ( t r u e ) ; } } ) ; } , _ g e t P a g e D e p e n d e n c i e s : f u n c t i o n ( m o I D ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' w e b s i t e ' , m e t h o d : ' p a g e _ s e a r c h _ d e p e n d e n c i e s ' , a r g s : [ m o I D ] , } ) ; } , _ g e t P a g e K e y D e p e n d e n c i e s : f u n c t i o n ( m o I D ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' w e b s i t e ' , m e t h o d : ' p a g e _ s e a r c h _ k e y _ d e p e n d e n c i e s ' , a r g s : [ m o I D ] , } ) ; } , _ g e t S u p p o r t e d M i m e t y p e : f u n c t i o n ( ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' w e b s i t e ' , m e t h o d : ' g u e s s _ m i m e t y p e ' , } ) ; } , _ g e t M a i n O b j e c t : f u n c t i o n ( ) { v a r   r e p r = $ ( ' h t m l ' ) . d a t a ( ' m a i n - o b j e c t ' ) ; v a r   m = r e p r . m a t c h ( / ( . + ) \ ( ( \ d + ) , ( . * ) \ ) / ) ; r e t u r n { m o d e l : m [ 1 ] , i d : m [ 2 ] | 0 , } ; } , _ p a r s e _ d a t e : f u n c t i o n ( v a l u e ) { v a r   d a t e t i m e = m o m e n t ( v a l u e , t i m e . g e t L a n g D a t e t i m e F o r m a t ( ) , t r u e ) ; i f ( d a t e t i m e . i s V a l i d ( ) ) { r e t u r n   t i m e . d a t e t i m e _ t o _ s t r ( d a t e t i m e . t o D a t e ( ) ) ; } 
 e l s e { r e t u r n   f a l s e ; } } , a u t o c o m p l e t e W i t h G r o u p s : f u n c t i o n ( $ i n p u t ) { $ i n p u t . a u t o c o m p l e t e ( { s o u r c e : ( r e q u e s t , r e s p o n s e ) = > { r e t u r n   t h i s . _ r p c ( { m o d e l : ' r e s . g r o u p s ' , m e t h o d : ' s e a r c h _ r e a d ' , a r g s : [ [ [ ' n a m e ' , ' i l i k e ' , r e q u e s t . t e r m ] ] , [ ' d i s p l a y _ n a m e ' ] ] , k w a r g s : { l i m i t : 1 5 , } , } ) . t h e n ( f o u n d s = > { f o u n d s = f o u n d s . m a p ( g = > ( { ' i d ' : g [ ' i d ' ] , ' l a b e l ' : g [ ' d i s p l a y _ n a m e ' ] } ) ) ; r e s p o n s e ( f o u n d s ) ; } ) ; } , c h a n g e : ( e v , u i ) = > { v a r   $ t a r g e t = $ ( e v . t a r g e t ) ; i f ( ! u i . i t e m ) { $ t a r g e t . v a l ( " " ) ; $ t a r g e t . r e m o v e D a t a ( ' g r o u p - i d ' ) ; } e l s e { $ t a r g e t . d a t a ( ' g r o u p - i d ' , u i . i t e m . i d ) ; } } , } ) ; } , _ o n U r l C h a n g e d : f u n c t i o n ( ) { v a r   u r l = t h i s . $ ( ' i n p u t # p a g e _ u r l ' ) . v a l ( ) ; t h i s . $ ( ' . a s k _ f o r _ r e d i r e c t ' ) . t o g g l e C l a s s ( ' d - n o n e ' , u r l = = = t h i s . p a g e . u r l ) ; } , _ o n N a m e C h a n g e d : f u n c t i o n ( ) { v a r   n a m e = t h i s . $ ( ' i n p u t # p a g e _ n a m e ' ) . v a l ( ) ; v a r   e x t = ' . ' + t h i s . p a g e . n a m e . s p l i t ( ' . ' ) . p o p ( ) ; i f ( e x t   i n   t h i s . s u p p o r t e d M i m e t y p e & & e x t ! = = ' . h t m l ' ) { t h i s . $ ( ' . w a r n _ a b o u t _ c a l l ' ) . t o g g l e C l a s s ( ' d - n o n e ' , n a m e = = = t h i s . p a g e . n a m e ) ; } } , _ o n C r e a t e R e d i r e c t C h a n g e d : f u n c t i o n ( ) { v a r   c r e a t e R e d i r e c t = t h i s . $ ( ' i n p u t # c r e a t e _ r e d i r e c t ' ) . p r o p ( ' c h e c k e d ' ) ; t h i s . $ ( ' . r e d i r e c t _ t y p e ' ) . t o g g l e C l a s s ( ' d - n o n e ' , ! c r e a t e R e d i r e c t ) ; } , _ o n V i s i b i l i t y C h a n g e d : f u n c t i o n ( e v ) { t h i s . $ ( ' . s h o w _ v i s i b i l i t y _ p a s s w o r d ' ) . t o g g l e C l a s s ( ' d - n o n e ' , e v . t a r g e t . v a l u e ! = = ' p a s s w o r d ' ) ; t h i s . $ ( ' . s h o w _ g r o u p _ i d ' ) . t o g g l e C l a s s ( ' d - n o n e ' , e v . t a r g e t . v a l u e ! = = ' r e s t r i c t e d _ g r o u p ' ) ; t h i s . $ ( ' # v i s i b i l i t y _ p a s s w o r d ' ) . a t t r ( ' r e q u i r e d ' , e v . t a r g e t . v a l u e = = = ' p a s s w o r d ' ) ; } , _ o n P a s s w o r d C l i c k e d : f u n c t i o n ( e v ) { e v . t a r g e t . v a l u e = ' ' ; t h i s . _ o n P a s s w o r d C h a n g e d ( ) ; } , _ o n P a s s w o r d C h a n g e d : f u n c t i o n ( ) { t h i s . $ ( ' # v i s i b i l i t y _ p a s s w o r d ' ) . d a t a ( ' d i r t y ' , 1 ) ; } , } ) ; v a r   M e n u E n t r y D i a l o g = w e W i d g e t s . L i n k D i a l o g . e x t e n d ( { x m l D e p e n d e n c i e s : w e W i d g e t s . L i n k D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . c o n t e n t M e n u . x m l ' ] ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s , e d i t a b l e , d a t a ) { t h i s . _ s u p e r ( p a r e n t , _ . e x t e n d ( { t i t l e : _ t ( " A d d   a   m e n u   i t e m " ) , } , o p t i o n s | | { } ) , e d i t a b l e , _ . e x t e n d ( { n e e d L a b e l : t r u e , t e x t : d a t a . n a m e | | ' ' , i s N e w W i n d o w : d a t a . n e w _ w i n d o w , } , d a t a | | { } ) ) ; t h i s . m e n u T y p e = d a t a . m e n u T y p e ; } , s t a r t : f u n c t i o n ( ) { t h i s . $ ( ' . o _ l i n k _ d i a l o g _ p r e v i e w ' ) . r e m o v e ( ) ; t h i s . $ ( ' i n p u t [ n a m e = " i s _ n e w _ w i n d o w " ] ,   . l i n k - s t y l e ' ) . c l o s e s t ( ' . f o r m - g r o u p ' ) . r e m o v e ( ) ; t h i s . $ m o d a l . f i n d ( ' . m o d a l - l g ' ) . r e m o v e C l a s s ( ' m o d a l - l g ' ) ; t h i s . $ ( ' f o r m . c o l - l g - 8 ' ) . r e m o v e C l a s s ( ' c o l - l g - 8 ' ) . a d d C l a s s ( ' c o l - 1 2 ' ) ; t h i s . $ ( ' l a b e l [ f o r = " o _ l i n k _ d i a l o g _ l a b e l _ i n p u t " ] ' ) . t e x t ( _ t ( " M e n u   L a b e l " ) ) ; i f ( t h i s . m e n u T y p e = = = ' m e g a ' ) { v a r   $ u r l = t h i s . $ ( ' i n p u t [ n a m e = " u r l " ] ' ) ; $ u r l . v a l ( ' # ' ) . t r i g g e r ( ' c h a n g e ' ) ; $ u r l . c l o s e s t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' d - n o n e ' ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , s a v e : f u n c t i o n ( ) { v a r   $ e = t h i s . $ ( ' # o _ l i n k _ d i a l o g _ l a b e l _ i n p u t ' ) ; i f ( ! $ e . v a l ( ) | | ! $ e [ 0 ] . c h e c k V a l i d i t y ( ) ) { $ e . c l o s e s t ( ' . f o r m - g r o u p ' ) . a d d C l a s s ( ' o _ h a s _ e r r o r ' ) . f i n d ( ' . f o r m - c o n t r o l ,   . c u s t o m - s e l e c t ' ) . a d d C l a s s ( ' i s - i n v a l i d ' ) ; $ e . f o c u s ( ) ; r e t u r n ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; v a r   S e l e c t E d i t M e n u D i a l o g = w e W i d g e t s . D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . c o n t e n t M e n u . d i a l o g . s e l e c t ' , x m l D e p e n d e n c i e s : w e W i d g e t s . D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . c o n t e n t M e n u . x m l ' ] ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { v a r   s e l f = t h i s ; s e l f . r o o t s = [ { i d : n u l l , n a m e : _ t ( " T o p   M e n u " ) } ] ; $ ( ' [ d a t a - c o n t e n t _ m e n u _ i d ] ' ) . e a c h ( f u n c t i o n ( ) { s e l f . r o o t s . p u s h ( { i d : $ ( t h i s ) . d a t a ( ' c o n t e n t _ m e n u _ i d ' ) , n a m e : $ ( t h i s ) . a t t r ( ' n a m e ' ) | | $ ( t h i s ) . d a t a ( ' m e n u _ n a m e ' ) } ) ; } ) ; t h i s . _ s u p e r ( p a r e n t , _ . e x t e n d ( { } , { t i t l e : _ t ( " S e l e c t   a   M e n u " ) , s a v e _ t e x t : _ t ( " C o n t i n u e " ) } , o p t i o n s | | { } ) ) ; } , s a v e : f u n c t i o n ( ) { t h i s . f i n a l _ d a t a = p a r s e I n t ( t h i s . $ e l . f i n d ( ' s e l e c t ' ) . v a l ( ) | | n u l l ) ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; v a r   E d i t M e n u D i a l o g = w e W i d g e t s . D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . c o n t e n t M e n u . d i a l o g . e d i t ' , x m l D e p e n d e n c i e s : w e W i d g e t s . D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . c o n t e n t M e n u . x m l ' ] ) , e v e n t s : _ . e x t e n d ( { } , w e W i d g e t s . D i a l o g . p r o t o t y p e . e v e n t s , { ' c l i c k   a . j s _ a d d _ m e n u ' : ' _ o n A d d M e n u B u t t o n C l i c k ' , ' c l i c k   b u t t o n . j s _ d e l e t e _ m e n u ' : ' _ o n D e l e t e M e n u B u t t o n C l i c k ' , ' c l i c k   b u t t o n . j s _ e d i t _ m e n u ' : ' _ o n E d i t M e n u B u t t o n C l i c k ' , } ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s , r o o t I D ) { t h i s . _ s u p e r ( p a r e n t , _ . e x t e n d ( { } , { t i t l e : _ t ( " E d i t   M e n u " ) , s i z e : ' m e d i u m ' , } , o p t i o n s | | { } ) ) ; t h i s . r o o t I D = r o o t I D ; } , w i l l S t a r t : f u n c t i o n ( ) { v a r   d e f s = [ t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ] ; v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; d e f s . p u s h ( t h i s . _ r p c ( { m o d e l : ' w e b s i t e . m e n u ' , m e t h o d : ' g e t _ t r e e ' , a r g s : [ c o n t e x t . w e b s i t e _ i d , t h i s . r o o t I D ] , } ) . t h e n ( m e n u = > { t h i s . m e n u = m e n u ; t h i s . r o o t M e n u I D = m e n u . f i e l d s [ ' i d ' ] ; t h i s . f l a t = t h i s . _ f l a t e n i z e ( m e n u ) ; t h i s . t o D e l e t e = [ ] ; } ) ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   r = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . $ ( ' . o e _ m e n u _ e d i t o r ' ) . n e s t e d S o r t a b l e ( { l i s t T y p e : ' u l ' , h a n d l e : ' d i v ' , i t e m s : ' l i ' , m a x L e v e l s : 2 , t o l e r a n c e E l e m e n t : ' >   d i v ' , f o r c e P l a c e h o l d e r S i z e : t r u e , o p a c i t y : 0 . 6 , p l a c e h o l d e r : ' o e _ m e n u _ p l a c e h o l d e r ' , t o l e r a n c e : ' p o i n t e r ' , a t t r i b u t e : ' d a t a - m e n u - i d ' , e x p r e s s i o n : ' ( ) ( . + ) ' , i s A l l o w e d : ( p l a c e h o l d e r , p l a c e h o l d e r P a r e n t , c u r r e n t I t e m ) = > { r e t u r n ! p l a c e h o l d e r P a r e n t | | ! c u r r e n t I t e m [ 0 ] . d a t a s e t . m e g a M e n u & & ! p l a c e h o l d e r P a r e n t [ 0 ] . d a t a s e t . m e g a M e n u ; } , } ) ; r e t u r n   r ; } , s a v e : f u n c t i o n ( ) { v a r   _ s u p e r = t h i s . _ s u p e r . b i n d ( t h i s ) ; v a r   n e w M e n u s = t h i s . $ ( ' . o e _ m e n u _ e d i t o r ' ) . n e s t e d S o r t a b l e ( ' t o A r r a y ' , { s t a r t D e p t h C o u n t : 0 } ) ; v a r   l e v e l s = [ ] ; v a r   d a t a = [ ] ; v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; n e w M e n u s . f o r E a c h ( m e n u = > { i f ( m e n u . i d ) { l e v e l s [ m e n u . d e p t h ] = ( l e v e l s [ m e n u . d e p t h ] | | 0 ) + 1 ; v a r   m e n u F i e l d s = t h i s . f l a t [ m e n u . i d ] . f i e l d s ; m e n u F i e l d s [ ' s e q u e n c e ' ] = l e v e l s [ m e n u . d e p t h ] ; m e n u F i e l d s [ ' p a r e n t _ i d ' ] = m e n u [ ' p a r e n t _ i d ' ] | | t h i s . r o o t M e n u I D ; d a t a . p u s h ( m e n u F i e l d s ) ; } } ) ; r e t u r n   t h i s . _ r p c ( { m o d e l : ' w e b s i t e . m e n u ' , m e t h o d : ' s a v e ' , a r g s : [ c o n t e x t . w e b s i t e _ i d , { ' d a t a ' : d a t a , ' t o _ d e l e t e ' : t h i s . t o D e l e t e , } ] , } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   _ s u p e r ( ) ; } ) ; } , _ f l a t e n i z e : f u n c t i o n ( n o d e , _ d i c t ) { _ d i c t = _ d i c t | | { } ; _ d i c t [ n o d e . f i e l d s [ ' i d ' ] ] = n o d e ; n o d e . c h i l d r e n . f o r E a c h ( c h i l d = > { t h i s . _ f l a t e n i z e ( c h i l d , _ d i c t ) ; } ) ; r e t u r n   _ d i c t ; } , _ o n A d d M e n u B u t t o n C l i c k : f u n c t i o n ( e v ) { v a r   m e n u T y p e = e v . c u r r e n t T a r g e t . d a t a s e t . t y p e ; v a r   d i a l o g = n e w   M e n u E n t r y D i a l o g ( t h i s , { } , n u l l , { m e n u T y p e : m e n u T y p e , } ) ; d i a l o g . o n ( ' s a v e ' , t h i s , l i n k = > { v a r   n e w M e n u = { ' f i e l d s ' : { ' i d ' : _ . u n i q u e I d ( ' n e w - ' ) , ' n a m e ' : l i n k . t e x t , ' u r l ' : l i n k . u r l , ' n e w _ w i n d o w ' : l i n k . i s N e w W i n d o w , ' i s _ m e g a _ m e n u ' : m e n u T y p e = = = ' m e g a ' , ' s e q u e n c e ' : 0 , ' p a r e n t _ i d ' : f a l s e , } , ' c h i l d r e n ' : [ ] , ' i s _ h o m e p a g e ' : f a l s e , } ; t h i s . f l a t [ n e w M e n u . f i e l d s [ ' i d ' ] ] = n e w M e n u ; t h i s . $ ( ' . o e _ m e n u _ e d i t o r ' ) . a p p e n d ( q w e b . r e n d e r ( ' w e b s i t e . c o n t e n t M e n u . d i a l o g . s u b m e n u ' , { s u b m e n u : n e w M e n u } ) ) ; } ) ; d i a l o g . o p e n ( ) ; } , _ o n D e l e t e M e n u B u t t o n C l i c k : f u n c t i o n ( e v ) { v a r   $ m e n u = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' [ d a t a - m e n u - i d ] ' ) ; v a r   m e n u I D = p a r s e I n t ( $ m e n u . d a t a ( ' m e n u - i d ' ) ) ; i f ( m e n u I D ) { t h i s . t o D e l e t e . p u s h ( m e n u I D ) ; } 
 $ m e n u . r e m o v e ( ) ; } , _ o n E d i t M e n u B u t t o n C l i c k : f u n c t i o n ( e v ) { v a r   $ m e n u = $ ( e v . c u r r e n t T a r g e t ) . c l o s e s t ( ' [ d a t a - m e n u - i d ] ' ) ; v a r   m e n u I D = $ m e n u . d a t a ( ' m e n u - i d ' ) ; v a r   m e n u = t h i s . f l a t [ m e n u I D ] ; i f ( m e n u ) { v a r   d i a l o g = n e w   M e n u E n t r y D i a l o g ( t h i s , { } , n u l l , _ . e x t e n d ( { m e n u T y p e : m e n u . f i e l d s [ ' i s _ m e g a _ m e n u ' ] ? ' m e g a ' : u n d e f i n e d , } , m e n u . f i e l d s ) ) ; d i a l o g . o n ( ' s a v e ' , t h i s , l i n k = > { _ . e x t e n d ( m e n u . f i e l d s , { ' n a m e ' : l i n k . t e x t , ' u r l ' : l i n k . u r l , ' n e w _ w i n d o w ' : l i n k . i s N e w W i n d o w , } ) ; $ m e n u . f i n d ( ' . j s _ m e n u _ l a b e l ' ) . f i r s t ( ) . t e x t ( m e n u . f i e l d s [ ' n a m e ' ] ) ; } ) ; d i a l o g . o p e n ( ) ; } e l s e { D i a l o g . a l e r t ( n u l l , " C o u l d   n o t   f i n d   m e n u   e n t r y " ) ; } } , } ) ; v a r   P a g e O p t i o n = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( n a m e , v a l u e , s e t V a l u e C a l l b a c k ) { t h i s . n a m e = n a m e ; t h i s . v a l u e = v a l u e ; t h i s . i s D i r t y = f a l s e ; t h i s . s e t V a l u e C a l l b a c k = s e t V a l u e C a l l b a c k ; } , s e t V a l u e : f u n c t i o n ( v a l u e ) { i f ( v a l u e = = = u n d e f i n e d ) { v a l u e = ! t h i s . v a l u e ; } 
 t h i s . s e t V a l u e C a l l b a c k . c a l l ( t h i s , v a l u e ) ; t h i s . v a l u e = v a l u e ; t h i s . i s D i r t y = t r u e ; } , } ) ; v a r   C o n t e n t M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . e x t e n d ( { x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . x m l ' ] , a c t i o n s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . p r o t o t y p e . a c t i o n s | | { } , { e d i t _ m e n u : ' _ e d i t M e n u ' , g e t _ p a g e _ o p t i o n : ' _ g e t P a g e O p t i o n ' , o n _ s a v e : ' _ o n S a v e ' , p a g e _ p r o p e r t i e s : ' _ p a g e P r o p e r t i e s ' , t o g g l e _ p a g e _ o p t i o n : ' _ t o g g l e P a g e O p t i o n ' , } ) , p a g e O p t i o n s S e t V a l u e C a l l b a c k s : { h e a d e r _ o v e r l a y : f u n c t i o n ( v a l u e ) { $ ( ' # w r a p w r a p ' ) . t o g g l e C l a s s ( ' o _ h e a d e r _ o v e r l a y ' , v a l u e ) ; } , h e a d e r _ c o l o r : f u n c t i o n ( v a l u e ) { $ ( ' # w r a p w r a p   >   h e a d e r ' ) . r e m o v e C l a s s ( t h i s . v a l u e ) . a d d C l a s s ( v a l u e ) ; } , h e a d e r _ v i s i b l e : f u n c t i o n ( v a l u e ) { $ ( ' # w r a p w r a p   >   h e a d e r ' ) . t o g g l e C l a s s ( ' d - n o n e   o _ s n i p p e t _ i n v i s i b l e ' , ! v a l u e ) ; } , f o o t e r _ v i s i b l e : f u n c t i o n ( v a l u e ) { $ ( ' # w r a p w r a p   >   f o o t e r ' ) . t o g g l e C l a s s ( ' d - n o n e   o _ s n i p p e t _ i n v i s i b l e ' , ! v a l u e ) ; } , } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . p a g e O p t i o n s = { } ; _ . e a c h ( $ ( ' . o _ p a g e _ o p t i o n _ d a t a ' ) , f u n c t i o n ( e l ) { v a r   v a l u e = e l . v a l u e ; i f ( v a l u e = = = " T r u e " ) { v a l u e = t r u e ; } e l s e   i f ( v a l u e = = = " F a l s e " ) { v a l u e = f a l s e ; } 
 s e l f . p a g e O p t i o n s [ e l . n a m e ] = n e w   P a g e O p t i o n ( e l . n a m e , v a l u e , s e l f . p a g e O p t i o n s S e t V a l u e C a l l b a c k s [ e l . n a m e ] ) ; } ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ e d i t M e n u : f u n c t i o n ( b e f o r e R e l o a d C a l l b a c k ) { v a r   s e l f = t h i s ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e ) { f u n c t i o n   r e s o l v e W h e n E d i t M e n u D i a l o g I s C a n c e l l e d ( r o o t I D ) { r e t u r n   s e l f . _ o p e n E d i t M e n u D i a l o g ( r o o t I D , b e f o r e R e l o a d C a l l b a c k ) . t h e n ( r e s o l v e ) ; } 
 i f ( $ ( ' [ d a t a - c o n t e n t _ m e n u _ i d ] ' ) . l e n g t h ) { v a r   s e l e c t = n e w   S e l e c t E d i t M e n u D i a l o g ( s e l f ) ; s e l e c t . o n ( ' s a v e ' , s e l f , r e s o l v e W h e n E d i t M e n u D i a l o g I s C a n c e l l e d ) ; s e l e c t . o n ( ' c a n c e l ' , s e l f , r e s o l v e ) ; s e l e c t . o p e n ( ) ; } e l s e { r e s o l v e W h e n E d i t M e n u D i a l o g I s C a n c e l l e d ( n u l l ) ; } } ) ; } , _ o p e n E d i t M e n u D i a l o g : f u n c t i o n ( r o o t I D , b e f o r e R e l o a d C a l l b a c k ) { v a r   s e l f = t h i s ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e ) { v a r   d i a l o g = n e w   E d i t M e n u D i a l o g ( s e l f , { } , r o o t I D ) ; d i a l o g . o n ( ' s a v e ' , s e l f , f u n c t i o n ( ) { i f ( b e f o r e R e l o a d C a l l b a c k ) { b e f o r e R e l o a d C a l l b a c k ( ) . t h e n ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( t r u e ) ; } ) ; } e l s e { w i n d o w . l o c a t i o n . r e l o a d ( t r u e ) ; } } ) ; d i a l o g . o n ( ' c a n c e l ' , s e l f , r e s o l v e ) ; d i a l o g . o p e n ( ) ; } ) ; } , _ g e t P a g e O p t i o n : f u n c t i o n ( n a m e ) { v a r   o p t i o n = t h i s . p a g e O p t i o n s [ n a m e ] ; i f ( ! o p t i o n ) { r e t u r n   P r o m i s e . r e j e c t ( ) ; } 
 r e t u r n   P r o m i s e . r e s o l v e ( o p t i o n . v a l u e ) ; } , _ o n S a v e : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f s = _ . m a p ( t h i s . p a g e O p t i o n s , f u n c t i o n ( o p t i o n , o p t i o n N a m e ) { i f ( o p t i o n . i s D i r t y ) { r e t u r n   s e l f . _ t o g g l e P a g e O p t i o n ( { n a m e : o p t i o n N a m e , v a l u e : o p t i o n . v a l u e , } , t r u e , t r u e ) ; } } ) ; r e t u r n   P r o m i s e . a l l ( d e f s ) ; } , _ p a g e P r o p e r t i e s : f u n c t i o n ( ) { v a r   m o ; t h i s . t r i g g e r _ u p ( ' m a i n _ o b j e c t _ r e q u e s t ' , { c a l l b a c k : f u n c t i o n ( v a l u e ) { m o = v a l u e ; } , } ) ; v a r   d i a l o g = n e w   P a g e P r o p e r t i e s D i a l o g ( t h i s , m o . i d , { } ) . o p e n ( ) ; r e t u r n   d i a l o g . o p e n e d ( ) ; } , _ t o g g l e P a g e O p t i o n : f u n c t i o n ( p a r a m s , f o r c e S a v e , n o R e l o a d ) { v a r   m o ; t h i s . t r i g g e r _ u p ( ' m a i n _ o b j e c t _ r e q u e s t ' , { c a l l b a c k : f u n c t i o n ( v a l u e ) { m o = v a l u e ; } , } ) ; i f ( m o . m o d e l ! = = ' w e b s i t e . p a g e ' ) { r e t u r n   P r o m i s e . r e j e c t ( ) ; } 
 v a r   o p t i o n = t h i s . p a g e O p t i o n s [ p a r a m s . n a m e ] ; i f ( ! o p t i o n ) { r e t u r n   P r o m i s e . r e j e c t ( ) ; } 
 o p t i o n . s e t V a l u e ( p a r a m s . v a l u e ) ; i f ( ! f o r c e S a v e ) { r e t u r n   P r o m i s e . r e s o l v e ( ) ; } 
 v a r   v a l s = { } ; v a l s [ p a r a m s . n a m e ] = o p t i o n . v a l u e ; v a r   p r o m = t h i s . _ r p c ( { m o d e l : ' w e b s i t e . p a g e ' , m e t h o d : ' w r i t e ' , a r g s : [ [ m o . i d ] , v a l s ] , } ) ; i f ( n o R e l o a d ) { r e t u r n   p r o m ; } 
 r e t u r n   p r o m . t h e n ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) ; } , } ) ; v a r   P a g e M a n a g e m e n t = W i d g e t . e x t e n d ( { x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . x m l ' ] , e v e n t s : { ' c l i c k   a . j s _ p a g e _ p r o p e r t i e s ' : ' _ o n P a g e P r o p e r t i e s B u t t o n C l i c k ' , ' c l i c k   a . j s _ c l o n e _ p a g e ' : ' _ o n C l o n e P a g e B u t t o n C l i c k ' , ' c l i c k   a . j s _ d e l e t e _ p a g e ' : ' _ o n D e l e t e P a g e B u t t o n C l i c k ' , } , _ g e t P a g e D e p e n d e n c i e s : f u n c t i o n ( m o I D ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' w e b s i t e ' , m e t h o d : ' p a g e _ s e a r c h _ d e p e n d e n c i e s ' , a r g s : [ m o I D ] , } ) ; } , _ o n P a g e P r o p e r t i e s B u t t o n C l i c k : f u n c t i o n ( e v ) { v a r   m o I D = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' i d ' ) ; v a r   d i a l o g = n e w   P a g e P r o p e r t i e s D i a l o g ( t h i s , m o I D , { ' f r o m P a g e M a n a g e m e n t ' : t r u e } ) . o p e n ( ) ; r e t u r n   d i a l o g ; } , _ o n C l o n e P a g e B u t t o n C l i c k : f u n c t i o n ( e v ) { v a r   p a g e I d = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' i d ' ) ; _ c l o n e P a g e . c a l l ( t h i s , p a g e I d ) ; } , _ o n D e l e t e P a g e B u t t o n C l i c k : f u n c t i o n ( e v ) { v a r   p a g e I d = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' i d ' ) ; _ d e l e t e P a g e . c a l l ( t h i s , p a g e I d , t r u e ) ; } , } ) ; f u n c t i o n   _ d e l e t e P a g e ( p a g e I d , f r o m P a g e M a n a g e m e n t ) { v a r   s e l f = t h i s ; n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { s e l f . _ g e t P a g e D e p e n d e n c i e s ( p a g e I d ) . t h e n ( f u n c t i o n ( d e p e n d e n c i e s ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( c o n f i r m R e s o l v e , c o n f i r m R e j e c t ) { D i a l o g . s a f e C o n f i r m ( s e l f , " " , { t i t l e : _ t ( " D e l e t e   P a g e " ) , $ c o n t e n t : $ ( q w e b . r e n d e r ( ' w e b s i t e . d e l e t e _ p a g e ' , { d e p e n d e n c i e s : d e p e n d e n c i e s } ) ) , c o n f i r m _ c a l l b a c k : c o n f i r m R e s o l v e , c a n c e l _ c a l l b a c k : r e s o l v e , } ) ; } ) ; } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   s e l f . _ r p c ( { m o d e l : ' w e b s i t e . p a g e ' , m e t h o d : ' u n l i n k ' , a r g s : [ p a g e I d ] , } ) ; } ) . t h e n ( f u n c t i o n ( ) { i f ( f r o m P a g e M a n a g e m e n t ) { w i n d o w . l o c a t i o n . r e l o a d ( t r u e ) ; } e l s e { w i n d o w . l o c a t i o n . h r e f = ' / ' ; } } , r e j e c t ) ; } ) ; } 
 f u n c t i o n   _ c l o n e P a g e ( p a g e I d ) { v a r   s e l f = t h i s ; n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { D i a l o g . c o n f i r m ( t h i s , u n d e f i n e d , { t i t l e : _ t ( " D u p l i c a t e   P a g e " ) , $ c o n t e n t : $ ( q w e b . r e n d e r ( ' w e b s i t e . d u p l i c a t e _ p a g e _ a c t i o n _ d i a l o g ' ) ) , c o n f i r m _ c a l l b a c k : f u n c t i o n ( ) { v a r   n e w _ p a g e _ n a m e = t h i s . $ ( ' # p a g e _ n a m e ' ) . v a l ( ) ; r e t u r n   s e l f . _ r p c ( { m o d e l : ' w e b s i t e . p a g e ' , m e t h o d : ' c l o n e _ p a g e ' , a r g s : [ p a g e I d , n e w _ p a g e _ n a m e ] , } ) . t h e n ( f u n c t i o n ( p a t h ) { w i n d o w . l o c a t i o n . h r e f = p a t h ; } ) . g u a r d e d C a t c h ( r e j e c t ) ; } , c a n c e l _ c a l l b a c k : r e j e c t , } ) . o n ( ' c l o s e d ' , n u l l , r e j e c t ) ; } ) ; } 
 w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( C o n t e n t M e n u , ' # c o n t e n t - m e n u ' ) ; w e b s i t e R o o t D a t a . w e b s i t e R o o t R e g i s t r y . a d d ( P a g e M a n a g e m e n t , ' # l i s t _ w e b s i t e _ p a g e s ' ) ; r e t u r n { P a g e P r o p e r t i e s D i a l o g : P a g e P r o p e r t i e s D i a l o g , C o n t e n t M e n u : C o n t e n t M e n u , E d i t M e n u D i a l o g : E d i t M e n u D i a l o g , M e n u E n t r y D i a l o g : M e n u E n t r y D i a l o g , S e l e c t E d i t M e n u D i a l o g : S e l e c t E d i t M e n u D i a l o g , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / c u s t o m i z e . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . c u s t o m i z e M e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   W e b s i t e A c e E d i t o r = r e q u i r e ( ' w e b s i t e . a c e ' ) ; v a r   q w e b = c o r e . q w e b ; v a r   C u s t o m i z e M e n u = W i d g e t . e x t e n d ( { x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . e d i t o r . x m l ' ] , e v e n t s : { ' s h o w . b s . d r o p d o w n ' : ' _ o n D r o p d o w n S h o w ' , ' c l i c k   . d r o p d o w n - i t e m [ d a t a - v i e w - k e y ] ' : ' _ o n C u s t o m i z e O p t i o n C l i c k ' , } , w i l l S t a r t : f u n c t i o n ( ) { t h i s . v i e w N a m e = $ ( d o c u m e n t . d o c u m e n t E l e m e n t ) . d a t a ( ' v i e w - x m l i d ' ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , s t a r t : f u n c t i o n ( ) { i f ( ! t h i s . v i e w N a m e ) { _ . d e f e r ( t h i s . d e s t r o y . b i n d ( t h i s ) ) ; } 
 i f ( t h i s . $ e l . i s ( ' . s h o w ' ) ) { t h i s . _ l o a d C u s t o m i z e O p t i o n s ( ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ d o C u s t o m i z e : f u n c t i o n ( v i e w K e y ) { r e t u r n   t h i s . _ r p c ( { r o u t e : ' / w e b s i t e / t o g g l e _ s w i t c h a b l e _ v i e w ' , p a r a m s : { ' v i e w _ k e y ' : v i e w K e y , } , } ) . t h e n ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) ; } , _ l o a d C u s t o m i z e O p t i o n s : f u n c t i o n ( ) { i f ( t h i s . _ _ c u s t o m i z e O p t i o n s L o a d e d ) { r e t u r n   P r o m i s e . r e s o l v e ( ) ; } 
 t h i s . _ _ c u s t o m i z e O p t i o n s L o a d e d = t r u e ; v a r   $ m e n u = t h i s . $ e l . c h i l d r e n ( ' . d r o p d o w n - m e n u ' ) ; r e t u r n   t h i s . _ r p c ( { r o u t e : ' / w e b s i t e / g e t _ s w i t c h a b l e _ r e l a t e d _ v i e w s ' , p a r a m s : { k e y : t h i s . v i e w N a m e , } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { v a r   c u r r e n t G r o u p = ' ' ; i f ( r e s u l t . l e n g t h ) { $ m e n u . a p p e n d ( $ ( ' < d i v / > ' , { c l a s s : ' d r o p d o w n - d i v i d e r ' , r o l e : ' s e p a r a t o r ' , } ) ) ; } 
 _ . e a c h ( r e s u l t , f u n c t i o n ( i t e m ) { i f ( c u r r e n t G r o u p ! = = i t e m . i n h e r i t _ i d [ 1 ] ) { c u r r e n t G r o u p = i t e m . i n h e r i t _ i d [ 1 ] ; $ m e n u . a p p e n d ( ' < l i   c l a s s = " d r o p d o w n - h e a d e r " > ' + c u r r e n t G r o u p + ' < / l i > ' ) ; } 
 v a r   $ a = $ ( ' < a / > ' , { h r e f : ' # ' , c l a s s : ' d r o p d o w n - i t e m ' , ' d a t a - v i e w - k e y ' : i t e m . k e y , r o l e : ' m e n u i t e m ' } ) . a p p e n d ( q w e b . r e n d e r ( ' w e b s i t e . c o m p o n e n t s . s w i t c h ' , { i d : ' s w i t c h - ' + i t e m . i d , l a b e l : i t e m . n a m e } ) ) ; $ a . f i n d ( ' i n p u t ' ) . p r o p ( ' c h e c k e d ' , ! ! i t e m . a c t i v e ) ; $ m e n u . a p p e n d ( $ a ) ; } ) ; } ) ; } , _ o n C u s t o m i z e O p t i o n C l i c k : f u n c t i o n ( e v ) { e v . p r e v e n t D e f a u l t ( ) ; v a r   v i e w K e y = $ ( e v . c u r r e n t T a r g e t ) . d a t a ( ' v i e w K e y ' ) ; t h i s . _ d o C u s t o m i z e ( v i e w K e y ) ; } , _ o n D r o p d o w n S h o w : f u n c t i o n ( ) { t h i s . _ l o a d C u s t o m i z e O p t i o n s ( ) ; } , } ) ; v a r   A c e E d i t o r M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . e x t e n d ( { a c t i o n s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . p r o t o t y p e . a c t i o n s | | { } , { c l o s e _ a l l _ w i d g e t s : ' _ h i d e E d i t o r ' , e d i t : ' _ e n t e r E d i t M o d e ' , a c e : ' _ l a u n c h A c e ' , } ) , s t a r t : f u n c t i o n ( ) { i f ( w i n d o w . l o c a t i o n . h a s h . s u b s t r ( 0 , W e b s i t e A c e E d i t o r . p r o t o t y p e . h a s h . l e n g t h ) = = = W e b s i t e A c e E d i t o r . p r o t o t y p e . h a s h ) { t h i s . _ l a u n c h A c e ( ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ e n t e r E d i t M o d e : f u n c t i o n ( ) { t h i s . _ h i d e E d i t o r ( ) ; } , _ h i d e E d i t o r : f u n c t i o n ( ) { i f ( t h i s . g l o b a l E d i t o r ) { t h i s . g l o b a l E d i t o r . d o _ h i d e ( ) ; } } , _ l a u n c h A c e : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   p r o m = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { s e l f . t r i g g e r _ u p ( ' a c t i o n _ d e m a n d ' , { a c t i o n N a m e : ' c l o s e _ a l l _ w i d g e t s ' , o n S u c c e s s : r e s o l v e , } ) ; } ) ; p r o m . t h e n ( f u n c t i o n ( ) { i f ( s e l f . g l o b a l E d i t o r ) { s e l f . g l o b a l E d i t o r . d o _ s h o w ( ) ; r e t u r n   P r o m i s e . r e s o l v e ( ) ; } e l s e { v a r   c u r r e n t H a s h = w i n d o w . l o c a t i o n . h a s h ; v a r   i n d e x O f V i e w = c u r r e n t H a s h . i n d e x O f ( " ? r e s = " ) ; v a r   i n i t i a l R e s I D = u n d e f i n e d ; i f ( i n d e x O f V i e w > = 0 ) { i n i t i a l R e s I D = c u r r e n t H a s h . s u b s t r ( i n d e x O f V i e w + ( " ? r e s = " . l e n g t h ) ) ; v a r   p a r s e d R e s I D = p a r s e I n t ( i n i t i a l R e s I D , 1 0 ) ; i f ( p a r s e d R e s I D ) { i n i t i a l R e s I D = p a r s e d R e s I D ; } } 
 s e l f . g l o b a l E d i t o r = n e w   W e b s i t e A c e E d i t o r ( s e l f , $ ( d o c u m e n t . d o c u m e n t E l e m e n t ) . d a t a ( ' v i e w - x m l i d ' ) , { i n i t i a l R e s I D : i n i t i a l R e s I D , d e f a u l t B u n d l e s R e s t r i c t i o n : [ ' w e b . a s s e t s _ f r o n t e n d ' , ' w e b . a s s e t s _ f r o n t e n d _ m i n i m a l ' , ' w e b . a s s e t s _ f r o n t e n d _ l a z y ' , ] , } ) ; r e t u r n   s e l f . g l o b a l E d i t o r . a p p e n d T o ( d o c u m e n t . b o d y ) ; } } ) ; r e t u r n   p r o m ; } , } ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( C u s t o m i z e M e n u , ' # c u s t o m i z e - m e n u ' ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( A c e E d i t o r M e n u , ' # h t m l _ e d i t o r ' ) ; r e t u r n   C u s t o m i z e M e n u ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / d e b u g _ m a n a g e r . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . d e b u g M a n a g e r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o n f i g = r e q u i r e ( ' w e b . c o n f i g ' ) ; v a r   D e b u g M a n a g e r = r e q u i r e ( ' w e b . D e b u g M a n a g e r ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   D e b u g M a n a g e r M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r . i n c l u d e ( { s t a r t : f u n c t i o n ( ) { i f ( c o n f i g . i s D e b u g ( ) ) { n e w   D e b u g M a n a g e r ( t h i s ) . p r e p e n d T o ( t h i s . $ ( ' . o _ m e n u _ s y s t r a y ' ) ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; r e t u r n   D e b u g M a n a g e r M e n u ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / e d i t . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . e d i t M e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   E d i t o r M e n u = r e q u i r e ( ' w e b s i t e . e d i t o r . m e n u ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   _ t = c o r e . _ t ; v a r   E d i t P a g e M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . e x t e n d ( { a s s e t L i b s : [ ' w e b _ e d i t o r . c o m p i l e d _ a s s e t s _ w y s i w y g ' , ' w e b s i t e . c o m p i l e d _ a s s e t s _ w y s i w y g ' ] , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . e d i t o r . x m l ' ] , a c t i o n s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . p r o t o t y p e . a c t i o n s , { e d i t : ' _ s t a r t E d i t M o d e ' , o n _ s a v e : ' _ o n S a v e ' , } ) , c u s t o m _ e v e n t s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . c u s t o m _ e v e n t s | | { } , { c o n t e n t _ w i l l _ b e _ d e s t r o y e d : ' _ o n C o n t e n t W i l l B e D e s t r o y e d ' , c o n t e n t _ w a s _ r e c r e a t e d : ' _ o n C o n t e n t W a s R e c r e a t e d ' , s n i p p e t _ w i l l _ b e _ c l o n e d : ' _ o n S n i p p e t W i l l B e C l o n e d ' , s n i p p e t _ c l o n e d : ' _ o n S n i p p e t C l o n e d ' , s n i p p e t _ d r o p p e d : ' _ o n S n i p p e t D r o p p e d ' , e d i t i o n _ w i l l _ s t o p p e d : ' _ o n E d i t i o n W i l l S t o p ' , e d i t i o n _ w a s _ s t o p p e d : ' _ o n E d i t i o n W a s S t o p p e d ' , } ) , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { e x t r a : t r u e , c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; t h i s . _ e d i t o r A u t o S t a r t = ( c o n t e x t . e d i t a b l e & & w i n d o w . l o c a t i o n . s e a r c h . i n d e x O f ( ' e n a b l e _ e d i t o r ' ) > = 0 ) ; v a r   u r l = w i n d o w . l o c a t i o n . h r e f . r e p l a c e ( / ( [ ? & ] ) & * e n a b l e _ e d i t o r [ ^ & # ] * & ? / , ' \ $ 1 ' ) ; w i n d o w . h i s t o r y . r e p l a c e S t a t e ( { } , n u l l , u r l ) ; } , s t a r t : f u n c t i o n ( ) { v a r   d e f = t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . _ e d i t o r A u t o S t a r t ) { r e t u r n   P r o m i s e . a l l ( [ d e f , t h i s . _ s t a r t E d i t M o d e ( ) ] ) ; } 
 v a r   $ w r a p = t h i s . _ t a r g e t F o r E d i t i o n ( ) . f i l t e r ( ' # w r a p w r a p . h o m e p a g e ' ) . f i n d ( ' # w r a p ' ) ; i f ( $ w r a p . l e n g t h & & $ w r a p . h t m l ( ) . t r i m ( ) = = = ' ' ) { t h i s . $ w e l c o m e M e s s a g e = $ ( c o r e . q w e b . r e n d e r ( ' w e b s i t e . h o m e p a g e _ e d i t o r _ w e l c o m e _ m e s s a g e ' ) ) ; t h i s . $ w e l c o m e M e s s a g e . a d d C l a s s ( ' o _ h o m e p a g e _ e d i t o r _ w e l c o m e _ m e s s a g e ' ) ; t h i s . $ w e l c o m e M e s s a g e . c s s ( ' m i n - h e i g h t ' , $ w r a p . p a r e n t ( ' m a i n ' ) . h e i g h t ( ) - ( $ w r a p . o u t e r H e i g h t ( t r u e ) - $ w r a p . h e i g h t ( ) ) ) ; $ w r a p . e m p t y ( ) . a p p e n d ( t h i s . $ w e l c o m e M e s s a g e ) ; } 
 r e t u r n   d e f ; } , _ s t a r t E d i t M o d e : a s y n c   f u n c t i o n ( ) { v a r   s e l f = t h i s ; i f ( t h i s . e d i t M o d e E n a b l e ) { r e t u r n ; } 
 t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t o p _ r e q u e s t ' , { $ t a r g e t : t h i s . _ t a r g e t F o r E d i t i o n ( ) , } ) ; i f ( t h i s . $ w e l c o m e M e s s a g e ) { t h i s . $ w e l c o m e M e s s a g e . d e t a c h ( ) ; } 
 t h i s . e d i t M o d e E n a b l e = t r u e ; a w a i t   n e w   E d i t o r M e n u ( t h i s ) . p r e p e n d T o ( d o c u m e n t . b o d y ) ; t h i s . _ a d d E d i t o r M e s s a g e s ( ) ; v a r   r e s = a w a i t   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { s e l f . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { e d i t a b l e M o d e : t r u e , o n S u c c e s s : r e s o l v e , o n F a i l u r e : r e j e c t , } ) ; } ) ; t h i s . $ e d i t o r M e s s a g e E l e m e n t s . m o u s e d o w n ( ) ; r e t u r n   r e s ; } , _ o n S a v e : f u n c t i o n ( ) { } , _ a d d E d i t o r M e s s a g e s : f u n c t i o n ( ) { v a r   $ t a r g e t = t h i s . _ t a r g e t F o r E d i t i o n ( ) ; t h i s . $ e d i t o r M e s s a g e E l e m e n t s = $ t a r g e t . f i n d ( ' . o e _ s t r u c t u r e . o e _ e m p t y ,   [ d a t a - o e - t y p e = " h t m l " ] ' ) . n o t ( ' [ d a t a - e d i t o r - m e s s a g e ] ' ) . a t t r ( ' d a t a - e d i t o r - m e s s a g e ' , _ t ( ' D R A G   B U I L D I N G   B L O C K S   H E R E ' ) ) ; } , _ t a r g e t F o r E d i t i o n : f u n c t i o n ( ) { r e t u r n   $ ( ' # w r a p w r a p ' ) ; } , _ o n C o n t e n t W i l l B e D e s t r o y e d : f u n c t i o n ( e v ) { t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t o p _ r e q u e s t ' , { $ t a r g e t : e v . d a t a . $ t a r g e t , } ) ; } , _ o n C o n t e n t W a s R e c r e a t e d : f u n c t i o n ( e v ) { t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { e d i t a b l e M o d e : t r u e , $ t a r g e t : e v . d a t a . $ t a r g e t , } ) ; } , _ o n E d i t i o n W i l l S t o p : f u n c t i o n ( e v ) { t h i s . $ e d i t o r M e s s a g e E l e m e n t s & & t h i s . $ e d i t o r M e s s a g e E l e m e n t s . r e m o v e A t t r ( ' d a t a - e d i t o r - m e s s a g e ' ) ; t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t o p _ r e q u e s t ' , { $ t a r g e t : t h i s . _ t a r g e t F o r E d i t i o n ( ) , } ) ; } , _ o n E d i t i o n W a s S t o p p e d : f u n c t i o n ( e v ) { t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { $ t a r g e t : t h i s . _ t a r g e t F o r E d i t i o n ( ) , } ) ; t h i s . e d i t M o d e E n a b l e = f a l s e ; } , _ o n S n i p p e t W i l l B e C l o n e d : f u n c t i o n ( e v ) { t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t o p _ r e q u e s t ' , { $ t a r g e t : e v . d a t a . $ t a r g e t , } ) ; } , _ o n S n i p p e t C l o n e d : f u n c t i o n ( e v ) { t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { e d i t a b l e M o d e : t r u e , $ t a r g e t : e v . d a t a . $ t a r g e t , } ) ; i f ( e v . d a t a . $ o r i g i n ) { t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { e d i t a b l e M o d e : t r u e , $ t a r g e t : e v . d a t a . $ o r i g i n , } ) ; } } , _ o n S n i p p e t D r o p p e d : f u n c t i o n ( e v ) { t h i s . t r i g g e r _ u p ( ' w i d g e t s _ s t a r t _ r e q u e s t ' , { e d i t a b l e M o d e : t r u e , $ t a r g e t : e v . d a t a . $ t a r g e t , } ) ; t h i s . _ a d d E d i t o r M e s s a g e s ( ) ; } , } ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( E d i t P a g e M e n u , ' # e d i t - p a g e - m e n u ' ) ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / m o b i l e _ v i e w . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . m o b i l e ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   _ t = c o r e . _ t ; v a r   M o b i l e P r e v i e w D i a l o g = D i a l o g . e x t e n d ( { s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ m o d a l . a d d C l a s s ( ' o e _ m o b i l e _ p r e v i e w ' ) ; t h i s . $ m o d a l . o n ( ' c l i c k ' , ' . m o d a l - h e a d e r ' , f u n c t i o n ( ) { s e l f . $ e l . t o g g l e C l a s s ( ' o _ i n v e r t _ o r i e n t a t i o n ' ) ; } ) ; t h i s . $ i f r a m e = $ ( ' < i f r a m e / > ' , { i d : ' m o b i l e - v i e w p o r t ' , s r c : $ . p a r a m . q u e r y s t r i n g ( w i n d o w . l o c a t i o n . h r e f , ' m o b i l e p r e v i e w ' ) , } ) ; t h i s . $ i f r a m e . o n ( ' l o a d ' , f u n c t i o n ( e ) { s e l f . $ i f r a m e . c o n t e n t s ( ) . f i n d ( ' b o d y ' ) . r e m o v e C l a s s ( ' o _ c o n n e c t e d _ u s e r ' ) ; s e l f . $ i f r a m e . c o n t e n t s ( ) . f i n d ( ' # o e _ m a i n _ m e n u _ n a v b a r ' ) . r e m o v e ( ) ; } ) ; t h i s . $ i f r a m e . a p p e n d T o ( t h i s . $ e l ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; v a r   M o b i l e M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . e x t e n d ( { a c t i o n s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . p r o t o t y p e . a c t i o n s | | { } , { ' s h o w - m o b i l e - p r e v i e w ' : ' _ o n M o b i l e P r e v i e w C l i c k ' , } ) , _ o n M o b i l e P r e v i e w C l i c k : f u n c t i o n ( ) { i f ( t h i s . m o b i l e P r e v i e w & & ! t h i s . m o b i l e P r e v i e w . i s D e s t r o y e d ( ) ) { r e t u r n   t h i s . m o b i l e P r e v i e w . c l o s e ( ) ; } 
 t h i s . m o b i l e P r e v i e w = n e w   M o b i l e P r e v i e w D i a l o g ( t h i s , { t i t l e : _ t ( ' M o b i l e   p r e v i e w ' ) + '   < s p a n   c l a s s = " f a   f a - r e f r e s h " / > ' , } ) . o p e n ( ) ; } , } ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( M o b i l e M e n u , ' # m o b i l e - m e n u ' ) ; r e t u r n { M o b i l e M e n u : M o b i l e M e n u , M o b i l e P r e v i e w D i a l o g : M o b i l e P r e v i e w D i a l o g , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / n e w _ c o n t e n t . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . n e w M e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; v a r   q w e b = c o r e . q w e b ; v a r   _ t = c o r e . _ t ; v a r   e n a b l e F l a g = ' e n a b l e _ n e w _ c o n t e n t ' ; v a r   N e w C o n t e n t M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . e x t e n d ( { x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . e d i t o r . x m l ' ] , a c t i o n s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . p r o t o t y p e . a c t i o n s | | { } , { c l o s e _ a l l _ w i d g e t s : ' _ h a n d l e C l o s e D e m a n d ' , n e w _ p a g e : ' _ c r e a t e N e w P a g e ' , } ) , e v e n t s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . p r o t o t y p e . e v e n t s | | { } , { ' c l i c k ' : ' _ o n B a c k g r o u n d C l i c k ' , ' c l i c k   [ d a t a - m o d u l e - i d ] ' : ' _ o n M o d u l e I d C l i c k ' , ' k e y d o w n ' : ' _ o n B a c k g r o u n d K e y d o w n ' , } ) , n e w C o n t e n t T e x t : { f a i l e d : _ t ( ' F a i l e d   t o   i n s t a l l   " % s " ' ) , i n s t a l l I n P r o g r e s s : _ t ( " T h e   i n s t a l l a t i o n   o f   a n   A p p   i s   a l r e a d y   i n   p r o g r e s s . " ) , i n s t a l l N e e d e d : _ t ( ' D o   y o u   w a n t   t o   i n s t a l l   t h e   " % s "   A p p ? ' ) , i n s t a l l P l e a s e W a i t : _ t ( ' I n s t a l l i n g   " % s " ' ) , } , s t a r t : f u n c t i o n ( ) { t h i s . p e n d i n g I n s t a l l = f a l s e ; t h i s . $ n e w C o n t e n t M e n u C h o i c e s = t h i s . $ ( ' # o _ n e w _ c o n t e n t _ m e n u _ c h o i c e s ' ) ; v a r   $ m o d u l e s = t h i s . $ n e w C o n t e n t M e n u C h o i c e s . f i n d ( ' . o _ n e w _ c o n t e n t _ e l e m e n t ' ) ; _ . e a c h ( $ m o d u l e s , f u n c t i o n ( e l , i n d e x ) { v a r   $ e l = $ ( e l ) ; $ e l . d a t a ( ' o r i g i n a l - i n d e x ' , i n d e x ) ; i f ( $ e l . d a t a ( ' m o d u l e - i d ' ) ) { $ e l . a p p e n d T o ( $ e l . p a r e n t ( ) ) ; $ e l . f i n d ( ' a   i ,   a   p ' ) . a d d C l a s s ( ' o _ u n i n s t a l l e d _ m o d u l e ' ) ; } } ) ; t h i s . $ f i r s t L i n k = t h i s . $ n e w C o n t e n t M e n u C h o i c e s . f i n d ( ' a : e q ( 0 ) ' ) ; t h i s . $ l a s t L i n k = t h i s . $ n e w C o n t e n t M e n u C h o i c e s . f i n d ( ' a : l a s t ' ) ; i f ( $ . d e p a r a m . q u e r y s t r i n g ( ) [ e n a b l e F l a g ] ! = = u n d e f i n e d ) { t h i s . _ s h o w M e n u ( ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ c r e a t e N e w P a g e : f u n c t i o n ( ) { r e t u r n   w U t i l s . p r o m p t ( { i d : ' e d i t o r _ n e w _ p a g e ' , w i n d o w _ t i t l e : _ t ( " N e w   P a g e " ) , i n p u t : _ t ( " P a g e   T i t l e " ) , i n i t : f u n c t i o n ( ) { v a r   $ g r o u p = t h i s . $ d i a l o g . f i n d ( ' d i v . f o r m - g r o u p ' ) ; $ g r o u p . r e m o v e C l a s s ( ' m b 0 ' ) ; v a r   $ a d d = $ ( ' < d i v / > ' , { ' c l a s s ' : ' f o r m - g r o u p   m b 0   r o w ' } ) . a p p e n d ( $ ( ' < s p a n / > ' , { ' c l a s s ' : ' o f f s e t - m d - 3   c o l - m d - 9   t e x t - l e f t ' } ) . a p p e n d ( q w e b . r e n d e r ( ' w e b s i t e . c o m p o n e n t s . s w i t c h ' , { i d : ' s w i t c h _ a d d T o _ m e n u ' , l a b e l : _ t ( " A d d   t o   m e n u " ) } ) ) ) ; $ a d d . f i n d ( ' i n p u t ' ) . p r o p ( ' c h e c k e d ' , t r u e ) ; $ g r o u p . a f t e r ( $ a d d ) ; } } ) . t h e n ( f u n c t i o n ( r e s u l t ) { v a r   v a l = r e s u l t . v a l ; v a r   $ d i a l o g = r e s u l t . d i a l o g ; i f ( ! v a l ) { r e t u r n ; } 
 v a r   u r l = ' / w e b s i t e / a d d / ' + e n c o d e U R I C o m p o n e n t ( v a l ) ; c o n s t   r e s = w U t i l s . s e n d R e q u e s t ( u r l , { a d d _ m e n u : $ d i a l o g . f i n d ( ' i n p u t [ t y p e = " c h e c k b o x " ] ' ) . i s ( ' : c h e c k e d ' ) | | ' ' , } ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) ; } , _ h a n d l e C l o s e D e m a n d : f u n c t i o n ( ) { t h i s . _ h i d e M e n u ( ) ; } , _ f o c u s F i r s t L i n k : f u n c t i o n ( ) { t h i s . $ f i r s t L i n k . f o c u s ( ) ; } , _ f o c u s L a s t L i n k : f u n c t i o n ( ) { t h i s . $ l a s t L i n k . f o c u s ( ) ; } , _ h i d e M e n u : f u n c t i o n ( ) { t h i s . s h o w n = f a l s e ; t h i s . $ n e w C o n t e n t M e n u C h o i c e s . a d d C l a s s ( ' o _ h i d d e n ' ) ; $ ( ' b o d y ' ) . r e m o v e C l a s s ( ' o _ n e w _ c o n t e n t _ o p e n ' ) ; } , _ i n s t a l l : f u n c t i o n ( m o d u l e I d ) { t h i s . p e n d i n g I n s t a l l = t r u e ; $ ( ' b o d y ' ) . c s s ( ' p o i n t e r - e v e n t s ' , ' n o n e ' ) ; r e t u r n   t h i s . _ r p c ( { m o d e l : ' i r . m o d u l e . m o d u l e ' , m e t h o d : ' b u t t o n _ i m m e d i a t e _ i n s t a l l ' , a r g s : [ [ m o d u l e I d ] ] , } ) . g u a r d e d C a t c h ( f u n c t i o n ( ) { $ ( ' b o d y ' ) . c s s ( ' p o i n t e r - e v e n t s ' , ' ' ) ; } ) ; } , _ s h o w M e n u : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { s e l f . t r i g g e r _ u p ( ' a c t i o n _ d e m a n d ' , { a c t i o n N a m e : ' c l o s e _ a l l _ w i d g e t s ' , o n S u c c e s s : r e s o l v e , } ) ; } ) . t h e n ( f u n c t i o n ( ) { s e l f . f i r s t T a b = t r u e ; s e l f . s h o w n = t r u e ; s e l f . $ n e w C o n t e n t M e n u C h o i c e s . r e m o v e C l a s s ( ' o _ h i d d e n ' ) ; $ ( ' b o d y ' ) . a d d C l a s s ( ' o _ n e w _ c o n t e n t _ o p e n ' ) ; s e l f . $ ( ' >   a ' ) . f o c u s ( ) ; } ) ; } , _ o n B a c k g r o u n d C l i c k : f u n c t i o n ( e v ) { i f ( t h i s . $ n e w C o n t e n t M e n u C h o i c e s . h a s C l a s s ( ' o _ h i d d e n ' ) ) { t h i s . _ s h o w M e n u ( ) ; } e l s e { t h i s . _ h i d e M e n u ( ) ; } } , _ o n B a c k g r o u n d K e y d o w n : f u n c t i o n ( e v ) { i f ( ! t h i s . s h o w n ) { r e t u r n ; } 
 s w i t c h ( e v . w h i c h ) { c a s e   $ . u i . k e y C o d e . E S C A P E : t h i s . _ h i d e M e n u ( ) ; e v . s t o p P r o p a g a t i o n ( ) ; b r e a k ; c a s e   $ . u i . k e y C o d e . T A B : i f ( e v . s h i f t K e y ) { i f ( t h i s . f i r s t T a b | | d o c u m e n t . a c t i v e E l e m e n t = = = t h i s . $ f i r s t L i n k [ 0 ] ) { t h i s . _ f o c u s L a s t L i n k ( ) ; e v . p r e v e n t D e f a u l t ( ) ; } } e l s e { i f ( t h i s . f i r s t T a b | | d o c u m e n t . a c t i v e E l e m e n t = = = t h i s . $ l a s t L i n k [ 0 ] ) { t h i s . _ f o c u s F i r s t L i n k ( ) ; e v . p r e v e n t D e f a u l t ( ) ; } } 
 t h i s . f i r s t T a b = f a l s e ; b r e a k ; } } , _ o n M o d u l e I d C l i c k : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   $ e l = $ ( e v . c u r r e n t T a r g e t ) ; v a r   $ i = $ e l . f i n d ( ' a   i ' ) ; v a r   $ p = $ e l . f i n d ( ' a   p ' ) ; v a r   t i t l e = $ p . t e x t ( ) ; v a r   c o n t e n t = ' ' ; v a r   b u t t o n s ; v a r   m o d u l e I d = $ e l . d a t a ( ' m o d u l e - i d ' ) ; v a r   n a m e = $ e l . d a t a ( ' m o d u l e - s h o r t d e s c ' ) ; e v . s t o p P r o p a g a t i o n ( ) ; e v . p r e v e n t D e f a u l t ( ) ; i f ( t h i s . p e n d i n g I n s t a l l ) { c o n t e n t = t h i s . n e w C o n t e n t T e x t . i n s t a l l I n P r o g r e s s ; } e l s e { c o n t e n t = _ . s t r . s p r i n t f ( t h i s . n e w C o n t e n t T e x t . i n s t a l l N e e d e d , n a m e ) ; b u t t o n s = [ { t e x t : _ t ( " I n s t a l l " ) , c l a s s e s : ' b t n - p r i m a r y ' , c l o s e : t r u e , c l i c k : f u n c t i o n ( ) { v a r   $ f i n a l P o s i t i o n = s e l f . $ n e w C o n t e n t M e n u C h o i c e s . f i n d ( ' . o _ n e w _ c o n t e n t _ e l e m e n t : n o t ( [ d a t a - m o d u l e - i d ] ) ' ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n   $ ( t h i s ) . d a t a ( ' o r i g i n a l - i n d e x ' ) < $ e l . d a t a ( ' o r i g i n a l - i n d e x ' ) ; } ) . l a s t ( ) ; i f ( $ f i n a l P o s i t i o n ) { $ e l . f a d e T o ( 4 0 0 , 0 , f u n c t i o n ( ) { i f ( ! $ e l . h a s C l a s s ( ' o _ n e w _ c o n t e n t _ e l e m e n t _ o n c e ' ) ) { $ e l . i n s e r t A f t e r ( $ f i n a l P o s i t i o n ) ; } 
 $ i . r e m o v e C l a s s ( ) . a d d C l a s s ( ' f a   f a - s p i n   f a - s p i n n e r   f a - p u l s e ' ) . c s s ( ' b a c k g r o u n d - i m a g e ' , ' n o n e ' ) ; $ p . r e m o v e C l a s s ( ' o _ u n i n s t a l l e d _ m o d u l e ' ) . t e x t ( _ . s t r . s p r i n t f ( s e l f . n e w C o n t e n t T e x t . i n s t a l l P l e a s e W a i t , n a m e ) ) ; $ e l . f a d e T o ( 1 0 0 0 , 1 ) ; } ) ; } 
 s e l f . _ i n s t a l l ( m o d u l e I d ) . t h e n ( f u n c t i o n ( ) { v a r   o r i g i n = w i n d o w . l o c a t i o n . o r i g i n ; v a r   r e d i r e c t U R L = $ e l . f i n d ( ' a ' ) . d a t a ( ' u r l ' ) | | ( w i n d o w . l o c a t i o n . p a t h n a m e + ' ? ' + e n a b l e F l a g ) ; w i n d o w . l o c a t i o n . h r e f = o r i g i n + r e d i r e c t U R L ; } , f u n c t i o n ( ) { $ i . r e m o v e C l a s s ( ) . a d d C l a s s ( ' f a   f a - e x c l a m a t i o n - t r i a n g l e ' ) ; $ p . t e x t ( _ . s t r . s p r i n t f ( s e l f . n e w C o n t e n t T e x t . f a i l e d , n a m e ) ) ; } ) ; } } , { t e x t : _ t ( " C a n c e l " ) , c l o s e : t r u e , } ] ; } 
 n e w   D i a l o g ( t h i s , { t i t l e : t i t l e , s i z e : ' m e d i u m ' , $ c o n t e n t : $ ( ' < d i v / > ' , { t e x t : c o n t e n t } ) , b u t t o n s : b u t t o n s } ) . o p e n ( ) ; } , } ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( N e w C o n t e n t M e n u , ' . o _ n e w _ c o n t e n t _ m e n u ' ) ; r e t u r n   N e w C o n t e n t M e n u ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / s e o . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . s e o ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   C l a s s = r e q u i r e ( ' w e b . C l a s s ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   m i x i n s = r e q u i r e ( ' w e b . m i x i n s ' ) ; v a r   r p c = r e q u i r e ( ' w e b . r p c ' ) ; v a r   W i d g e t = r e q u i r e ( ' w e b . W i d g e t ' ) ; v a r   w e W i d g e t s = r e q u i r e ( ' w y s i w y g . w i d g e t s ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   _ t = c o r e . _ t ; v a r   W O R D _ S E P A R A T O R S _ R E G E X = ' ( [ \ \ u 2 0 0 0 - \ \ u 2 0 6 F \ \ u 2 E 0 0 - \ \ u 2 E 7 F \ ' ! " # \ \ $ % & \ \ ( \ \ ) \ \ * \ \ + , \ \ - \ \ . \ \ / : ; < = > \ \ ?   @ \ \ [ \ \ ] \ \ ^ _ ` \ \ { \ \ | \ \ } ~ \ \ s ] + | ^ | $ ) ' ; v a r   S u g g e s t i o n = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ s u g g e s t i o n ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , e v e n t s : { ' c l i c k   . o _ s e o _ s u g g e s t i o n ' : ' s e l e c t ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . k e y w o r d = o p t i o n s . k e y w o r d ; t h i s . _ s u p e r ( p a r e n t ) ; } , s e l e c t : f u n c t i o n ( ) { t h i s . t r i g g e r ( ' s e l e c t e d ' , t h i s . k e y w o r d ) ; } , } ) ; v a r   S u g g e s t i o n L i s t = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ s u g g e s t i o n _ l i s t ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . r o o t = o p t i o n s . r o o t ; t h i s . l a n g u a g e = o p t i o n s . l a n g u a g e ; t h i s . h t m l P a g e = o p t i o n s . h t m l P a g e ; t h i s . _ s u p e r ( p a r e n t ) ; } , s t a r t : f u n c t i o n ( ) { t h i s . r e f r e s h ( ) ; } , r e f r e s h : f u n c t i o n ( ) { v a r   s e l f = t h i s ; s e l f . $ e l . a p p e n d ( _ t ( " L o a d i n g . . . " ) ) ; v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; v a r   l a n g u a g e = s e l f . l a n g u a g e | | c o n t e x t . l a n g . t o L o w e r C a s e ( ) ; t h i s . _ r p c ( { r o u t e : ' / w e b s i t e / s e o _ s u g g e s t ' , p a r a m s : { k e y w o r d s : s e l f . r o o t , l a n g : l a n g u a g e , } , } ) . t h e n ( f u n c t i o n ( k e y w o r d _ l i s t ) { s e l f . a d d S u g g e s t i o n s ( J S O N . p a r s e ( k e y w o r d _ l i s t ) ) ; } ) ; } , a d d S u g g e s t i o n s : f u n c t i o n ( k e y w o r d s ) { v a r   s e l f = t h i s ; s e l f . $ e l . e m p t y ( ) ; v a r   r e g e x = n e w   R e g E x p ( W O R D _ S E P A R A T O R S _ R E G E X + s e l f . r o o t + W O R D _ S E P A R A T O R S _ R E G E X , ' g i ' ) ; k e y w o r d s = _ . m a p ( _ . u n i q ( k e y w o r d s ) , f u n c t i o n ( w o r d ) { r e t u r n   w o r d . r e p l a c e ( r e g e x , ' ' ) . t r i m ( ) ; } ) ; _ . e a c h ( k e y w o r d s , f u n c t i o n ( k e y w o r d ) { i f ( k e y w o r d ) { v a r   s u g g e s t i o n = n e w   S u g g e s t i o n ( s e l f , { k e y w o r d : k e y w o r d , } ) ; s u g g e s t i o n . o n ( ' s e l e c t e d ' , s e l f , f u n c t i o n ( w o r d , l a n g u a g e ) { s e l f . t r i g g e r ( ' s e l e c t e d ' , w o r d , l a n g u a g e ) ; } ) ; s u g g e s t i o n . a p p e n d T o ( s e l f . $ e l ) ; } } ) ; } , } ) ; v a r   K e y w o r d = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ k e y w o r d ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , e v e n t s : { ' c l i c k   a [ d a t a - a c t i o n = r e m o v e - k e y w o r d ] ' : ' d e s t r o y ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . k e y w o r d = o p t i o n s . w o r d ; t h i s . l a n g u a g e = o p t i o n s . l a n g u a g e ; t h i s . h t m l P a g e = o p t i o n s . h t m l P a g e ; t h i s . u s e d _ h 1 = t h i s . h t m l P a g e . i s I n H e a d i n g 1 ( t h i s . k e y w o r d ) ; t h i s . u s e d _ h 2 = t h i s . h t m l P a g e . i s I n H e a d i n g 2 ( t h i s . k e y w o r d ) ; t h i s . u s e d _ c o n t e n t = t h i s . h t m l P a g e . i s I n B o d y ( t h i s . k e y w o r d ) ; t h i s . _ s u p e r ( p a r e n t ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ ( ' . o _ s e o _ k e y w o r d _ s u g g e s t i o n ' ) . e m p t y ( ) ; t h i s . s u g g e s t i o n L i s t = n e w   S u g g e s t i o n L i s t ( t h i s , { r o o t : t h i s . k e y w o r d , l a n g u a g e : t h i s . l a n g u a g e , h t m l P a g e : t h i s . h t m l P a g e , } ) ; t h i s . s u g g e s t i o n L i s t . o n ( ' s e l e c t e d ' , t h i s , f u n c t i o n ( w o r d , l a n g u a g e ) { t h i s . t r i g g e r ( ' s e l e c t e d ' , w o r d , l a n g u a g e ) ; } ) ; r e t u r n   t h i s . s u g g e s t i o n L i s t . a p p e n d T o ( t h i s . $ ( ' . o _ s e o _ k e y w o r d _ s u g g e s t i o n ' ) ) . t h e n ( f u n c t i o n ( ) { s e l f . h t m l P a g e . o n ( ' t i t l e - c h a n g e d ' , s e l f , s e l f . _ u p d a t e T i t l e ) ; s e l f . h t m l P a g e . o n ( ' d e s c r i p t i o n - c h a n g e d ' , s e l f , s e l f . _ u p d a t e D e s c r i p t i o n ) ; s e l f . _ u p d a t e T i t l e ( ) ; s e l f . _ u p d a t e D e s c r i p t i o n ( ) ; } ) ; } , d e s t r o y : f u n c t i o n ( ) { t h i s . t r i g g e r ( ' r e m o v e d ' ) ; t h i s . _ s u p e r ( ) ; } , _ u p d a t e T i t l e : f u n c t i o n ( ) { v a r   $ t i t l e = t h i s . $ ( ' . j s _ s e o _ k e y w o r d _ t i t l e ' ) ; i f ( t h i s . h t m l P a g e . i s I n T i t l e ( t h i s . k e y w o r d ) ) { $ t i t l e . c s s ( ' v i s i b i l i t y ' , ' v i s i b l e ' ) ; } e l s e { $ t i t l e . c s s ( ' v i s i b i l i t y ' , ' h i d d e n ' ) ; } } , _ u p d a t e D e s c r i p t i o n : f u n c t i o n ( ) { v a r   $ d e s c r i p t i o n = t h i s . $ ( ' . j s _ s e o _ k e y w o r d _ d e s c r i p t i o n ' ) ; i f ( t h i s . h t m l P a g e . i s I n D e s c r i p t i o n ( t h i s . k e y w o r d ) ) { $ d e s c r i p t i o n . c s s ( ' v i s i b i l i t y ' , ' v i s i b l e ' ) ; } e l s e { $ d e s c r i p t i o n . c s s ( ' v i s i b i l i t y ' , ' h i d d e n ' ) ; } } , } ) ; v a r   K e y w o r d L i s t = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ l i s t ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , m a x K e y w o r d s : 1 0 , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . h t m l P a g e = o p t i o n s . h t m l P a g e ; t h i s . _ s u p e r ( p a r e n t ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   e x i s t i n g K e y w o r d s = s e l f . h t m l P a g e . k e y w o r d s ( ) ; i f ( e x i s t i n g K e y w o r d s . l e n g t h > 0 ) { _ . e a c h ( e x i s t i n g K e y w o r d s , f u n c t i o n ( w o r d ) { s e l f . a d d . c a l l ( s e l f , w o r d ) ; } ) ; } } , k e y w o r d s : f u n c t i o n ( ) { v a r   r e s u l t = [ ] ; t h i s . $ ( ' . j s _ s e o _ k e y w o r d ' ) . e a c h ( f u n c t i o n ( ) { r e s u l t . p u s h ( $ ( t h i s ) . d a t a ( ' k e y w o r d ' ) ) ; } ) ; r e t u r n   r e s u l t ; } , i s F u l l : f u n c t i o n ( ) { r e t u r n   t h i s . k e y w o r d s ( ) . l e n g t h > = t h i s . m a x K e y w o r d s ; } , e x i s t s : f u n c t i o n ( w o r d ) { r e t u r n   _ . c o n t a i n s ( t h i s . k e y w o r d s ( ) , w o r d ) ; } , a d d : a s y n c   f u n c t i o n ( c a n d i d a t e , l a n g u a g e ) { v a r   s e l f = t h i s ; v a r   w o r d = c a n d i d a t e ? c a n d i d a t e . r e p l a c e ( / [ , ; . : < > ] + / g , '   ' ) . r e p l a c e ( /   + / g , '   ' ) . t r i m ( ) . t o L o w e r C a s e ( ) : ' ' ; i f ( w o r d & & ! s e l f . i s F u l l ( ) & & ! s e l f . e x i s t s ( w o r d ) ) { v a r   k e y w o r d = n e w   K e y w o r d ( s e l f , { w o r d : w o r d , l a n g u a g e : l a n g u a g e , h t m l P a g e : t h i s . h t m l P a g e , } ) ; k e y w o r d . o n ( ' r e m o v e d ' , s e l f , f u n c t i o n ( ) { s e l f . t r i g g e r ( ' l i s t - n o t - f u l l ' ) ; s e l f . t r i g g e r ( ' c o n t e n t - u p d a t e d ' , t r u e ) ; } ) ; k e y w o r d . o n ( ' s e l e c t e d ' , s e l f , f u n c t i o n ( w o r d , l a n g u a g e ) { s e l f . t r i g g e r ( ' s e l e c t e d ' , w o r d , l a n g u a g e ) ; } ) ; a w a i t   k e y w o r d . a p p e n d T o ( s e l f . $ e l ) ; } 
 i f ( s e l f . i s F u l l ( ) ) { s e l f . t r i g g e r ( ' l i s t - f u l l ' ) ; } 
 s e l f . t r i g g e r ( ' c o n t e n t - u p d a t e d ' ) ; } , } ) ; v a r   P r e v i e w = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ p r e v i e w ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . t i t l e = o p t i o n s . t i t l e ; t h i s . u r l = o p t i o n s . u r l ; t h i s . d e s c r i p t i o n = o p t i o n s . d e s c r i p t i o n ; i f ( t h i s . d e s c r i p t i o n . l e n g t h > 1 6 0 ) { t h i s . d e s c r i p t i o n = t h i s . d e s c r i p t i o n . s u b s t r i n g ( 0 , 1 5 9 ) + ' & ' ; } 
 t h i s . _ s u p e r ( p a r e n t ) ; } , } ) ; v a r   H t m l P a g e = C l a s s . e x t e n d ( m i x i n s . P r o p e r t i e s M i x i n , { i n i t : f u n c t i o n ( ) { m i x i n s . P r o p e r t i e s M i x i n . i n i t . c a l l ( t h i s ) ; t h i s . i n i t T i t l e = t h i s . t i t l e ( ) ; t h i s . d e f a u l t T i t l e = $ ( ' m e t a [ n a m e = " d e f a u l t _ t i t l e " ] ' ) . a t t r ( ' c o n t e n t ' ) ; t h i s . i n i t D e s c r i p t i o n = t h i s . d e s c r i p t i o n ( ) ; } , u r l : f u n c t i o n ( ) { r e t u r n   w i n d o w . l o c a t i o n . o r i g i n + w i n d o w . l o c a t i o n . p a t h n a m e ; } , t i t l e : f u n c t i o n ( ) { r e t u r n   $ ( ' t i t l e ' ) . t e x t ( ) . t r i m ( ) ; } , c h a n g e T i t l e : f u n c t i o n ( t i t l e ) { $ ( ' t i t l e ' ) . t e x t ( t i t l e . t r i m ( ) | | t h i s . d e f a u l t T i t l e ) ; t h i s . t r i g g e r ( ' t i t l e - c h a n g e d ' , t i t l e ) ; } , d e s c r i p t i o n : f u n c t i o n ( ) { r e t u r n ( $ ( ' m e t a [ n a m e = d e s c r i p t i o n ] ' ) . a t t r ( ' c o n t e n t ' ) | | ' ' ) . t r i m ( ) ; } , c h a n g e D e s c r i p t i o n : f u n c t i o n ( d e s c r i p t i o n ) { $ ( ' m e t a [ n a m e = d e s c r i p t i o n ] ' ) . a t t r ( ' c o n t e n t ' , d e s c r i p t i o n ) ; t h i s . t r i g g e r ( ' d e s c r i p t i o n - c h a n g e d ' , d e s c r i p t i o n ) ; } , k e y w o r d s : f u n c t i o n ( ) { v a r   $ k e y w o r d s = $ ( ' m e t a [ n a m e = k e y w o r d s ] ' ) ; v a r   p a r s e d = ( $ k e y w o r d s . l e n g t h > 0 ) & & $ k e y w o r d s . a t t r ( ' c o n t e n t ' ) & & $ k e y w o r d s . a t t r ( ' c o n t e n t ' ) . s p l i t ( ' , ' ) ; r e t u r n ( p a r s e d & & p a r s e d [ 0 ] ) ? p a r s e d : [ ] ; } , c h a n g e K e y w o r d s : f u n c t i o n ( k e y w o r d s ) { $ ( ' m e t a [ n a m e = k e y w o r d s ] ' ) . a t t r ( ' c o n t e n t ' , k e y w o r d s . j o i n ( ' , ' ) ) ; } , h e a d e r s : f u n c t i o n ( t a g ) { r e t u r n   $ ( ' # w r a p   ' + t a g ) . m a p ( f u n c t i o n ( ) { r e t u r n   $ ( t h i s ) . t e x t ( ) ; } ) ; } , g e t O g M e t a : f u n c t i o n ( ) { v a r   o g I m a g e U r l = $ ( ' m e t a [ p r o p e r t y = " o g : i m a g e " ] ' ) . a t t r ( ' c o n t e n t ' ) ; v a r   t i t l e = $ ( ' m e t a [ p r o p e r t y = " o g : t i t l e " ] ' ) . a t t r ( ' c o n t e n t ' ) ; v a r   d e s c r i p t i o n = $ ( ' m e t a [ p r o p e r t y = " o g : d e s c r i p t i o n " ] ' ) . a t t r ( ' c o n t e n t ' ) ; r e t u r n { o g I m a g e U r l : o g I m a g e U r l & & o g I m a g e U r l . r e p l a c e ( w i n d o w . l o c a t i o n . o r i g i n , ' ' ) , m e t a T i t l e : t i t l e , m e t a D e s c r i p t i o n : d e s c r i p t i o n , } ; } , i m a g e s : f u n c t i o n ( ) { r e t u r n   $ ( ' # w r a p   i m g ' ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n   t h i s . n a t u r a l H e i g h t > = 2 0 0 & & t h i s . n a t u r a l W i d t h > = 2 0 0 ; } ) . m a p ( f u n c t i o n ( ) { r e t u r n { s r c : t h i s . g e t A t t r i b u t e ( ' s r c ' ) , a l t : t h i s . g e t A t t r i b u t e ( ' a l t ' ) , } ; } ) ; } , c o m p a n y : f u n c t i o n ( ) { r e t u r n   $ ( ' h t m l ' ) . a t t r ( ' d a t a - o e - c o m p a n y - n a m e ' ) ; } , b o d y T e x t : f u n c t i o n ( ) { r e t u r n   $ ( ' b o d y ' ) . c h i l d r e n ( ) . n o t ( ' . o e _ s e o _ c o n f i g u r a t i o n ' ) . t e x t ( ) ; } , h e a d i n g 1 : f u n c t i o n ( ) { r e t u r n   $ ( ' b o d y ' ) . c h i l d r e n ( ) . n o t ( ' . o e _ s e o _ c o n f i g u r a t i o n ' ) . f i n d ( ' h 1 ' ) . t e x t ( ) ; } , h e a d i n g 2 : f u n c t i o n ( ) { r e t u r n   $ ( ' b o d y ' ) . c h i l d r e n ( ) . n o t ( ' . o e _ s e o _ c o n f i g u r a t i o n ' ) . f i n d ( ' h 2 ' ) . t e x t ( ) ; } , i s I n B o d y : f u n c t i o n ( t e x t ) { r e t u r n   n e w   R e g E x p ( W O R D _ S E P A R A T O R S _ R E G E X + t e x t + W O R D _ S E P A R A T O R S _ R E G E X , ' g i ' ) . t e s t ( t h i s . b o d y T e x t ( ) ) ; } , i s I n T i t l e : f u n c t i o n ( t e x t ) { r e t u r n   n e w   R e g E x p ( W O R D _ S E P A R A T O R S _ R E G E X + t e x t + W O R D _ S E P A R A T O R S _ R E G E X , ' g i ' ) . t e s t ( t h i s . t i t l e ( ) ) ; } , i s I n D e s c r i p t i o n : f u n c t i o n ( t e x t ) { r e t u r n   n e w   R e g E x p ( W O R D _ S E P A R A T O R S _ R E G E X + t e x t + W O R D _ S E P A R A T O R S _ R E G E X , ' g i ' ) . t e s t ( t h i s . d e s c r i p t i o n ( ) ) ; } , i s I n H e a d i n g 1 : f u n c t i o n ( t e x t ) { r e t u r n   n e w   R e g E x p ( W O R D _ S E P A R A T O R S _ R E G E X + t e x t + W O R D _ S E P A R A T O R S _ R E G E X , ' g i ' ) . t e s t ( t h i s . h e a d i n g 1 ( ) ) ; } , i s I n H e a d i n g 2 : f u n c t i o n ( t e x t ) { r e t u r n   n e w   R e g E x p ( W O R D _ S E P A R A T O R S _ R E G E X + t e x t + W O R D _ S E P A R A T O R S _ R E G E X , ' g i ' ) . t e s t ( t h i s . h e a d i n g 2 ( ) ) ; } , } ) ; v a r   M e t a T i t l e D e s c r i p t i o n = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ m e t a _ t i t l e _ d e s c r i p t i o n ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , e v e n t s : { ' i n p u t   i n p u t [ n a m e = w e b s i t e _ m e t a _ t i t l e ] ' : ' _ t i t l e C h a n g e d ' , ' i n p u t   i n p u t [ n a m e = w e b s i t e _ s e o _ n a m e ] ' : ' _ s e o N a m e C h a n g e d ' , ' i n p u t   t e x t a r e a [ n a m e = w e b s i t e _ m e t a _ d e s c r i p t i o n ] ' : ' _ d e s c r i p t i o n O n I n p u t ' , ' c h a n g e   t e x t a r e a [ n a m e = w e b s i t e _ m e t a _ d e s c r i p t i o n ] ' : ' _ d e s c r i p t i o n O n C h a n g e ' , } , m a x R e c o m m e n d e d D e s c r i p t i o n S i z e : 3 0 0 , m i n R e c o m m e n d e d D e s c r i p t i o n S i z e : 5 0 , s h o w D e s c r i p t i o n T o o S m a l l : f a l s e , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . h t m l P a g e = o p t i o n s . h t m l P a g e ; t h i s . c a n E d i t T i t l e = ! ! o p t i o n s . c a n E d i t T i t l e ; t h i s . c a n E d i t D e s c r i p t i o n = ! ! o p t i o n s . c a n E d i t D e s c r i p t i o n ; t h i s . c a n E d i t U r l = ! ! o p t i o n s . c a n E d i t U r l ; t h i s . i s I n d e x e d = ! ! o p t i o n s . i s I n d e x e d ; t h i s . s e o N a m e = o p t i o n s . s e o N a m e ; t h i s . s e o N a m e D e f a u l t = o p t i o n s . s e o N a m e D e f a u l t ; t h i s . s e o N a m e H e l p = o p t i o n s . s e o N a m e H e l p ; t h i s . p r e v i e w D e s c r i p t i o n = o p t i o n s . p r e v i e w D e s c r i p t i o n ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; } , s t a r t : f u n c t i o n ( ) { t h i s . $ t i t l e = t h i s . $ ( ' i n p u t [ n a m e = w e b s i t e _ m e t a _ t i t l e ] ' ) ; t h i s . $ s e o N a m e = t h i s . $ ( ' i n p u t [ n a m e = w e b s i t e _ s e o _ n a m e ] ' ) ; t h i s . $ s e o N a m e P r e = t h i s . $ ( ' s p a n . s e o _ n a m e _ p r e ' ) ; t h i s . $ s e o N a m e P o s t = t h i s . $ ( ' s p a n . s e o _ n a m e _ p o s t ' ) ; t h i s . $ d e s c r i p t i o n = t h i s . $ ( ' t e x t a r e a [ n a m e = w e b s i t e _ m e t a _ d e s c r i p t i o n ] ' ) ; t h i s . $ w a r n i n g = t h i s . $ ( ' d i v # w e b s i t e _ m e t a _ d e s c r i p t i o n _ w a r n i n g ' ) ; t h i s . $ p r e v i e w = t h i s . $ ( ' . j s _ s e o _ p r e v i e w ' ) ; i f ( ! t h i s . c a n E d i t T i t l e ) { t h i s . $ t i t l e . a t t r ( ' d i s a b l e d ' , t r u e ) ; } 
 i f ( ! t h i s . c a n E d i t D e s c r i p t i o n ) { t h i s . $ d e s c r i p t i o n . a t t r ( ' d i s a b l e d ' , t r u e ) ; } 
 i f ( t h i s . h t m l P a g e . t i t l e ( ) . t r i m ( ) ! = = t h i s . h t m l P a g e . d e f a u l t T i t l e . t r i m ( ) ) { t h i s . $ t i t l e . v a l ( t h i s . h t m l P a g e . t i t l e ( ) ) ; } 
 i f ( t h i s . h t m l P a g e . d e s c r i p t i o n ( ) . t r i m ( ) ! = = t h i s . p r e v i e w D e s c r i p t i o n ) { t h i s . $ d e s c r i p t i o n . v a l ( t h i s . h t m l P a g e . d e s c r i p t i o n ( ) ) ; } 
 i f ( t h i s . c a n E d i t U r l ) { t h i s . p r e v i o u s S e o N a m e = t h i s . s e o N a m e ; t h i s . $ s e o N a m e . v a l ( t h i s . s e o N a m e ) ; t h i s . $ s e o N a m e . a t t r ( ' p l a c e h o l d e r ' , t h i s . s e o N a m e D e f a u l t ) ; c o n s t   s p l i t s U r l = w i n d o w . l o c a t i o n . p a t h n a m e . s p l i t ( t h i s . p r e v i o u s S e o N a m e | | t h i s . s e o N a m e D e f a u l t ) ; t h i s . $ s e o N a m e P r e . t e x t ( s p l i t s U r l [ 0 ] ) ; t h i s . $ s e o N a m e P o s t . t e x t ( s p l i t s U r l . s l i c e ( - 1 ) [ 0 ] ) ; } 
 t h i s . _ d e s c r i p t i o n O n C h a n g e ( ) ; } , g e t T i t l e : f u n c t i o n ( ) { r e t u r n   t h i s . $ t i t l e . v a l ( ) . t r i m ( ) | | t h i s . h t m l P a g e . d e f a u l t T i t l e ; } , g e t U r l : f u n c t i o n ( ) { c o n s t   p a t h = w i n d o w . l o c a t i o n . p a t h n a m e . r e p l a c e ( t h i s . p r e v i o u s S e o N a m e | | t h i s . s e o N a m e D e f a u l t , ( t h i s . $ s e o N a m e . l e n g t h & & t h i s . $ s e o N a m e . v a l ( ) ? t h i s . $ s e o N a m e . v a l ( ) . t r i m ( ) : t h i s . $ s e o N a m e . a t t r ( ' p l a c e h o l d e r ' ) ) ) ; r e t u r n   w i n d o w . l o c a t i o n . o r i g i n + p a t h } , g e t D e s c r i p t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . g e t R e a l D e s c r i p t i o n ( ) | | t h i s . p r e v i e w D e s c r i p t i o n ; } , g e t R e a l D e s c r i p t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . $ d e s c r i p t i o n . v a l ( ) | | ' ' ; } , _ t i t l e C h a n g e d : f u n c t i o n ( ) { v a r   s e l f = t h i s ; s e l f . _ r e n d e r P r e v i e w ( ) ; s e l f . t r i g g e r ( ' t i t l e - c h a n g e d ' ) ; } , _ s e o N a m e C h a n g e d : f u n c t i o n ( ) { v a r   s e l f = t h i s ; c o n s t   s l u g i f i e d = t h i s . $ s e o N a m e . v a l ( ) . t o S t r i n g ( ) . t o L o w e r C a s e ( ) . r e p l a c e ( / \ s + / g , ' - ' ) . r e p l a c e ( / [ ^ \ w \ - ] + / g , ' - ' ) . r e p l a c e ( / \ - \ - + / g , ' - ' ) ; t h i s . $ s e o N a m e . v a l ( s l u g i f i e d ) ; s e l f . _ r e n d e r P r e v i e w ( ) ; } , _ d e s c r i p t i o n O n C h a n g e : f u n c t i o n ( ) { t h i s . s h o w D e s c r i p t i o n T o o S m a l l = t r u e ; t h i s . _ d e s c r i p t i o n O n I n p u t ( ) ; } , _ d e s c r i p t i o n O n I n p u t : f u n c t i o n ( ) { v a r   l e n g t h = t h i s . g e t D e s c r i p t i o n ( ) . l e n g t h ; i f ( l e n g t h > = t h i s . m i n R e c o m m e n d e d D e s c r i p t i o n S i z e ) { t h i s . s h o w D e s c r i p t i o n T o o S m a l l = t r u e ; } e l s e   i f ( l e n g t h = = = 0 ) { t h i s . s h o w D e s c r i p t i o n T o o S m a l l = f a l s e ; } 
 i f ( l e n g t h > t h i s . m a x R e c o m m e n d e d D e s c r i p t i o n S i z e ) { t h i s . $ w a r n i n g . t e x t ( _ t ( ' Y o u r   d e s c r i p t i o n   l o o k s   t o o   l o n g . ' ) ) . s h o w ( ) ; } e l s e   i f ( t h i s . s h o w D e s c r i p t i o n T o o S m a l l & & l e n g t h < t h i s . m i n R e c o m m e n d e d D e s c r i p t i o n S i z e ) { t h i s . $ w a r n i n g . t e x t ( _ t ( ' Y o u r   d e s c r i p t i o n   l o o k s   t o o   s h o r t . ' ) ) . s h o w ( ) ; } e l s e { t h i s . $ w a r n i n g . h i d e ( ) ; } 
 t h i s . _ r e n d e r P r e v i e w ( ) ; t h i s . t r i g g e r ( ' d e s c r i p t i o n - c h a n g e d ' ) ; } , _ r e n d e r P r e v i e w : f u n c t i o n ( ) { v a r   i n d e x e d = t h i s . i s I n d e x e d ; v a r   p r e v i e w = " " ; i f ( i n d e x e d ) { p r e v i e w = n e w   P r e v i e w ( t h i s , { t i t l e : t h i s . g e t T i t l e ( ) , d e s c r i p t i o n : t h i s . g e t D e s c r i p t i o n ( ) , u r l : t h i s . g e t U r l ( ) , } ) ; } e l s e { p r e v i e w = n e w   P r e v i e w ( t h i s , { d e s c r i p t i o n : _ t ( " Y o u   h a v e   h i d d e n   t h i s   p a g e   f r o m   s e a r c h   r e s u l t s .   I t   w o n ' t   b e   i n d e x e d   b y   s e a r c h   e n g i n e s . " ) , } ) ; } 
 t h i s . $ p r e v i e w . e m p t y ( ) ; p r e v i e w . a p p e n d T o ( t h i s . $ p r e v i e w ) ; } , } ) ; v a r   M e t a K e y w o r d s = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ m e t a _ k e y w o r d s ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , e v e n t s : { ' k e y u p   i n p u t [ n a m e = w e b s i t e _ m e t a _ k e y w o r d s ] ' : ' _ c o n f i r m K e y w o r d ' , ' c l i c k   b u t t o n [ d a t a - a c t i o n = a d d ] ' : ' _ a d d K e y w o r d ' , } , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . h t m l P a g e = o p t i o n s . h t m l P a g e ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ i n p u t = t h i s . $ ( ' i n p u t [ n a m e = w e b s i t e _ m e t a _ k e y w o r d s ] ' ) ; t h i s . k e y w o r d L i s t = n e w   K e y w o r d L i s t ( t h i s , { h t m l P a g e : t h i s . h t m l P a g e } ) ; t h i s . k e y w o r d L i s t . o n ( ' l i s t - f u l l ' , t h i s , f u n c t i o n ( ) { s e l f . $ i n p u t . a t t r ( { r e a d o n l y : ' r e a d o n l y ' , p l a c e h o l d e r : " R e m o v e   a   k e y w o r d   f i r s t " } ) ; s e l f . $ ( ' b u t t o n [ d a t a - a c t i o n = a d d ] ' ) . p r o p ( ' d i s a b l e d ' , t r u e ) . a d d C l a s s ( ' d i s a b l e d ' ) ; } ) ; t h i s . k e y w o r d L i s t . o n ( ' l i s t - n o t - f u l l ' , t h i s , f u n c t i o n ( ) { s e l f . $ i n p u t . r e m o v e A t t r ( ' r e a d o n l y ' ) . a t t r ( ' p l a c e h o l d e r ' , " " ) ; s e l f . $ ( ' b u t t o n [ d a t a - a c t i o n = a d d ] ' ) . p r o p ( ' d i s a b l e d ' , f a l s e ) . r e m o v e C l a s s ( ' d i s a b l e d ' ) ; } ) ; t h i s . k e y w o r d L i s t . o n ( ' s e l e c t e d ' , t h i s , f u n c t i o n ( w o r d , l a n g u a g e ) { s e l f . k e y w o r d L i s t . a d d ( w o r d , l a n g u a g e ) ; } ) ; t h i s . k e y w o r d L i s t . o n ( ' c o n t e n t - u p d a t e d ' , t h i s , f u n c t i o n ( r e m o v e d ) { s e l f . _ u p d a t e T a b l e ( r e m o v e d ) ; } ) ; r e t u r n   t h i s . k e y w o r d L i s t . i n s e r t A f t e r ( t h i s . $ ( ' . t a b l e   t h e a d ' ) ) . t h e n ( f u n c t i o n ( ) { s e l f . _ g e t L a n g u a g e s ( ) ; s e l f . _ u p d a t e T a b l e ( ) ; } ) ; } , _ a d d K e y w o r d : f u n c t i o n ( ) { v a r   $ l a n g u a g e = t h i s . $ ( ' s e l e c t [ n a m e = s e o _ p a g e _ l a n g u a g e ] ' ) ; v a r   k e y w o r d = t h i s . $ i n p u t . v a l ( ) ; v a r   l a n g u a g e = $ l a n g u a g e . v a l ( ) . t o L o w e r C a s e ( ) ; t h i s . k e y w o r d L i s t . a d d ( k e y w o r d , l a n g u a g e ) ; t h i s . $ i n p u t . v a l ( ' ' ) . f o c u s ( ) ; } , _ c o n f i r m K e y w o r d : f u n c t i o n ( e ) { i f ( e . k e y C o d e = = = 1 3 ) { t h i s . _ a d d K e y w o r d ( ) ; } } , _ g e t L a n g u a g e s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; t h i s . _ r p c ( { r o u t e : ' / w e b s i t e / g e t _ l a n g u a g e s ' , } ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . $ ( ' # l a n g u a g e - b o x ' ) . h t m l ( c o r e . q w e b . r e n d e r ( ' C o n f i g u r a t o r . l a n g u a g e _ p r o m o t e ' , { ' l a n g u a g e ' : d a t a , ' d e f _ l a n g ' : c o n t e x t . l a n g } ) ) ; } ) ; } , _ u p d a t e T a b l e : f u n c t i o n ( r e m o v e d ) { v a r   m i n = r e m o v e d ? 1 : 0 ; i f ( t h i s . k e y w o r d L i s t . k e y w o r d s ( ) . l e n g t h > m i n ) { t h i s . $ ( ' t a b l e ' ) . s h o w ( ) ; } e l s e { t h i s . $ ( ' t a b l e ' ) . h i d e ( ) ; } } , } ) ; v a r   M e t a I m a g e S e l e c t o r = W i d g e t . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ m e t a _ i m a g e _ s e l e c t o r ' , x m l D e p e n d e n c i e s : [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] , e v e n t s : { ' c l i c k   . o _ m e t a _ i m g _ u p l o a d ' : ' _ o n C l i c k U p l o a d I m g ' , ' c l i c k   . o _ m e t a _ i m g ' : ' _ o n C l i c k S e l e c t I m g ' , } , i n i t : f u n c t i o n ( p a r e n t , d a t a ) { t h i s . m e t a T i t l e = d a t a . t i t l e | | ' ' ; t h i s . a c t i v e M e t a I m g = d a t a . m e t a I m g ; t h i s . s e r v e r U r l = d a t a . h t m l p a g e . u r l ( ) ; c o n s t   i m g F i e l d = d a t a . h a s S o c i a l D e f a u l t I m a g e ? ' s o c i a l _ d e f a u l t _ i m a g e ' : ' l o g o ' ; d a t a . p a g e I m a g e s . u n s h i f t ( _ . s t r . s p r i n t f ( ' / w e b / i m a g e / w e b s i t e / % s / % s ' , o d o o . s e s s i o n _ i n f o . w e b s i t e _ i d , i m g F i e l d ) ) ; t h i s . i m a g e s = _ . u n i q ( d a t a . p a g e I m a g e s ) ; t h i s . c u s t o m I m g U r l = _ . c o n t a i n s ( d a t a . p a g e I m a g e s . m a p ( ( i m g ) = > n e w   U R L ( i m g , w i n d o w . l o c a t i o n . o r i g i n ) . p a t h n a m e ) , n e w   U R L ( d a t a . m e t a I m g , w i n d o w . l o c a t i o n . o r i g i n ) . p a t h n a m e ) ? f a l s e : d a t a . m e t a I m g ; t h i s . p r e v i e w D e s c r i p t i o n = d a t a . p r e v i e w D e s c r i p t i o n ; t h i s . _ s e t D e s c r i p t i o n ( t h i s . p r e v i e w D e s c r i p t i o n ) ; t h i s . _ s u p e r ( p a r e n t ) ; } , s e t T i t l e : f u n c t i o n ( t i t l e ) { t h i s . m e t a T i t l e = t i t l e ; t h i s . _ u p d a t e T e m p l a t e B o d y ( ) ; } , s e t D e s c r i p t i o n : f u n c t i o n ( d e s c r i p t i o n ) { t h i s . _ s e t D e s c r i p t i o n ( d e s c r i p t i o n ) ; t h i s . _ u p d a t e T e m p l a t e B o d y ( ) ; } , _ s e t D e s c r i p t i o n : f u n c t i o n ( d e s c r i p t i o n ) { t h i s . m e t a D e s c r i p t i o n = d e s c r i p t i o n | | t h i s . p r e v i e w D e s c r i p t i o n ; i f ( t h i s . m e t a D e s c r i p t i o n . l e n g t h > 1 6 0 ) { t h i s . m e t a D e s c r i p t i o n = t h i s . m e t a D e s c r i p t i o n . s u b s t r i n g ( 0 , 1 5 9 ) + ' & ' ; } } , _ u p d a t e T e m p l a t e B o d y : f u n c t i o n ( ) { t h i s . $ e l . e m p t y ( ) ; t h i s . i m a g e s = _ . u n i q ( t h i s . i m a g e s ) ; t h i s . $ e l . a p p e n d ( c o r e . q w e b . r e n d e r ( ' w e b s i t e . o g _ i m a g e _ b o d y ' , { w i d g e t : t h i s } ) ) ; } , _ o n C l i c k S e l e c t I m g : f u n c t i o n ( e v ) { v a r   $ i m g = $ ( e v . c u r r e n t T a r g e t ) ; t h i s . a c t i v e M e t a I m g = $ i m g . f i n d ( ' i m g ' ) . a t t r ( ' s r c ' ) ; t h i s . _ u p d a t e T e m p l a t e B o d y ( ) ; } , _ o n C l i c k U p l o a d I m g : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   $ i m a g e = $ ( ' < i m g / > ' ) ; v a r   m e d i a D i a l o g = n e w   w e W i d g e t s . M e d i a D i a l o g ( t h i s , { o n l y I m a g e s : t r u e , r e s _ m o d e l : ' i r . u i . v i e w ' , } , $ i m a g e [ 0 ] ) ; m e d i a D i a l o g . o p e n ( ) ; m e d i a D i a l o g . o n ( ' s a v e ' , t h i s , f u n c t i o n ( i m a g e ) { s e l f . a c t i v e M e t a I m g = i m a g e . s r c ; s e l f . c u s t o m I m g U r l = i m a g e . s r c ; s e l f . _ u p d a t e T e m p l a t e B o d y ( ) ; } ) ; } , } ) ; v a r   S e o C o n f i g u r a t o r = D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s e o _ c o n f i g u r a t i o n ' , x m l D e p e n d e n c i e s : D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e / s t a t i c / s r c / x m l / w e b s i t e . s e o . x m l ' ] ) , c a n E d i t T i t l e : f a l s e , c a n E d i t D e s c r i p t i o n : f a l s e , c a n E d i t K e y w o r d s : f a l s e , c a n E d i t L a n g u a g e : f a l s e , c a n E d i t U r l : f a l s e , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = o p t i o n s | | { } ; _ . d e f a u l t s ( o p t i o n s , { t i t l e : _ t ( ' O p t i m i z e   S E O ' ) , b u t t o n s : [ { t e x t : _ t ( ' S a v e ' ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . u p d a t e } , { t e x t : _ t ( ' D i s c a r d ' ) , c l o s e : t r u e } , ] , } ) ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; t h i s . $ m o d a l . a d d C l a s s ( ' o e _ s e o _ c o n f i g u r a t i o n ' ) ; t h i s . h t m l P a g e = n e w   H t m l P a g e ( ) ; t h i s . d i s a b l e U n s a v a b l e F i e l d s ( ) . t h e n ( f u n c t i o n ( ) { s e l f . m e t a I m a g e S e l e c t o r = n e w   M e t a I m a g e S e l e c t o r ( s e l f , { h t m l p a g e : s e l f . h t m l P a g e , h a s S o c i a l D e f a u l t I m a g e : s e l f . h a s S o c i a l D e f a u l t I m a g e , t i t l e : s e l f . h t m l P a g e . g e t O g M e t a ( ) . m e t a T i t l e , m e t a I m g : s e l f . m e t a I m g | | s e l f . h t m l P a g e . g e t O g M e t a ( ) . o g I m a g e U r l , p a g e I m a g e s : _ . p l u c k ( s e l f . h t m l P a g e . i m a g e s ( ) . g e t ( ) , ' s r c ' ) , p r e v i e w D e s c r i p t i o n : _ t ( ' T h e   d e s c r i p t i o n   w i l l   b e   g e n e r a t e d   b y   s o c i a l   m e d i a   b a s e d   o n   p a g e   c o n t e n t   u n l e s s   y o u   s p e c i f y   o n e . ' ) , } ) ; s e l f . m e t a I m a g e S e l e c t o r . a p p e n d T o ( s e l f . $ ( ' . j s _ s e o _ i m a g e ' ) ) ; s e l f . m e t a T i t l e D e s c r i p t i o n = n e w   M e t a T i t l e D e s c r i p t i o n ( s e l f , { h t m l P a g e : s e l f . h t m l P a g e , c a n E d i t T i t l e : s e l f . c a n E d i t T i t l e , c a n E d i t D e s c r i p t i o n : s e l f . c a n E d i t D e s c r i p t i o n , c a n E d i t U r l : s e l f . c a n E d i t U r l , i s I n d e x e d : s e l f . i s I n d e x e d , p r e v i e w D e s c r i p t i o n : _ t ( ' T h e   d e s c r i p t i o n   w i l l   b e   g e n e r a t e d   b y   s e a r c h   e n g i n e s   b a s e d   o n   p a g e   c o n t e n t   u n l e s s   y o u   s p e c i f y   o n e . ' ) , s e o N a m e H e l p : _ t ( ' T h i s   v a l u e   w i l l   b e   e s c a p e d   t o   b e   c o m p l i a n t   w i t h   a l l   m a j o r   b r o w s e r s   a n d   u s e d   i n   u r l .   K e e p   i t   e m p t y   t o   u s e   t h e   d e f a u l t   n a m e   o f   t h e   r e c o r d . ' ) , s e o N a m e : s e l f . s e o N a m e , s e o N a m e D e f a u l t : s e l f . s e o N a m e D e f a u l t , } ) ; s e l f . m e t a T i t l e D e s c r i p t i o n . o n ( ' t i t l e - c h a n g e d ' , s e l f , s e l f . t i t l e C h a n g e d ) ; s e l f . m e t a T i t l e D e s c r i p t i o n . o n ( ' d e s c r i p t i o n - c h a n g e d ' , s e l f , s e l f . d e s c r i p t i o n C h a n g e d ) ; s e l f . m e t a T i t l e D e s c r i p t i o n . a p p e n d T o ( s e l f . $ ( ' . j s _ s e o _ m e t a _ t i t l e _ d e s c r i p t i o n ' ) ) ; s e l f . m e t a K e y w o r d s = n e w   M e t a K e y w o r d s ( s e l f , { h t m l P a g e : s e l f . h t m l P a g e } ) ; s e l f . m e t a K e y w o r d s . a p p e n d T o ( s e l f . $ ( ' . j s _ s e o _ m e t a _ k e y w o r d s ' ) ) ; } ) ; } , d e s t r o y : f u n c t i o n ( ) { i f ( ! t h i s . s a v e d D a t a ) { t h i s . h t m l P a g e . c h a n g e T i t l e ( t h i s . h t m l P a g e . i n i t T i t l e ) ; t h i s . h t m l P a g e . c h a n g e D e s c r i p t i o n ( t h i s . h t m l P a g e . i n i t D e s c r i p t i o n ) ; } 
 t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , d i s a b l e U n s a v a b l e F i e l d s : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . l o a d M e t a D a t a ( ) . t h e n ( f u n c t i o n ( d a t a ) { s e l f . r e l o a d O n S a v e = d a t a . w e b s i t e _ i d = = = u n d e f i n e d ? f a l s e : ! d a t a . w e b s i t e _ i d ; s e l f . i s I n d e x e d = ( d a t a & & ( ' w e b s i t e _ i n d e x e d ' i n   d a t a ) ) ? d a t a . w e b s i t e _ i n d e x e d : t r u e ; s e l f . c a n E d i t T i t l e = d a t a & & ( ' w e b s i t e _ m e t a _ t i t l e ' i n   d a t a ) ; s e l f . c a n E d i t D e s c r i p t i o n = d a t a & & ( ' w e b s i t e _ m e t a _ d e s c r i p t i o n ' i n   d a t a ) ; s e l f . c a n E d i t K e y w o r d s = d a t a & & ( ' w e b s i t e _ m e t a _ k e y w o r d s ' i n   d a t a ) ; s e l f . m e t a I m g = d a t a . w e b s i t e _ m e t a _ o g _ i m g ; s e l f . h a s S o c i a l D e f a u l t I m a g e = d a t a . h a s _ s o c i a l _ d e f a u l t _ i m a g e ; s e l f . c a n E d i t U r l = d a t a & & ( ' s e o _ n a m e ' i n   d a t a ) ; s e l f . s e o N a m e = s e l f . c a n E d i t U r l & & d a t a . s e o _ n a m e ; s e l f . s e o N a m e D e f a u l t = s e l f . c a n E d i t U r l & & d a t a . s e o _ n a m e _ d e f a u l t ; i f ( ! s e l f . c a n E d i t T i t l e & & ! s e l f . c a n E d i t D e s c r i p t i o n & & ! s e l f . c a n E d i t K e y w o r d s ) { s e l f . $ f o o t e r . f i n d ( ' b u t t o n [ d a t a - a c t i o n = u p d a t e ] ' ) . a t t r ( ' d i s a b l e d ' , t r u e ) ; } } ) ; } , u p d a t e : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d a t a = { } ; i f ( t h i s . c a n E d i t T i t l e ) { d a t a . w e b s i t e _ m e t a _ t i t l e = t h i s . m e t a T i t l e D e s c r i p t i o n . $ t i t l e . v a l ( ) ; } 
 i f ( t h i s . c a n E d i t D e s c r i p t i o n ) { d a t a . w e b s i t e _ m e t a _ d e s c r i p t i o n = t h i s . m e t a T i t l e D e s c r i p t i o n . $ d e s c r i p t i o n . v a l ( ) ; } 
 i f ( t h i s . c a n E d i t K e y w o r d s ) { d a t a . w e b s i t e _ m e t a _ k e y w o r d s = t h i s . m e t a K e y w o r d s . k e y w o r d L i s t . k e y w o r d s ( ) . j o i n ( ' ,   ' ) ; } 
 i f ( t h i s . c a n E d i t U r l ) { i f ( t h i s . m e t a T i t l e D e s c r i p t i o n . $ s e o N a m e . v a l ( ) ! = t h i s . m e t a T i t l e D e s c r i p t i o n . p r e v i o u s S e o N a m e ) { d a t a . s e o _ n a m e = t h i s . m e t a T i t l e D e s c r i p t i o n . $ s e o N a m e . v a l ( ) ; s e l f . r e l o a d O n S a v e = t r u e ; } } 
 d a t a . w e b s i t e _ m e t a _ o g _ i m g = t h i s . m e t a I m a g e S e l e c t o r . a c t i v e M e t a I m g ; t h i s . s a v e M e t a D a t a ( d a t a ) . t h e n ( f u n c t i o n ( ) { i f ( s e l f . r e l o a d O n S a v e ) { w i n d o w . l o c a t i o n . h r e f = s e l f . h t m l P a g e . u r l ( ) ; } e l s e { s e l f . h t m l P a g e . c h a n g e K e y w o r d s ( s e l f . m e t a K e y w o r d s . k e y w o r d L i s t . k e y w o r d s ( ) ) ; s e l f . s a v e d D a t a = t r u e ; s e l f . c l o s e ( ) ; } } ) ; } , g e t M a i n O b j e c t : f u n c t i o n ( ) { v a r   m a i n O b j e c t ; t h i s . t r i g g e r _ u p ( ' m a i n _ o b j e c t _ r e q u e s t ' , { c a l l b a c k : f u n c t i o n ( v a l u e ) { m a i n O b j e c t = v a l u e ; } , } ) ; r e t u r n   m a i n O b j e c t ; } , g e t S e o O b j e c t : f u n c t i o n ( ) { v a r   s e o O b j e c t ; t h i s . t r i g g e r _ u p ( ' s e o _ o b j e c t _ r e q u e s t ' , { c a l l b a c k : f u n c t i o n ( v a l u e ) { s e o O b j e c t = v a l u e ; } , } ) ; r e t u r n   s e o O b j e c t ; } , l o a d M e t a D a t a : f u n c t i o n ( ) { v a r   o b j = t h i s . g e t S e o O b j e c t ( ) | | t h i s . g e t M a i n O b j e c t ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e , r e j e c t ) { i f ( ! o b j ) { r e s o l v e ( n u l l ) ; } e l s e { r p c . q u e r y ( { r o u t e : " / w e b s i t e / g e t _ s e o _ d a t a " , p a r a m s : { ' r e s _ i d ' : o b j . i d , ' r e s _ m o d e l ' : o b j . m o d e l , } , } ) . t h e n ( f u n c t i o n ( d a t a ) { v a r   m e t a = d a t a ; m e t a . m o d e l = o b j . m o d e l ; r e s o l v e ( m e t a ) ; } ) . g u a r d e d C a t c h ( r e j e c t ) ; } } ) ; } , s a v e M e t a D a t a : f u n c t i o n ( d a t a ) { v a r   o b j = t h i s . g e t S e o O b j e c t ( ) | | t h i s . g e t M a i n O b j e c t ( ) ; i f ( ! o b j ) { r e t u r n   P r o m i s e . r e j e c t ( ) ; } e l s e { r e t u r n   t h i s . _ r p c ( { m o d e l : o b j . m o d e l , m e t h o d : ' w r i t e ' , a r g s : [ [ o b j . i d ] , d a t a ] , } ) ; } } , t i t l e C h a n g e d : f u n c t i o n ( ) { v a r   s e l f = t h i s ; _ . d e f e r ( f u n c t i o n ( ) { v a r   t i t l e = s e l f . m e t a T i t l e D e s c r i p t i o n . g e t T i t l e ( ) ; s e l f . h t m l P a g e . c h a n g e T i t l e ( t i t l e ) ; s e l f . m e t a I m a g e S e l e c t o r . s e t T i t l e ( t i t l e ) ; } ) ; } , d e s c r i p t i o n C h a n g e d : f u n c t i o n ( ) { v a r   s e l f = t h i s ; _ . d e f e r ( f u n c t i o n ( ) { v a r   d e s c r i p t i o n = s e l f . m e t a T i t l e D e s c r i p t i o n . g e t R e a l D e s c r i p t i o n ( ) ; s e l f . h t m l P a g e . c h a n g e D e s c r i p t i o n ( d e s c r i p t i o n ) ; s e l f . m e t a I m a g e S e l e c t o r . s e t D e s c r i p t i o n ( d e s c r i p t i o n ) ; } ) ; } , } ) ; v a r   S e o M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . e x t e n d ( { a c t i o n s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . p r o t o t y p e . a c t i o n s | | { } , { ' p r o m o t e - c u r r e n t - p a g e ' : ' _ p r o m o t e C u r r e n t P a g e ' , } ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; i f ( $ . d e p a r a m . q u e r y s t r i n g ( ) . e n a b l e _ s e o ! = = u n d e f i n e d ) { t h i s . _ p r o m o t e C u r r e n t P a g e ( ) ; } } , _ p r o m o t e C u r r e n t P a g e : f u n c t i o n ( ) { n e w   S e o C o n f i g u r a t o r ( t h i s ) . o p e n ( ) ; } , } ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( S e o M e n u , ' # p r o m o t e - m e n u ' ) ; r e t u r n { S e o C o n f i g u r a t o r : S e o C o n f i g u r a t o r , S e o M e n u : S e o M e n u , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / m e n u / t r a n s l a t e . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e . t r a n s l a t e M e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   u t i l s = r e q u i r e ( ' w e b . u t i l s ' ) ; v a r   T r a n s l a t o r M e n u = r e q u i r e ( ' w e b s i t e . e d i t o r . m e n u . t r a n s l a t e ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   T r a n s l a t e P a g e M e n u = w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r A c t i o n W i d g e t . e x t e n d ( { a s s e t L i b s : [ ' w e b _ e d i t o r . c o m p i l e d _ a s s e t s _ w y s i w y g ' , ' w e b s i t e . c o m p i l e d _ a s s e t s _ w y s i w y g ' ] , a c t i o n s : _ . e x t e n d ( { } , w e b s i t e N a v b a r D a t a . W e b s i t e N a v b a r . p r o t o t y p e . a c t i o n s | | { } , { e d i t _ m a s t e r : ' _ g o T o M a s t e r P a g e ' , t r a n s l a t e : ' _ s t a r t T r a n s l a t e M o d e ' , } ) , s t a r t : f u n c t i o n ( ) { v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { e x t r a : t r u e , c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; t h i s . _ m u s t E d i t T r a n s l a t i o n s = c o n t e x t . e d i t _ t r a n s l a t i o n s ; i f ( t h i s . _ m u s t E d i t T r a n s l a t i o n s ) { v a r   u r l = w i n d o w . l o c a t i o n . h r e f . r e p l a c e ( / ( [ ? & ] ) & * e d i t _ t r a n s l a t i o n s [ ^ & # ] * & ? / , ' \ $ 1 ' ) ; w i n d o w . h i s t o r y . r e p l a c e S t a t e ( { } , n u l l , u r l ) ; t h i s . _ s t a r t T r a n s l a t e M o d e ( ) ; } 
 r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , _ g o T o M a s t e r P a g e : f u n c t i o n ( ) { v a r   c u r r e n t = d o c u m e n t . c r e a t e E l e m e n t ( ' a ' ) ; c u r r e n t . h r e f = w i n d o w . l o c a t i o n . t o S t r i n g ( ) ; c u r r e n t . s e a r c h + = ( c u r r e n t . s e a r c h ? ' & ' : ' ? ' ) + ' e n a b l e _ e d i t o r = 1 ' ; c u r r e n t . p a t h n a m e = c u r r e n t . p a t h n a m e . s u b s t r ( M a t h . m a x ( 0 , c u r r e n t . p a t h n a m e . i n d e x O f ( ' / ' , 1 ) ) ) ; v a r   l i n k = d o c u m e n t . c r e a t e E l e m e n t ( ' a ' ) ; l i n k . h r e f = ' / w e b s i t e / l a n g / d e f a u l t ' ; l i n k . s e a r c h + = ( l i n k . s e a r c h ? ' & ' : ' ? ' ) + ' r = ' + e n c o d e U R I C o m p o n e n t ( c u r r e n t . p a t h n a m e + c u r r e n t . s e a r c h + c u r r e n t . h a s h ) ; w i n d o w . l o c a t i o n = l i n k . h r e f ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } , _ s t a r t T r a n s l a t e M o d e : f u n c t i o n ( ) { i f ( ! t h i s . _ m u s t E d i t T r a n s l a t i o n s ) { w i n d o w . l o c a t i o n . s e a r c h + = ' & e d i t _ t r a n s l a t i o n s ' ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } 
 v a r   t r a n s l a t o r = n e w   T r a n s l a t o r M e n u ( t h i s ) ; $ ( ' . d r o p d o w n - m e n u ' ) . o n ( ' c l i c k ' , ' . o _ e d i t a b l e ' , f u n c t i o n ( e v ) { e v . s t o p P r o p a g a t i o n ( ) ; } ) ; r e t u r n   t r a n s l a t o r . p r e p e n d T o ( d o c u m e n t . b o d y ) ; } , } ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( T r a n s l a t e P a g e M e n u , ' . o _ m e n u _ s y s t r a y : h a s ( [ d a t a - a c t i o n = " t r a n s l a t e " ] ) ' ) ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / t o u r s / h o m e p a g e . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( " w e b s i t e . t o u r . h o m e p a g e " , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o r e = r e q u i r e ( " w e b . c o r e " ) ; v a r   t o u r = r e q u i r e ( " w e b _ t o u r . t o u r " ) ; v a r   _ t = c o r e . _ t ; t o u r . r e g i s t e r ( " h o m e p a g e " , { u r l : " / " , } , [ { t r i g g e r : " a [ d a t a - a c t i o n = e d i t ] " , c o n t e n t : _ t ( " < b > C l i c k   E d i t < / b >   t o   s t a r t   d e s i g n i n g   y o u r   h o m e p a g e . " ) , e x t r a _ t r i g g e r : " . h o m e p a g e " , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " # s n i p p e t _ s t r u c t u r e   . o e _ s n i p p e t : e q ( 1 )   . o e _ s n i p p e t _ t h u m b n a i l " , e x t r a _ t r i g g e r : " b o d y . e d i t o r _ e n a b l e . e d i t o r _ h a s _ s n i p p e t s " , c o n t e n t : _ t ( " D r a g   t h e   < i > C o v e r < / i >   b l o c k   a n d   d r o p   i t   i n   y o u r   p a g e . " ) , p o s i t i o n : " b o t t o m " , r u n : " d r a g _ a n d _ d r o p   # w r a p " , } , { t r i g g e r : " # w r a p w r a p   . s _ c o v e r   h 1 " , c o n t e n t : _ t ( " < b > C l i c k   o n   a   t e x t < / b >   t o   s t a r t   e d i t i n g   i t .   < i > I t ' s   t h a t   e a s y   t o   e d i t   y o u r   c o n t e n t ! < / i > " ) , p o s i t i o n : " b o t t o m " , c o n s u m e E v e n t : ' i n p u t ' , r u n : " t e x t " , } , { t r i g g e r : " . o _ w e _ c u s t o m i z e _ p a n e l " , e x t r a _ t r i g g e r : " # w r a p w r a p   . s _ c o v e r   h 1 : n o t ( : c o n t a i n s E x a c t ( \ " C a t c h y   H e a d l i n e \ " ) ) " , c o n t e n t : _ t ( " C u s t o m i z e   a n y   b l o c k   t h r o u g h   t h i s   m e n u .   T r y   t o   c h a n g e   t h e   b a c k g r o u n d   c o l o r   o f   t h i s   b l o c k . " ) , p o s i t i o n : " r i g h t " , } , { t r i g g e r : ' . o _ w e _ a d d _ s n i p p e t _ b t n ' , c o n t e n t : _ t ( " G o   b a c k   t o   t h e   b l o c k s   m e n u . " ) , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : " # s n i p p e t _ s t r u c t u r e   . o e _ s n i p p e t : e q ( 3 )   . o e _ s n i p p e t _ t h u m b n a i l " , c o n t e n t : _ t ( " D r a g   a n o t h e r   b l o c k   i n   y o u r   p a g e ,   b e l o w   t h e   c o v e r . " ) , p o s i t i o n : " b o t t o m " , r u n : " d r a g _ a n d _ d r o p   # w r a p " , } , { t r i g g e r : " b u t t o n [ d a t a - a c t i o n = s a v e ] " , c o n t e n t : _ t ( " C l i c k   t h e   < b > S a v e < / b >   b u t t o n . " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " a [ d a t a - a c t i o n = s h o w - m o b i l e - p r e v i e w ] " , c o n t e n t : _ t ( " G o o d   J o b !   Y o u   h a v e   d e s i g n e d   y o u r   h o m e p a g e .   L e t ' s   c h e c k   h o w   t h i s   p a g e   l o o k s   l i k e   o n   < b > m o b i l e   d e v i c e s < / b > . " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " . m o d a l - d i a l o g : h a s ( # m o b i l e - v i e w p o r t )   b u t t o n [ d a t a - d i s m i s s = m o d a l ] " , c o n t e n t : _ t ( " A f t e r   h a v i n g   c h e c k e d   h o w   i t   l o o k s   o n   m o b i l e ,   < b > c l o s e   t h e   p r e v i e w < / b > . " ) , p o s i t i o n : " r i g h t " , } , { t r i g g e r : " # n e w - c o n t e n t - m e n u   >   a " , c o n t e n t : _ t ( " < p > < b > Y o u r   h o m e p a g e   i s   l i v e . < / b > < / p > < p > L e t ' s   a d d   a   n e w   p a g e   f o r   y o u r   s i t e . < / p > " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " a [ d a t a - a c t i o n = n e w _ p a g e ] " , c o n t e n t : _ t ( " < p > < b > C l i c k   h e r e < / b >   t o   c r e a t e   a   n e w   p a g e . < / p > " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " . m o d a l - d i a l o g   # e d i t o r _ n e w _ p a g e   i n p u t [ t y p e = t e x t ] " , c o n t e n t : _ t ( " < p > E n t e r   a   t i t l e   f o r   t h e   p a g e . < / p > " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " . m o d a l - f o o t e r   b u t t o n . b t n - p r i m a r y . b t n - c o n t i n u e " , c o n t e n t : _ t ( " C l i c k   o n   < b > C o n t i n u e < / b >   t o   c r e a t e   t h e   p a g e . " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " # s n i p p e t _ s t r u c t u r e   . o e _ s n i p p e t : e q ( 3 )   . o e _ s n i p p e t _ t h u m b n a i l " , c o n t e n t : _ t ( " D r a g   t h e   b l o c k   a n d   d r o p   i t   i n   y o u r   n e w   p a g e . " ) , p o s i t i o n : " b o t t o m " , r u n : " d r a g _ a n d _ d r o p   # w r a p " , } , { t r i g g e r : " b u t t o n [ d a t a - a c t i o n = s a v e ] " , c o n t e n t : _ t ( " C l i c k   t h e   < b > S a v e < / b >   b u t t o n . " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " . j s _ p u b l i s h _ m a n a g e m e n t   . j s _ p u b l i s h _ b t n " , c o n t e n t : _ t ( " < b > T h a t ' s   i t ! < / b > < p > Y o u r   p a g e   i s   a l l   s e t   t o   g o   l i v e .   C l i c k   t h e   < b > P u b l i s h < / b >   b u t t o n   t o   p u b l i s h   i t   o n   t h e   w e b s i t e . < / p > " ) , p o s i t i o n : " b o t t o m " , } ] ) ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / t o u r s / t o u r _ u t i l s . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( " w e b s i t e . t o u r _ u t i l s " , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; c o n s t   c o r e = r e q u i r e ( " w e b . c o r e " ) ; c o n s t   _ t = c o r e . _ t ; f u n c t i o n   a d d M e d i a ( p o s i t i o n = " r i g h t " ) { r e t u r n { t r i g g e r : ` . m o d a l - c o n t e n t   f o o t e r   . b t n - p r i m a r y ` , c o n t e n t : _ t ( " < b > A d d < / b >   t h e   s e l e c t e d   i m a g e . " ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   c h a n g e B a c k g r o u n d ( s n i p p e t , p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : " . o _ w e _ c u s t o m i z e _ p a n e l   . o _ w e _ e d i t _ i m a g e " , c o n t e n t : _ t ( " < b > C u s t o m i z e < / b >   a n y   b l o c k   t h r o u g h   t h i s   m e n u .   T r y   t o   c h a n g e   t h e   b a c k g r o u n d   i m a g e   o f   t h i s   b l o c k . " ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   c h a n g e B a c k g r o u n d C o l o r ( p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : " . o _ w e _ c u s t o m i z e _ p a n e l   . o _ w e _ c o l o r _ p r e v i e w " , c o n t e n t : _ t ( " < b > C u s t o m i z e < / b >   a n y   b l o c k   t h r o u g h   t h i s   m e n u .   T r y   t o   c h a n g e   t h e   b a c k g r o u n d   c o l o r   o f   t h i s   b l o c k . " ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   c h a n g e C o l u m n S i z e ( p o s i t i o n = " r i g h t " ) { r e t u r n { t r i g g e r : ` . o e _ o v e r l a y . u i - d r a g g a b l e . o _ w e _ o v e r l a y _ s t i c k y . o e _ a c t i v e   . o _ h a n d l e . e ` , c o n t e n t : _ t ( " < b > S l i d e < / b >   t h i s   b u t t o n   t o   c h a n g e   t h e   c o l u m n   s i z e . " ) , p o s i t i o n : p o s i t i o n , } ; } 
 f u n c t i o n   c h a n g e I c o n ( s n i p p e t , i n d e x = 0 , p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ` # w r a p w r a p   . $ { s n i p p e t . i d }   i : e q ( $ { i n d e x } ) ` , c o n t e n t : _ t ( " < b > D o u b l e   c l i c k   o n   a n   i c o n < / b >   t o   c h a n g e   i t   w i t h   o n e   o f   o u r   c h o i c e . " ) , p o s i t i o n : p o s i t i o n , r u n : " d b l c l i c k " , } ; } 
 f u n c t i o n   c h a n g e I m a g e ( s n i p p e t , p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ` # w r a p w r a p   . $ { s n i p p e t . i d }   i m g ` , c o n t e n t : _ t ( " < b > D o u b l e   c l i c k   o n   a n   i m a g e < / b >   t o   c h a n g e   i t   w i t h   o n e   o f   o u r   c h o i c e . " ) , p o s i t i o n : p o s i t i o n , r u n : " d b l c l i c k " , } ; } 
 f u n c t i o n   c h a n g e O p t i o n ( o p t i o n N a m e , w e N a m e = ' ' , o p t i o n T o o l t i p L a b e l = ' ' , p o s i t i o n = " b o t t o m " ) { c o n s t   o p t i o n _ b l o c k = ` w e - c u s t o m i z e b l o c k - o p t i o n [ c l a s s = ' s n i p p e t - o p t i o n - $ { o p t i o n N a m e } ' ] ` 
 r e t u r n { t r i g g e r : ` $ { o p t i o n _ b l o c k }   $ { w e N a m e } ,   $ { o p t i o n _ b l o c k }   [ t i t l e = ' $ { w e N a m e } ' ] ` , c o n t e n t : _ t ( ` < b > C l i c k < / b >   o n   t h i s   o p t i o n   t o   c h a n g e   t h e   $ { o p t i o n T o o l t i p L a b e l }   o f   t h e   b l o c k . ` ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   c h a n g e P a d d i n g S i z e ( d i r e c t i o n ) { l e t   p a d d i n g D i r e c t i o n = " n " ; l e t   p o s i t i o n = " t o p " ; i f ( d i r e c t i o n = = = " b o t t o m " ) { p a d d i n g D i r e c t i o n = " s " ; p o s i t i o n = " b o t t o m " ; } 
 r e t u r n { t r i g g e r : ` . o e _ o v e r l a y . u i - d r a g g a b l e . o _ w e _ o v e r l a y _ s t i c k y . o e _ a c t i v e   . o _ h a n d l e . $ { p a d d i n g D i r e c t i o n } ` , c o n t e n t : _ t ( ` < b > S l i d e < / b >   t h i s   b u t t o n   t o   c h a n g e   t h e   $ { d i r e c t i o n }   p a d d i n g ` ) , p o s i t i o n : p o s i t i o n , } ; } 
 f u n c t i o n   c l i c k O n E d i t ( p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : " a [ d a t a - a c t i o n = e d i t ] " , c o n t e n t : _ t ( " < b > C l i c k   E d i t < / b >   t o   s t a r t   d e s i g n i n g   y o u r   h o m e p a g e . " ) , e x t r a _ t r i g g e r : " . h o m e p a g e " , p o s i t i o n : p o s i t i o n , } ; } 
 f u n c t i o n   c l i c k O n S n i p p e t ( s n i p p e t , p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ` # w r a p w r a p   . $ { s n i p p e t . i d } ` , c o n t e n t : _ t ( " < b > C l i c k   o n   a   s n i p p e t < / b >   t o   a c c e s s   i t s   o p t i o n s   m e n u . " ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   c l i c k O n S a v e ( p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : " b u t t o n [ d a t a - a c t i o n = s a v e ] " , c o n t e n t : _ t ( " G o o d   j o b !   I t ' s   t i m e   t o   < b > S a v e < / b >   y o u r   w o r k . " ) , p o s i t i o n : p o s i t i o n , } ; } 
 f u n c t i o n   c l i c k O n T e x t ( s n i p p e t , e l e m e n t , p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ` # w r a p w r a p   . $ { s n i p p e t . i d }   $ { e l e m e n t } ` , c o n t e n t : _ t ( " E v e n   i f   t h i s   t i t l e   i s   c o o l ,   y o u   c a n   c h a n g e   i t .   < b > C l i c k   o n   a   t e x t < / b >   t o   s t a r t   e d i t i n g   i t . " ) , p o s i t i o n : p o s i t i o n , r u n : " t e x t " , c o n s u m e E v e n t : " i n p u t " , } ; } 
 f u n c t i o n   d r a g N D r o p ( s n i p p e t , p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ` # o e _ s n i p p e t s   . o e _ s n i p p e t [ n a m e = " $ { s n i p p e t . n a m e } " ]   . o e _ s n i p p e t _ t h u m b n a i l : n o t ( . o _ w e _ a l r e a d y _ d r a g g i n g ) ` , e x t r a _ t r i g g e r : " b o d y . e d i t o r _ e n a b l e . e d i t o r _ h a s _ s n i p p e t s " , m o v e T r i g g e r : ' . o e _ d r o p _ z o n e ' , c o n t e n t : _ t ( ` D r a g   t h e   < b > $ { s n i p p e t . n a m e } < / b >   b u i l d i n g   b l o c k   a n d   d r o p   i t   i n   y o u r   p a g e . ` ) , p o s i t i o n : p o s i t i o n , r u n : " d r a g _ a n d _ d r o p   # w r a p " , } ; } 
 f u n c t i o n   g o B a c k T o B l o c k s ( p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ' . o _ w e _ a d d _ s n i p p e t _ b t n ' , c o n t e n t : _ t ( " C l i c k   h e r e   t o   g o   b a c k   t o   b l o c k   t a b . " ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   g o T o O p t i o n s ( p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ' . o _ w e _ c u s t o m i z e _ t h e m e _ b t n ' , c o n t e n t : _ t ( " G o   t o   t h e   O p t i o n s   t a b " ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   s e l e c t H e a d e r ( p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ` h e a d e r # t o p ` , c o n t e n t : _ t ( ` < b > C l i c k < / b >   o n   t h i s   h e a d e r   t o   c o n f i g u r e   i t . ` ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 f u n c t i o n   s e l e c t S n i p p e t C o l u m n ( s n i p p e t , i n d e x = 0 , p o s i t i o n = " b o t t o m " ) { r e t u r n { t r i g g e r : ` # w r a p w r a p   . $ { s n i p p e t . i d }   . r o w   d i v [ c l a s s * = " c o l - l g - " ] : e q ( $ { i n d e x } ) ` , c o n t e n t : _ t ( " < b > C l i c k < / b >   o n   t h i s   c o l u m n   t o   a c c e s s   i t s   o p t i o n s . " ) , p o s i t i o n : p o s i t i o n , r u n : " c l i c k " , } ; } 
 r e t u r n { a d d M e d i a , c h a n g e B a c k g r o u n d , c h a n g e B a c k g r o u n d C o l o r , c h a n g e C o l u m n S i z e , c h a n g e I c o n , c h a n g e I m a g e , c h a n g e O p t i o n , c h a n g e P a d d i n g S i z e , c l i c k O n E d i t , c l i c k O n S a v e , c l i c k O n S n i p p e t , c l i c k O n T e x t , d r a g N D r o p , g o B a c k T o B l o c k s , g o T o O p t i o n s , s e l e c t H e a d e r , s e l e c t S n i p p e t C o l u m n , } ; } ) ; ; 
 
 / *   / w e b s i t e / s t a t i c / s r c / j s / w i d g e t s / a c e . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( " w e b s i t e . a c e " , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   A c e E d i t o r = r e q u i r e ( ' w e b _ e d i t o r . a c e ' ) ; v a r   W e b s i t e A c e E d i t o r = A c e E d i t o r . e x t e n d ( { h a s h : ' # a d v a n c e d - v i e w - e d i t o r ' , d o _ h i d e : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; w i n d o w . l o c a t i o n . h a s h = " " ; } , _ d i s p l a y R e s o u r c e : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ u p d a t e H a s h ( ) ; } , _ s a v e R e s o u r c e s : f u n c t i o n ( ) { r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( ( f u n c t i o n ( ) { v a r   d e f s = [ ] ; i f ( t h i s . c u r r e n t T y p e = = = ' x m l ' ) { v a r   s e l e c t e d V i e w = _ . f i n d W h e r e ( t h i s . v i e w s , { i d : t h i s . _ g e t S e l e c t e d R e s o u r c e ( ) } ) ; v a r   c o n t e x t ; t h i s . t r i g g e r _ u p ( ' c o n t e x t _ g e t ' , { c a l l b a c k : f u n c t i o n ( c t x ) { c o n t e x t = c t x ; } , } ) ; d e f s . p u s h ( t h i s . _ r p c ( { m o d e l : ' i r . u i . v i e w ' , m e t h o d : ' s e a r c h _ r e a d ' , f i e l d s : [ ' i d ' ] , d o m a i n : [ [ ' k e y ' , ' = ' , s e l e c t e d V i e w . k e y ] , [ ' w e b s i t e _ i d ' , ' = ' , c o n t e x t . w e b s i t e _ i d ] ] , } ) . t h e n ( ( f u n c t i o n ( v i e w ) { i f ( v i e w [ 0 ] ) { t h i s . _ u p d a t e H a s h ( v i e w [ 0 ] . i d ) ; } } ) . b i n d ( t h i s ) ) ) ; } 
 r e t u r n   P r o m i s e . a l l ( d e f s ) . t h e n ( ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) ) ; } ) . b i n d ( t h i s ) ) ; } , _ r e s e t R e s o u r c e : f u n c t i o n ( ) { r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n . r e l o a d ( ) ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) . b i n d ( t h i s ) ) ; } , _ u p d a t e H a s h : f u n c t i o n ( r e s I D ) { w i n d o w . l o c a t i o n . h a s h = t h i s . h a s h + " ? r e s = " + ( r e s I D | | t h i s . _ g e t S e l e c t e d R e s o u r c e ( ) ) ; } , } ) ; r e t u r n   W e b s i t e A c e E d i t o r ; } ) ; ; 
 
 / *   / w e b s i t e _ f o r m / s t a t i c / s r c / s n i p p e t s / s _ w e b s i t e _ f o r m / o p t i o n s . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ f o r m _ e d i t o r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; c o n s t   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   F o r m E d i t o r R e g i s t r y = r e q u i r e ( ' w e b s i t e _ f o r m . f o r m _ e d i t o r _ r e g i s t r y ' ) ; c o n s t   o p t i o n s = r e q u i r e ( ' w e b _ e d i t o r . s n i p p e t s . o p t i o n s ' ) ; c o n s t   q w e b = c o r e . q w e b ; c o n s t   _ t = c o r e . _ t ; c o n s t   F o r m E d i t o r = o p t i o n s . C l a s s . e x t e n d ( { x m l D e p e n d e n c i e s : [ ' / w e b s i t e _ f o r m / s t a t i c / s r c / x m l / w e b s i t e _ f o r m _ e d i t o r . x m l ' , ' / g o o g l e _ r e c a p t c h a / s t a t i c / s r c / x m l / r e c a p t c h a . x m l ' , ] , _ f e t c h F i e l d R e c o r d s : a s y n c   f u n c t i o n ( f i e l d ) { f i e l d . r e q u i r e d = f i e l d . r e q u i r e d ? 1 : n u l l ; i f ( f i e l d . r e c o r d s ) { r e t u r n   f i e l d . r e c o r d s ; } 
 i f ( f i e l d . t y p e = = = ' s e l e c t i o n ' ) { f i e l d . r e c o r d s = f i e l d . s e l e c t i o n . m a p ( e l = > ( { i d : e l [ 0 ] , d i s p l a y _ n a m e : e l [ 1 ] , } ) ) ; } e l s e   i f ( f i e l d . r e l a t i o n & & f i e l d . r e l a t i o n ! = = ' i r . a t t a c h m e n t ' ) { f i e l d . r e c o r d s = a w a i t   t h i s . _ r p c ( { m o d e l : f i e l d . r e l a t i o n , m e t h o d : ' s e a r c h _ r e a d ' , a r g s : [ f i e l d . d o m a i n , [ ' d i s p l a y _ n a m e ' ] ] , } ) ; } 
 r e t u r n   f i e l d . r e c o r d s ; } , _ g e t C u s t o m F i e l d : f u n c t i o n ( t y p e , n a m e ) { r e t u r n { n a m e : n a m e , s t r i n g : n a m e , c u s t o m : t r u e , t y p e : t y p e , r e c o r d s : [ { i d : _ t ( ' O p t i o n   1 ' ) , d i s p l a y _ n a m e : _ t ( ' O p t i o n   1 ' ) , } , { i d : _ t ( ' O p t i o n   2 ' ) , d i s p l a y _ n a m e : _ t ( ' O p t i o n   2 ' ) , } , { i d : _ t ( ' O p t i o n   3 ' ) , d i s p l a y _ n a m e : _ t ( ' O p t i o n   3 ' ) , } ] , } ; } , _ g e t D e f a u l t F o r m a t : f u n c t i o n ( ) { r e t u r n { l a b e l W i d t h : t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ l a b e l ' ) . s t y l e . w i d t h , l a b e l P o s i t i o n : ' l e f t ' , m u l t i P o s i t i o n : ' h o r i z o n t a l ' , r e q u i r e d M a r k : t h i s . _ i s R e q u i r e d M a r k ( ) , o p t i o n a l M a r k : t h i s . _ i s O p t i o n a l M a r k ( ) , m a r k : t h i s . _ g e t M a r k ( ) , } ; } , _ g e t M a r k : f u n c t i o n ( ) { r e t u r n   t h i s . $ t a r g e t [ 0 ] . d a t a s e t . m a r k ; } , _ i s O p t i o n a l M a r k : f u n c t i o n ( ) { r e t u r n   t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( ' o _ m a r k _ o p t i o n a l ' ) ; } , _ i s R e q u i r e d M a r k : f u n c t i o n ( ) { r e t u r n   t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( ' o _ m a r k _ r e q u i r e d ' ) ; } , _ r e n d e r F i e l d : f u n c t i o n ( f i e l d ) { f i e l d . i d = M a t h . r a n d o m ( ) . t o S t r i n g ( 3 6 ) . s u b s t r i n g ( 2 , 1 5 ) ; c o n s t   t e m p l a t e = d o c u m e n t . c r e a t e E l e m e n t ( ' t e m p l a t e ' ) ; t e m p l a t e . i n n e r H T M L = q w e b . r e n d e r ( " w e b s i t e _ f o r m . f i e l d _ " + f i e l d . t y p e , { f i e l d : f i e l d } ) . t r i m ( ) ; r e t u r n   t e m p l a t e . c o n t e n t . f i r s t E l e m e n t C h i l d ; } , } ) ; c o n s t   F i e l d E d i t o r = F o r m E d i t o r . e x t e n d ( { i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . f o r m E l = t h i s . $ t a r g e t [ 0 ] . c l o s e s t ( ' f o r m ' ) ; } , _ g e t A c t i v e F i e l d : f u n c t i o n ( ) { l e t   f i e l d ; c o n s t   l a b e l T e x t = t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ l a b e l _ c o n t e n t ' ) . t e x t ( ) ; i f ( t h i s . _ i s F i e l d C u s t o m ( ) ) { f i e l d = t h i s . _ g e t C u s t o m F i e l d ( t h i s . $ t a r g e t [ 0 ] . d a t a s e t . t y p e , l a b e l T e x t ) ; } e l s e { f i e l d = O b j e c t . a s s i g n ( { } , t h i s . f i e l d s [ t h i s . _ g e t F i e l d N a m e ( ) ] ) ; f i e l d . s t r i n g = l a b e l T e x t ; } 
 f i e l d . r e c o r d s = t h i s . _ g e t L i s t I t e m s ( ) ; t h i s . _ s e t A c t i v e P r o p e r t i e s ( f i e l d ) ; r e t u r n   f i e l d ; } , _ g e t F i e l d F o r m a t : f u n c t i o n ( ) { l e t   r e q u i r e d M a r k , o p t i o n a l M a r k ; c o n s t   m a r k = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ m a r k ' ) ; i f ( m a r k ) { r e q u i r e d M a r k = t h i s . _ i s F i e l d R e q u i r e d ( ) ; o p t i o n a l M a r k = ! r e q u i r e d M a r k ; } 
 c o n s t   m u l t i p l e I n p u t = t h i s . _ g e t M u l t i p l e I n p u t s ( ) ; c o n s t   f o r m a t = { l a b e l P o s i t i o n : t h i s . _ g e t L a b e l P o s i t i o n ( ) , l a b e l W i d t h : t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ l a b e l ' ) . s t y l e . w i d t h , m u l t i P o s i t i o n : m u l t i p l e I n p u t & & m u l t i p l e I n p u t . d a t a s e t . d i s p l a y | | ' h o r i z o n t a l ' , c o l : [ . . . t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t ] . f i l t e r ( e l = > e l . m a t c h ( / ^ c o l - / g ) ) . j o i n ( '   ' ) , r e q u i r e d M a r k : r e q u i r e d M a r k , o p t i o n a l M a r k : o p t i o n a l M a r k , m a r k : m a r k & & m a r k . t e x t C o n t e n t , } ; r e t u r n   f o r m a t ; } , _ g e t F i e l d N a m e : f u n c t i o n ( ) { c o n s t   m u l t i p l e N a m e = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ m u l t i p l e ' ) ; r e t u r n   m u l t i p l e N a m e ? m u l t i p l e N a m e . d a t a s e t . n a m e : t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ i n p u t ' ) . n a m e ; } , _ g e t F i e l d T y p e : f u n c t i o n ( ) { r e t u r n   t h i s . $ t a r g e t [ 0 ] . d a t a s e t . t y p e ; } , _ g e t L a b e l P o s i t i o n : f u n c t i o n ( ) { c o n s t   l a b e l = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ l a b e l ' ) ; i f ( t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . r o w : n o t ( . s _ w e b s i t e _ f o r m _ m u l t i p l e ) ' ) ) { r e t u r n   l a b e l . c l a s s L i s t . c o n t a i n s ( ' t e x t - r i g h t ' ) ? ' r i g h t ' : ' l e f t ' ; } e l s e { r e t u r n   l a b e l . c l a s s L i s t . c o n t a i n s ( ' d - n o n e ' ) ? ' n o n e ' : ' t o p ' ; } } , _ g e t M u l t i p l e I n p u t s : f u n c t i o n ( ) { r e t u r n   t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ m u l t i p l e ' ) ; } , _ g e t P l a c e h o l d e r : f u n c t i o n ( ) { c o n s t   i n p u t = t h i s . _ g e t P l a c e h o l d e r I n p u t ( ) ; r e t u r n   i n p u t ? i n p u t . p l a c e h o l d e r : ' ' ; } , _ g e t P l a c e h o l d e r I n p u t : f u n c t i o n ( ) { r e t u r n   t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' i n p u t [ t y p e = " t e x t " ] ,   i n p u t [ t y p e = " e m a i l " ] ,   i n p u t [ t y p e = " n u m b e r " ] ,   i n p u t [ t y p e = " t e l " ] ,   i n p u t [ t y p e = " u r l " ] ,   t e x t a r e a ' ) ; } , _ i s F i e l d C u s t o m : f u n c t i o n ( ) { r e t u r n ! ! t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ c u s t o m ' ) ; } , _ i s F i e l d R e q u i r e d : f u n c t i o n ( ) { c o n s t   c l a s s L i s t = t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t ; r e t u r n   c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ r e q u i r e d ' ) | | c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ m o d e l _ r e q u i r e d ' ) ; } , _ s e t A c t i v e P r o p e r t i e s ( f i e l d ) { c o n s t   c l a s s L i s t = t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t ; c o n s t   t e x t a r e a = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' t e x t a r e a ' ) ; f i e l d . p l a c e h o l d e r = t h i s . _ g e t P l a c e h o l d e r ( ) ; f i e l d . r o w s = t e x t a r e a & & t e x t a r e a . r o w s ; f i e l d . r e q u i r e d = c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ r e q u i r e d ' ) ; f i e l d . m o d e l R e q u i r e d = c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ m o d e l _ r e q u i r e d ' ) ; f i e l d . h i d d e n = c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ f i e l d _ h i d d e n ' ) ; f i e l d . f o r m a t I n f o = t h i s . _ g e t F i e l d F o r m a t ( ) ; } , _ s e t P l a c e h o l d e r : f u n c t i o n ( v a l u e ) { c o n s t   i n p u t = t h i s . _ g e t P l a c e h o l d e r I n p u t ( ) ; i f ( i n p u t ) { i n p u t . p l a c e h o l d e r = v a l u e ; } } , } ) ; o p t i o n s . r e g i s t r y . W e b s i t e F o r m E d i t o r = F o r m E d i t o r . e x t e n d ( { e v e n t s : _ . e x t e n d ( { } , o p t i o n s . C l a s s . p r o t o t y p e . e v e n t s | | { } , { ' c l i c k   . t o g g l e - e d i t - m e s s a g e ' : ' _ o n T o g g l e E n d M e s s a g e C l i c k ' , } ) , w i l l S t a r t : a s y n c   f u n c t i o n ( ) { c o n s t   _ s u p e r = t h i s . _ s u p e r . b i n d ( t h i s ) ; t h i s . m o d e l C a n t C h a n g e = t h i s . $ t a r g e t . a t t r ( ' h i d e - c h a n g e - m o d e l ' ) ! = = u n d e f i n e d ; i f ( t h i s . m o d e l C a n t C h a n g e ) { r e t u r n   _ s u p e r ( . . . a r g u m e n t s ) ; } 
 t h i s . m o d e l s = a w a i t   t h i s . _ r p c ( { m o d e l : " i r . m o d e l " , m e t h o d : " s e a r c h _ r e a d " , a r g s : [ [ [ ' w e b s i t e _ f o r m _ a c c e s s ' , ' = ' , t r u e ] ] , [ ' i d ' , ' m o d e l ' , ' n a m e ' , ' w e b s i t e _ f o r m _ l a b e l ' , ' w e b s i t e _ f o r m _ k e y ' ] ] , } ) ; c o n s t   t a r g e t M o d e l N a m e = t h i s . $ t a r g e t [ 0 ] . d a t a s e t . m o d e l _ n a m e | | ' m a i l . m a i l ' ; t h i s . a c t i v e F o r m = _ . f i n d W h e r e ( t h i s . m o d e l s , { m o d e l : t a r g e t M o d e l N a m e } ) ; t h i s . s e l e c t A c t i o n E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - s e l e c t ' ) ; t h i s . s e l e c t A c t i o n E l . s e t A t t r i b u t e ( ' s t r i n g ' , ' A c t i o n ' ) ; t h i s . s e l e c t A c t i o n E l . d a t a s e t . n o P r e v i e w = ' t r u e ' ; t h i s . m o d e l s . f o r E a c h ( e l = > { c o n s t   o p t i o n = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; o p t i o n . t e x t C o n t e n t = e l . w e b s i t e _ f o r m _ l a b e l ; o p t i o n . d a t a s e t . s e l e c t A c t i o n = e l . i d ; t h i s . s e l e c t A c t i o n E l . a p p e n d ( o p t i o n ) ; } ) ; r e t u r n   _ s u p e r ( . . . a r g u m e n t s ) ; } , s t a r t : f u n c t i o n ( ) { c o n s t   p r o m s = [ t h i s . _ s u p e r ( . . . a r g u m e n t s ) ] ; t h i s . $ t a r g e t . a t t r ( ' c o n t e n t E d i t a b l e ' , f a l s e ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s e n d ,   . s _ w e b s i t e _ f o r m _ r e c a p t c h a ' ) . a t t r ( ' c o n t e n t E d i t a b l e ' , t r u e ) ; t h i s . $ m e s s a g e = t h i s . $ t a r g e t . p a r e n t ( ) . f i n d ( ' . s _ w e b s i t e _ f o r m _ e n d _ m e s s a g e ' ) ; t h i s . s h o w E n d M e s s a g e = f a l s e ; i f ( ! t h i s . $ t a r g e t [ 0 ] . d a t a s e t . m o d e l _ n a m e ) { p r o m s . p u s h ( t h i s . _ a p p l y F o r m M o d e l ( ) ) ; } 
 r e t u r n   P r o m i s e . a l l ( p r o m s ) ; } , c l e a n F o r S a v e : f u n c t i o n ( ) { c o n s t   m o d e l = t h i s . $ t a r g e t [ 0 ] . d a t a s e t . m o d e l _ n a m e ; i f ( m o d e l ) { c o n s t   f i e l d s = [ . . . t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r A l l ( ' . s _ w e b s i t e _ f o r m _ f i e l d : n o t ( . s _ w e b s i t e _ f o r m _ c u s t o m )   . s _ w e b s i t e _ f o r m _ i n p u t ' ) ] . m a p ( e l = > e l . n a m e ) ; i f ( f i e l d s . l e n g t h ) { t h i s . _ r p c ( { m o d e l : ' i r . m o d e l . f i e l d s ' , m e t h o d : ' f o r m b u i l d e r _ w h i t e l i s t ' , a r g s : [ m o d e l , _ . u n i q ( f i e l d s ) ] , } ) ; } } 
 i f ( t h i s . $ m e s s a g e . l e n g t h ) { t h i s . $ t a r g e t . r e m o v e C l a s s ( ' d - n o n e ' ) ; t h i s . $ m e s s a g e . a d d C l a s s ( " d - n o n e " ) ; } } , u p d a t e U I : a s y n c   f u n c t i o n ( ) { i f ( t h i s . r e r e n d e r ) { t h i s . r e r e n d e r = f a l s e ; a w a i t   t h i s . _ r e r e n d e r X M L ( ) ; r e t u r n ; } 
 a w a i t   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . u p d a t e U I E n d M e s s a g e ( ) ; } , u p d a t e U I E n d M e s s a g e : f u n c t i o n ( ) { t h i s . $ t a r g e t . t o g g l e C l a s s ( " d - n o n e " , t h i s . s h o w E n d M e s s a g e ) ; t h i s . $ m e s s a g e . t o g g l e C l a s s ( " d - n o n e " , ! t h i s . s h o w E n d M e s s a g e ) ; t h i s . $ e l . f i n d ( " . t o g g l e - e d i t - m e s s a g e " ) . t o g g l e C l a s s ( ' t e x t - p r i m a r y ' , t h i s . s h o w E n d M e s s a g e ) ; } , n o t i f y : f u n c t i o n ( n a m e , d a t a ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( n a m e = = = ' f i e l d _ m a r k ' ) { t h i s . _ s e t L a b e l s M a r k ( ) ; } e l s e   i f ( n a m e = = = ' a d d _ f i e l d ' ) { c o n s t   f i e l d = t h i s . _ g e t C u s t o m F i e l d ( ' c h a r ' , ' C u s t o m   T e x t ' ) ; f i e l d . f o r m a t I n f o = d a t a . f o r m a t I n f o ; f i e l d . f o r m a t I n f o . r e q u i r e d M a r k = t h i s . _ i s R e q u i r e d M a r k ( ) ; f i e l d . f o r m a t I n f o . o p t i o n a l M a r k = t h i s . _ i s O p t i o n a l M a r k ( ) ; f i e l d . f o r m a t I n f o . m a r k = t h i s . _ g e t M a r k ( ) ; c o n s t   h t m l F i e l d = t h i s . _ r e n d e r F i e l d ( f i e l d ) ; d a t a . $ t a r g e t . a f t e r ( h t m l F i e l d ) ; t h i s . t r i g g e r _ u p ( ' a c t i v a t e _ s n i p p e t ' , { $ s n i p p e t : $ ( h t m l F i e l d ) , } ) ; } } , a d d A c t i o n F i e l d : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { c o n s t   f i e l d N a m e = p a r a m s . f i e l d N a m e ; i f ( p a r a m s . i s S e l e c t = = = ' t r u e ' ) { v a l u e = p a r s e I n t ( v a l u e ) ; } 
 t h i s . _ a d d H i d d e n F i e l d ( v a l u e , f i e l d N a m e ) ; } , o n S u c c e s s : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s M o d e = v a l u e ; i f ( v a l u e = = = ' m e s s a g e ' ) { i f ( ! t h i s . $ m e s s a g e . l e n g t h ) { t h i s . $ m e s s a g e = $ ( q w e b . r e n d e r ( ' w e b s i t e _ f o r m . s _ w e b s i t e _ f o r m _ e n d _ m e s s a g e ' ) ) ; } 
 t h i s . $ t a r g e t . a f t e r ( t h i s . $ m e s s a g e ) ; } e l s e { t h i s . s h o w E n d M e s s a g e = f a l s e ; t h i s . $ m e s s a g e . r e m o v e ( ) ; } } , s e l e c t A c t i o n : a s y n c   f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { i f ( t h i s . m o d e l C a n t C h a n g e ) { r e t u r n ; } 
 a w a i t   t h i s . _ a p p l y F o r m M o d e l ( p a r s e I n t ( v a l u e ) ) ; t h i s . r e r e n d e r = t r u e ; } , s e l e c t C l a s s : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; i f ( p a r a m s . n a m e = = = ' f i e l d _ m a r k _ s e l e c t ' ) { t h i s . _ s e t L a b e l s M a r k ( ) ; } } , s e t M a r k : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { t h i s . $ t a r g e t [ 0 ] . d a t a s e t . m a r k = v a l u e . t r i m ( ) ; t h i s . _ s e t L a b e l s M a r k ( ) ; } , t o g g l e R e c a p t c h a L e g a l : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { c o n s t   r e c a p t c h a L e g a l E l = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ r e c a p t c h a ' ) ; i f ( r e c a p t c h a L e g a l E l ) { r e c a p t c h a L e g a l E l . r e m o v e ( ) ; } e l s e { c o n s t   t e m p l a t e = d o c u m e n t . c r e a t e E l e m e n t ( ' t e m p l a t e ' ) ; c o n s t   l a b e l W i d t h = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ l a b e l ' ) . s t y l e . w i d t h ; t e m p l a t e . i n n e r H T M L = q w e b . r e n d e r ( " w e b i t e _ f o r m . s _ w e b s i t e _ f o r m _ r e c a p t c h a _ l e g a l " , { l a b e l W i d t h : l a b e l W i d t h } ) ; c o n s t   l e g a l = t e m p l a t e . c o n t e n t . f i r s t E l e m e n t C h i l d ; l e g a l . s e t A t t r i b u t e ( ' c o n t e n t E d i t a b l e ' , t r u e ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s u b m i t ' ) . b e f o r e ( l e g a l ) ; } } , _ c o m p u t e W i d g e t S t a t e : f u n c t i o n ( m e t h o d N a m e , p a r a m s ) { s w i t c h ( m e t h o d N a m e ) { c a s e ' s e l e c t A c t i o n ' : r e t u r n   t h i s . a c t i v e F o r m . i d ; c a s e ' a d d A c t i o n F i e l d ' : { c o n s t   v a l u e = t h i s . $ t a r g e t . f i n d ( ` . s _ w e b s i t e _ f o r m _ d n o n e   i n p u t [ n a m e = " $ { p a r a m s . f i e l d N a m e } " ] ` ) . v a l ( ) ; i f ( v a l u e ) { r e t u r n   v a l u e ; } e l s e { r e t u r n   p a r a m s . i s S e l e c t ? ' 0 ' : ' ' ; } } 
 c a s e ' o n S u c c e s s ' : r e t u r n   t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s M o d e ; c a s e ' s e t M a r k ' : r e t u r n   t h i s . _ g e t M a r k ( ) ; c a s e ' t o g g l e R e c a p t c h a L e g a l ' : r e t u r n ! t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ r e c a p t c h a ' ) | | ' ' ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ r e n d e r C u s t o m X M L : f u n c t i o n ( u i F r a g m e n t ) { i f ( t h i s . m o d e l C a n t C h a n g e ) { r e t u r n ; } 
 c o n s t   f i r s t O p t i o n = u i F r a g m e n t . c h i l d N o d e s [ 0 ] ; u i F r a g m e n t . i n s e r t B e f o r e ( t h i s . s e l e c t A c t i o n E l . c l o n e N o d e ( t r u e ) , f i r s t O p t i o n ) ; c o n s t   f o r m K e y = t h i s . a c t i v e F o r m . w e b s i t e _ f o r m _ k e y ; c o n s t   f o r m I n f o = F o r m E d i t o r R e g i s t r y . g e t ( f o r m K e y ) ; i f ( ! f o r m I n f o | | ! f o r m I n f o . f i e l d s ) { r e t u r n ; } 
 c o n s t   p r o m s = f o r m I n f o . f i e l d s . m a p ( f i e l d = > t h i s . _ f e t c h F i e l d R e c o r d s ( f i e l d ) ) ; r e t u r n   P r o m i s e . a l l ( p r o m s ) . t h e n ( ( ) = > { f o r m I n f o . f i e l d s . f o r E a c h ( f i e l d = > { l e t   o p t i o n ; s w i t c h ( f i e l d . t y p e ) { c a s e ' m a n y 2 o n e ' : o p t i o n = t h i s . _ b u i l d S e l e c t ( f i e l d ) ; b r e a k ; c a s e ' c h a r ' : o p t i o n = t h i s . _ b u i l d I n p u t ( f i e l d ) ; b r e a k ; } 
 i f ( f i e l d . r e q u i r e d ) { c o n s t   c u r r e n t V a l u e = t h i s . $ t a r g e t . f i n d ( ` . s _ w e b s i t e _ f o r m _ d n o n e   i n p u t [ n a m e = " $ { f i e l d . n a m e } " ] ` ) . v a l ( ) ; c o n s t   d e f a u l t V a l u e = f i e l d . d e f a u l t V a l u e | | f i e l d . r e c o r d s [ 0 ] . i d ; t h i s . _ a d d H i d d e n F i e l d ( c u r r e n t V a l u e | | d e f a u l t V a l u e , f i e l d . n a m e ) ; } 
 u i F r a g m e n t . i n s e r t B e f o r e ( o p t i o n , f i r s t O p t i o n ) ; } ) ; } ) ; } , _ a d d H i d d e n F i e l d : f u n c t i o n ( v a l u e , f i e l d N a m e ) { t h i s . $ t a r g e t . f i n d ( ` . s _ w e b s i t e _ f o r m _ d n o n e : h a s ( i n p u t [ n a m e = " $ { f i e l d N a m e } " ] ) ` ) . r e m o v e ( ) ; i f ( v a l u e ) { c o n s t   h i d d e n F i e l d = q w e b . r e n d e r ( ' w e b s i t e _ f o r m . f i e l d _ h i d d e n ' , { f i e l d : { n a m e : f i e l d N a m e , v a l u e : v a l u e , } , } ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s u b m i t ' ) . b e f o r e ( h i d d e n F i e l d ) ; } } , _ b u i l d I n p u t : f u n c t i o n ( f i e l d ) { c o n s t   i n p u t E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - i n p u t ' ) ; i n p u t E l . d a t a s e t . n o P r e v i e w = ' t r u e ' ; i n p u t E l . d a t a s e t . f i e l d N a m e = f i e l d . n a m e ; i n p u t E l . d a t a s e t . a d d A c t i o n F i e l d = ' ' ; i n p u t E l . s e t A t t r i b u t e ( ' s t r i n g ' , f i e l d . s t r i n g ) ; i n p u t E l . c l a s s L i s t . a d d ( ' o _ w e _ l a r g e _ i n p u t ' ) ; r e t u r n   i n p u t E l ; } , _ b u i l d S e l e c t : f u n c t i o n ( f i e l d ) { c o n s t   s e l e c t E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - s e l e c t ' ) ; s e l e c t E l . d a t a s e t . n o P r e v i e w = ' t r u e ' ; s e l e c t E l . d a t a s e t . f i e l d N a m e = f i e l d . n a m e ; s e l e c t E l . d a t a s e t . i s S e l e c t = ' t r u e ' ; s e l e c t E l . s e t A t t r i b u t e ( ' s t r i n g ' , f i e l d . s t r i n g ) ; i f ( ! f i e l d . r e q u i r e d ) { c o n s t   n o n e B u t t o n = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; n o n e B u t t o n . t e x t C o n t e n t = ' N o n e ' ; n o n e B u t t o n . d a t a s e t . a d d A c t i o n F i e l d = 0 ; s e l e c t E l . a p p e n d ( n o n e B u t t o n ) ; } 
 f i e l d . r e c o r d s . f o r E a c h ( e l = > { c o n s t   b u t t o n = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; b u t t o n . t e x t C o n t e n t = e l . d i s p l a y _ n a m e ; b u t t o n . d a t a s e t . a d d A c t i o n F i e l d = e l . i d ; s e l e c t E l . a p p e n d ( b u t t o n ) ; } ) ; r e t u r n   s e l e c t E l ; } , _ a p p l y F o r m M o d e l : a s y n c   f u n c t i o n ( m o d e l I d ) { l e t   o l d F o r m I n f o ; i f ( m o d e l I d ) { c o n s t   o l d F o r m K e y = t h i s . a c t i v e F o r m . w e b s i t e _ f o r m _ k e y ; i f ( o l d F o r m K e y ) { o l d F o r m I n f o = F o r m E d i t o r R e g i s t r y . g e t ( o l d F o r m K e y ) ; } 
 t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ f i e l d ' ) . r e m o v e ( ) ; t h i s . a c t i v e F o r m = _ . f i n d W h e r e ( t h i s . m o d e l s , { i d : m o d e l I d } ) ; } 
 c o n s t   f o r m K e y = t h i s . a c t i v e F o r m . w e b s i t e _ f o r m _ k e y ; c o n s t   f o r m I n f o = F o r m E d i t o r R e g i s t r y . g e t ( f o r m K e y ) ; i f ( ! t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s M o d e ) { t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s M o d e = ' r e d i r e c t ' ; } 
 i f ( t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s M o d e = = = ' r e d i r e c t ' ) { c o n s t   c u r r e n t S u c c e s s P a g e = t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s P a g e ; i f ( f o r m I n f o & & f o r m I n f o . s u c c e s s P a g e ) { t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s P a g e = f o r m I n f o . s u c c e s s P a g e ; } e l s e   i f ( ! o l d F o r m I n f o | | ( o l d F o r m I n f o ! = = f o r m I n f o & & o l d F o r m I n f o . s u c c e s s P a g e & & c u r r e n t S u c c e s s P a g e = = = o l d F o r m I n f o . s u c c e s s P a g e ) ) { t h i s . $ t a r g e t [ 0 ] . d a t a s e t . s u c c e s s P a g e = ' / c o n t a c t u s - t h a n k - y o u ' ; } } 
 t h i s . $ t a r g e t [ 0 ] . d a t a s e t . m o d e l _ n a m e = t h i s . a c t i v e F o r m . m o d e l ; i f ( f o r m I n f o ) { c o n s t   f o r m a t I n f o = t h i s . _ g e t D e f a u l t F o r m a t ( ) ; a w a i t   f o r m I n f o . f o r m F i e l d s . f o r E a c h ( a s y n c   f i e l d = > { f i e l d . f o r m a t I n f o = f o r m a t I n f o ; a w a i t   t h i s . _ f e t c h F i e l d R e c o r d s ( f i e l d ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s u b m i t ,   . s _ w e b s i t e _ f o r m _ r e c a p t c h a ' ) . f i r s t ( ) . b e f o r e ( t h i s . _ r e n d e r F i e l d ( f i e l d ) ) ; } ) ; } } , _ s e t L a b e l s M a r k : f u n c t i o n ( ) { t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r A l l ( ' . s _ w e b s i t e _ f o r m _ m a r k ' ) . f o r E a c h ( e l = > e l . r e m o v e ( ) ) ; c o n s t   m a r k = t h i s . _ g e t M a r k ( ) ; i f ( ! m a r k ) { r e t u r n ; } 
 l e t   f i e l d s T o M a r k = [ ] ; c o n s t   r e q u i r e d S e l e c t o r = ' . s _ w e b s i t e _ f o r m _ m o d e l _ r e q u i r e d ,   . s _ w e b s i t e _ f o r m _ r e q u i r e d ' ; c o n s t   f i e l d s = A r r a y . f r o m ( t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r A l l ( ' . s _ w e b s i t e _ f o r m _ f i e l d ' ) ) ; i f ( t h i s . _ i s R e q u i r e d M a r k ( ) ) { f i e l d s T o M a r k = f i e l d s . f i l t e r ( e l = > e l . m a t c h e s ( r e q u i r e d S e l e c t o r ) ) ; } e l s e   i f ( t h i s . _ i s O p t i o n a l M a r k ( ) ) { f i e l d s T o M a r k = f i e l d s . f i l t e r ( e l = > ! e l . m a t c h e s ( r e q u i r e d S e l e c t o r ) ) ; } 
 f i e l d s T o M a r k . f o r E a c h ( f i e l d = > { l e t   s p a n = d o c u m e n t . c r e a t e E l e m e n t ( ' s p a n ' ) ; s p a n . c l a s s L i s t . a d d ( ' s _ w e b s i t e _ f o r m _ m a r k ' ) ; s p a n . t e x t C o n t e n t = `   $ { m a r k } ` ; f i e l d . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ l a b e l ' ) . a p p e n d C h i l d ( s p a n ) ; } ) ; } , _ o n T o g g l e E n d M e s s a g e C l i c k : f u n c t i o n ( ) { t h i s . s h o w E n d M e s s a g e = ! t h i s . s h o w E n d M e s s a g e ; t h i s . u p d a t e U I E n d M e s s a g e ( ) ; t h i s . t r i g g e r _ u p ( ' a c t i v a t e _ s n i p p e t ' , { $ s n i p p e t : t h i s . s h o w E n d M e s s a g e ? t h i s . $ m e s s a g e : t h i s . $ t a r g e t , } ) ; } , } ) ; o p t i o n s . r e g i s t r y . W e b s i t e F i e l d E d i t o r = F i e l d E d i t o r . e x t e n d ( { e v e n t s : _ . e x t e n d ( { } , F i e l d E d i t o r . p r o t o t y p e . e v e n t s , { ' c l i c k   w e - b u t t o n . o _ w e _ s e l e c t _ r e m o v e _ o p t i o n ' : ' _ o n R e m o v e I t e m C l i c k ' , ' c l i c k   w e - b u t t o n . o _ w e _ l i s t _ a d d _ o p t i o n a l ' : ' _ o n A d d C u s t o m I t e m C l i c k ' , ' c l i c k   w e - b u t t o n . o _ w e _ l i s t _ a d d _ e x i s t i n g ' : ' _ o n A d d E x i s t i n g I t e m C l i c k ' , ' c l i c k   w e - l i s t   w e - s e l e c t ' : ' _ o n A d d I t e m S e l e c t C l i c k ' , ' i n p u t   w e - l i s t   i n p u t ' : ' _ o n L i s t I t e m I n p u t ' , } ) , i n i t : f u n c t i o n ( ) { t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . r e r e n d e r = t r u e ; } , w i l l S t a r t : a s y n c   f u n c t i o n ( ) { c o n s t   _ s u p e r = t h i s . _ s u p e r . b i n d ( t h i s ) ; t h i s . e x i s t i n g F i e l d s = a w a i t   t h i s . _ r p c ( { m o d e l : " i r . m o d e l " , m e t h o d : " g e t _ a u t h o r i z e d _ f i e l d s " , a r g s : [ t h i s . f o r m E l . d a t a s e t . m o d e l _ n a m e ] , } ) . t h e n ( f i e l d s = > { t h i s . f i e l d s = _ . e a c h ( f i e l d s , f u n c t i o n ( f i e l d , f i e l d N a m e ) { f i e l d . n a m e = f i e l d N a m e ; f i e l d . d o m a i n = f i e l d . d o m a i n | | [ ] ; } ) ; r e t u r n   O b j e c t . k e y s ( f i e l d s ) . m a p ( k e y = > { c o n s t   f i e l d = f i e l d s [ k e y ] ; c o n s t   b u t t o n = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; b u t t o n . t e x t C o n t e n t = f i e l d . s t r i n g ; b u t t o n . d a t a s e t . e x i s t i n g F i e l d = f i e l d . n a m e ; r e t u r n   b u t t o n ; } ) . s o r t ( ( a , b ) = > ( a . t e x t C o n t e n t > b . t e x t C o n t e n t ) ? 1 : ( a . t e x t C o n t e n t < b . t e x t C o n t e n t ) ? - 1 : 0 ) ; } ) ; r e t u r n   _ s u p e r ( . . . a r g u m e n t s ) ; } , c l e a n F o r S a v e : f u n c t i o n ( ) { t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r A l l ( ' # e d i t a b l e _ s e l e c t ' ) . f o r E a c h ( e l = > e l . r e m o v e ( ) ) ; c o n s t   s e l e c t = t h i s . _ g e t S e l e c t ( ) ; i f ( s e l e c t & & t h i s . l i s t T a b l e ) { s e l e c t . s t y l e . d i s p l a y = ' ' ; s e l e c t . i n n e r H T M L = ' ' ; t h i s . l i s t T a b l e . q u e r y S e l e c t o r A l l ( ' i n p u t ' ) . f o r E a c h ( e l = > { c o n s t   o p t i o n = d o c u m e n t . c r e a t e E l e m e n t ( ' o p t i o n ' ) ; o p t i o n . t e x t C o n t e n t = e l . v a l u e ; o p t i o n . v a l u e = t h i s . _ i s F i e l d C u s t o m ( ) ? e l . v a l u e : e l . n a m e ; s e l e c t . a p p e n d C h i l d ( o p t i o n ) ; } ) ; } } , u p d a t e U I : a s y n c   f u n c t i o n ( ) { i f ( t h i s . r e r e n d e r ) { c o n s t   s e l e c t = t h i s . _ g e t S e l e c t ( ) ; i f ( s e l e c t & & ! t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' # e d i t a b l e _ s e l e c t ' ) ) { s e l e c t . s t y l e . d i s p l a y = ' n o n e ' ; c o n s t   e d i t a b l e S e l e c t = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; e d i t a b l e S e l e c t . i d = ' e d i t a b l e _ s e l e c t ' ; e d i t a b l e S e l e c t . c l a s s L i s t = ' f o r m - c o n t r o l   s _ w e b s i t e _ f o r m _ i n p u t ' ; s e l e c t . p a r e n t E l e m e n t . a p p e n d C h i l d ( e d i t a b l e S e l e c t ) ; } 
 t h i s . r e r e n d e r = f a l s e ; a w a i t   t h i s . _ r e r e n d e r X M L ( ) . t h e n ( ( ) = > t h i s . _ r e n d e r L i s t ( ) ) ; r e t u r n ; } 
 a w a i t   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , o n F o c u s : f u n c t i o n ( ) { t h i s . r e r e n d e r = t r u e ; } , c u s t o m F i e l d : a s y n c   f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { i f ( ! v a l u e ) { r e t u r n ; } 
 c o n s t   n a m e = t h i s . e l . q u e r y S e l e c t o r ( ` [ d a t a - c u s t o m - f i e l d = " $ { v a l u e } " ] ` ) . t e x t C o n t e n t ; c o n s t   f i e l d = t h i s . _ g e t C u s t o m F i e l d ( v a l u e , ` C u s t o m   $ { n a m e } ` ) ; t h i s . _ s e t A c t i v e P r o p e r t i e s ( f i e l d ) ; a w a i t   t h i s . _ r e p l a c e F i e l d ( f i e l d ) ; t h i s . r e r e n d e r = t r u e ; } , e x i s t i n g F i e l d : a s y n c   f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { i f ( ! v a l u e ) { r e t u r n ; } 
 c o n s t   f i e l d = O b j e c t . a s s i g n ( { } , t h i s . f i e l d s [ v a l u e ] ) ; t h i s . _ s e t A c t i v e P r o p e r t i e s ( f i e l d ) ; a w a i t   t h i s . _ r e p l a c e F i e l d ( f i e l d ) ; t h i s . r e r e n d e r = t r u e ; } , s e t L a b e l T e x t : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ l a b e l _ c o n t e n t ' ) . t e x t ( v a l u e ) ; i f ( t h i s . _ i s F i e l d C u s t o m ( ) ) { c o n s t   m u l t i p l e = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ m u l t i p l e ' ) ; i f ( m u l t i p l e ) { m u l t i p l e . d a t a s e t . n a m e = v a l u e ; } 
 t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r A l l ( ' . s _ w e b s i t e _ f o r m _ i n p u t ' ) . f o r E a c h ( e l = > e l . n a m e = v a l u e ) ; } } , s e t P l a c e h o l d e r : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { t h i s . _ s e t P l a c e h o l d e r ( v a l u e ) ; } , s e l e c t L a b e l P o s i t i o n : a s y n c   f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { c o n s t   f i e l d = t h i s . _ g e t A c t i v e F i e l d ( ) ; f i e l d . f o r m a t I n f o . l a b e l P o s i t i o n = v a l u e ; a w a i t   t h i s . _ r e p l a c e F i e l d ( f i e l d ) ; t h i s . r e r e n d e r = t r u e ; } , s e l e c t T y p e : a s y n c   f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { c o n s t   f i e l d = t h i s . _ g e t A c t i v e F i e l d ( ) ; f i e l d . t y p e = v a l u e ; a w a i t   t h i s . _ r e p l a c e F i e l d ( f i e l d ) ; } , m u l t i C h e c k b o x D i s p l a y : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { c o n s t   t a r g e t = t h i s . _ g e t M u l t i p l e I n p u t s ( ) ; t a r g e t . q u e r y S e l e c t o r A l l ( ' . c h e c k b o x ,   . r a d i o ' ) . f o r E a c h ( e l = > { i f ( v a l u e = = = ' h o r i z o n t a l ' ) { e l . c l a s s L i s t . a d d ( ' c o l - l g - 4 ' , ' c o l - m d - 6 ' ) ; } e l s e { e l . c l a s s L i s t . r e m o v e ( ' c o l - l g - 4 ' , ' c o l - m d - 6 ' ) ; } } ) ; t a r g e t . d a t a s e t . d i s p l a y = v a l u e ; } , t o g g l e R e q u i r e d : f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { c o n s t   i s R e q u i r e d = t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( p a r a m s . a c t i v e V a l u e ) ; t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . t o g g l e ( p a r a m s . a c t i v e V a l u e , ! i s R e q u i r e d ) ; t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r A l l ( ' i n p u t ,   s e l e c t ,   t e x t a r e a ' ) . f o r E a c h ( e l = > e l . t o g g l e A t t r i b u t e ( ' r e q u i r e d ' , ! i s R e q u i r e d ) ) ; t h i s . t r i g g e r _ u p ( ' o p t i o n _ u p d a t e ' , { o p t i o n N a m e : ' W e b s i t e F o r m E d i t o r ' , n a m e : ' f i e l d _ m a r k ' , } ) ; } , _ c o m p u t e W i d g e t S t a t e : f u n c t i o n ( m e t h o d N a m e , p a r a m s ) { s w i t c h ( m e t h o d N a m e ) { c a s e ' c u s t o m F i e l d ' : r e t u r n   t h i s . _ i s F i e l d C u s t o m ( ) ? t h i s . _ g e t F i e l d T y p e ( ) : ' ' ; c a s e ' e x i s t i n g F i e l d ' : r e t u r n   t h i s . _ i s F i e l d C u s t o m ( ) ? ' ' : t h i s . _ g e t F i e l d N a m e ( ) ; c a s e ' s e t L a b e l T e x t ' : r e t u r n   t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ l a b e l _ c o n t e n t ' ) . t e x t ( ) ; c a s e ' s e t P l a c e h o l d e r ' : r e t u r n   t h i s . _ g e t P l a c e h o l d e r ( ) ; c a s e ' s e l e c t L a b e l P o s i t i o n ' : r e t u r n   t h i s . _ g e t L a b e l P o s i t i o n ( ) ; c a s e ' s e l e c t T y p e ' : r e t u r n   t h i s . _ g e t F i e l d T y p e ( ) ; c a s e ' m u l t i C h e c k b o x D i s p l a y ' : { c o n s t   t a r g e t = t h i s . _ g e t M u l t i p l e I n p u t s ( ) ; r e t u r n   t a r g e t ? t a r g e t . d a t a s e t . d i s p l a y : ' ' ; } 
 c a s e ' t o g g l e R e q u i r e d ' : r e t u r n   t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( p a r a m s . a c t i v e V a l u e ) ? p a r a m s . a c t i v e V a l u e : ' f a l s e ' ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ c o m p u t e W i d g e t V i s i b i l i t y : f u n c t i o n ( w i d g e t N a m e , p a r a m s ) { s w i t c h ( w i d g e t N a m e ) { c a s e ' c h a r _ i n p u t _ t y p e _ o p t ' : r e t u r n ! t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ c u s t o m ' ) & & [ ' c h a r ' , ' e m a i l ' , ' t e l ' , ' u r l ' ] . i n c l u d e s ( t h i s . $ t a r g e t [ 0 ] . d a t a s e t . t y p e ) ; c a s e ' m u l t i _ c h e c k _ d i s p l a y _ o p t ' : r e t u r n ! ! t h i s . _ g e t M u l t i p l e I n p u t s ( ) ; c a s e ' p l a c e h o l d e r _ o p t ' : r e t u r n ! ! t h i s . _ g e t P l a c e h o l d e r I n p u t ( ) ; c a s e ' r e q u i r e d _ o p t ' : c a s e ' h i d d e n _ o p t ' : c a s e ' t y p e _ o p t ' : r e t u r n ! t h i s . $ t a r g e t [ 0 ] . c l a s s L i s t . c o n t a i n s ( ' s _ w e b s i t e _ f o r m _ m o d e l _ r e q u i r e d ' ) ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ r e n d e r C u s t o m X M L : f u n c t i o n ( u i F r a g m e n t ) { c o n s t   s e l e c t E l = u i F r a g m e n t . q u e r y S e l e c t o r ( ' w e - s e l e c t [ d a t a - n a m e = " t y p e _ o p t " ] ' ) ; c o n s t   c u r r e n t F i e l d N a m e = t h i s . _ g e t F i e l d N a m e ( ) ; c o n s t   f i e l d s I n F o r m = A r r a y . f r o m ( t h i s . f o r m E l . q u e r y S e l e c t o r A l l ( ' . s _ w e b s i t e _ f o r m _ f i e l d : n o t ( . s _ w e b s i t e _ f o r m _ c u s t o m )   . s _ w e b s i t e _ f o r m _ i n p u t ' ) ) . m a p ( e l = > e l . n a m e ) . f i l t e r ( e l = > e l ! = = c u r r e n t F i e l d N a m e ) ; c o n s t   a v a i l a b l e F i e l d s = t h i s . e x i s t i n g F i e l d s . f i l t e r ( e l = > ! f i e l d s I n F o r m . i n c l u d e s ( e l . d a t a s e t . e x i s t i n g F i e l d ) ) ; i f ( a v a i l a b l e F i e l d s . l e n g t h ) { c o n s t   t i t l e = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - t i t l e ' ) ; t i t l e . t e x t C o n t e n t = ' E x i s t i n g   f i e l d s ' ; a v a i l a b l e F i e l d s . u n s h i f t ( t i t l e ) ; a v a i l a b l e F i e l d s . f o r E a c h ( o p t i o n = > s e l e c t E l . a p p e n d ( o p t i o n . c l o n e N o d e ( t r u e ) ) ) ; } } , _ r e p l a c e F i e l d : a s y n c   f u n c t i o n ( f i e l d ) { a w a i t   t h i s . _ f e t c h F i e l d R e c o r d s ( f i e l d ) ; c o n s t   h t m l F i e l d = t h i s . _ r e n d e r F i e l d ( f i e l d ) ; [ . . . t h i s . $ t a r g e t [ 0 ] . c h i l d N o d e s ] . f o r E a c h ( n o d e = > n o d e . r e m o v e ( ) ) ; [ . . . h t m l F i e l d . c h i l d N o d e s ] . f o r E a c h ( n o d e = > t h i s . $ t a r g e t [ 0 ] . a p p e n d C h i l d ( n o d e ) ) ; [ . . . h t m l F i e l d . a t t r i b u t e s ] . f o r E a c h ( e l = > t h i s . $ t a r g e t [ 0 ] . r e m o v e A t t r i b u t e ( e l . n o d e N a m e ) ) ; [ . . . h t m l F i e l d . a t t r i b u t e s ] . f o r E a c h ( e l = > t h i s . $ t a r g e t [ 0 ] . s e t A t t r i b u t e ( e l . n o d e N a m e , e l . n o d e V a l u e ) ) ; } , _ r e n d e r L i s t : f u n c t i o n ( ) { l e t   a d d I t e m B u t t o n , a d d I t e m T i t l e , l i s t T i t l e ; c o n s t   s e l e c t = t h i s . _ g e t S e l e c t ( ) ; c o n s t   m u l t i p l e I n p u t s = t h i s . _ g e t M u l t i p l e I n p u t s ( ) ; t h i s . l i s t T a b l e = d o c u m e n t . c r e a t e E l e m e n t ( ' t a b l e ' ) ; c o n s t   i s C u s t o m F i e l d = t h i s . _ i s F i e l d C u s t o m ( ) ; i f ( s e l e c t ) { l i s t T i t l e = ' O p t i o n s   L i s t ' ; a d d I t e m T i t l e = ' A d d   n e w   O p t i o n ' ; s e l e c t . q u e r y S e l e c t o r A l l ( ' o p t i o n ' ) . f o r E a c h ( o p t = > { t h i s . _ a d d I t e m T o T a b l e ( o p t . v a l u e , o p t . t e x t C o n t e n t . t r i m ( ) ) ; } ) ; t h i s . _ r e n d e r L i s t I t e m s ( ) ; } e l s e   i f ( m u l t i p l e I n p u t s ) { l i s t T i t l e = m u l t i p l e I n p u t s . q u e r y S e l e c t o r ( ' . r a d i o ' ) ? ' R a d i o   L i s t ' : ' C h e c k b o x   L i s t ' ; a d d I t e m T i t l e = ' A d d   n e w   C h e c k b o x ' ; m u l t i p l e I n p u t s . q u e r y S e l e c t o r A l l ( ' . c h e c k b o x ,   . r a d i o ' ) . f o r E a c h ( o p t = > { t h i s . _ a d d I t e m T o T a b l e ( o p t . q u e r y S e l e c t o r ( ' i n p u t ' ) . v a l u e , o p t . q u e r y S e l e c t o r ( ' . s _ w e b s i t e _ f o r m _ c h e c k _ l a b e l ' ) . t e x t C o n t e n t . t r i m ( ) ) ; } ) ; } e l s e { r e t u r n ; } 
 i f ( i s C u s t o m F i e l d ) { a d d I t e m B u t t o n = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; a d d I t e m B u t t o n . t e x t C o n t e n t = a d d I t e m T i t l e ; a d d I t e m B u t t o n . c l a s s L i s t . a d d ( ' o _ w e _ l i s t _ a d d _ o p t i o n a l ' ) ; a d d I t e m B u t t o n . d a t a s e t . n o P r e v i e w = ' t r u e ' ; } e l s e { a d d I t e m B u t t o n = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - s e l e c t ' ) ; a d d I t e m B u t t o n . c l a s s L i s t . a d d ( ' o _ w e _ u s e r _ v a l u e _ w i d g e t ' ) ; c o n s t   t o g g l e r E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - t o g g l e r ' ) ; t o g g l e r E l . t e x t C o n t e n t = a d d I t e m T i t l e ; a d d I t e m B u t t o n . a p p e n d C h i l d ( t o g g l e r E l ) ; c o n s t   s e l e c t M e n u E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - s e l e c t i o n - i t e m s ' ) ; a d d I t e m B u t t o n . a p p e n d C h i l d ( s e l e c t M e n u E l ) ; t h i s . _ l o a d L i s t D r o p d o w n ( s e l e c t M e n u E l ) ; } 
 c o n s t   s e l e c t I n p u t E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - l i s t ' ) ; c o n s t   t i t l e = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - t i t l e ' ) ; t i t l e . t e x t C o n t e n t = l i s t T i t l e ; s e l e c t I n p u t E l . a p p e n d C h i l d ( t i t l e ) ; c o n s t   t a b l e W r a p p e r = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; t a b l e W r a p p e r . c l a s s L i s t . a d d ( ' o e _ w e _ t a b l e _ w r a p e r ' ) ; t a b l e W r a p p e r . a p p e n d C h i l d ( t h i s . l i s t T a b l e ) ; s e l e c t I n p u t E l . a p p e n d C h i l d ( t a b l e W r a p p e r ) ; s e l e c t I n p u t E l . a p p e n d C h i l d ( a d d I t e m B u t t o n ) ; t h i s . e l . i n s e r t B e f o r e ( s e l e c t I n p u t E l , t h i s . e l . q u e r y S e l e c t o r ( ' [ d a t a - s e t - p l a c e h o l d e r ] ' ) ) ; t h i s . _ m a k e L i s t I t e m s S o r t a b l e ( ) ; } , _ l o a d L i s t D r o p d o w n : f u n c t i o n ( s e l e c t M e n u ) { s e l e c t M e n u = s e l e c t M e n u | | t h i s . e l . q u e r y S e l e c t o r ( ' w e - l i s t   w e - s e l e c t i o n - i t e m s ' ) ; i f ( s e l e c t M e n u ) { s e l e c t M e n u . i n n e r H T M L = ' ' ; c o n s t   f i e l d = O b j e c t . a s s i g n ( { } , t h i s . f i e l d s [ t h i s . _ g e t F i e l d N a m e ( ) ] ) ; t h i s . _ f e t c h F i e l d R e c o r d s ( f i e l d ) . t h e n ( ( ) = > { l e t   b u t t o n I t e m s ; c o n s t   o p t i o n I d s = A r r a y . f r o m ( t h i s . l i s t T a b l e . q u e r y S e l e c t o r A l l ( ' i n p u t ' ) ) . m a p ( o p t = > { r e t u r n   f i e l d . t y p e = = = ' s e l e c t i o n ' ? o p t . n a m e : p a r s e I n t ( o p t . n a m e ) ; } ) ; c o n s t   a v a i l a b l e R e c o r d s = ( f i e l d . r e c o r d s | | [ ] ) . f i l t e r ( e l = > ! o p t i o n I d s . i n c l u d e s ( e l . i d ) ) ; i f ( a v a i l a b l e R e c o r d s . l e n g t h ) { b u t t o n I t e m s = a v a i l a b l e R e c o r d s . m a p ( e l = > { c o n s t   o p t i o n = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; o p t i o n . c l a s s L i s t . a d d ( ' o _ w e _ l i s t _ a d d _ e x i s t i n g ' ) ; o p t i o n . d a t a s e t . a d d O p t i o n = e l . i d ; o p t i o n . d a t a s e t . n o P r e v i e w = ' t r u e ' ; o p t i o n . t e x t C o n t e n t = e l . d i s p l a y _ n a m e ; r e t u r n   o p t i o n ; } ) ; } e l s e { c o n s t   t i t l e = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - t i t l e ' ) ; t i t l e . t e x t C o n t e n t = ' N o   m o r e   r e c o r d s ' ; b u t t o n I t e m s = [ t i t l e ] ; } 
 b u t t o n I t e m s . f o r E a c h ( b u t t o n = > s e l e c t M e n u . a p p e n d C h i l d ( b u t t o n ) ) ; } ) ; } } , _ m a k e L i s t I t e m s S o r t a b l e : f u n c t i o n ( ) { $ ( t h i s . l i s t T a b l e ) . s o r t a b l e ( { a x i s : ' y ' , h a n d l e : ' . o _ w e _ d r a g _ h a n d l e ' , i t e m s : ' t r ' , c u r s o r : ' m o v e ' , o p a c i t y : 0 . 6 , s t o p : ( e v e n t , u i ) = > { t h i s . _ r e n d e r L i s t I t e m s ( ) ; } , } ) ; } , _ a d d I t e m T o T a b l e : f u n c t i o n ( i d , t e x t ) { c o n s t   i s C u s t o m F i e l d = t h i s . _ i s F i e l d C u s t o m ( ) ; c o n s t   d r a g g a b l e E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; d r a g g a b l e E l . c l a s s L i s t . a d d ( ' o _ w e _ d r a g _ h a n d l e ' , ' o _ w e _ l i n k ' , ' f a ' , ' f a - f w ' , ' f a - a r r o w s ' ) ; d r a g g a b l e E l . d a t a s e t . n o P r e v i e w = ' t r u e ' ; c o n s t   i n p u t E l = d o c u m e n t . c r e a t e E l e m e n t ( ' i n p u t ' ) ; i n p u t E l . t y p e = ' t e x t ' ; i f ( t e x t ) { i n p u t E l . v a l u e = t e x t ; } 
 i f ( ! i s C u s t o m F i e l d & & i d ) { i n p u t E l . n a m e = i d ; } 
 i n p u t E l . d i s a b l e d = ! i s C u s t o m F i e l d ; c o n s t   t r E l = d o c u m e n t . c r e a t e E l e m e n t ( ' t r ' ) ; c o n s t   b u t t o n E l = d o c u m e n t . c r e a t e E l e m e n t ( ' w e - b u t t o n ' ) ; b u t t o n E l . c l a s s L i s t . a d d ( ' o _ w e _ s e l e c t _ r e m o v e _ o p t i o n ' , ' o _ w e _ l i n k ' , ' o _ w e _ t e x t _ d a n g e r ' , ' f a ' , ' f a - f w ' , ' f a - m i n u s ' ) ; b u t t o n E l . d a t a s e t . r e m o v e O p t i o n = i d ; b u t t o n E l . d a t a s e t . n o P r e v i e w = ' t r u e ' ; c o n s t   d r a g g a b l e T d E l = d o c u m e n t . c r e a t e E l e m e n t ( ' t d ' ) ; c o n s t   i n p u t T d E l = d o c u m e n t . c r e a t e E l e m e n t ( ' t d ' ) ; c o n s t   b u t t o n T d E l = d o c u m e n t . c r e a t e E l e m e n t ( ' t d ' ) ; d r a g g a b l e T d E l . a p p e n d C h i l d ( d r a g g a b l e E l ) ; t r E l . a p p e n d C h i l d ( d r a g g a b l e T d E l ) ; i n p u t T d E l . a p p e n d C h i l d ( i n p u t E l ) ; t r E l . a p p e n d C h i l d ( i n p u t T d E l ) ; b u t t o n T d E l . a p p e n d C h i l d ( b u t t o n E l ) ; t r E l . a p p e n d C h i l d ( b u t t o n T d E l ) ; t h i s . l i s t T a b l e . a p p e n d C h i l d ( t r E l ) ; i f ( i s C u s t o m F i e l d ) { i n p u t E l . f o c u s ( ) ; } } , _ r e n d e r L i s t I t e m s : f u n c t i o n ( ) { c o n s t   m u l t i I n p u t s W r a p = t h i s . _ g e t M u l t i p l e I n p u t s ( ) ; c o n s t   s e l e c t W r a p = t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' # e d i t a b l e _ s e l e c t ' ) ; c o n s t   i s R e q u i r e d F i e l d = t h i s . _ i s F i e l d R e q u i r e d ( ) ; c o n s t   n a m e = t h i s . _ g e t F i e l d N a m e ( ) ; i f ( m u l t i I n p u t s W r a p ) { c o n s t   t y p e = m u l t i I n p u t s W r a p . q u e r y S e l e c t o r ( ' . r a d i o ' ) ? ' r a d i o ' : ' c h e c k b o x ' ; m u l t i I n p u t s W r a p . i n n e r H T M L = ' ' ; c o n s t   p a r a m s = { f i e l d : { n a m e : n a m e , i d : M a t h . r a n d o m ( ) . t o S t r i n g ( 3 6 ) . s u b s t r i n g ( 2 , 1 5 ) , r e q u i r e d : i s R e q u i r e d F i e l d , f o r m a t I n f o : { m u l t i P o s i t i o n : m u l t i I n p u t s W r a p . d a t a s e t . d i s p l a y , } } } ; t h i s . _ g e t L i s t I t e m s ( ) . f o r E a c h ( ( r e c o r d , i d x ) = > { p a r a m s . r e c o r d _ i n d e x = i d x ; p a r a m s . r e c o r d = r e c o r d ; c o n s t   t e m p l a t e = d o c u m e n t . c r e a t e E l e m e n t ( ' t e m p l a t e ' ) ; t e m p l a t e . i n n e r H T M L = q w e b . r e n d e r ( ` w e b s i t e _ f o r m . $ { t y p e } ` , p a r a m s ) ; m u l t i I n p u t s W r a p . a p p e n d C h i l d ( t e m p l a t e . c o n t e n t . f i r s t E l e m e n t C h i l d ) ; } ) ; } e l s e   i f ( s e l e c t W r a p ) { s e l e c t W r a p . i n n e r H T M L = ' ' ; t h i s . l i s t T a b l e . q u e r y S e l e c t o r A l l ( ' i n p u t ' ) . f o r E a c h ( e l = > { c o n s t   o p t i o n = d o c u m e n t . c r e a t e E l e m e n t ( ' d i v ' ) ; o p t i o n . i d = ( e l . n a m e | | e l . v a l u e ) ; o p t i o n . c l a s s L i s t . a d d ( ' s _ w e b s i t e _ f o r m _ s e l e c t _ i t e m ' ) ; o p t i o n . t e x t C o n t e n t = e l . v a l u e ; s e l e c t W r a p . a p p e n d C h i l d ( o p t i o n ) ; } ) ; } } , _ g e t L i s t I t e m s : f u n c t i o n ( ) { i f ( ! t h i s . l i s t T a b l e ) { r e t u r n   n u l l ; } 
 c o n s t   i s C u s t o m F i e l d = t h i s . _ i s F i e l d C u s t o m ( ) ; c o n s t   r e c o r d s = [ ] ; t h i s . l i s t T a b l e . q u e r y S e l e c t o r A l l ( ' i n p u t ' ) . f o r E a c h ( e l = > { c o n s t   i d = i s C u s t o m F i e l d ? e l . v a l u e : e l . n a m e ; r e c o r d s . p u s h ( { i d : i d , d i s p l a y _ n a m e : e l . v a l u e , } ) ; } ) ; r e t u r n   r e c o r d s ; } , _ g e t S e l e c t : f u n c t i o n ( ) { r e t u r n   t h i s . $ t a r g e t [ 0 ] . q u e r y S e l e c t o r ( ' s e l e c t ' ) ; } , _ o n R e m o v e I t e m C l i c k : f u n c t i o n ( e v ) { e v . t a r g e t . c l o s e s t ( ' t r ' ) . r e m o v e ( ) ; t h i s . _ l o a d L i s t D r o p d o w n ( ) ; t h i s . _ r e n d e r L i s t I t e m s ( ) ; } , _ o n A d d C u s t o m I t e m C l i c k : f u n c t i o n ( e v ) { t h i s . _ a d d I t e m T o T a b l e ( ) ; t h i s . _ m a k e L i s t I t e m s S o r t a b l e ( ) ; t h i s . _ r e n d e r L i s t I t e m s ( ) ; } , _ o n A d d E x i s t i n g I t e m C l i c k : f u n c t i o n ( e v ) { c o n s t   v a l u e = e v . c u r r e n t T a r g e t . d a t a s e t . a d d O p t i o n ; t h i s . _ a d d I t e m T o T a b l e ( v a l u e , e v . c u r r e n t T a r g e t . t e x t C o n t e n t ) ; t h i s . _ m a k e L i s t I t e m s S o r t a b l e ( ) ; t h i s . _ l o a d L i s t D r o p d o w n ( ) ; t h i s . _ r e n d e r L i s t I t e m s ( ) ; } , _ o n A d d I t e m S e l e c t C l i c k : f u n c t i o n ( e v ) { e v . c u r r e n t T a r g e t . q u e r y S e l e c t o r ( ' w e - t o g g l e r ' ) . c l a s s L i s t . t o g g l e ( ' a c t i v e ' ) ; } , _ o n L i s t I t e m I n p u t : f u n c t i o n ( ) { t h i s . _ r e n d e r L i s t I t e m s ( ) ; } , } ) ; o p t i o n s . r e g i s t r y . A d d F i e l d F o r m = F o r m E d i t o r . e x t e n d ( { i s T o p O p t i o n : t r u e , a d d F i e l d : a s y n c   f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { c o n s t   f i e l d = t h i s . _ g e t C u s t o m F i e l d ( ' c h a r ' , ' C u s t o m   T e x t ' ) ; f i e l d . f o r m a t I n f o = t h i s . _ g e t D e f a u l t F o r m a t ( ) ; c o n s t   h t m l F i e l d = t h i s . _ r e n d e r F i e l d ( f i e l d ) ; t h i s . $ t a r g e t . f i n d ( ' . s _ w e b s i t e _ f o r m _ s u b m i t ,   . s _ w e b s i t e _ f o r m _ r e c a p t c h a ' ) . f i r s t ( ) . b e f o r e ( h t m l F i e l d ) ; t h i s . t r i g g e r _ u p ( ' a c t i v a t e _ s n i p p e t ' , { $ s n i p p e t : $ ( h t m l F i e l d ) , } ) ; } , } ) ; o p t i o n s . r e g i s t r y . A d d F i e l d = F i e l d E d i t o r . e x t e n d ( { i s T o p O p t i o n : t r u e , a d d F i e l d : a s y n c   f u n c t i o n ( p r e v i e w M o d e , v a l u e , p a r a m s ) { t h i s . t r i g g e r _ u p ( ' o p t i o n _ u p d a t e ' , { o p t i o n N a m e : ' W e b s i t e F o r m E d i t o r ' , n a m e : ' a d d _ f i e l d ' , d a t a : { f o r m a t I n f o : t h i s . _ g e t F i e l d F o r m a t ( ) , $ t a r g e t : t h i s . $ t a r g e t , } , } ) ; } , } ) ; c o n s t   D i s a b l e O v e r l a y B u t t o n O p t i o n = o p t i o n s . C l a s s . e x t e n d ( { d i s a b l e B u t t o n : f u n c t i o n ( b u t t o n N a m e , m e s s a g e ) { c o n s t   c l a s s N a m e = ' o e _ s n i p p e t _ ' + b u t t o n N a m e ; t h i s . $ o v e r l a y . a d d ( t h i s . $ o v e r l a y . d a t a ( ' $ o p t i o n s S e c t i o n ' ) ) . o n ( ' c l i c k ' , ' . ' + c l a s s N a m e , t h i s . p r e v e n t B u t t o n ) ; c o n s t   $ b u t t o n = t h i s . $ o v e r l a y . a d d ( t h i s . $ o v e r l a y . d a t a ( ' $ o p t i o n s S e c t i o n ' ) ) . f i n d ( ' . ' + c l a s s N a m e ) ; $ b u t t o n . a t t r ( ' t i t l e ' , m e s s a g e ) . t o o l t i p ( { d e l a y : 0 } ) ; $ b u t t o n . r e m o v e C l a s s ( c l a s s N a m e ) ; } , p r e v e n t B u t t o n : f u n c t i o n ( e v e n t ) { e v e n t . p r e v e n t D e f a u l t ( ) ; e v e n t . s t o p I m m e d i a t e P r o p a g a t i o n ( ) ; } } ) ; o p t i o n s . r e g i s t r y . W e b s i t e F o r m F i e l d M o d e l = D i s a b l e O v e r l a y B u t t o n O p t i o n . e x t e n d ( { s t a r t : f u n c t i o n ( ) { t h i s . d i s a b l e B u t t o n ( ' c l o n e ' , _ t ( ' Y o u   c a n \ ' t   d u p l i c a t e   a   m o d e l   f i e l d . ' ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } } ) ; o p t i o n s . r e g i s t r y . W e b s i t e F o r m F i e l d R e q u i r e d = D i s a b l e O v e r l a y B u t t o n O p t i o n . e x t e n d ( { s t a r t : f u n c t i o n ( ) { t h i s . d i s a b l e B u t t o n ( ' r e m o v e ' , _ t ( ' Y o u   c a n \ ' t   r e m o v e   a   f i e l d   t h a t   i s   r e q u i r e d   b y   t h e   m o d e l   i t s e l f . ' ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } } ) ; o p t i o n s . r e g i s t r y . W e b s i t e F o r m S u b m i t R e q u i r e d = D i s a b l e O v e r l a y B u t t o n O p t i o n . e x t e n d ( { s t a r t : f u n c t i o n ( ) { t h i s . d i s a b l e B u t t o n ( ' r e m o v e ' , _ t ( ' Y o u   c a n \ ' t   r e m o v e   t h e   s u b m i t   b u t t o n   o f   t h e   f o r m ' ) ) ; t h i s . d i s a b l e B u t t o n ( ' c l o n e ' , _ t ( ' Y o u   c a n \ ' t   d u p l i c a t e   t h e   s u b m i t   b u t t o n   o f   t h e   f o r m . ' ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ f o r m / s t a t i c / s r c / j s / w e b s i t e _ f o r m _ e d i t o r _ r e g i s t r y . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ f o r m . f o r m _ e d i t o r _ r e g i s t r y ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   R e g i s t r y = r e q u i r e ( ' w e b . R e g i s t r y ' ) ; r e t u r n   n e w   R e g i s t r y ( ) ; } ) ; o d o o . d e f i n e ( ' w e b s i t e _ f o r m . s e n d _ m a i l _ f o r m ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   F o r m E d i t o r R e g i s t r y = r e q u i r e ( ' w e b s i t e _ f o r m . f o r m _ e d i t o r _ r e g i s t r y ' ) ; v a r   _ t = c o r e . _ t ; F o r m E d i t o r R e g i s t r y . a d d ( ' s e n d _ m a i l ' , { f o r m F i e l d s : [ { t y p e : ' c h a r ' , c u s t o m : t r u e , r e q u i r e d : t r u e , n a m e : ' Y o u r   N a m e ' , } , { t y p e : ' t e l ' , c u s t o m : t r u e , n a m e : ' P h o n e   N u m b e r ' , } , { t y p e : ' e m a i l ' , m o d e l R e q u i r e d : t r u e , n a m e : ' e m a i l _ f r o m ' , s t r i n g : ' Y o u r   E m a i l ' , } , { t y p e : ' c h a r ' , c u s t o m : t r u e , n a m e : ' Y o u r   C o m p a n y ' , } , { t y p e : ' c h a r ' , m o d e l R e q u i r e d : t r u e , n a m e : ' s u b j e c t ' , s t r i n g : ' S u b j e c t ' , } , { t y p e : ' t e x t ' , c u s t o m : t r u e , r e q u i r e d : t r u e , n a m e : ' Y o u r   Q u e s t i o n ' , } ] , f i e l d s : [ { n a m e : ' e m a i l _ t o ' , t y p e : ' c h a r ' , r e q u i r e d : t r u e , s t r i n g : _ t ( ' R e c i p i e n t   E m a i l ' ) , d e f a u l t V a l u e : ' i n f o @ y o u r c o m p a n y . e x a m p l e . c o m ' , } ] , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ c r m / s t a t i c / s r c / j s / w e b s i t e _ c r m _ e d i t o r . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ c r m . f o r m ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   F o r m E d i t o r R e g i s t r y = r e q u i r e ( ' w e b s i t e _ f o r m . f o r m _ e d i t o r _ r e g i s t r y ' ) ; v a r   _ t = c o r e . _ t ; F o r m E d i t o r R e g i s t r y . a d d ( ' c r e a t e _ l e a d ' , { f o r m F i e l d s : [ { t y p e : ' c h a r ' , r e q u i r e d : t r u e , n a m e : ' c o n t a c t _ n a m e ' , s t r i n g : ' Y o u r   N a m e ' , } , { t y p e : ' t e l ' , n a m e : ' p h o n e ' , s t r i n g : ' P h o n e   N u m b e r ' , } , { t y p e : ' e m a i l ' , r e q u i r e d : t r u e , n a m e : ' e m a i l _ f r o m ' , s t r i n g : ' Y o u r   E m a i l ' , } , { t y p e : ' c h a r ' , r e q u i r e d : t r u e , n a m e : ' p a r t n e r _ n a m e ' , s t r i n g : ' Y o u r   C o m p a n y ' , } , { t y p e : ' c h a r ' , m o d e l R e q u i r e d : t r u e , n a m e : ' n a m e ' , s t r i n g : ' S u b j e c t ' , } , { t y p e : ' t e x t ' , r e q u i r e d : t r u e , n a m e : ' d e s c r i p t i o n ' , s t r i n g : ' Y o u r   Q u e s t i o n ' , } ] , f i e l d s : [ { n a m e : ' t e a m _ i d ' , t y p e : ' m a n y 2 o n e ' , r e l a t i o n : ' c r m . t e a m ' , d o m a i n : [ [ ' u s e _ o p p o r t u n i t i e s ' , ' = ' , t r u e ] ] , s t r i n g : _ t ( ' S a l e s   T e a m ' ) , t i t l e : _ t ( ' A s s i g n   l e a d s / o p p o r t u n i t i e s   t o   a   s a l e s   t e a m . ' ) , } , { n a m e : ' u s e r _ i d ' , t y p e : ' m a n y 2 o n e ' , r e l a t i o n : ' r e s . u s e r s ' , s t r i n g : _ t ( ' S a l e s p e r s o n ' ) , t i t l e : _ t ( ' A s s i g n   l e a d s / o p p o r t u n i t i e s   t o   a   s a l e s p e r s o n . ' ) , } ] , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ f o r m _ p r o j e c t / s t a t i c / s r c / j s / w e b s i t e _ f o r m _ p r o j e c t _ e d i t o r . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ f o r m _ p r o j e c t . f o r m ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   F o r m E d i t o r R e g i s t r y = r e q u i r e ( ' w e b s i t e _ f o r m . f o r m _ e d i t o r _ r e g i s t r y ' ) ; v a r   _ t = c o r e . _ t ; F o r m E d i t o r R e g i s t r y . a d d ( ' c r e a t e _ t a s k ' , { f o r m F i e l d s : [ { t y p e : ' c h a r ' , m o d e l R e q u i r e d : t r u e , n a m e : ' n a m e ' , s t r i n g : ' T a s k   T i t l e ' , } , { t y p e : ' e m a i l ' , m o d e l R e q u i r e d : t r u e , n a m e : ' e m a i l _ f r o m ' , s t r i n g : ' Y o u r   E m a i l ' , } , { t y p e : ' c h a r ' , n a m e : ' d e s c r i p t i o n ' , s t r i n g : ' D e s c r i p t i o n ' , } ] , f i e l d s : [ { n a m e : ' p r o j e c t _ i d ' , t y p e : ' m a n y 2 o n e ' , r e l a t i o n : ' p r o j e c t . p r o j e c t ' , r e q u i r e d : t r u e , s t r i n g : _ t ( ' P r o j e c t ' ) , } ] , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ l i n k s / s t a t i c / s r c / j s / w e b s i t e _ l i n k s _ m e n u . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ l i n k s . w e b s i t e _ l i n k s _ m e n u ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   p u b l i c W i d g e t = r e q u i r e ( ' w e b . p u b l i c . w i d g e t ' ) ; v a r   w e b s i t e N a v b a r D a t a = r e q u i r e ( ' w e b s i t e . n a v b a r ' ) ; v a r   W e b s i t e L i n k s M e n u = p u b l i c W i d g e t . W i d g e t . e x t e n d ( { s t a r t : f u n c t i o n ( ) { t h i s . $ e l . a t t r ( ' h r e f ' , ' / r ? u = ' + e n c o d e U R I C o m p o n e n t ( w i n d o w . l o c a t i o n . h r e f ) ) ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; } , } ) ; w e b s i t e N a v b a r D a t a . w e b s i t e N a v b a r R e g i s t r y . a d d ( W e b s i t e L i n k s M e n u , ' # o _ w e b s i t e _ l i n k s _ s h a r e _ p a g e ' ) ; } ) ; ; 
 
 / *   / w e b s i t e _ c a l e n d a r / s t a t i c / s r c / j s / w e b s i t e _ c a l e n d a r . e d i t o r . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ c a l e n d a r . e d i t o r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; v a r   W e b s i t e N e w M e n u = r e q u i r e ( ' w e b s i t e . n e w M e n u ' ) ; v a r   _ t = c o r e . _ t ; W e b s i t e N e w M e n u . i n c l u d e ( { a c t i o n s : _ . e x t e n d ( { } , W e b s i t e N e w M e n u . p r o t o t y p e . a c t i o n s | | { } , { n e w _ a p p o i n t m e n t : ' _ c r e a t e N e w A p p o i n t m e n t ' , } ) , _ c r e a t e N e w A p p o i n t m e n t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   w U t i l s . p r o m p t ( { w i n d o w _ t i t l e : _ t ( " N e w   A p p o i n t m e n t   T y p e " ) , i n p u t : _ t ( " N a m e " ) , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { v a r   n a m e = r e s u l t . v a l ; i f ( ! n a m e ) { r e t u r n ; } 
 r e t u r n   s e l f . _ r p c ( { m o d e l : ' c a l e n d a r . a p p o i n t m e n t . t y p e ' , m e t h o d : ' c r e a t e _ a n d _ g e t _ w e b s i t e _ u r l ' , a r g s : [ [ ] ] , k w a r g s : { n a m e : n a m e , } , } ) . t h e n ( f u n c t i o n ( u r l ) { w i n d o w . l o c a t i o n . h r e f = u r l ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) ; } ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ b l o g / s t a t i c / s r c / j s / w e b s i t e _ b l o g . e d i t o r . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ b l o g . n e w _ b l o g _ p o s t ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; v a r   W e b s i t e N e w M e n u = r e q u i r e ( ' w e b s i t e . n e w M e n u ' ) ; v a r   _ t = c o r e . _ t ; W e b s i t e N e w M e n u . i n c l u d e ( { a c t i o n s : _ . e x t e n d ( { } , W e b s i t e N e w M e n u . p r o t o t y p e . a c t i o n s | | { } , { n e w _ b l o g _ p o s t : ' _ c r e a t e N e w B l o g P o s t ' , } ) , _ c r e a t e N e w B l o g P o s t : f u n c t i o n ( ) { r e t u r n   t h i s . _ r p c ( { m o d e l : ' b l o g . b l o g ' , m e t h o d : ' s e a r c h _ r e a d ' , a r g s : [ w U t i l s . w e b s i t e D o m a i n ( t h i s ) , [ ' n a m e ' ] ] , } ) . t h e n ( f u n c t i o n ( b l o g s ) { i f ( b l o g s . l e n g t h = = = 1 ) { d o c u m e n t . l o c a t i o n = ' / b l o g / ' + b l o g s [ 0 ] [ ' i d ' ] + ' / p o s t / n e w ' ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } e l s e   i f ( b l o g s . l e n g t h > 1 ) { r e t u r n   w U t i l s . p r o m p t ( { i d : ' e d i t o r _ n e w _ b l o g ' , w i n d o w _ t i t l e : _ t ( " N e w   B l o g   P o s t " ) , s e l e c t : _ t ( " S e l e c t   B l o g " ) , i n i t : f u n c t i o n ( f i e l d ) { r e t u r n   _ . m a p ( b l o g s , f u n c t i o n ( b l o g ) { r e t u r n [ b l o g [ ' i d ' ] , b l o g [ ' n a m e ' ] ] ; } ) ; } , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { v a r   b l o g _ i d = r e s u l t . v a l ; i f ( ! b l o g _ i d ) { r e t u r n ; } 
 d o c u m e n t . l o c a t i o n = ' / b l o g / ' + b l o g _ i d + ' / p o s t / n e w ' ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) ; } } ) ; } , } ) ; } ) ; o d o o . d e f i n e ( ' w e b s i t e _ b l o g . e d i t o r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; r e q u i r e ( ' w e b . d o m _ r e a d y ' ) ; c o n s t { q w e b , _ t } = r e q u i r e ( ' w e b . c o r e ' ) ; c o n s t   o p t i o n s = r e q u i r e ( ' w e b _ e d i t o r . s n i p p e t s . o p t i o n s ' ) ; v a r   W y s i w y g M u l t i z o n e = r e q u i r e ( ' w e b _ e d i t o r . w y s i w y g . m u l t i z o n e ' ) ; i f ( ! $ ( ' . w e b s i t e _ b l o g ' ) . l e n g t h ) { r e t u r n   P r o m i s e . r e j e c t ( " D O M   d o e s n ' t   c o n t a i n   ' . w e b s i t e _ b l o g ' " ) ; } 
 c o n s t   N E W _ T A G _ P R E F I X = ' n e w - b l o g - t a g - ' ; W y s i w y g M u l t i z o n e . i n c l u d e ( { c u s t o m _ e v e n t s : O b j e c t . a s s i g n ( { } , W y s i w y g M u l t i z o n e . p r o t o t y p e . c u s t o m _ e v e n t s , { ' s e t _ b l o g _ p o s t _ u p d a t e d _ t a g s ' : ' _ o n S e t B l o g P o s t U p d a t e d T a g s ' , } ) , i n i t ( ) { t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; t h i s . b l o g T a g s P e r B l o g P o s t = { } ; } , a s y n c   s t a r t ( ) { a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; $ ( ' . j s _ t w e e t ,   . j s _ c o m m e n t ' ) . o f f ( ' m o u s e u p ' ) . t r i g g e r ( ' m o u s e d o w n ' ) ; } , a s y n c   s a v e ( ) { c o n s t   r e t = a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; a w a i t   t h i s . _ s a v e B l o g T a g s ( ) ; r e t u r n   r e t ; } , a s y n c   _ s a v e B l o g T a g s ( ) { f o r ( c o n s t [ k e y , t a g s ] o f   O b j e c t . e n t r i e s ( t h i s . b l o g T a g s P e r B l o g P o s t ) ) { c o n s t   p r o m s = t a g s . f i l t e r ( t a g = > t y p e o f   t a g . i d = = = ' s t r i n g ' ) . m a p ( t a g = > { r e t u r n   t h i s . _ r p c ( { m o d e l : ' b l o g . t a g ' , m e t h o d : ' c r e a t e ' , a r g s : [ { ' n a m e ' : t a g . n a m e , } ] , } ) ; } ) ; c o n s t   c r e a t e d I D s = a w a i t   P r o m i s e . a l l ( p r o m s ) ; a w a i t   t h i s . _ r p c ( { m o d e l : ' b l o g . p o s t ' , m e t h o d : ' w r i t e ' , a r g s : [ p a r s e I n t ( k e y ) , { ' t a g _ i d s ' : [ [ 6 , 0 , t a g s . f i l t e r ( t a g = > t y p e o f   t a g . i d = = = ' n u m b e r ' ) . m a p ( t a g = > t a g . i d ) . c o n c a t ( c r e a t e d I D s ) ] ] , } ] , } ) ; } } , _ o n S e t B l o g P o s t U p d a t e d T a g s : f u n c t i o n ( e v ) { t h i s . b l o g T a g s P e r B l o g P o s t [ e v . d a t a . b l o g P o s t I D ] = e v . d a t a . t a g s ; } , } ) ; o p t i o n s . r e g i s t r y . m a n y 2 o n e . i n c l u d e ( { _ s e l e c t R e c o r d : f u n c t i o n ( $ o p t ) { v a r   s e l f = t h i s ; t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( t h i s . $ t a r g e t . d a t a ( ' o e - f i e l d ' ) = = = ' a u t h o r _ i d ' ) { v a r   $ n o d e s = $ ( ' [ d a t a - o e - m o d e l = " b l o g . p o s t " ] [ d a t a - o e - i d = " ' + t h i s . $ t a r g e t . d a t a ( ' o e - i d ' ) + ' " ] [ d a t a - o e - f i e l d = " a u t h o r _ a v a t a r " ] ' ) ; $ n o d e s . e a c h ( f u n c t i o n ( ) { v a r   $ i m g = $ ( t h i s ) . f i n d ( ' i m g ' ) ; v a r   c s s = w i n d o w . g e t C o m p u t e d S t y l e ( $ i m g [ 0 ] ) ; $ i m g . c s s ( { w i d t h : c s s . w i d t h , h e i g h t : c s s . h e i g h t } ) ; $ i m g . a t t r ( ' s r c ' , ' / w e b / i m a g e / r e s . p a r t n e r / ' + s e l f . I D + ' / i m a g e _ 1 0 2 4 ' ) ; } ) ; s e t T i m e o u t ( f u n c t i o n ( ) { $ n o d e s . r e m o v e C l a s s ( ' o _ d i r t y ' ) ; } , 0 ) ; } } } ) ; o p t i o n s . r e g i s t r y . C o v e r P r o p e r t i e s . i n c l u d e ( { u p d a t e U I : a s y n c   f u n c t i o n ( ) { a w a i t   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; v a r   i s R e g u l a r C o v e r = t h i s . $ t a r g e t . i s ( ' . o _ w b l o g _ p o s t _ p a g e _ c o v e r _ r e g u l a r ' ) ; v a r   $ c o v e r F u l l = t h i s . $ e l . f i n d ( ' [ d a t a - s e l e c t - c l a s s * = " o _ f u l l _ s c r e e n _ h e i g h t " ] ' ) ; v a r   $ c o v e r M i d = t h i s . $ e l . f i n d ( ' [ d a t a - s e l e c t - c l a s s * = " o _ h a l f _ s c r e e n _ h e i g h t " ] ' ) ; v a r   $ c o v e r A u t o = t h i s . $ e l . f i n d ( ' [ d a t a - s e l e c t - c l a s s * = " c o v e r _ a u t o " ] ' ) ; t h i s . _ c o v e r F u l l O r i g i n a l L a b e l = t h i s . _ c o v e r F u l l O r i g i n a l L a b e l | | $ c o v e r F u l l . t e x t ( ) ; t h i s . _ c o v e r M i d O r i g i n a l L a b e l = t h i s . _ c o v e r M i d O r i g i n a l L a b e l | | $ c o v e r M i d . t e x t ( ) ; t h i s . _ c o v e r A u t o O r i g i n a l L a b e l = t h i s . _ c o v e r A u t o O r i g i n a l L a b e l | | $ c o v e r A u t o . t e x t ( ) ; $ c o v e r F u l l . c h i l d r e n ( ' d i v ' ) . t e x t ( i s R e g u l a r C o v e r ? _ t ( " L a r g e " ) : t h i s . _ c o v e r F u l l O r i g i n a l L a b e l ) ; $ c o v e r M i d . c h i l d r e n ( ' d i v ' ) . t e x t ( i s R e g u l a r C o v e r ? _ t ( " M e d i u m " ) : t h i s . _ c o v e r M i d O r i g i n a l L a b e l ) ; $ c o v e r A u t o . c h i l d r e n ( ' d i v ' ) . t e x t ( i s R e g u l a r C o v e r ? _ t ( " T i n y " ) : t h i s . _ c o v e r A u t o O r i g i n a l L a b e l ) ; } , } ) ; o p t i o n s . r e g i s t r y . B l o g P o s t T a g S e l e c t i o n = o p t i o n s . C l a s s . e x t e n d ( { x m l D e p e n d e n c i e s : ( o p t i o n s . C l a s s . p r o t o t y p e . x m l D e p e n d e n c i e s | | [ ] ) . c o n c a t ( [ ' / w e b s i t e _ b l o g / s t a t i c / s r c / x m l / w e b s i t e _ b l o g _ t a g . x m l ' ] ) , a s y n c   w i l l S t a r t ( ) { c o n s t   _ s u p e r = t h i s . _ s u p e r . b i n d ( t h i s ) ; t h i s . b l o g P o s t I D = p a r s e I n t ( t h i s . $ t a r g e t [ 0 ] . d a t a s e t . b l o g I d ) ; t h i s . i s E d i t i n g T a g s = f a l s e ; c o n s t   t a g s = a w a i t   t h i s . _ r p c ( { m o d e l : ' b l o g . t a g ' , m e t h o d : ' s e a r c h _ r e a d ' , a r g s : [ [ ] , [ ' i d ' , ' n a m e ' , ' p o s t _ i d s ' ] ] , } ) ; t h i s . a l l T a g s B y I D = { } ; t h i s . t a g I D s = [ ] ; f o r ( c o n s t   t a g   o f   t a g s ) { t h i s . a l l T a g s B y I D [ t a g . i d ] = t a g ; i f ( t a g [ ' p o s t _ i d s ' ] . i n c l u d e s ( t h i s . b l o g P o s t I D ) ) { t h i s . t a g I D s . p u s h ( t a g . i d ) ; } } 
 r e t u r n   _ s u p e r ( . . . a r g u m e n t s ) ; } , c l e a n F o r S a v e ( ) { i f ( t h i s . i s E d i t i n g T a g s ) { t h i s . _ n o t i f y U p d a t e d T a g s ( ) ; } } , e d i t T a g L i s t ( p r e v i e w M o d e , w i d g e t V a l u e , p a r a m s ) { t h i s . i s E d i t i n g T a g s = t r u e ; t h i s . r e r e n d e r = t r u e ; } , s a v e T a g L i s t ( p r e v i e w M o d e , w i d g e t V a l u e , p a r a m s ) { t h i s . i s E d i t i n g T a g s = f a l s e ; t h i s . r e r e n d e r = t r u e ; t h i s . _ n o t i f y U p d a t e d T a g s ( ) ; } , s e t N e w T a g N a m e ( p r e v i e w M o d e , w i d g e t V a l u e , p a r a m s ) { t h i s . n e w T a g N a m e = w i d g e t V a l u e ; } , c o n f i r m N e w ( p r e v i e w M o d e , w i d g e t V a l u e , p a r a m s ) { i f ( ! t h i s . n e w T a g N a m e ) { r e t u r n ; } 
 c o n s t   e x i s t i n g = O b j e c t . v a l u e s ( t h i s . a l l T a g s B y I D ) . s o m e ( t a g = > t a g . n a m e . t o L o w e r C a s e ( ) = = = t h i s . n e w T a g N a m e . t o L o w e r C a s e ( ) ) ; i f ( e x i s t i n g ) { r e t u r n   t h i s . d i s p l a y N o t i f i c a t i o n ( { t y p e : ' w a r n i n g ' , m e s s a g e : _ t ( " T h i s   t a g   a l r e a d y   e x i s t s " ) , } ) ; } 
 c o n s t   n e w T a g I D = _ . u n i q u e I d ( N E W _ T A G _ P R E F I X ) ; t h i s . a l l T a g s B y I D [ n e w T a g I D ] = { ' i d ' : n e w T a g I D , ' n a m e ' : t h i s . n e w T a g N a m e , } ; t h i s . t a g I D s . p u s h ( n e w T a g I D ) ; t h i s . n e w T a g N a m e = ' ' ; t h i s . r e r e n d e r = t r u e ; } , a d d T a g ( p r e v i e w M o d e , w i d g e t V a l u e , p a r a m s ) { c o n s t   t a g I D = p a r s e I n t ( w i d g e t V a l u e ) ; t h i s . t a g I D s . p u s h ( t a g I D ) ; t h i s . r e r e n d e r = t r u e ; } , r e m o v e T a g ( p r e v i e w M o d e , w i d g e t V a l u e , p a r a m s ) { t h i s . t a g I D s = t h i s . t a g I D s . f i l t e r ( t a g I D = > ( ` $ { t a g I D } ` ! = = w i d g e t V a l u e ) ) ; i f ( w i d g e t V a l u e . s t a r t s W i t h ( N E W _ T A G _ P R E F I X ) ) { d e l e t e   t h i s . a l l T a g s B y I D [ w i d g e t V a l u e ] ; } 
 t h i s . r e r e n d e r = t r u e ; } , a s y n c   u p d a t e U I ( ) { i f ( t h i s . r e r e n d e r ) { t h i s . r e r e n d e r = f a l s e ; a w a i t   t h i s . _ r e r e n d e r X M L ( ) ; r e t u r n ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , a s y n c   _ c o m p u t e W i d g e t V i s i b i l i t y ( w i d g e t N a m e , p a r a m s ) { i f ( [ ' b l o g _ e x i s t i n g _ t a g _ o p t ' , ' n e w _ t a g _ i n p u t _ o p t ' , ' n e w _ t a g _ b u t t o n _ o p t ' , ' s a v e _ t a g s _ o p t ' ] . i n c l u d e s ( w i d g e t N a m e ) ) { r e t u r n   t h i s . i s E d i t i n g T a g s ; } 
 i f ( w i d g e t N a m e = = = ' e d i t _ t a g s _ o p t ' ) { r e t u r n ! t h i s . i s E d i t i n g T a g s ; } 
 i f ( p a r a m s . o p t i o n s P o s s i b l e V a l u e s [ ' r e m o v e T a g ' ] ) { r e t u r n   t h i s . i s E d i t i n g T a g s ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , a s y n c   _ c o m p u t e W i d g e t S t a t e ( m e t h o d N a m e , p a r a m s ) { i f ( m e t h o d N a m e = = = ' a d d T a g ' ) { r e t u r n ' ' ; } 
 r e t u r n   t h i s . _ s u p e r ( . . . a r g u m e n t s ) ; } , _ n o t i f y U p d a t e d T a g s ( ) { t h i s . t r i g g e r _ u p ( ' s e t _ b l o g _ p o s t _ u p d a t e d _ t a g s ' , { b l o g P o s t I D : t h i s . b l o g P o s t I D , t a g s : t h i s . t a g I D s . m a p ( t a g I D = > t h i s . a l l T a g s B y I D [ t a g I D ] ) , } ) ; } , a s y n c   _ r e n d e r C u s t o m X M L ( u i F r a g m e n t ) { c o n s t   $ t a g L i s t = $ ( u i F r a g m e n t . q u e r y S e l e c t o r ( ' . o _ w b l o g _ t a g _ l i s t ' ) ) ; f o r ( c o n s t   t a g I D   o f   t h i s . t a g I D s ) { c o n s t   t a g = t h i s . a l l T a g s B y I D [ t a g I D ] ; $ t a g L i s t . a p p e n d ( q w e b . r e n d e r ( ' w e b s i t e _ b l o g . T a g L i s t I t e m ' , { t a g : t a g , } ) ) ; } 
 c o n s t   $ s e l e c t = $ ( u i F r a g m e n t . q u e r y S e l e c t o r ( ' w e - s e l e c t [ d a t a - n a m e = " b l o g _ e x i s t i n g _ t a g _ o p t " ] ' ) ) ; f o r ( c o n s t [ k e y , t a g ] o f   O b j e c t . e n t r i e s ( t h i s . a l l T a g s B y I D ) ) { i f ( t h i s . t a g I D s . i n c l u d e s ( p a r s e I n t ( k e y ) ) ) { c o n t i n u e ; } 
 $ s e l e c t . p r e p e n d ( q w e b . r e n d e r ( ' w e b s i t e _ b l o g . T a g S e l e c t I t e m ' , { t a g : t a g , } ) ) ; } } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ b l o g / s t a t i c / s r c / j s / t o u r s / w e b s i t e _ b l o g . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( " w e b s i t e _ b l o g . t o u r " , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o r e = r e q u i r e ( " w e b . c o r e " ) ; v a r   t o u r = r e q u i r e ( " w e b _ t o u r . t o u r " ) ; v a r   _ t = c o r e . _ t ; t o u r . r e g i s t e r ( " b l o g " , { u r l : " / " , } , [ { t r i g g e r : ' # n e w - c o n t e n t - m e n u   >   a ' , a u t o : t r u e , p o s i t i o n : ' b o t t o m ' , } , { t r i g g e r : " a [ d a t a - a c t i o n = n e w _ b l o g _ p o s t ] " , c o n t e n t : _ t ( " S e l e c t   t h i s   m e n u   i t e m   t o   c r e a t e   a   n e w   b l o g   p o s t . " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " b u t t o n . b t n - c o n t i n u e " , e x t r a _ t r i g g e r : " f o r m [ i d = \ " e d i t o r _ n e w _ b l o g \ " ] " , c o n t e n t : _ t ( " S e l e c t   t h e   b l o g   y o u   w a n t   t o   a d d   t h e   p o s t   t o . " ) , } , { t r i g g e r : " d i v [ d a t a - o e - e x p r e s s i o n = \ " b l o g _ p o s t . n a m e \ " ] " , e x t r a _ t r i g g e r : " # o e _ s n i p p e t s . o _ l o a d e d " , c o n t e n t : _ t ( " W r i t e   a   t i t l e ,   t h e   s u b t i t l e   i s   o p t i o n a l . " ) , p o s i t i o n : " t o p " , r u n : " t e x t " , } , { t r i g g e r : " w e - b u t t o n [ d a t a - b a c k g r o u n d ] : n t h ( 1 ) " , e x t r a _ t r i g g e r : " # w r a p   d i v [ d a t a - o e - e x p r e s s i o n = \ " b l o g _ p o s t . n a m e \ " ] : n o t ( : c o n t a i n s E x a c t ( \ " \ " ) ) " , c o n t e n t : _ t ( " S e t   a   b l o g   p o s t   < b > c o v e r < / b > . " ) , p o s i t i o n : " r i g h t " , } , { t r i g g e r : " . o _ s e l e c t _ m e d i a _ d i a l o g   . o _ w e _ s e a r c h " , c o n t e n t : _ t ( " S e a r c h   f o r   a n   i m a g e .   ( e g :   t y p e   \ " b u s i n e s s \ " ) " ) , p o s i t i o n : " t o p " , } , { t r i g g e r : " . o _ s e l e c t _ m e d i a _ d i a l o g   . o _ e x i s t i n g _ a t t a c h m e n t _ c e l l : f i r s t   i m g " , e x t r a _ t r i g g e r : ' . m o d a l : h a s ( . o _ e x i s t i n g _ a t t a c h m e n t _ c e l l : f i r s t ) ' , c o n t e n t : _ t ( " C h o o s e   a n   i m a g e   f r o m   t h e   l i b r a r y . " ) , p o s i t i o n : " t o p " , } , { t r i g g e r : " # o _ w b l o g _ p o s t _ c o n t e n t " , c o n t e n t : _ t ( " < b > W r i t e   y o u r   s t o r y   h e r e . < / b >   U s e   t h e   t o p   t o o l b a r   t o   s t y l e   y o u r   t e x t :   a d d   a n   i m a g e   o r   t a b l e ,   s e t   b o l d   o r   i t a l i c ,   e t c .   D r a g   a n d   d r o p   b u i l d i n g   b l o c k s   f o r   m o r e   g r a p h i c a l   b l o g s . " ) , p o s i t i o n : " t o p " , r u n : f u n c t i o n ( a c t i o n s ) { a c t i o n s . a u t o ( ) ; a c t i o n s . t e x t ( " B l o g   c o n t e n t " , t h i s . $ a n c h o r . f i n d ( " p " ) ) ; } , } , { t r i g g e r : " b u t t o n [ d a t a - a c t i o n = s a v e ] " , e x t r a _ t r i g g e r : " # o _ w b l o g _ p o s t _ c o n t e n t   . o _ w b l o g _ p o s t _ c o n t e n t _ f i e l d   p : f i r s t : n o t ( : c o n t a i n s E x a c t ( " + _ t ( " S t a r t   w r i t i n g   h e r e . . . " ) + " ) ) " , c o n t e n t : _ t ( " < b > C l i c k   o n   S a v e < / b >   t o   r e c o r d   y o u r   c h a n g e s . " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " a [ d a t a - a c t i o n = s h o w - m o b i l e - p r e v i e w ] " , e x t r a _ t r i g g e r : " b o d y : n o t ( . e d i t o r _ e n a b l e ) " , c o n t e n t : _ t ( " U s e   t h i s   i c o n   t o   p r e v i e w   y o u r   b l o g   p o s t   o n   < b > m o b i l e   d e v i c e s < / b > . " ) , p o s i t i o n : " b o t t o m " , } , { t r i g g e r : " b u t t o n [ d a t a - d i s m i s s = m o d a l ] " , e x t r a _ t r i g g e r : ' . m o d a l : h a s ( # m o b i l e - v i e w p o r t ) ' , c o n t e n t : _ t ( " O n c e   y o u   h a v e   r e v i e w e d   t h e   c o n t e n t   o n   m o b i l e ,   c l o s e   t h e   p r e v i e w . " ) , p o s i t i o n : " r i g h t " , } , { t r i g g e r : " . j s _ p u b l i s h _ m a n a g e m e n t   . j s _ p u b l i s h _ b t n " , e x t r a _ t r i g g e r : " b o d y : n o t ( . e d i t o r _ e n a b l e ) " , p o s i t i o n : " b o t t o m " , c o n t e n t : _ t ( " < b > P u b l i s h   y o u r   b l o g   p o s t < / b >   t o   m a k e   i t   v i s i b l e   t o   y o u r   v i s i t o r s . " ) , } , { t r i g g e r : " # c u s t o m i z e - m e n u   >   a " , e x t r a _ t r i g g e r : " . j s _ p u b l i s h _ m a n a g e m e n t   . j s _ p u b l i s h _ b t n   . c s s _ u n p u b l i s h : v i s i b l e " , c o n t e n t : _ t ( " < b > T h a t ' s   i t ,   y o u r   b l o g   p o s t   i s   p u b l i s h e d ! < / b >   D i s c o v e r   m o r e   f e a t u r e s   t h r o u g h   t h e   < i > C u s t o m i z e < / i >   m e n u . " ) , p o s i t i o n : " b o t t o m " , w i d t h : 5 0 0 , } ] ) ; } ) ; ; 
 
 / *   / w e b s i t e _ l i v e c h a t / s t a t i c / s r c / j s / w e b s i t e _ l i v e c h a t . e d i t o r . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ l i v e c h a t . e d i t o r ' , f u n c t i o n ( r e q u i r e ) { ' u s e   s t r i c t ' ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; v a r   W e b s i t e N e w M e n u = r e q u i r e ( ' w e b s i t e . n e w M e n u ' ) ; v a r   _ t = c o r e . _ t ; W e b s i t e N e w M e n u . i n c l u d e ( { a c t i o n s : _ . e x t e n d ( { } , W e b s i t e N e w M e n u . p r o t o t y p e . a c t i o n s | | { } , { n e w _ c h a n n e l : ' _ c r e a t e N e w C h a n n e l ' , } ) , _ c r e a t e N e w C h a n n e l : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   w U t i l s . p r o m p t ( { w i n d o w _ t i t l e : _ t ( " N e w   C h a n n e l " ) , i n p u t : _ t ( " N a m e " ) , } ) . t h e n ( f u n c t i o n ( r e s u l t ) { v a r   n a m e = r e s u l t . v a l ; i f ( ! n a m e ) { r e t u r n ; } 
 r e t u r n   s e l f . _ r p c ( { m o d e l : ' i m _ l i v e c h a t . c h a n n e l ' , m e t h o d : ' c r e a t e _ a n d _ g e t _ w e b s i t e _ u r l ' , a r g s : [ [ ] ] , k w a r g s : { n a m e : n a m e , } , } ) . t h e n ( f u n c t i o n ( u r l ) { w i n d o w . l o c a t i o n . h r e f = u r l ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( ) { } ) ; } ) ; } ) ; } , } ) ; } ) ; ; 
 
 / *   / w e b s i t e _ s l i d e s / s t a t i c / s r c / j s / w e b s i t e _ s l i d e s . e d i t o r . j s   d e f i n e d   i n   b u n d l e   ' w e b s i t e . a s s e t s _ e d i t o r '   * / 
 o d o o . d e f i n e ( ' w e b s i t e _ s l i d e s . e d i t o r ' , f u n c t i o n ( r e q u i r e ) { " u s e   s t r i c t " ; v a r   c o r e = r e q u i r e ( ' w e b . c o r e ' ) ; v a r   D i a l o g = r e q u i r e ( ' w e b . D i a l o g ' ) ; v a r   Q W e b = c o r e . q w e b ; v a r   W e b s i t e N e w M e n u = r e q u i r e ( ' w e b s i t e . n e w M e n u ' ) ; v a r   T a g C o u r s e D i a l o g = r e q u i r e ( ' w e b s i t e _ s l i d e s . c h a n n e l _ t a g . a d d ' ) . T a g C o u r s e D i a l o g ; v a r   w U t i l s = r e q u i r e ( ' w e b s i t e . u t i l s ' ) ; v a r   _ t = c o r e . _ t ; v a r   C h a n n e l C r e a t e D i a l o g = D i a l o g . e x t e n d ( { t e m p l a t e : ' w e b s i t e . s l i d e . c h a n n e l . c r e a t e ' , x m l D e p e n d e n c i e s : D i a l o g . p r o t o t y p e . x m l D e p e n d e n c i e s . c o n c a t ( [ ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ c h a n n e l . x m l ' , ' / w e b s i t e _ s l i d e s / s t a t i c / s r c / x m l / w e b s i t e _ s l i d e s _ c h a n n e l _ t a g . x m l ' ] ) , e v e n t s : _ . e x t e n d ( { } , D i a l o g . p r o t o t y p e . e v e n t s , { ' c h a n g e   i n p u t # t a g _ i d s ' : ' _ o n C h a n g e T a g ' , } ) , c u s t o m _ e v e n t s : _ . e x t e n d ( { } , D i a l o g . p r o t o t y p e . c u s t o m _ e v e n t s , { ' t a g _ r e f r e s h ' : ' _ o n T a g R e f r e s h ' , ' t a g _ r e m o v e _ n e w ' : ' _ o n T a g R e m o v e N e w ' , } ) , i n i t : f u n c t i o n ( p a r e n t , o p t i o n s ) { o p t i o n s = _ . d e f a u l t s ( o p t i o n s | | { } , { t i t l e : _ t ( " N e w   C o u r s e " ) , s i z e : ' m e d i u m ' , b u t t o n s : [ { t e x t : _ t ( " C r e a t e " ) , c l a s s e s : ' b t n - p r i m a r y ' , c l i c k : t h i s . _ o n C l i c k F o r m S u b m i t . b i n d ( t h i s ) } , { t e x t : _ t ( " D i s c a r d " ) , c l o s e : t r u e } , ] } ) ; t h i s . _ s u p e r ( p a r e n t , o p t i o n s ) ; } , s t a r t : f u n c t i o n ( ) { v a r   s e l f = t h i s ; r e t u r n   t h i s . _ s u p e r . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { v a r   $ i n p u t = s e l f . $ ( ' # t a g _ i d s ' ) ; $ i n p u t . s e l e c t 2 ( { w i d t h : ' 1 0 0 % ' , a l l o w C l e a r : t r u e , f o r m a t N o M a t c h e s : f a l s e , m u l t i p l e : t r u e , s e l e c t i o n _ d a t a : f a l s e , f o r m a t S e l e c t i o n : f u n c t i o n ( d a t a ) { i f ( d a t a . t a g ) { d a t a . t e x t = d a t a . t a g ; } 
 r e t u r n   d a t a . t e x t ; } , c r e a t e S e a r c h C h o i c e : f u n c t i o n ( t e r m , d a t a ) { v a r   a d d e d T a g s = $ ( t h i s . o p t s . e l e m e n t ) . s e l e c t 2 ( ' d a t a ' ) ; i f ( _ . f i l t e r ( _ . u n i o n ( a d d e d T a g s , d a t a ) , f u n c t i o n ( t a g ) { r e t u r n   t a g . t e x t . t o L o w e r C a s e ( ) . l o c a l e C o m p a r e ( t e r m . t o L o w e r C a s e ( ) ) = = = 0 ; } ) . l e n g t h = = = 0 ) { i f ( t h i s . o p t s . c a n _ c r e a t e ) { r e t u r n { i d : _ . u n i q u e I d ( ' t a g _ ' ) , c r e a t e : t r u e , t a g : t e r m , t e x t : _ . s t r . s p r i n t f ( _ t ( " C r e a t e   n e w   T a g   ' % s ' " ) , t e r m ) , } ; } e l s e { r e t u r n   u n d e f i n e d ; } } } , f i l l _ d a t a : f u n c t i o n ( q u e r y , d a t a ) { v a r   t h a t = t h i s , t a g s = { r e s u l t s : [ ] } ; _ . e a c h ( d a t a , f u n c t i o n ( o b j ) { i f ( t h a t . m a t c h e r ( q u e r y . t e r m , o b j . n a m e ) ) { t a g s . r e s u l t s . p u s h ( { i d : o b j . i d , t e x t : o b j . n a m e } ) ; } } ) ; q u e r y . c a l l b a c k ( t a g s ) ; } , q u e r y : f u n c t i o n ( q u e r y ) { v a r   t h a t = t h i s ; i f ( ! t h i s . s e l e c t i o n _ d a t a ) { s e l f . _ r p c ( { r o u t e : ' / s l i d e s / c h a n n e l / t a g / s e a r c h _ r e a d ' , p a r a m s : { f i e l d s : [ ' n a m e ' ] , d o m a i n : [ ] , } } ) . t h e n ( f u n c t i o n ( d a t a ) { t h a t . c a n _ c r e a t e = d a t a . c a n _ c r e a t e ; t h a t . f i l l _ d a t a ( q u e r y , d a t a . r e a d _ r e s u l t s ) ; t h a t . s e l e c t i o n _ d a t a = d a t a . r e a d _ r e s u l t s ; } ) ; } e l s e { t h i s . f i l l _ d a t a ( q u e r y , t h i s . s e l e c t i o n _ d a t a ) ; } } } ) ; } ) ; } , _ o n C l i c k F o r m S u b m i t : f u n c t i o n ( e v ) { v a r   $ f o r m = t h i s . $ ( " # s l i d e _ c h a n n e l _ a d d _ f o r m " ) ; v a r   $ t i t l e = t h i s . $ ( " # t i t l e " ) ; i f ( ! $ t i t l e [ 0 ] . v a l u e ) { $ t i t l e . a d d C l a s s ( ' b o r d e r - d a n g e r ' ) ; t h i s . $ ( " # t i t l e - r e q u i r e d " ) . r e m o v e C l a s s ( ' d - n o n e ' ) ; } e l s e { $ f o r m . s u b m i t ( ) ; } } , _ o n C h a n g e T a g : f u n c t i o n ( e v ) { v a r   s e l f = t h i s ; v a r   t a g s = $ ( e v . c u r r e n t T a r g e t ) . s e l e c t 2 ( ' d a t a ' ) ; t a g s . f o r E a c h ( f u n c t i o n ( e l e m e n t ) { i f ( e l e m e n t . c r e a t e ) { n e w   T a g C o u r s e D i a l o g ( s e l f , { d e f a u l t T a g : e l e m e n t . t e x t } ) . o p e n ( ) ; } } ) ; } , _ o n T a g R e f r e s h : f u n c t i o n ( e v ) { v a r   $ t a g _ i d s = $ ( ' # t a g _ i d s ' ) ; v a r   t a g s = $ t a g _ i d s . s e l e c t 2 ( ' d a t a ' ) ; t a g s . f o r E a c h ( f u n c t i o n ( e l e m e n t ) { i f ( e l e m e n t . c r e a t e ) { e l e m e n t . i d = e v . d a t a . t a g _ i d ; e l e m e n t . c r e a t e = f a l s e ; } } ) ; $ t a g _ i d s . s e l e c t 2 ( ' d a t a ' , t a g s ) ; $ t a g _ i d s . d a t a ( ' s e l e c t 2 ' ) . o p t s . s e l e c t i o n _ d a t a = f a l s e ; } , _ o n T a g R e m o v e N e w : f u n c t i o n ( ) { v a r   t a g s = $ ( ' # t a g _ i d s ' ) . s e l e c t 2 ( ' d a t a ' ) ; t a g s = t a g s . f i l t e r ( f u n c t i o n ( v a l u e ) { r e t u r n ! v a l u e . c r e a t e ; } ) ; $ ( ' # t a g _ i d s ' ) . s e l e c t 2 ( ' d a t a ' , t a g s ) ; } , } ) ; W e b s i t e N e w M e n u . i n c l u d e ( { a c t i o n s : _ . e x t e n d ( { } , W e b s i t e N e w M e n u . p r o t o t y p e . a c t i o n s | | { } , { n e w _ s l i d e _ c h a n n e l : ' _ c r e a t e N e w S l i d e C h a n n e l ' , } ) , _ c r e a t e N e w S l i d e C h a n n e l : f u n c t i o n ( ) { v a r   s e l f = t h i s ; v a r   d e f = n e w   P r o m i s e ( f u n c t i o n ( r e s o l v e ) { v a r   d i a l o g = n e w   C h a n n e l C r e a t e D i a l o g ( s e l f , { } ) ; d i a l o g . o p e n ( ) ; d i a l o g . o n ( ' c l o s e d ' , s e l f , r e s o l v e ) ; } ) ; r e t u r n   d e f ; } , } ) ; } ) ;    H       http://hr.deerom.com/web/content/591-b29273b/1/website.assets_editor.js     &     &                          
=        Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=	       Q       
=
       Q       
=   	    Q       
=   
    Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Q       
=       Qڨڠڨ#&ڨ-0ڠ4ڨ8;ڠ?ڨFIڨY\ڨ^aڨdڨwzڠ~ڨ  ژ  ڠڠڠڠڠڠ_ڨ  Ġڠڠڠ P 	   odoo   define'   website.editor.menu;   website.editor.menu.translate'   website.contentMenu+   website.customizeMenu)   website.debugManager!   website.editMenu   website.mobile   website.newMenu   website.seo+   website.translateMenu+   website.tour.homepage%   website.tour_utils   website.ace'   website_form_editorC   website_form.form_editor_registry7   website_form.send_mail_form!   website_crm.form3   website_form_project.formA   website_links.website_links_menu/   website_calendar.editor5   website_blog.new_blog_post'   website_blog.editor#   website_blog.tour/   website_livechat.editor+   website_slides.editor!!            +H!!       C        %                                                                   T  =    :    QT  =   : W   QT  =   : W  QT  =   : W  QV  5      QV     
[   V  5   5      
Z   =	   `    : ]       ]
   :    QV      
[   =   ]   Z   =   `    ]   [   =   ]   =   ]   =   ]   =   ]   ]   [   =   ]   =   ]   ]      ]      ]      ]      ]       ]!   	   ]"   
   ]#      ]$      ]      ]      ]      ]      ]      ]   : W  QV  EɘɘɘȘɘȘɘȘ'ϘИ!ژ.ʘȘHʘɘ  ИʘϘ.ʘ0ʘ0ʘ0Ϙ6ʘ%Ϙ#ʘ  ʘ  ʘXʘ ˨9ʘ ʘ ʘ  ʘ.ʘbʘ`ʘ&ʘFʨ Ȩ |    web.Dialog   web.Widget   web.core/   web_editor.wysiwyg.root   _t   extend   prototype   assetLibs   concat?   website.compiled_assets_wysiwyg+   _getWysiwygContructor#   website.editorbar   templateU   /website/static/src/xml/website.editor.xml   xmlDependencies   _onUndoClick=   click button[data-action=undo]   _onRedoClick=   click button[data-action=redo]   _onSaveClick=   click button[data-action=save]   _onCancelClickA   click button[data-action=cancel]   events+   _onSnippetRequestSave   request_save   _onGetCleanHTML   get_clean_html   custom_events   willStart   start   destroy   cancel	   save   editable!   _wysiwygInstance   _reload!!      require   Dialog   Widget	   core   Wysiwyg   _t!   WysiwygMultizone   EditorMenu      +H!!        +   _getWysiwygContructorC            	                                                  s                 5   5   5    vԘ? 	   odoo   __DEBUG__   services9   web_editor.wysiwyg.multizone!!              +H;       5!!       !!   assetLibs!!!!+   _getWysiwygContructor!!    !!       !!=   click button[data-action=undo]!!!!=   click button[data-action=redo]!!!!=   click button[data-action=save]!!!!A   click button[data-action=cancel]!!    !!       !!   request_save!!!!   get_clean_html!!    !!          willStartC  :                                                                        W   QV      QV   @0    QV      
:     
    :  qʘ
˘˘Ϙ      $el   _super	   then!!   	   self   .this        +H!!          willStart/<b  	                    5;5!!          startC  i      	   !                         
               Z    Z                   W   QV      QV   5       
[    =   ]    QV   5      
      =   : :    
   :  ^ʘ
՘ʘߘϘ&I    $el   css	   100%   width   wysiwyg   attachTo   $   #wrapwrap	   then!!   	   self   .this        +H!!       !!   width!!    !!           start/<b    W    W              5;5!!          destroyC  =                                             " k    c                   	W   QW  QV      
=    QV  5      
V  V   O Q̘ Ԙ!ܘ"    trigger_up   readonly_mode   _super   apply!!      arguments   .this         +H;      5!!          cancelC <                                                l    l                   W  QV     Q    A    ,  R W   QV      
   :  qʘϘȘ $И _    Promise	   then!!      reload	   self   def   .this      +H!!           cancel/def<b              0       5!!          cancel/<b    i    i       0       5 ;5!!       	   saveE          -                                     g
  r  g
                       Qԉ      Q   5       B         Q   C0    Q      
=    Q   5      
B:    
    :    
   :       ̙̘ +7Ȩ˘
̘՘(ҘϘР(    _saving   trigger_up)   edition_will_stopped   wysiwyg	   save	   then   guardedCatch!!      reload	   self   .generator   .this       +H!!          save/<b 	  <
  	  <
     u   0       5 !!          save/<d"  K
  d
  K
  d
               5 ;   5!!          editableC           #                                     y
    q
                      T      
=   :    
=   :    
    :    
=   :    
=   :    
=   :    
=   :    
=	   : 
   
=   : VϘϘ"ϘϘ  ϘϘϘXϘϘ 	   find   [data-oe-model]   not   .o_not_editable   filter   link, script%   [data-oe-readonly]   img[data-oe-field="arch"], br[data-oe-field="arch"], input[data-oe-field="arch"]%   .oe_snippet_editor/   hr, br, input, textarea   add   .o_editable!!      $wrapwrap        +H!!           editable/<b  
  J  
  J               5 ;5!!       !   _wysiwygInstanceC  x         ,                                      9  &  1  &                   W   QV       
=   [       ]    Q  AV   [   =   ]   [      ]   =   ]      5   ]	   ]
   ,  R  ՘ʘGϘ"ʘʘʘؘ      trigger_up   context_get   callback!   website.snippets   snippets   context   website   data_res_model   website_id   data_res_id   recordInfo!!      context   .this        +H!!          callbackB x    p       I         5 !!       !!   callback!!    !!       !!   context!!!!   data_res_model!!!!   data_res_id!!    !!       !!   snippets!!!!   recordInfo!!    ;5!!          _reloadC                                                 7    /                     W   Q        =   :    
=    QV   5      
  QV   5      
  Q   5	   =
      5   5   5   0   Q   5	      
C Q   A    ,  R  ޘ
ԘԘA֘Ϙ    $	   body   addClass   o_wait_reload   wysiwyg   destroy   $el	   hide   window   location   scrollTop=   document   scrollTop	   hash   reload   Promise!!      .this         +H!!          _reload/<b                      5;5!!          _onCancelClickC           	                                        3    3                 W   QV       
C Q И    cancel!!      .this         +H;       5 !!          _onGetCleanHTMLC D                                             L    D                   W   QT  5       
V   5      
[    T  5    5   ]   :  Q "(ҘC 	   data   callback   wysiwyg   getValue   $layout!!      ev   .this       +H!!       !!   $layout!!    ;       5!!       +   _onSnippetRequestSaveC ;                                                                     W   QV       
B:    
T  5   5   T  5   5    Q * 	   save	   then	   data   onSuccess   onFailure!!      ev   .this       +H;       5 !!          _onSaveClickC           	                                                             W   QV       
  Q Ϙ 	   save!!      .this         +H;       5!!          _onUndoClick@  (                                                 (  a    a                          =   :    
:     
  Q ٘%ʘ    $?   .note-history [data-event=undo]   first   click!!              +H;       5 !!          _onRedoClick@  (                                                 n    b       ?                     =   :    
:     
  Q B٘%ʘ    $?   .note-history [data-event=redo]   first   click!!              +H;       5 !!       !!   template!!!!   xmlDependencies!!!!   events!!!!   custom_events!!!!   willStart!!!!   start!!!!   destroy!!!!   cancel!!!!	   save!!!!   editable!!!!!   _wysiwygInstance!!!!   _reload!!!!   _onCancelClick!!!!   _onGetCleanHTML!!!!+   _onSnippetRequestSave!!!!   _onSaveClick!!!!   _onUndoClick!!!!   _onRedoClick!!    ;5!!       C  k                	                              ^  h  V  h                   T  =     QT  =   : W   QT  =   : W  QT  =   :    QT  =   : W  QT  =   : W  QV   5      Q=      QV     
[   =	   ]
   V  5   5      
Z   =   `    : ]       ]      ]   :    QV     
[   V  5   5      
Z   =   `    : ]      ]   :    QV     
[      ]      ]      ]   : W  QV  K͘ɘȘɘȘɘɘ!ɘȘ'ɘȘ#Ϙ˘:И$ʘ(ژ9ʘȘTʘ  ʘiɘ И!ژ.ʘȘHʘɘ  И"ʠʘ zʨ mȠ ;    web.dom_ready   web.core   web.Dialog#   web.local_storage/   web_editor.wysiwyg.root'   website.editor.menu   _t7   website_translator_nodialog   extend9   website.TranslatorInfoDialog   template   prototype   xmlDependencies   concatM   /website/static/src/xml/translator.xml	   init   _onStrongOk   assetLibs?   website.compiled_assets_wysiwyg+   _getWysiwygContructor   start   editable!   _wysiwygInstance!!      require	   core   Dialog   localStorage   Wysiwyg   EditorMenu   _t/   localStorageNoDialogKey)   TranslatorInfoDialog!   WysiwygTranslate   TranslatorMenu      +H!!       	   initC          <                                    a  O  Y  O     7            W   QV       
T        
[      =   : ]   Z   [       =   : ]   =   ]   C]	   V   5
      
V   : ]   `    [      =   : ]   C]	   `   ]   T D   Q[   :  Q Hߘ˘Ș	˘Ș#ʘԘ͘˘Ș	T휀      _super   _   extend!   Translation Info   title9   Ok, never show me this again	   text   btn-primary   classes   close   _onStrongOk	   bind   click   Ok   buttons!!      parent   options   .this       +H!!       !!	   text!!!!   classes!!!!   close!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!   title!!!!   buttons!!    !!            ;       5!!          _onStrongOkC            	                                       d    \       :                    
   C Q =֘3    setItem!!              +H;       5 !!       !!   template!!!!   xmlDependencies!!!!	   init!!!!   _onStrongOk!!    !!       +   _getWysiwygContructorC            	                                       4    ,       
                 5   5   5    ԘI 	   odoo   __DEBUG__   servicesM   web_editor.wysiwyg.multizone.translate!!              +H;       5!!       !!   assetLibs!!!!+   _getWysiwygContructor!!    !!          startC  N                                   
              ,    ,                 W   Q       
   :  "      AV   ,  R    
  QV      
:   ј/ؘ˘    getItem	   open   _super!!      .this         +H;"       5 !!          editableC d       	                                         >    6    	   (             =    W   QT     
V   : W  QV     
=   V   =   :    
=   C QV     
=   : 8ʘ  ΘȘ#И  i  [data-oe-translation-id], [data-oe-model][data-oe-id][data-oe-field], [placeholder*="data-oe-translation-id="], [title*="data-oe-translation-id="], [alt*="data-oe-translation-id="]	   find   filter   :has(   )	   attr!   data-oe-readonly   not%   [data-oe-readonly]!!      $wrapwrap   selector   $edit       +H;       5!!       !   _wysiwygInstanceC  P                                                 M    M  	                 W   QV       
=   [       ]    Q  AV   [      5   ]   ,  R  ՘ʘGϘ"Ә/    trigger_up   context_get   callback	   lang!!      context   .this        +H!!           callbackB         	            5 !!       !!   callback!!    !!       !!	   lang!!    ;5!!       !!   start!!!!   editable!!!!!   _wysiwygInstance!!    ;5 !!       C  4      Z   (      B                  M              Vd    Vd                          Q      QT  =    : W   QT  =   : W  QT  =   :    QT  =   :    QT  =   : W  QT  =   : W  QT  =   : W  QT  =   : W  QV  5      QV  5	      QV  5
      
[   =   ]   V  5
   5   5      
Z   =   `    : ]         
[   V  5
   5   5   [   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   : ]      ]       ]!      ]"      ]#      ]$   	   ]%   
   ]&      ]'      ](      ])      ]*      ]      ]      ]      ]      ]      ]   :    QV  5+      
[   V  5+   5   5      
Z   =,   `    : ]      ]       ]"      ]$   :    QV  5
      
[   =-   ]   V  5
   5   5      
Z   =,   `    : ]      ]       ]$   :    QV  5
      
['   =.   ]   V  5
   5   5      
Z   =,   `    : ]         
[   V  5
   5   5   [   =/   ]0   =1   ]2   =3   ]4   : ]      ]        ]!   !   ]"   "   ]$   #   ]5   $   ]/   %   ]1   &   ]3   :  	  QV      
[*   (   ]    )   ]6   :  
  QV  57      
[:   Z   =8   `    ]         
[+   V  57   5   59   D   Q[,   [-   =:   ];   =<   ]=   =>   ]?   =@   ]A   =B   ]C   : ]9   [2   .   ]D   /   ]E   0   ]F   1   ]G   ]H   3   ]"   4   ]:   5   ]I   6   ]<   7   ]>   8   ]@   9   ]B   : W  QV     
[@   Z   =8   `    ]   [;   =J   ]K   =L   ]M   =N   ]O   ]   <   ]%   =   ]J   >   ]L   ?   ]N   : W  QV  5P   Q   
V  =R    QV  5S   Q   
V  =T    Q[A      ]U   V  ]V    	  ]W      ]X      ]Y   ֘EɘȘɘȘɘɘɘɘɘ
ȘɘȘɘȘɘȘϘϘ՘.ʘ'ߘCʘȘj6ʘ)ʘ'ʘ:ʘ7ʘ8ʘȘ ]ʨ ʘ eʨ`ʘ\ʨ 4ʘyʘ  ʘ`ʘ  ʠʘ ʘ  ʘ  ʘ  ʘ ʘOʨ ɨ ՘-ߘGʘȘkʘ  ʠ+ʨ ɨ2՘.ʘ-ߘCʘȘgʘ Uʘɘ ՘(ʘ+ߘCʘȘg6ʘ.ʘ9ʘjȘ  ʘ  ʘ ʘ ʘ ʘ  ʘ !ʠʨ ɠ 1Иʘ  ʘkɠS՘@Ϙ'Wʘʘ!ʘʘ"ʘFȘ  ʘVʘ_ʘjϘlʠ  ʠ  ʘ wʠ'ʘ  ʘ  ʨ_Ȩ!bИϘ'ʘ<ʘ2Ϙ6ʘyʘ  ʘnʘrȨ#ݘIݘNʘ*ɘʘʘ ʘ,    web.Class   web.core   web.Dialog   web.time   wysiwyg.widgets   website.navbar   website.root   web.Widget   _t	   qweb   Dialog   extend7   website.pagesMenu.page_info   template   prototype   xmlDependencies   concate   /website/static/src/xml/website.pageProperties.xml   _   events   _onNameChanged+   keyup input#page_name   _onUrlChanged)   keyup input#page_url1   _onCreateRedirectChanged9   change input#create_redirect%   _onPasswordClicked?   click input#visibility_password%   _onPasswordChangedA   change input#visibility_password)   _onVisibilityChanged1   change select#visibility	   init   willStart   start   destroy	   save)   _getPageDependencies/   _getPageKeyDependencies+   _getSupportedMimetype   _getMainObject   _parse_date-   autocompleteWithGroups   LinkDialog_   /website/static/src/xml/website.contentMenu.xmlC   website.contentMenu.dialog.select?   website.contentMenu.dialog.edit+   _onAddMenuButtonClick'   click a.js_add_menu1   _onDeleteMenuButtonClick7   click button.js_delete_menu-   _onEditMenuButtonClick3   click button.js_edit_menu   _flatenize   setValue3   WebsiteNavbarActionWidgetG   /website/static/src/xml/website.xml   actions   _editMenu   edit_menu   _getPageOption   get_page_option   _onSave   on_save   _pageProperties   page_properties#   _togglePageOption%   toggle_page_option   header_overlay   header_color   header_visible   footer_visible9   pageOptionsSetValueCallbacks'   _openEditMenuDialog9   _onPagePropertiesButtonClick5   click a.js_page_properties/   _onClonePageButtonClick+   click a.js_clone_page1   _onDeletePageButtonClick-   click a.js_delete_page+   websiteNavbarRegistry   add   #content-menu'   websiteRootRegistry'   #list_website_pages)   PagePropertiesDialog   ContentMenu   EditMenuDialog   MenuEntryDialog)   SelectEditMenuDialog!!      require   Class	   core   Dialog	   time   weWidgets#   websiteNavbarData   websiteRootData   Widget   _t	   qweb)   PagePropertiesDialog   MenuEntryDialog)   SelectEditMenuDialog   EditMenuDialog   PageOption   ContentMenu   PageManagement   _deletePage   _clonePage      +H!!           _deletePage ^  a  ^  a  !     B          pageId %   fromPageManagement 	   self    B _  a   _  a  !                resolve    B H_  O`  @_  O`  !   	             dependencies   B r_  L`  j_  L`  !   3         5 5   B  ^`  `  V`  `  !            5    B  `  a  `  a  !   z  0       5 55!!          _clonePage 2a  
c  a  
c  "      2          pageId 	   self    B ]a  c  Ua  c  "   >   "          reject   B  b  b  a  b  "                B b  b  b  b  "   y         5 555!!            !!       !!+   keyup input#page_name!!!!)   keyup input#page_url!!!!9   change input#create_redirect!!!!?   click input#visibility_password!!!!A   change input#visibility_password!!!!1   change select#visibility!!    !!       	   initB              R          options 	   self   B            m         5    B c    [       Y          5    B   W    W     	         5 5!!          willStartB    +!    +!       #       	   self    B    !  z   !     x         5 5!!          startB  :!  )  2!  )     0  S       	   self   B ,#  $  $#  $     p              dep_text   B g#  #  _#  #                55   B $  %  $  %     2         5    B a%  &  Y%  &                  dep_text   B %  %  %  %               55   B U'  '  M'  '               55!!          destroyB  *  N*  )  N*     p          5!!       	   saveB \*  0  T*  0               	   self    context   B *  *  *  *              5    B 0  0  0  0     k   @          mo   B ]0  o0  U0  o0               5 55!!       )   _getPageDependenciesB 0  Y1  0  Y1     Q         5 !!       /   _getPageKeyDependenciesB z1  1  r1  1              5!!       +   _getSupportedMimetypeB  1  92  1  92     K         5!!          _getMainObjectB  Q2  2  I2  2              5 !!          _parse_dateB 2  w3  2  w3     )  0       5!!       -   autocompleteWithGroupsB 3  U5  3  U5     4   "          .this    D" 3  4  3  4     Y              response   D" ^4  4  ^4  4                  D" y4  4  y4  4              5 55   D" 4  P5  4  P5     b  0       5 5!!          _onUrlChangedB  l5  5  d5  5     	         5!!          _onNameChangedB  5  6  5  6       "       5!!       1   _onCreateRedirectChangedB  6  o7  6  o7              5 !!       )   _onVisibilityChangedB 7  8  7  8     *         5 !!       %   _onPasswordClickedB 8  8  8  8     D         5 !!       %   _onPasswordChangedB  8  )9  8  )9              5 !!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   willStart!!!!   start!!!!   destroy!!!!	   save!!!!)   _getPageDependencies!!!!/   _getPageKeyDependencies!!!!+   _getSupportedMimetype!!!!   _getMainObject!!!!   _parse_date!!!!-   autocompleteWithGroups!!!!   _onUrlChanged!!!!   _onNameChanged!!!!1   _onCreateRedirectChanged!!!!)   _onVisibilityChanged!!!!%   _onPasswordClicked!!!!%   _onPasswordChanged!!    !!       	   initB 9  :  9  :              5 !!          startB  :  <  :  <     t  #       5 !!       	   saveB  <  =  <  =     8   #       5!!       !!   xmlDependencies!!!!	   init!!!!   start!!!!	   save!!    !!       	   initB >  @  >  @       "       	   self   B  =?  ?  5?  ?              5 5!!       	   saveB  @  @  @  @     f        5 !!       !!   template!!!!   xmlDependencies!!!!	   init!!!!	   save!!    !!            !!       !!'   click a.js_add_menu!!!!7   click button.js_delete_menu!!!!3   click button.js_edit_menu!!    !!       	   initB 7B  B  /B  B     ~         5 !!          willStartB  B  >D  B  >D       3          context    .this   B 6C  IC  .C  IC     }         5    D" C  !D  C  !D              5 5!!          startB  MD   F  ED   F                D" E  F  E  F              5 5!!       	   saveB  .F  H  &F  H     u  b          _super    levels 	   data    context    .this   B F  G  F  G     E	         5    D" &G  H  &G  H     m	          5   B  H  H  H  H     
         5 5!!          _flatenizeB H  HI  H  HI       2          _dict    .this    D" I  8I  I  8I     Y         5 5!!       +   _onAddMenuButtonClickB gI  iK  _I  iK       2          menuType    .this    D" I  XK  I  XK     6         5 5!!       1   _onDeleteMenuButtonClickB K  +L  K  +L       "       5!!       -   _onEditMenuButtonClickB KL  DN  CL  DN     0   R          $menu 	   menu   D" _M  M  _M  M     D         5 5!!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   willStart!!!!   start!!!!	   save!!!!   _flatenize!!!!+   _onAddMenuButtonClick!!!!1   _onDeleteMenuButtonClick!!!!-   _onEditMenuButtonClick!!    !!       	   initB rN  N  jN  N     W         5 !!          setValueB N  zO  N  zO       "       5!!       !!	   init!!!!   setValue!!    !!            !!            !!       !!   edit_menu!!!!   get_page_option!!!!   on_save!!!!   page_properties!!!!%   toggle_page_option!!    !!          header_overlayB Q  YQ  Q  YQ              5 !!          header_colorB oQ  Q  gQ  Q     @         5 !!          header_visibleB Q  "R  Q  "R              5 !!          footer_visibleB :R  R  2R  R              5 !!       !!   header_overlay!!!!   header_color!!!!   header_visible!!!!   footer_visible!!    !!          startB  R  S  R  S     n  #       	   self    B R  S  R  S       0       5 5!!          _editMenuB S  U  S  U        2       )   beforeReloadCallback 	   self   B +T  U  #T  U        @          resolve    I   resolveWhenEditMenuDialogIsCancelled bT  T  5T  T              5 55!!       '   _openEditMenuDialogB U  !W  U  !W       B          rootID )   beforeReloadCallback 	   self    B V  W  V  W     V            B  dV  V  \V  V       0          B  V  V  V  V              5 555!!          _getPageOptionB 9W  W  1W  W       "       5!!          _onSaveB  W  X  W  X     7   "       	   self    B W  pX  W  pX     p           55!!          _pagePropertiesB  X  OY  X  OY       "          mo    B X  X  X  X     _         5 5!!       #   _togglePageOptionB jY  [  bY  [       b          mo    B Y  Y  Y  Y     =         5    B  X[  [  P[  [  !                B  [  [  [  [  !   P          5 55!!    
   !!   xmlDependencies!!!!   actions!!!!9   pageOptionsSetValueCallbacks!!!!   start!!!!   _editMenu!!!!'   _openEditMenuDialog!!!!   _getPageOption!!!!   _onSave!!!!   _pageProperties!!!!#   _togglePageOption!!    !!       !!5   click a.js_page_properties!!!!+   click a.js_clone_page!!!!-   click a.js_delete_page!!    !!        )   _getPageDependenciesB \  ]  \  ]  !            5 !!       9   _onPagePropertiesButtonClickB A]  ]  9]  ]  !            5 !!       /   _onClonePageButtonClickB ]  =^  ]  =^  !            5!!       1   _onDeletePageButtonClickB _^  ^  W^  ^  !             5 !!       !!   xmlDependencies!!!!   events!!!!)   _getPageDependencies!!!!9   _onPagePropertiesButtonClick!!!!/   _onClonePageButtonClick!!!!1   _onDeletePageButtonClick!!    !!       !!)   PagePropertiesDialog!!!!   ContentMenu!!!!   EditMenuDialog!!!!   MenuEntryDialog!!!!)   SelectEditMenuDialog!!    ;5!!       C                                                d  tr  d  tr  &                 T  =    : W   QT  =   : W  QT  =   : W  QT  =   :    QV   5      QV     
[   Z   =   `    ]   [    =   ]	   =
   ]   ]      ]      ]      ]      ]      ]
      ]   : W  QV  5      
[         
[   V  5   5   5   D   Q[	   [
   =   ]   =   ]   =   ]   : ]      ]      ]      ]      ]   : W  QV  5      
V  =    QV  5      
V  =    QV  GɘȘɘȘɘȘɘɘϘИϘ.ʘ%ϘBʘ}ʨ(+ʘ  ʨ+  ʘ  ʨ& Ȩ+ ՘BWʘ ʘʘ{Ș  ʠ+ʘ/ʘLʨ+ Ȩ- +ݘMݘJ    web.core   web.Widget   website.navbar   website.ace	   qweb   extendU   /website/static/src/xml/website.editor.xml   xmlDependencies   _onDropdownShow!   show.bs.dropdown/   _onCustomizeOptionClickG   click .dropdown-item[data-view-key]   events   willStart   start   _doCustomize+   _loadCustomizeOptions3   WebsiteNavbarActionWidget   _   prototype   actions   _hideEditor#   close_all_widgets   _enterEditMode	   edit   _launchAce   ace+   websiteNavbarRegistry   add   #customize-menu   #html_editor!!      require	   core   Widget#   websiteNavbarData!   WebsiteAceEditor	   qweb   CustomizeMenu   AceEditorMenu      +H!!       !!!   show.bs.dropdown!!!!G   click .dropdown-item[data-view-key]!!    !!          willStartC  Y                                   	            f  f  }f  f  &               	W   QW  QV             5   :    
=   : 0   QV  5      
V  V   O ̘ ؘϘɘؘ"    $   document   documentElement	   data   view-xmlid   viewName   _super   apply!!      arguments   .this         +H;       5 !!          startC           #                                      f  g  f  g  &   J            	W   QW  QV  5     -         
V  5      
V  :  QV  5      
=   :    V     
  QV  5	   
   
V  V   O ̘ M՘Рؘ"    viewName   _   defer   destroy	   bind   $el   is   .show+   _loadCustomizeOptions   _super   apply!!      arguments   .this         +H;3       5 !!          _doCustomizeC F                                              g  ah  g  ah  (                 W   QV       
[   =   ]   [    T  ]   ]   :    
   : JИʘ(͘ϘSM 	   _rpc?   /website/toggle_switchable_view   route   view_key   params	   then!!      viewKey   .this       +H!!       !!   view_key!!    !!       !!   route!!!!   params!!    !!           _doCustomize/<b   h  ^h  h  ^h  (                B  Wh  [h  Oh  [h  (             5 5;5!!       +   _loadCustomizeOptionsC           7                                      h  k  xh  k  (                 W   QV   5             
:  V   C0    QV   5      
=   :    QV      
[   =   ]   [    V   5	   ]
   ]   :    
   :  "̘+  )˘'՘ɘ$Иʘ.ӘϘX+   1   __customizeOptionsLoaded   Promise   resolve   $el   children   .dropdown-menu	   _rpcK   /website/get_switchable_related_views   route   viewName   key   params	   then!!      $menu   .this        +H!!       !!   key!!    !!       !!   route!!!!   params!!    !!        /   _loadCustomizeOptions/<b }i  k  ui  k  )      0          currentGroup   B j  k  j  k  *              55;5!!       /   _onCustomizeOptionClickC Q                                   	           k  l  k  l  +               W  QT      
  Q      T  5   :    
=   : W   QV     
V    Q  ΘҘϘȘӘ    preventDefault   $   currentTarget	   data   viewKey   _doCustomize!!      ev   viewKey   .this       +H;       5!!          _onDropdownShowC           	                                      5l  Vl  -l  Vl  +               W   QV       
  Q Ϙ +   _loadCustomizeOptions!!      .this         +H;       5!!       !!   xmlDependencies!!!!   events!!!!   willStart!!!!   start!!!!   _doCustomize!!!!+   _loadCustomizeOptions!!!!/   _onCustomizeOptionClick!!!!   _onDropdownShow!!    !!            !!            !!       !!#   close_all_widgets!!!!	   edit!!!!   ace!!    !!          startC  }      	                                         Om  m  Gm  m  +               	W   QW  Q    5   5      
>   5   5      :    5   5   H   V     
  QV  5      
V  V   O ̘ iРؘ"    window   location	   hash   substr   prototype   length   _launchAce   _super   apply!!      arguments   .this         +H;#       5 !!          _enterEditModeC                                                 n  +n  n  +n  ,   B             W   QV       
  QEϘ    _hideEditor!!      .this         +H;       5!!          _hideEditorC  +         
                                      @n  wn  8n  wn  ,   n             W   QV   5       V   5       
  Q晞q՘    globalEditor   do_hide!!      .this         +H;"       5 !!          _launchAceC  A                                               n  q  n  q  ,                 W  QV     Q    A    ,  R W   QV      
    QV     ʘϘȘ}Ԡ     Promise	   then!!   	   self	   prom   .this        +H!!       !   _launchAce/prom<b n   o  n   o  ,             5 !!          _launchAce/<b  4o  q  ,o  q  ,   b  P       5 ;5!!       !!   actions!!!!   start!!!!   _enterEditMode!!!!   _hideEditor!!!!   _launchAce!!    ;5 !!       C  b          $                                     s  t  r  t  0                 T  =    :    QT  =   :    QT  =   : W   QV   5      
[       ]   : W  QV  Fɘɘɘɘ ɘȘ՘:ʘȠ.    web.config!   web.DebugManager   website.navbar   WebsiteNavbar   include   start!!      require   config   DebugManager#   websiteNavbarData!   DebugManagerMenu      +H!!          startC  n                                               s  bt  s  bt  0               	W   QW  Q       
:  5      AV  ,  R    
V     
=   :  QV  5      
V  V   O ̘ ̘!ؘ"    isDebug   prependTo   $   .o_menu_systray   _super   apply!!      arguments   .this         +H;#       5 !!       !!   start!!    ;5 !!       C        (                                        t  ԃ  t  ԃ  4                 T  =    :    QT  =   :    QT  =   : W   Q   5      QV   5      
[   Z   =   `    =   `   ]   Z   =	   `    ]
         
[    V   5   5   5   [   =   ]   =   ]   : ]         
[   V   5   5   D   Q[   [   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]    : ]      ]!      ]"      ]      ]   	   ]#   
   ]$      ]      ]      ]      ]      ]      ]      ]   : W  QV   5%   &   
V  ='    QBɘɘɘɘ#ɘȘИ՘Aʘ%Ϙ#Ϙ.SʘʘȘvYʘ6ʘ/ʘ0ʘ"ʘ$ʘ*ʘȘ ~ʘ dʨ6˨8 3ʘʘ  ʘ5ʘlʘ|ʘ  ʘ  ʘiʘ  ʨ4  Ȩ8 ݘL    web.core'   website.editor.menu   website.navbar   _t3   WebsiteNavbarActionWidget   extendE   web_editor.compiled_assets_wysiwyg?   website.compiled_assets_wysiwyg   assetLibsU   /website/static/src/xml/website.editor.xml   xmlDependencies   _   prototype   actions   _startEditMode	   edit   _onSave   on_save   custom_events3   _onContentWillBeDestroyed3   content_will_be_destroyed-   _onContentWasRecreated+   content_was_recreated-   _onSnippetWillBeCloned-   snippet_will_be_cloned!   _onSnippetCloned   snippet_cloned#   _onSnippetDropped   snippet_dropped%   _onEditionWillStop)   edition_will_stopped)   _onEditionWasStopped'   edition_was_stopped	   init   start%   _addEditorMessages#   _targetForEdition+   websiteNavbarRegistry   add   #edit-page-menu!!      require	   core   EditorMenu#   websiteNavbarData   _t   EditPageMenu      +H!!            !!       !!	   edit!!!!   on_save!!    !!            !!            !!       !!3   content_will_be_destroyed!!!!+   content_was_recreated!!!!-   snippet_will_be_cloned!!!!   snippet_cloned!!!!   snippet_dropped!!!!)   edition_will_stopped!!!!'   edition_was_stopped!!    !!        	   initC           (                                    " x  y  x  y  4                 	W  QW  QV  5       
V  V  O QV     
=   [   C]       ]    QV     5   E'   Q   5   5	   
   
=   : >0   Q   5   5      
   =   : W   Q   5      
[   @V    Q̘ ܘ&՘ʘ֜R)̘8ȘDߘ)    _super   apply   trigger_up   context_get   extra   callback   editable   window   location   search   indexOf   enable_editor!   _editorAutoStart	   href   replace   $1   history   replaceState!!      context   url   arguments   .this        +H!!          callbackC 
           	                                       x  y  x  y  4   "             T     Q (ɘ !!      ctx        +H;       5!!       !!   extra!!!!   callback!!    !!;   ([?&])&*enable_editor[^&#]*&?    !!            ;5!!          startC          b                          -            y  #|  y  #|  4               	W  QW  QV  5       
V  V  O W   QV  5   7         
Z   V   `    V     
:  `   : V     
:     
=   : 	   
=
   : W  QV     E%   QV     
:     
:  =   H   V           5      
=   : : 0   QV  5      
=    QV  5      
=   V     
=   :    
:  V     
C: V     
:   QV     
:     
V  5    QV   ̘ "ؘȘ"јɘӘ65˘ϘϘȘۘʘɘ?٘C&ʘϘ
Θnޘ    _super   apply!   _editorAutoStart   Promise   all   _startEditMode#   _targetForEdition   filter%   #wrapwrap.homepage	   find   #wrap   length	   html	   trim      $	   qweb   renderO   website.homepage_editor_welcome_message   $welcomeMessage   addClassC   o_homepage_editor_welcome_message   css   min-height   parent	   main   height   outerHeight   empty   append!!      def   $wrap   arguments   .this         +H;3       5!!          _startEditModeE  6        L                        &            A|  *~  3|  *~  6                     Qԉ      Q      Q   5                
=   [          
:  ]    Q   5         5      
  Q   C0    Q  A   ,  R    
   5	   :          Q   
   
  Q   A   ,  R             Q   5      
  Q         ̙86̘1˘
8 1Ȩ7֘(̘ȘМL̘֠ϘԘҘИϘ
ט  ՘(    editModeEnable   trigger_up)   widgets_stop_request#   _targetForEdition   $target   $welcomeMessage   detach   prependTo   document	   body%   _addEditorMessages   Promise-   $editorMessageElements   mousedown!!   	   self   res   .generator   .this         +H!!       !!   $target!!    !!        '   _startEditMode/res<b }  }  y}  }  8             5;        5!!          _onSaveC                                                     ;~  ?~  3~  ?~  8   C               F !!              +H;       5 !!       %   _addEditorMessagesC  c      	                             
            [~  7  S~  7  8   c     	       W  QV      
:  W   QV  V      
=   :    
=   :    
=      =   : : 0   Q j˘ȘԘϘ>ژ8ɘ< #   _targetForEdition	   find[   .oe_structure.oe_empty, [data-oe-type="html"]   not+   [data-editor-message]	   attr'   data-editor-message3   DRAG BUILDING BLOCKS HERE-   $editorMessageElements!!      $target   .this         +H;       5 !!       #   _targetForEditionC                                                   R  l  J  l  8   Z                     =   :  ]Ϙ    $   #wrapwrap!!              +H;       5 !!       3   _onContentWillBeDestroyedC 2                                                     8               W   QV       
=   [    T  5   5   ]    Q ՘(Ҙ؜C    trigger_up)   widgets_stop_request	   data   $target!!      ev   .this       +H!!       !!   $target!!    ;       5!!       -   _onContentWasRecreatedC 8                                               T    T  8                W   QV       
=   [    C]   T  5   5   ]    Q ՘)ҘŜV    trigger_up+   widgets_start_request   editableMode	   data   $target!!      ev   .this       +H!!       !!   editableMode!!!!   $target!!    ;       5!!       %   _onEditionWillStopC ]                                             p    h    8   x            W   QV   5    E   QV   5       
=   : QV      
=   [    V      
:  ]    Q }>՘(˘ȘМL -   $editorMessageElements   removeAttr'   data-editor-message   trigger_up)   widgets_stop_request#   _targetForEdition   $target!!      ev   .this       +H!!       !!   $target!!    ;       5!!       )   _onEditionWasStoppedC >                                             ;    3    8   C            W   QV       
=   [    V      
:  ]    QV   B0   Q H՘)˘ȘϜM˘    trigger_up+   widgets_start_request#   _targetForEdition   $target   editModeEnable!!      ev   .this       +H!!       !!   $target!!    ;       5 !!       -   _onSnippetWillBeClonedC 2                                             ȁ        8               W   QV       
=   [    T  5   5   ]    Q ՘(Ҙ؜C    trigger_up)   widgets_stop_request	   data   $target!!      ev   .this       +H!!       !!   $target!!    ;       5 !!       !   _onSnippetClonedC }         $                         
           +    #    8   3            W   QV       
=   [    C]   T  5   5   ]    QT  5   5   7   V       
=   [   C]   T  5   5   ]    Q晞 8՘)ҘŜV՘)ҘŝW    trigger_up+   widgets_start_request   editableMode	   data   $target   $origin!!      ev   .this       +H!!       !!   editableMode!!!!   $target!!    !!       !!   editableMode!!!!   $target!!    ;"       5 !!       #   _onSnippetDroppedC G                                                     8               W   QV       
=   [    C]   T  5   5   ]    QV      
  Q ՘)ҘŜVϘ    trigger_up+   widgets_start_request   editableMode	   data   $target%   _addEditorMessages!!      ev   .this       +H!!       !!   editableMode!!!!   $target!!    ;       5 !!       !!   assetLibs!!!!   xmlDependencies!!!!   actions!!!!   custom_events!!!!	   init!!!!   start!!!!   _startEditMode!!!!   _onSave!!!!%   _addEditorMessages!!!!#   _targetForEdition!!!!3   _onContentWillBeDestroyed!!!!-   _onContentWasRecreated!!!!%   _onEditionWillStop!!!!)   _onEditionWasStopped!!!!-   _onSnippetWillBeCloned!!!!!   _onSnippetCloned!!!!#   _onSnippetDropped!!    ;5 !!       C           N                                     Y  }  Q  }  ;                 T  =    : W   QT  =   : W  QT  =   : W  QV   5      QV     
[       ]   :    QV  5      
[         
[   V  5   5   5	   D   Q[   [   =
   ]   : ]	      ]
   : W  QV  5      
V  =    Q[   V  ]      ]   @ɘȘɘȘɘȘϘИ#ʘɘ '՘?WʘȘ  ʘDȠ|ݘGɘʘ*    web.core   web.Dialog   website.navbar   _t   extend   start3   WebsiteNavbarActionWidget   _   prototype   actions+   _onMobilePreviewClick'   show-mobile-preview+   websiteNavbarRegistry   add   #mobile-menu   MobileMenu'   MobilePreviewDialog!!      require	   core   Dialog#   websiteNavbarData   _t'   MobilePreviewDialog   MobileMenu      +H!!           startC          0                                      "  $    $  ;                 	W   QW  QV     QV  5       
=    QV  5       
=   =        QV        =   [   =   ]	      5
      
   5   5   =   : ]   : 0   QV  5      
=       QV  5      
V  5    QV  5      
V  V   O ̘  ʘ
٘*bؘʘȘɘeޘ  ݘ ؘ"    $modal   addClass#   oe_mobile_preview   on   click   .modal-header   $   <iframe/>   mobile-viewport   id   param   querystring   window   location	   href   mobilepreview   src   $iframe	   load   appendTo   $el   _super   apply!!   	   self   arguments   .this        +H!!           start/<b          ;   X         5!!       !!   id!!!!   src!!    !!           start/<b P  ؆  H  ؆  ;            5;5!!       !!   start!!    !!            !!            !!       !!'   show-mobile-preview!!    !!       +   _onMobilePreviewClickC           ,                                         	    ;        	       W   QV   5    E   QV   5       
:      V   5       
:  V      AV   [       =   : =   ]   ,  R    
:  0    Q ИИ"ИwӘ1˘Ҙʘ]ɘ    mobilePreview   isDestroyed   close   Mobile preview=    <span class="fa fa-refresh"/>   title	   open!!      .this         +H!!       !!   title!!    ;"       5!!       !!   actions!!!!+   _onMobilePreviewClick!!    !!       !!   MobileMenu!!!!'   MobilePreviewDialog!!    ;5 !!       C  5      +                                                 ?                 T  =    : W   QT  =   :    QT  =   : W  QT  =   :    QV   5      QV   5      Q=      QV  5      
[   Z   =	   `    ]
         
[    V  5   5   5   D   Q[   [   =   ]   =   ]   : ]         
[   V  5   5   5   D   Q[   [   =   ]   =   ]   =   ]   : ]   [      =   : ]      =   : ]      =   : ]      =   : ]    ]!      ]"      ]   	   ]   
   ]#      ]$      ]%      ]&      ]'      ]      ]      ]   : W  QV  5(   )   
V  =*    QV  AɘȘɘɘɘȘɘɘϘϘ˘$՘CϘ.Wʘ'ʘȘ  Uʘʘ,ʘiȘ  ˘Ș˘Ș9˘Ș+˘͘ʠ+ʠ  ʘ1ʘ5ʘ3ʘ  ʘ  ʘ Rʘ  ʨCʨ? (ȨFmݘR    web.core   web.Dialog   website.navbar   website.utils	   qweb   _t%   enable_new_content3   WebsiteNavbarActionWidget   extendU   /website/static/src/xml/website.editor.xml   xmlDependencies   _   prototype   actions%   _handleCloseDemand#   close_all_widgets   _createNewPage   new_page   events%   _onBackgroundClick   click!   _onModuleIdClick-   click [data-module-id])   _onBackgroundKeydown   keydown-   Failed to install "%s"   failede   The installation of an App is already in progress.#   installInProgressI   Do you want to install the "%s" App?   installNeeded   Installing "%s"#   installPleaseWait   newContentText   start   _focusFirstLink   _focusLastLink   _hideMenu   _install   _showMenu+   websiteNavbarRegistry   add'   .o_new_content_menu!!	      require	   core   Dialog#   websiteNavbarData   wUtils	   qweb   _t   enableFlag   NewContentMenu      +H!!            !!            !!       !!#   close_all_widgets!!!!   new_page!!    !!            !!            !!       !!   click!!!!-   click [data-module-id]!!!!   keydown!!    !!       !!   failed!!!!#   installInProgress!!!!   installNeeded!!!!#   installPleaseWait!!    !!          startC          6                                      ō        ?                 	W  QW  QV  B0    QV  V     
=   : 0   QV  5      
=   : W   Q      
V        QV  V  5      
=   : 0	   QV  V  5      
=
   : 0   Q   5      
:     7   I   V     
  QV  5      
V  V  O ̘ ˘Ԙɘ*՘	Ș;٘  ٘ɘ,٘ɘ+ј1Рؘ"    pendingInstall   $7   #o_new_content_menu_choices-   $newContentMenuChoices	   find-   .o_new_content_element   _	   each   a:eq(0)   $firstLink   a:last   $lastLink   deparam   querystring   undefined   _showMenu   _super   apply!!      $modules   arguments   .this         +H!!           start/<b   +  |  +  ?             5 ;5!!          _createNewPageC  _       	   '                         	             ,    $    @                         
[   =   ]      =   : ]      =   : ]       ]   :    
   : Eјʘ˘Ș˘ȘʘϘ ţ      prompt   editor_new_page   id   New Page   window_title   Page Title   input	   init	   then!!              +H!!       	   initB          @             5 !!       !!   id!!!!   window_title!!!!   input!!!!	   init!!    !!        !   _createNewPage/<b   
     
  @               B          A             5 5;5!!       %   _handleCloseDemandC           	                                      )  >  !  >  A                W   QV       
  Q  Ϙ    _hideMenu!!      .this         +H;       5 !!          _focusFirstLinkC           	                                      W  s  O  s  A               W   QV   5       
  Q 
Ԙ    $firstLink   focus!!      .this         +H;       5 !!          _focusLastLinkC           	                                              A   ;            W   QV   5       
  Q >Ԙ    $lastLink   focus!!      .this         +H;       5 !!          _hideMenuC  M                                                 +    +  A   i            W   QV   B0    QV   5      
=    Q      =   :    
=    Q l˘٘1ޘ
"    shown-   $newContentMenuChoices   addClass   o_hidden   $	   body   removeClass%   o_new_content_open!!      .this         +H;       5 !!          _installC          &                                     =  )  5  )  A                 W   QV   C0    Q      =   :    
=   =    QV      
[    =   ]   =	   ]
   Z   Z   T  `    `    ]   :    
   :  ˘
Иʘʘ"ҘϘ[>    pendingInstall   $	   body   css   pointer-events	   none	   _rpc!   ir.module.module   model1   button_immediate_install   method	   args   guardedCatch!!      moduleId   .this       +H!!       !!   model!!!!   method!!!!	   args!!    !!           _install/<b    &    &  A            5 ;5!!          _showMenuC  3                                               <  {  4  {  A                 W   QV      Q    A    ,  R    
   :  ʘ
ϘϘ}      Promise	   then!!   	   self   .this        +H!!          _showMenu/<b h  ϕ  `  ϕ  A            5!!          _showMenu/<b  ޕ  x  ֕  x  A            5;5!!       %   _onBackgroundClickC J                                                      A   G            W   QV   5       
=   :    V      
  Q   V      
  Q晞 L՘2՘И -   $newContentMenuChoices   hasClass   o_hidden   _showMenu   _hideMenu!!      ev   .this       +H;2       5!!       )   _onBackgroundKeydownC ?        H                          !                   A               W   QV   5        T  5   x   5   5   5   Hy'      5   5   5   Hy.   z   V      
  QT     
  Q   T  5	   V   V   5
   D   Q   5   V   5   >7H#   V      
  QT     
  QP   V   5
   D   Q   5   V   5   >7H#   V      
  QT     
  QV   B0
   Q   晞 ΘCBp xx ̘*ϘΘ`?Ϙ՘>ϘϠ˘`    shown   which   $   ui   keyCode   ESCAPE   TAB   _hideMenu   stopPropagation   shiftKey   firstTab   document   activeElement   $firstLink   _focusLastLink   preventDefault   $lastLink   _focusFirstLink!!      ev   .this       +H;r       5 !!       !   _onModuleIdClickC                                   *            Ř        C                 W  QV     Q        T  5   :    Q      
=   :    Q      
=   :    Q      
:  W   Q=   W  Q      
=   :    Q      
=	   :    QT  
   
  QT     
  QV  5      V  5   5   W  Q      5      
V  5   5      : W  QZ   [     =   : ]   =   ]   C]       ]   `    [     =   : ]   C]   `   W  Q  AV  [   V   ]   =   ]           =   [   V  ]   : ]   V  ]   ,  R    
  Q?ʘҘɘјɘјɘ̘Șʘј	ɘјɘΘΘ٘4Ș6	˘ȘʘϨE J˘ȘѠϘɘʘԘɘȘ͘ʘa    $   currentTarget	   find   a i   a p	   text   	   data   module-id!   module-shortdesc   stopPropagation   preventDefault   pendingInstall   newContentText#   installInProgress   _   str   sprintf   installNeeded   Install   btn-primary   classes   close   click   Cancel   title   medium	   size   <div/>   $content   buttons	   open!!      ev	   self   $el   $i   $p   title   content   buttons   moduleId	   name   .this      +H!!          clickB            C   
  0          $finalPosition   B    T    T  C            5    B          C             5   B  ݜ    ՜    E   %          5    B          E             5 5!!       !!	   text!!!!   classes!!!!   close!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!	   text!!    !!       !!   title!!!!	   size!!!!   $content!!!!   buttons!!    ;5!!       !!   xmlDependencies!!!!   actions!!!!   events!!!!   newContentText!!!!   start!!!!   _createNewPage!!!!%   _handleCloseDemand!!!!   _focusFirstLink!!!!   _focusLastLink!!!!   _hideMenu!!!!   _install!!!!   _showMenu!!!!%   _onBackgroundClick!!!!)   _onBackgroundKeydown!!!!!   _onModuleIdClick!!    ;5!!       C  ,      p         _                  1            u    m    I                 T  =    :    QT  =   : W   QT  =   : W  QT  =   :    QT  =   :    QT  =   : W  QT  =   :    QT  =   : W  Q   5      Q=	      QV  
   
[   =   ]   Z   =   `    ]   [    =   ]   ]      ]      ]   :    QV  
   
[   =   ]   Z   =   `    ]      ]      ]      ]      ]   :  	  QV  
   
[   =   ]   Z   =   `    ]   [	   =   ]   ]   
   ]      ]      ]      ]      ]   :  
  QV  
   
[   =   ]   Z   =   `    ]   
]      ]      ]      ]      ]      ]       ]!   :    QV  
   
[   ="   ]   Z   =   `    ]      ]   :    QV   
   
   5#   [-      ]      ]$      ]%      ]&      ]'      ](      ]       ])   !   ]*   "   ]+   #   ],   $   ]-   %   ].   &   ]/   '   ]0   (   ]1   )   ]2   *   ]3   +   ]4   ,   ]5   :    QV  
   
[:   =6   ]   Z   =   `    ]   [.   =7   ]8   =9   ]:   =;   ]<   ==   ]>   ]   X,]?   2]@   B]A   /   ]   0   ]   1   ]B   2   ]C   3   ]D   4   ]E   5   ]7   6   ]9   7   ]=   8   ];   9   ]F   :    QV  
   
[B   =G   ]   Z   =   `    ]   [;   =H   ]I   =J   ]K   ]   <   ]   =   ]   >   ]J   ?   ]H   @   ]L   A   ]M   :    QV  
   
[K   =N   ]   Z   =   `    ]   [C   =O   ]P   =Q   ]R   ]   D   ]   E   ]S   F   ]T   G   ]U   H   ]V   I   ]Q   J   ]O   :    QV  
   
[W   =W   ]   V  5X   5   Y   
Z   =   `    : ]   B]Z   B][   B]\   B]]   B]^   L   ]   M   ]   N   ]   O   ]_   P   ]`   Q   ]a   R   ]b   S   ]c   T   ]d   U   ]e   V   ]f   :    QV  5g   
   
[]   h   
   
[X   V  5g   5X   5i   D   Q[Y   [Z   =j   ]k   : ]i   [   ]   \   ]j   : W  QV  5l   !   
V  =m    Q[^      ]n   V  ]o   =ɘɘɘȘɘȘɘɘɘɘɘȘɘ
ɘɘȘИ˘  Иʘ"Ϙ+Ϙ%ʘQʘɘ ,Иʘ'Ϙ+ʘ  ʘ"ʘ rʘqɘ hИʘϘ+Ϙ2ʘ /ʘ .ʘ;ʘ  ʘ	ɘ ИʘϘ+ʘSʘ  ʘ  ʘDʘ@˘~ɨK)ИʘϘ+ʘɠژ.ʘ  ʘHʘ3ʘsʘXʘ  ʘ  ʘ`ʘWʘ Mʘ  ʘCʘVʘaʘaʘyʘwʘ  ʘ}ʘhɘ 
И$ʘ.Ϙ+ʘ7ʘ7ʘFϘJȘ"!ʘ ʨQʘRʘ  ʘVʘCʘ]ʘ  ʘ_ʨS<ʨL 
WɨT?Иʘ%Ϙ+ʘ<Ϙ0ʘ[ʘ ^ʘ  ʘEʘ :ʘɘ И!ʘ+Ϙ+ʘ/Ϙ*ʘ uʘKʘdʘ  ʘ  ʘ  ʘɘ +Иʘ%ژ9ʘȘUʘ  ʘ ʠ$ʘ (ʨY ʘ  ʘ  ʘ Rʘ  ʘ  ʨT -ɨY ՘<WʘȘʘ  ʘȘ ݘEʘ ɘ    web.core   web.Class   web.Dialog   web.mixins   web.rpc   web.Widget   wysiwyg.widgets   website.navbar   _t   ([\u2000-\u206F\u2E00-\u2E7F'!"#\$%&\(\)\*\+,\-\.\/:;<=>\?@\[\]\^_`\{\|\}~\s]+|^|$)   extend-   website.seo_suggestion   templateO   /website/static/src/xml/website.seo.xml   xmlDependencies   select/   click .o_seo_suggestion   events	   init7   website.seo_suggestion_list   start   refresh   addSuggestions'   website.seo_keyword   destroyG   click a[data-action=remove-keyword]   _updateTitle%   _updateDescription!   website.seo_list   maxKeywords   keywords   isFull   exists   add'   website.seo_preview   PropertiesMixin   url   title   changeTitle   description#   changeDescription   changeKeywords   headers   getOgMeta   images   company   bodyText   heading1   heading2   isInBody   isInTitle   isInDescription   isInHeading1   isInHeading2E   website.seo_meta_title_description   _titleChangedI   input input[name=website_meta_title]   _seoNameChangedE   input input[name=website_seo_name]'   _descriptionOnInput[   input textarea[name=website_meta_description])   _descriptionOnChange]   change textarea[name=website_meta_description];   maxRecommendedDescriptionSize;   minRecommendedDescriptionSize/   showDescriptionTooSmall   getTitle   getUrl   getDescription%   getRealDescription   _renderPreview3   website.seo_meta_keywords   _confirmKeywordO   keyup input[name=website_meta_keywords]   _addKeyword;   click button[data-action=add]   _getLanguages   _updateTable?   website.seo_meta_image_selector#   _onClickUploadImg1   click .o_meta_img_upload#   _onClickSelectImg#   click .o_meta_img   setTitle   setDescription   _setDescription'   _updateTemplateBody3   website.seo_configuration   prototype   concat   canEditTitle%   canEditDescription   canEditKeywords   canEditLanguage   canEditUrl-   disableUnsavableFields   update   getMainObject   getSeoObject   loadMetaData   saveMetaData   titleChanged%   descriptionChanged3   WebsiteNavbarActionWidget   _   actions'   _promoteCurrentPage)   promote-current-page+   websiteNavbarRegistry   #promote-menu   SeoConfigurator   SeoMenu!!      require	   core   Class   Dialog   mixins   rpc   Widget   weWidgets#   websiteNavbarData   _t+   WORD_SEPARATORS_REGEX   Suggestion   SuggestionList   Keyword   KeywordList   Preview   HtmlPage)   MetaTitleDescription   MetaKeywords#   MetaImageSelector   SeoConfigurator   SeoMenu      +H!!       !!/   click .o_seo_suggestion!!    !!       	   initB   .    .  I            5 !!          selectB  >  h  6  h  I            5 !!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   select!!    !!        	   initB   y    y  I            5 !!          startB          I   5         5!!          refreshB          I   Y  2       	   self    context    B   .    .  I            5    B ̤  
  Ĥ  
  I   y         5 5!!          addSuggestionsB %  ߦ    ߦ  I     2       	   self    regex   B ȥ        I   u         5    B   ܦ    ܦ  I               B     z    I   /         5 55!!       !!   template!!!!   xmlDependencies!!!!	   init!!!!   start!!!!   refresh!!!!   addSuggestions!!    !!       !!G   click a[data-action=remove-keyword]!!    !!       	   initB         I   M         5 !!          startB  Ш    Ȩ    I   }	  "       	   self    B         I   Y
         5    B  <    4    I   
         5 5!!          destroyB     *    *  I            5!!          _updateTitleB  @    8    I     2       5 !!       %   _updateDescriptionB    Ĭ    Ĭ  I     2       5 !!       !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   start!!!!   destroy!!!!   _updateTitle!!!!%   _updateDescription!!    !!        	   initB [    S    I            5 !!          startB    Q    Q  I   \  2       	   self   B ,  M  $  M  I            5 5!!          keywordsB  c  ծ  [  ծ  I     "          result   B    Į    Į  I   H         5 5!!          isFullB      ݮ    I            5 !!          existsB )  Y  !  Y  I            5 !!          addD l    ^    I     F       	   self    B    ۰    ۰  I   A         5    B    8    8  I            5 5!!    	   !!   template!!!!   xmlDependencies!!!!   maxKeywords!!!!	   init!!!!   start!!!!   keywords!!!!   isFull!!!!   exists!!!!   add!!    !!       	   initB 3    +    K      "       5!!       !!   template!!!!   xmlDependencies!!!!	   init!!    !!        	   initB  H    @    L   X          5 !!          urlB    A    A  L            5!!          titleB  P  t  H  t  L   `         5!!          changeTitleB         L            5!!          descriptionB    ?    ?  L            5!!       #   changeDescriptionB Z  ѵ  R  ѵ  L   j         5!!          keywordsB      ۵    L            5 !!          changeKeywordsB         L            5 !!          headersB   J    J  L              B  -  G  %  G  L   =         5 5!!          getOgMetaB  ]    U    L   m         5!!          imagesB    b    b  L               B  ϸ  
  Ǹ  
  L            5    B    _    _  L   (         5 5!!          companyB  s    k    L            5!!          bodyTextB          L            5 !!          heading1B    \    \  L            5 !!          heading2B  n    f    L   ~         5 !!          isInBodyB Ϻ  6  Ǻ  6  L            5 !!          isInTitleB I    A    L   Y         5!!          isInDescriptionB ƻ  0    0  L            5!!          isInHeading1B F    >    L   V	         5 !!          isInHeading2B ü  *    *  L   	         5 !!       !!	   init!!!!   url!!!!   title!!!!   changeTitle!!!!   description!!!!#   changeDescription!!!!   keywords!!!!   changeKeywords!!!!   headers!!!!   getOgMeta!!!!   images!!!!   company!!!!   bodyText!!!!   heading1!!!!   heading2!!!!   isInBody!!!!   isInTitle!!!!   isInDescription!!!!   isInHeading1!!!!   isInHeading2!!    !!       !!I   input input[name=website_meta_title]!!!!E   input input[name=website_seo_name]!!!![   input textarea[name=website_meta_description]!!!!]   change textarea[name=website_meta_description]!!    !!        	   initB 4    ,    L   D         5 !!          startB          L     b       5 !!          getTitleB    X    X  Q   /          5 !!          getUrlB  h  N  `  N  Q             5 !!          getDescriptionB  f    ^    Q   }         5 !!       %   getRealDescriptionB          Q            5 !!          _titleChangedB    D    D  Q            5!!          _seoNameChangedB  ]  "  U  "  Q   t         5!!       )   _descriptionOnChangeB  @    8    Q   W         5 !!       '   _descriptionOnInputB          Q     b       5 !!          _renderPreviewB    -    -  S   S   2       5 !!       !!   template!!!!   xmlDependencies!!!!   events!!!!;   maxRecommendedDescriptionSize!!!!;   minRecommendedDescriptionSize!!!!/   showDescriptionTooSmall!!!!	   init!!!!   start!!!!   getTitle!!!!   getUrl!!!!   getDescription!!!!%   getRealDescription!!!!   _titleChanged!!!!   _seoNameChanged!!!!)   _descriptionOnChange!!!!'   _descriptionOnInput!!!!   _renderPreview!!    !!       !!O   keyup input[name=website_meta_keywords]!!!!;   click button[data-action=add]!!    !!       	   initB 3    +    T   =         5 !!          startB          T     "       	   self    B  E    =    T   O         5    B          T             5    B         T            5    B =  c  5  c  T   G         5    B          T            5 5!!          _addKeywordB          T            5!!          _confirmKeywordB         T     "       5 !!          _getLanguagesB    9    9  T      2       	   self    context    B c  v  [  v  T   m         5    B   6    6  T            5 5!!          _updateTableB O    G    T   Y  2       5 !!    	   !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   start!!!!   _addKeyword!!!!   _confirmKeyword!!!!   _getLanguages!!!!   _updateTable!!    !!       !!1   click .o_meta_img_upload!!!!#   click .o_meta_img!!    !!       	   initB   3    3  T               D" A  t  A  t  T   K
         5 5!!          setTitleB E  ~  =  ~  T   O         5 !!          setDescriptionB         T            5 !!          _setDescriptionB         T     "       5 !!       '   _updateTemplateBodyB    C    C  T            5!!       #   _onClickSelectImgB ^    V    T   h         5!!       #   _onClickUploadImgB         T     "       	   self    B         T            5 5!!    
   !!   template!!!!   xmlDependencies!!!!   events!!!!	   init!!!!   setTitle!!!!   setDescription!!!!   _setDescription!!!!'   _updateTemplateBody!!!!#   _onClickSelectImg!!!!#   _onClickUploadImg!!    !!        	   initB 2  	  *  	  T   <         5 !!          startB          T   "  "       	   self    B          T            5 5!!          destroyB          T     #      5 !!       -   disableUnsavableFieldsB          U   C   "       	   self   B 	        U   |           55!!          updateB          U   [  r       	   self    B  O    G    Y   c   0       5 5!!          getMainObjectB          Y   /  "          mainObject    B e    ]    Y   y         5 5!!          getSeoObjectB    #    #  Y     "          seoObject    B         Y            5 5!!          loadMetaDataB  9  u  1  u  Y   M  "          obj    B   r    r  Y     @          resolve    B    Y    Y  Y   4         5 55!!          saveMetaDataB   6    6  Y     2       5 !!          titleChangedB  L    D    Y   `  "       	   self   B  m    e    Y            5 5!!       %   descriptionChangedB          Y     "       	   self   B  (         Y   <         5 5!!       !!   template!!!!   xmlDependencies!!!!   canEditTitle!!!!%   canEditDescription!!!!   canEditKeywords!!!!   canEditLanguage!!!!   canEditUrl!!!!	   init!!!!   start!!!!   destroy!!!!-   disableUnsavableFields!!!!   update!!!!   getMainObject!!!!   getSeoObject!!!!   loadMetaData!!!!   saveMetaData!!!!   titleChanged!!!!%   descriptionChanged!!    !!            !!            !!       !!)   promote-current-page!!    !!       	   initB   #    #  Y     "       5!!       '   _promoteCurrentPageB  @  e  8  e  Y   T         5!!       !!   actions!!!!	   init!!!!'   _promoteCurrentPage!!    !!       !!   SeoConfigurator!!!!   SeoMenu!!    ;5!!       C            O                                     r  T  j  T  \                 T  =    : W   QT  =   :    QT  =   : W  QV  5      
[   Z   =   `    =   `   ]         
[    V  5	   5
   5   D   Q[   [   =   ]   =   ]   : ]      ]      ]      ]   : W  QV  5      
V  =    QGɘȘɘɘ-ɘȘ՘Fʘ%Ϙ#KʘʘȘ  ʠ+ʘ ʨ\  Ȩ^  ݘp    web.utils;   website.editor.menu.translate   website.navbar3   WebsiteNavbarActionWidget   extendE   web_editor.compiled_assets_wysiwyg?   website.compiled_assets_wysiwyg   assetLibs   _   WebsiteNavbar   prototype   actions   _goToMasterPage   edit_master'   _startTranslateMode   translate   start+   websiteNavbarRegistry   add]   .o_menu_systray:has([data-action="translate"])!!      require   utils   TranslatorMenu#   websiteNavbarData#   TranslatePageMenu      +H!!            !!            !!       !!   edit_master!!!!   translate!!    !!           startC           -                                      K    C    \                 	W  QW  QV      
=   [   C]       ]    QV     5   0   QV  5   \      5   5   	   
   =
   : W   Q   5      
[   @V    QV     
  QV  5      
V  V  O ̘ ՘ʘ֜RԘ5#ȘHߘ)Рؘ"    trigger_up   context_get   extra   callback#   edit_translations+   _mustEditTranslations   window   location	   href   replace   $1   history   replaceState'   _startTranslateMode   _super   apply!!      context   url   arguments   .this        +H!!          callbackB         \   O         5 !!       !!   extra!!!!   callback!!    !!C   ([?&])&*edit_translations[^&#]*&?    !!            ;5!!          _goToMasterPageC  f         >                                               ]                        
=   : W   QV      5      
:  0   QV   5   V   5      =      =	   =
   0   QV   V   5      
      
>V   5      
=   ?: : : 0   Q       
=   : W  QV  =   0   QV  5   V  5      =      =	   =         V   5   V   5   V   5   : 0   Q   V  5   0   Q   A    ,  R JјȘ՘ɘ݀;4ɘIјȘϘ"(AԘϘ    document   createElement   a   window   location   toString	   href   search   &   ?   enable_editor=1   pathname   substr	   Math   max   indexOf   /+   /website/lang/default   r=%   encodeURIComponent	   hash   Promise!!      current	   link         +H!!       #   _goToMasterPage/<b          ]            5;5!!       '   _startTranslateModeC           .                                              ]                 W  QV  5     5      5   5   =   0   Q   A    ,  R    AV  ,  R W   Q      =   :    
=	   =
       QV      
   5   :  3Հ-Ϙ  _ΘȘ>՘$ +   _mustEditTranslations   window   location   search%   &edit_translations   Promise   $   .dropdown-menu   on   click   .o_editable   prependTo   document	   body!!      translator   .this         +H!!       +   _startTranslateMode/<b  1  5  )  5  ]            5!!       +   _startTranslateMode/<b         ^   ]          5;5!!       !!   assetLibs!!!!   actions!!!!   start!!!!   _goToMasterPage!!!!'   _startTranslateMode!!    ;5 !!       C        2                                         ]   ] a   ,             T  =    : W   QT  =   : W  QV   5   W  QV     
=   [    =   ]   Z   [   =   ]   V  =	   : ]
   =   ]   =   ]   `    [   =   ]   =   ]   V  =   : ]
   =   ]   =   ]   `   [   =   ]   V  =   : ]
   =   ]   =   ]   =   ]   `   [   =   ]   =   ]   V  =   : ]
   =   ]   `   [   =   ]   V  =   : ]
   =   ]   `   [   =   ]   V  =    : ]
   =   ]   =   ]   `   [   =!   ]   V  ="   : ]
   =   ]   `   [   =#   ]   V  =$   : ]
   =   ]   `   [	   =%   ]   V  =&   : ]
   =   ]   `   [
   ='   ]   V  =(   : ]
   =   ]   `	   [   =)   ]   V  =*   : ]
   =   ]   `
   [   =+   ]   V  =,   : ]
   =   ]   `   [   =-   ]   V  =.   : ]
   =   ]   `   [   =   ]   V  =/   : ]
   =   ]   =   ]   `   [   =!   ]   V  ="   : ]
   =   ]   `   [   =0   ]   V  =1   : ]
   =   ]   `    QGɘȘɘȘΘ՘ϘʘʘȘ:ʘϘʘEʘ7ʘȘ<ʘϘʘ ʘȘ^ʘʘϘʘ ʘOʘȘ_Ϙʘ ʘȘ"ϘʘEʘȘ8ʘϘʘ#ʘȘ$Ϙʘ-ʘȘpϘʘIʘȘMϘʘ ʘȘUϘʘ"ʘȘ5Ϙʘ:ʘȘ)Ϙʘ8ʘȘ3ϘʘEʘȘ3ʘϘʘ#ʘȘ$Ϙʘ1ʘȘ}Ϙ 
    web.core   web_tour.tour   _t   register   homepage   /   url'   a[data-action=edit]   triggerg   <b>Click Edit</b> to start designing your homepage.   content   .homepage   extra_trigger   bottom   positionu   #snippet_structure .oe_snippet:eq(1) .oe_snippet_thumbnailM   body.editor_enable.editor_has_snippetsk   Drag the <i>Cover</i> block and drop it in your page.'   drag_and_drop #wrap   run+   #wrapwrap .s_cover h1   <b>Click on a text</b> to start editing it. <i>It's that easy to edit your content!</i>   input   consumeEvent	   text+   .o_we_customize_panely   #wrapwrap .s_cover h1:not(:containsExact("Catchy Headline"))   Customize any block through this menu. Try to change the background color of this block.   right+   .o_we_add_snippet_btn7   Go back to the blocks menu.u   #snippet_structure .oe_snippet:eq(3) .oe_snippet_thumbnailc   Drag another block in your page, below the cover.1   button[data-action=save];   Click the <b>Save</b> button.E   a[data-action=show-mobile-preview]   Good Job! You have designed your homepage. Let's check how this page looks like on <b>mobile devices</b>.}   .modal-dialog:has(#mobile-viewport) button[data-dismiss=modal]   After having checked how it looks on mobile, <b>close the preview</b>.+   #new-content-menu > a   <p><b>Your homepage is live.</b></p><p>Let's add a new page for your site.</p>/   a[data-action=new_page]]   <p><b>Click here</b> to create a new page.</p>_   .modal-dialog #editor_new_page input[type=text]E   <p>Enter a title for the page.</p>[   .modal-footer button.btn-primary.btn-continueY   Click on <b>Continue</b> to create the page.Y   Drag the block and drop it in your new page.M   .js_publish_management .js_publish_btn   <b>That's it!</b><p>Your page is all set to go live. Click the <b>Publish</b> button to publish it on the website.</p>!!      require	   core	   tour   _t       +H!!       !!   url!!    !!       !!   trigger!!!!   content!!!!   extra_trigger!!!!   position!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!!!   run!!    !!       !!   trigger!!!!   content!!!!   position!!!!   consumeEvent!!!!   run!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!!!   run!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!!!   run!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    ;      5 !!       C  x         F                                        d                      Q    W   Q   W  Q   W  Q   W  Q   W  Q   W  Q   W  Q   W  Q   W  Q	   W	  Q
   W
  Q   W  Q   W  Q   W  Q   W  Q   W  Q   W  QT  =    :   QV  5      Q[   V   ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]	   V  ]
   V
  ]   V	  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   șș2ɘȘϨwɘ	ɘɘɘɘɘɘɘɘɘɘɘɘ
ɘɘɘɘ    web.core   _t   addMedia!   changeBackground+   changeBackgroundColor!   changeColumnSize   changeIcon   changeImage   changeOption#   changePaddingSize   clickOnEdit   clickOnSave   clickOnSnippet   clickOnText   dragNDrop   goBackToBlocks   goToOptions   selectHeader'   selectSnippetColumn!!      require   addMedia!   changeBackground+   changeBackgroundColor!   changeColumnSize   changeIcon   changeImage   changeOption#   changePaddingSize   clickOnEdit   clickOnSnippet   clickOnSave   clickOnText   dragNDrop   goBackToBlocks   goToOptions   selectHeader'   selectSnippetColumn       !!       	   core   _t          +H!!          addMedia >  -  d              5!!      !   changeBackground     e              5!!      +   changeBackgroundColor     f              5 !!      !   changeColumnSize     g              5!!         changeIcon     h              5!!         changeImage  b	  b	 i              5 !!         changeOption x	 
 c	 
 j              5!!      #   changePaddingSize 
 2 
 2 l              5 !!         clickOnEdit G  3  n              5 !!         clickOnSnippet 	    o              5!!         clickOnSave  X  X p              5 !!         clickOnText m d Y d q              5 !!         dragNDrop w  e  r              5 !!         goBackToBlocks     s              5!!         goToOptions     t              5 !!         selectHeader 5     u              5!!      '   selectSnippetColumn     v              5 !!       !!   addMedia!!!!!   changeBackground!!!!+   changeBackgroundColor!!!!!   changeColumnSize!!!!   changeIcon!!!!   changeImage!!!!   changeOption!!!!#   changePaddingSize!!!!   clickOnEdit!!!!   clickOnSave!!!!   clickOnSnippet!!!!   clickOnText!!!!   dragNDrop!!!!   goBackToBlocks!!!!   goToOptions!!!!   selectHeader!!!!'   selectSnippetColumn!!    ;      r      u         5 !!       C  k       	   -                                     .  &  z                 T  =    : W   QV      
[   =   ]       ]      ]      ]      ]      ]   : W  QV  =ɘ
ȘИ#ʘʘOʘSʠyʘ  ʨzvȠ     web_editor.ace   extend+   #advanced-view-editor	   hash   do_hide!   _displayResource   _saveResources   _resetResource   _updateHash!!      require   AceEditor!   WebsiteAceEditor       +H!!          do_hideC  >                                             "     z                	W   QW  QV  5       
V  V   O Q   5   =   0   Q̘  ܘ"՘    _super   apply   window   location   	   hash!!      arguments   .this         +H;      5!!       !   _displayResourceC  8                                             "  R  R z               	W   QW  QV  5       
V  V   O QV     
  Q̘ ܘ"Ϙ    _super   apply   _updateHash!!      arguments   .this         +H;      5!!          _saveResourcesC  F                                               j  b  z                 	W   QW  QV  5       
V  V   O    
       
V  : : ̘ aؘ֠kz w    _super   apply	   then	   bind!!      arguments   .this         +H!!        !   _saveResources/<b      z     2          context   B V i N i z   J         5    B  G  G z   	  "       5   B    w  {   '             B      {   ^          5 55;5!!          _resetResourceC  F                                                o  o {                 	W   QW  QV  5       
V  V   O    
       
V  : : ̘  ؘژpZ    _super   apply	   then	   bind!!      arguments   .this         +H!!        !   _resetResource/<b  " `  ` {                B  Y ] Q ] {            5 5;5!!          _updateHashC @                                                |  {   ,            W   Q    5   V   5   =   T  D   QV      
:  0   Q 4/˘    window   location	   hash   ?res=)   _getSelectedResource!!      resID   .this       +H;       5 !!       !!	   hash!!!!   do_hide!!!!!   _displayResource!!!!   _saveResources!!!!   _resetResource!!!!   _updateHash!!    ;5!!       C        ^   [      [                 -             ۇ  ۇ ~                               QT  =    :    QT  =   :    QT  =   :   QV   5      QV   5      QV  5      
[   Z   =   `    =   `   ]	       ]
      ]      ]      ]      ]      ]      ]   :   QV     
[      ]   	   ]   
   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]   :   QV  5   V     
[-         
[   V  5   5    5!   D   Q[   [   ="   ]#   : ]!      ]$      ]%      ]&      ]'      ](      ])      ]*       ]+   !   ],   "   ]-   #   ].   $   ]/   %   ]0   &   ]1   '   ]2   (   ]3   )   ]4   *   ]5   +   ]6   ,   ]"   : 07   QV  5   V     
[M         
[.   V  5    5!   [/   =8   ]9   =:   ];   =<   ]=   =>   ]?   =@   ]A   : ]!   0   ]   1   ]$   2   ]&   3   ]'   4   ]B   5   ]C   6   ]D   7   ]E   8   ]F   9   ]G   :   ]H   ;   ]I   <   ]J   =   ]0   >   ]K   ?   ]1   @   ]L   A   ]M   B   ]N   C   ]O   D   ]P   E   ]Q   F   ]R   G   ]S   H   ]8   I   ]:   J   ]<   K   ]>   L   ]@   : 0T   QV  5   V     
[O   C]U   N   ]V   : 0W   QV  5   V     
[Q   C]U   P   ]V   : 0X   QV  5      
[T   R   ]Y   S   ]Z   :   QV  5   V     
[V   U   ]%   : 0[   QV  5   V     
[X   W   ]%   : 0\   QV  5   V     
[Z   Y   ]%   : 0]   Qș3ۘɘȘɘɘ3ɘȘ-ϘϘ՘!ʘ7Ϙ3ˠʘ  ʘ ʘ:ʘZʘZʨ~ Ƞ Иʘ`ʠSʠ ʘ  ʘ?ʘ %ʘaʘgʘ  ʘ`ʘ  ʘ ʨ   Ƞ ٘67ʘȘkˠ ʠʠ`ˠDʘ  ʘ ʠ(ʠ\ˠAʘ  ʘmʘ Aʠ#ʠ4ʘ -ʘ ʠ  ˠ Wʠ  ʨ   ɨ   ٘81ʘAʘAʘCʘ2ʘȘ MʘG˘ mʘ ˠ*ʘ(ˠ  ˠ  ʠXʘP˘  ˘  ʘ .ʘ ʠ#ʠ#ʘ ˘ ʠ ʠBʘ  ʠ ʘ $ʠ  ʘGʘtʘrʘ  ʘmʨ   ɨ   ٘1˘ɘ ٘.˘ɘ  ՘1ʘ gʘȘ ٘Jʘɘ  ٘Mʘɘ  ٘Nʘʘ 
    web.coreC   website_form.form_editor_registry7   web_editor.snippets.options	   qweb   _t   Class   extendi   /website_form/static/src/xml/website_form_editor.xml]   /google_recaptcha/static/src/xml/recaptcha.xml   xmlDependencies%   _fetchFieldRecords   _getCustomField#   _getDefaultFormat   _getMark   _isOptionalMark   _isRequiredMark   _renderField	   init   _getActiveField   _getFieldFormat   _getFieldName   _getFieldType#   _getLabelPosition%   _getMultipleInputs   _getPlaceholder)   _getPlaceholderInput   _isFieldCustom!   _isFieldRequired)   _setActiveProperties   _setPlaceholder   registry   _   prototype   events1   _onToggleEndMessageClick5   click .toggle-edit-message   willStart   start   cleanForSave   updateUI%   updateUIEndMessage   notify   addActionField   onSuccess   selectAction   selectClass   setMark)   toggleRecaptchaLegal'   _computeWidgetState!   _renderCustomXML   _addHiddenField   _buildInput   _buildSelect   _applyFormModel   _setLabelsMark#   WebsiteFormEditor%   _onRemoveItemClickS   click we-button.o_we_select_remove_option+   _onAddCustomItemClickM   click we-button.o_we_list_add_optional/   _onAddExistingItemClickM   click we-button.o_we_list_add_existing+   _onAddItemSelectClick/   click we-list we-select!   _onListItemInput'   input we-list input   onFocus   customField   existingField   setLabelText   setPlaceholder'   selectLabelPosition   selectType)   multiCheckboxDisplay   toggleRequired1   _computeWidgetVisibility   _replaceField   _renderList#   _loadListDropdown-   _makeListItemsSortable   _addItemToTable!   _renderListItems   _getListItems   _getSelect%   WebsiteFieldEditor   isTopOption   addField   AddFieldForm   AddField   disableButton   preventButton+   WebsiteFormFieldModel1   WebsiteFormFieldRequired3   WebsiteFormSubmitRequired!!      require        !!       	   core%   FormEditorRegistry   options	   qweb   _t   FormEditor   FieldEditor5   DisableOverlayButtonOption           +H!!       %   _fetchFieldRecordsD +    ~     F         D"        ?          5 5!!         _getCustomFieldB        /          5!!      #   _getDefaultFormatB         )         5!!         _getMarkB         #         5 !!         _isOptionalMarkB   9   9     d         5!!         _isRequiredMarkB  R    J                5!!         _renderFieldB   !   !             5 !!       !!   xmlDependencies!!!!%   _fetchFieldRecords!!!!   _getCustomField!!!!#   _getDefaultFormat!!!!   _getMark!!!!   _isOptionalMark!!!!   _isRequiredMark!!!!   _renderField!!    !!       	   initB  !  " !  "    :        5 !!         _getActiveFieldB  9" # 1" #      2       5!!         _getFieldFormatB  # & # &    k   "          D" % % % %    $         5 5!!         _getFieldNameB  & & & &             5!!         _getFieldTypeB  & ' & '             5!!      #   _getLabelPositionB  1' ;( )' ;(      2       5!!      %   _getMultipleInputsB  W( ( O( (             5 !!         _getPlaceholderB  ( ) ( )    W         5!!      )   _getPlaceholderInputB  !) ) ) )             5 !!         _isFieldCustomB  ) * ) *    u         5 !!      !   _isFieldRequiredB  5* * -* *             5 !!      )   _setActivePropertiesB * , * ,             5 !!         _setPlaceholderB , , , ,    A  "       5 !!       !!	   init!!!!   _getActiveField!!!!   _getFieldFormat!!!!   _getFieldName!!!!   _getFieldType!!!!#   _getLabelPosition!!!!%   _getMultipleInputs!!!!   _getPlaceholder!!!!)   _getPlaceholderInput!!!!   _isFieldCustom!!!!!   _isFieldRequired!!!!)   _setActiveProperties!!!!   _setPlaceholder!!    !!            !!            !!       !!5   click .toggle-edit-message!!    !!          willStartD  - 1 - 1    Y	  7          .this    D" ?0 0 ?0 0             5 5!!         startB  1 2 
1 2      #       5 !!         cleanForSaveB  2 J4 2 J4    1   B         D" h3 s3 h3 s3              5 5!!         updateUID  b4 4 T4 4    w   '       5!!      %   updateUIEndMessageB  5 5 5 5    _          5 !!         notifyB 5 7 5 7    9  3       5 !!         addActionFieldB 7 v8 7 v8    0  "       5!!         onSuccessB 8 9 8 9    :   B       5 !!         selectActionD 9 <: 9 <:    w   &       5!!         selectClassB Q: : I: :    U   #       5 !!         setMarkB : 1; : 1;              5!!      )   toggleRecaptchaLegalB O; r= G; r=    S  2       5 !!      '   _computeWidgetStateB = {? = {?      S       5!!      !   _renderCustomXMLB ? B ? B    <   r          uiFragment    firstOption    formInfo    .this    D" @ A @ A               5    D"  %A B %A B    f             D" BA B BA B       0       5 55!!         _addHiddenFieldB C D B D    L   "       5 !!         _buildInputB 0D 7E (D 7E    u         5!!         _buildSelectB ME G EE G      0          selectEl    D" F sG F sG              5 5!!         _applyFormModelD G ;L G ;L                 formatInfo    .this   D" }K 7L wK 7L              5 5!!         _setLabelsMarkB  SL O KL O    n  b       	   mark !   requiredSelector   D" L L L L             5    D" M M M M              5    D" #N DN #N DN    M         5    D" ]N O ]N O              5 5!!      1   _onToggleEndMessageClickB  8O O 0O O              5 !!       !!   events!!!!   willStart!!!!   start!!!!   cleanForSave!!!!   updateUI!!!!%   updateUIEndMessage!!!!   notify!!!!   addActionField!!!!   onSuccess!!!!   selectAction!!!!   selectClass!!!!   setMark!!!!)   toggleRecaptchaLegal!!!!'   _computeWidgetState!!!!!   _renderCustomXML!!!!   _addHiddenField!!!!   _buildInput!!!!   _buildSelect!!!!   _applyFormModel!!!!   _setLabelsMark!!!!1   _onToggleEndMessageClick!!    !!            !!       !!S   click we-button.o_we_select_remove_option!!!!M   click we-button.o_we_list_add_optional!!!!M   click we-button.o_we_list_add_existing!!!!/   click we-list we-select!!!!'   input we-list input!!    !!      	   initB  {Q Q sQ Q    3        5 !!         willStartD  Q !T Q !T      '          .this   D" wR T wR T    /             fields   B R R R R    Z         5    D" 	S S 	S S             5    D" S S S S    n         5 55!!         cleanForSaveB  7T U /T U      B          select    .this    D" wT T wT T    /         5    D" U U U U             5 5!!         updateUID  U W U W      G          .this    D"  cW yW cW yW    3          5 5!!         onFocusB  W W W W    :          5!!         customFieldD W X W X    l   &       5 !!         existingFieldD Y Y Y Y       &       5 !!         setLabelTextB Y #[ Y #[       B          value    D" [ [ [ [    B          5 5!!         setPlaceholderB ;[ s[ 3[ s[    o          5 !!      '   selectLabelPositionD [ -\ [ -\              5!!         selectTypeD G\ \ 9\ \    {         5 !!      )   multiCheckboxDisplayB \ ] \ ]    	  "          value    D" L] ] L] ]      0       5 5!!         toggleRequiredB ] k_ ] k_    1  "          isRequired   D" ^ _ ^ _             5 5!!      '   _computeWidgetStateB _ ,b _ ,b      3       5!!      1   _computeWidgetVisibilityB Nb 3d Fb 3d    D   #       5!!      !   _renderCustomXMLB Md f Ed f    <   R          selectEl !   currentFieldName    fieldsInForm    D" \e ge \e ge    K         5    D" pe e pe e    _         5    D" e e e e             5    D" f f f f             5 5!!         _replaceFieldD f xh f xh      &          .this   D" eg xg eg xg    T         5    D" g g g g             5    D" g h g h             5    D" ;h uh ;h uh    *         5 5!!         _renderListB  h o h o    |  r          .this    D" i 
j i 
j             5    D" j jk j jk             5 5!!      #   _loadListDropdownB o fs o fs      R          field    selectMenu    .this   D"  p bs p bs      @          optionIds    D" 
q Mq 
q Mq    M         5    D" q q q q             5    D" q r q r    !         5    D" 9s _s 9s _s              5 55!!      -   _makeListItemsSortableB  s t ~s t    a   "          .this    D" s t s t              5 5!!         _addItemToTableB 7t \x /t \x      B       5 !!      !   _renderListItemsB  vx | nx |      r       	   type    params    multiInputsWrap    selectWrap   D" rz _{ rz _{             5    D" { || { ||             5 5!!         _getListItemsB  | } | }      B          isCustomField    records    D" (} } (} }    l          5 5!!         _getSelectB  } } } }              5 !!      %   _onRemoveItemClickB } P~ } P~    <         5 !!      +   _onAddCustomItemClickB o~ ~ g~ ~             5!!      /   _onAddExistingItemClickB ~  ~     '         5!!      +   _onAddItemSelectClickB                 5!!      !   _onListItemInputB  ' C  C    k         5 !!       !!   events!!!!	   init!!!!   willStart!!!!   cleanForSave!!!!   updateUI!!!!   onFocus!!!!   customField!!!!   existingField!!!!   setLabelText!!!!   setPlaceholder!!!!'   selectLabelPosition!!!!   selectType!!!!)   multiCheckboxDisplay!!!!   toggleRequired!!!!'   _computeWidgetState!!!!1   _computeWidgetVisibility!!!!!   _renderCustomXML!!!!   _replaceField!!!!   _renderList!!!!#   _loadListDropdown!!!!-   _makeListItemsSortable!!!!   _addItemToTable!!!!!   _renderListItems!!!!   _getListItems!!!!   _getSelect!!!!%   _onRemoveItemClick!!!!+   _onAddCustomItemClick!!!!/   _onAddExistingItemClick!!!!+   _onAddItemSelectClick!!!!!   _onListItemInput!!    !!         addFieldD                 5 !!       !!   isTopOption!!!!   addField!!    !!          addFieldD >  0              5 !!       !!   isTopOption!!!!   addField!!    !!          disableButtonB >  6              5!!         preventButtonB                 5!!       !!   disableButton!!!!   preventButton!!    !!         startB  A  9              5!!       !!   start!!    !!          startB    
     V	         5!!       !!   start!!    !!          startB   ׇ  ׇ    E
         5!!       !!   start!!    ;        5 !!       C                                                   ׈ | ׈    8             T  =    : W   QV   A,  R  Sɘ	Șɘ    web.Registry!!      require   Registry       +H;      5 !!       C           }                                                         T  =    : W   QT  =   : W  QV   5   W  QV     
=   [   Z   [    =   ]   C]   C]   =	   ]
   `    [   =   ]   C]   =   ]
   `   [   =   ]   C]   =   ]
   =   ]   `   [   =   ]   C]   =   ]
   `   [   =   ]   C]   =   ]
   =   ]   `   [   =   ]   C]   C]   =   ]
   `   ]   Z   [   =   ]
   =   ]   C]   V  =   : ]   =   ]   `    ]    Q  ɘȘɘȘ1Θ՘$ʘϘʘϘʘʘϘʘϘʘʘϘʘԘʘʘʘȘԘ     web.coreC   website_form.form_editor_registry   _t   add   send_mail	   char	   type   custom   required   Your Name	   name   tel   Phone Number   email   modelRequired   email_from   Your Email   string   Your Company   subject   Subject	   text   Your Question   formFields   email_to   Recipient Email9   info@yourcompany.example.com   defaultValue   fields!!      require	   core%   FormEditorRegistry   _t       +H!!       !!	   type!!!!   custom!!!!   required!!!!	   name!!    !!       !!	   type!!!!   custom!!!!	   name!!    !!       !!	   type!!!!   modelRequired!!!!	   name!!!!   string!!    !!       !!	   type!!!!   custom!!!!	   name!!    !!       !!	   type!!!!   modelRequired!!!!	   name!!!!   string!!    !!       !!	   type!!!!   custom!!!!   required!!!!	   name!!    !!       !!	   name!!!!	   type!!!!   required!!!!   string!!!!   defaultValue!!    !!       !!   formFields!!!!   fields!!    ;      5!!       C  2      )          	                  	            3  +     '             T  =    : W   QT  =   : W  QV   5   W  QV     
=   [   Z   [    =   ]   C]   =   ]	   =
   ]   `    [   =   ]   =   ]	   =   ]   `   [   =   ]   C]   =   ]	   =   ]   `   [   =   ]   C]   =   ]	   =   ]   `   [   =   ]   C]   =	   ]	   =   ]   `   [   =   ]   C]   =   ]	   =   ]   `   ]   Z   [   =   ]	   =   ]   =   ]   Z   Z   =   `    =   `   C`   `    ]    V  =!   : ]   V  ="   : ]#   `    [   =$   ]	   =   ]   =%   ]   V  =&   : ]   V  ='   : ]#   `   ](    QBɘȘɘȘ1Θ՘&ʘʘϘʘʘϘʘʘϘʘʘϘʘʘϘʘʘԘʘʘʘʘʘИʘȘʘ͘4ʘʘʘʘȘʘҘ=     web.coreC   website_form.form_editor_registry   _t   add   create_lead	   char	   type   required   contact_name	   name   Your Name   string   tel   phone   Phone Number   email   email_from   Your Email   partner_name   Your Company   modelRequired   Subject	   text   description   Your Question   formFields   team_id   many2one   crm.team   relation#   use_opportunities   =   domain   Sales TeamW   Assign leads/opportunities to a sales team.   title   user_id   res.users   SalespersonY   Assign leads/opportunities to a salesperson.   fields!!      require	   core%   FormEditorRegistry   _t       +H!!       !!	   type!!!!   required!!!!	   name!!!!   string!!    !!       !!	   type!!!!	   name!!!!   string!!    !!       !!	   type!!!!   required!!!!	   name!!!!   string!!    !!       !!	   type!!!!   required!!!!	   name!!!!   string!!    !!       !!	   type!!!!   modelRequired!!!!	   name!!!!   string!!    !!       !!	   type!!!!   required!!!!	   name!!!!   string!!    !!       !!	   name!!!!	   type!!!!   relation!!!!   domain!!!!   string!!!!   title!!    !!       !!	   name!!!!	   type!!!!   relation!!!!   string!!!!   title!!    !!       !!   formFields!!!!   fields!!    ;      5!!       C  "         Y                                     _ K W K    0             T  =    : W   QT  =   : W  QV   5   W  QV     
=   [   Z   [    =   ]   C]   =   ]   =	   ]
   `    [   =   ]   C]   =   ]   =   ]
   `   [   =   ]   =   ]   =   ]
   `   ]   Z   [   =   ]   =   ]   =   ]   C]   V  =   : ]
   `    ]    QKɘȘɘȘ1Θ՘&ʘʘϘʘʘϘʘʘԘʘʘʘʘҘ d    web.coreC   website_form.form_editor_registry   _t   add   create_task	   char	   type   modelRequired	   name   Task Title   string   email   email_from   Your Email   description   Description   formFields   project_id   many2one   project.project   relation   required   Project   fields!!      require	   core%   FormEditorRegistry   _t       +H!!       !!	   type!!!!   modelRequired!!!!	   name!!!!   string!!    !!       !!	   type!!!!   modelRequired!!!!	   name!!!!   string!!    !!       !!	   type!!!!	   name!!!!   string!!    !!       !!	   name!!!!	   type!!!!   relation!!!!   required!!!!   string!!    !!       !!   formFields!!!!   fields!!    ;      5!!       C  g          !                                      s  s                  T  =    : W   QT  =   : W  QV   5      
[       ]   : W  QV  5      
V  =    QRɘȘ!ɘȘ՘-ʘȘ  ݘ\ #   web.public.widget   website.navbar   Widget   extend   start+   websiteNavbarRegistry   add7   #o_website_links_share_page!!      require   publicWidget#   websiteNavbarData!   WebsiteLinksMenu       +H!!           startC  d      	                                                      	       	W   QW  QV  5       
=   =            5   5   :  QV  5      
V  V   O ̘  Gؘ"    $el	   attr	   href   /r?u=%   encodeURIComponent   window   location   _super   apply!!      arguments   .this         +H;       5 !!       !!   start!!    ;5 !!       C            3                                       	                   T  =    : W   QT  =   :    QT  =   : W  QV   5      QV     
[         
[    V  5   5   D   Q[   [   =	   ]
   : ]      ]	    QIɘȘɘɘɘȘϘИ:ʘȘ]ʘ      web.core   website.utils   website.newMenu   _t   include   _   extend   prototype   actions+   _createNewAppointment   new_appointment!!      require	   core   wUtils   WebsiteNewMenu   _t      +H!!            !!            !!       !!   new_appointment!!    !!        +   _createNewAppointmentC  [         $                         	             A  9                   W   QV      Q      
[      =   : ]     =   : ]   :    
   :  eʘ
ј˘Ș˘ȘϘK      prompt)   New Appointment Type   window_title	   Name   input	   then!!   	   self   .this        +H!!       !!   window_title!!!!   input!!    !!        /   _createNewAppointment/<b                     B g  _                  B                   5 55;5!!       !!   actions!!!!+   _createNewAppointment!!    ;5!!       C            0                                     L ܛ D ܛ                  T  =    : W   QT  =   :    QT  =   : W  QV   5      QV     
[         
[    V  5   5   D   Q[   [   =	   ]
   : ]      ]	    QLɘȘɘɘɘȘϘИ:ʘȘXʘ\    web.core   website.utils   website.newMenu   _t   include   _   extend   prototype   actions%   _createNewBlogPost   new_blog_post!!      require	   core   wUtils   WebsiteNewMenu   _t      +H!!            !!            !!       !!   new_blog_post!!    !!        %   _createNewBlogPostC  t      	   "                                      t כ l כ                  W   QV       
[    =   ]   =   ]   Z         
V   : `    Z   =   `    `   ]   :    
   :  \ИʘʘؘԘϘ`W 	   _rpc   blog.blog   model   search_read   method   websiteDomain	   name	   args	   then!!      .this         +H!!       !!   model!!!!   method!!!!	   args!!    !!        )   _createNewBlogPost/<b  ԛ  ԛ      @          blogs    B  Y ] Q ]    >         5    B  8  8                B  5  5             5 5   B I Л A Л    .            B  ɛ ͛  ͛    J          5 55;5!!       !!   actions!!!!%   _createNewBlogPost!!    ;5 !!       C  _      /                           $                                       QT  =     QT  =   : 5      Q5      QQT  =   :   QT  =   : W   Q      =   :        	   
   
=   : ș=      QV      
[         
[    V   5   5   [   =   ]   : ]      ]      ]      ]      ]      ]    QV  5   5      
[	      ]    QV  5   5      
[   
   ]    QV  5   V  5      
[   V  5   5   5   D   QZ        
Z   =!   `    : ]      ]"      ]#      ]$      ]%      ]&      ]'      ](      ])      ]      ]*      ]+      ],      ]-   : 0.   Qș  ˘͘ɘ
ݘɘȘ+ɘȘ(Ϙј  ĘL  ˘ИIʘȘwʘE˘p˘_˘ ʘ ژ#ʘݜ %ژ*˘֜ vޘ<FʘȘDˠʘCʘYʘtʘLʠ  ʘvʠˠ)ˠ)ˠ#ʘ  ˨   	ʨ  ĘL    web.dom_ready   web.core	   qweb   _t7   web_editor.snippets.options9   web_editor.wysiwyg.multizone   $   .website_blog   length   Promise   rejectG   DOM doesn't contain '.website_blog'   new-blog-tag-   include   Object   assign   prototype   custom_events3   _onSetBlogPostUpdatedTags5   set_blog_post_updated_tags	   init   start	   save   _saveBlogTags   registry   many2one   _selectRecord   CoverProperties   updateUI   Class   extend   xmlDependencies   concatc   /website_blog/static/src/xml/website_blog_tag.xml   willStart   cleanForSave   editTagList   saveTagList   setNewTagName   confirmNew   addTag   removeTag1   _computeWidgetVisibility'   _computeWidgetState%   _notifyUpdatedTags!   _renderCustomXML)   BlogPostTagSelection!!      require!   WysiwygMultizone       !!       	   qweb   _t   options   NEW_TAG_PREFIX          +H!!            !!       !!5   set_blog_post_updated_tags!!    !!      	   initB   -  -              5 !!         startB  9  .              5!!      	   saveB         }         5 !!         _saveBlogTagsB           F          .this   D" k  k     @         5    D"        c         5    D" t  t     I         5    D"        l         5 5!!      3   _onSetBlogPostUpdatedTagsB  $ ܠ $             5!!       !!   custom_events!!!!	   init!!!!   start!!!!	   save!!!!   _saveBlogTags!!!!3   _onSetBlogPostUpdatedTags!!    !!         _selectRecordB a J Y J    6  C      	   self    $nodes    B  T  L     )         5    B  " D  D             5 5!!       !!   _selectRecord!!    !!          updateUID         c         5 !!       !!   updateUI!!    !!         willStartB   ) { )    _
  G       5 !!         cleanForSaveB  6 l * l    *   "       5!!         editTagListB x ũ m ũ    l          5!!         saveTagListB ѩ 9 Ʃ 9              5!!         setNewTagNameB G  :     ;         5!!         confirmNewB  W  W      B          .this    D"  >  >    4          5 5!!         addTagB ^ ͬ X ͬ              5 !!         removeTagB ׬  ά     /  2          widgetValue    D"  8  8    o         5 5!!         updateUIB         #   '       5!!      1   _computeWidgetVisibilityB <       A   G       5!!      '   _computeWidgetStateB        <   '       5 !!      %   _notifyUpdatedTagsB  	       5   "          .this    D" j  j               5 5!!      !   _renderCustomXMLB           f       5!!       !!   xmlDependencies!!!!   willStart!!!!   cleanForSave!!!!   editTagList!!!!   saveTagList!!!!   setNewTagName!!!!   confirmNew!!!!   addTag!!!!   removeTag!!!!   updateUI!!!!1   _computeWidgetVisibility!!!!'   _computeWidgetState!!!!%   _notifyUpdatedTags!!!!!   _renderCustomXML!!    ;      Y                5 !!       C  =      5                                                             T  =    : W   QT  =   : W  QV   5   W  QV     
=   [    =   ]   Z   [   =   ]   C]	   =
   ]   `    [   =   ]   V  =   : ]   =
   ]   `   [   =   ]   =   ]   V  =   : ]   `   [   =   ]   =   ]   V  =   : ]   =   ]   =   ]   `   [   =   ]   =   ]   V  =   : ]   =   ]   `   [   =   ]   V  =   : ]   =   ]   `   [   =   ]   =    ]   V  =!   : ]   =   ]   `   [	   ="   ]   V  =#   : ]   =   ]      ]   `   [
   =$   ]   =%   V  =&   : ='   ]   V  =(   : ]   =
   ]   `   [   =)   ]   =*   ]   V  =+   : ]   =
   ]   `	   [   =,   ]   =-   ]   V  =.   : ]   =   ]   `
   [   =/   ]   =*   ]   =
   ]   V  =0   : ]   `   [   =1   ]   =2   ]   V  =3   : ]   =
   ]   X]4   `    QCɘȘɘȘΘ՘Ϙʘ 
Ϙʘ'ʘȘ7Ϙʘʘ-ʘ͘5ʘ5ʘ&ʘȘ/ʘϘʘ,ʘ[ʘȘ$Ϙʘ.ʘȘ3ϘʘGʘ>ʘȘ(Ϙʘ ʘȘ  ʘϘ]ʘ#Ϙ^Ϙ!ʘȘ3Ϙʘ-ʘ)ʘȘHϘʘ%ʘ-ʘȘGϘʘ1ʘ)ʘʘ͘KʘʘNʘȘoʘ͘ 	    web.core   web_tour.tour   _t   register	   blog   /   url+   #new-content-menu > a   trigger	   auto   bottom   position9   a[data-action=new_blog_post]a   Select this menu item to create a new blog post.   content'   button.btn-continue5   form[id="editor_new_blog"]   extra_triggerY   Select the blog you want to add the post to.Q   div[data-oe-expression="blog_post.name"]+   #oe_snippets.o_loadedQ   Write a title, the subtitle is optional.   top	   text   runC   we-button[data-background]:nth(1)   #wrap div[data-oe-expression="blog_post.name"]:not(:containsExact(""));   Set a blog post <b>cover</b>.   rightG   .o_select_media_dialog .o_we_searchU   Search for an image. (eg: type "business")y   .o_select_media_dialog .o_existing_attachment_cell:first img[   .modal:has(.o_existing_attachment_cell:first)C   Choose an image from the library.+   #o_wblog_post_content[  <b>Write your story here.</b> Use the top toolbar to style your text: add an image or table, set bold or italic, etc. Drag and drop building blocks for more graphical blogs.1   button[data-action=save]   #o_wblog_post_content .o_wblog_post_content_field p:first:not(:containsExact(+   Start writing here...   ))Y   <b>Click on Save</b> to record your changes.E   a[data-action=show-mobile-preview]1   body:not(.editor_enable)   Use this icon to preview your blog post on <b>mobile devices</b>.5   button[data-dismiss=modal]9   .modal:has(#mobile-viewport)   Once you have reviewed the content on mobile, close the preview.M   .js_publish_management .js_publish_btn   <b>Publish your blog post</b> to make it visible to your visitors.'   #customize-menu > a{   .js_publish_management .js_publish_btn .css_unpublish:visible   <b>That's it, your blog post is published!</b> Discover more features through the <i>Customize</i> menu.   width!!      require	   core	   tour   _t       +H!!       !!   url!!    !!       !!   trigger!!!!	   auto!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!!!   run!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!    !!           runB                 5!!       !!   trigger!!!!   content!!!!   position!!!!   run!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!    !!       !!   trigger!!!!   extra_trigger!!!!   position!!!!   content!!    !!       !!   trigger!!!!   extra_trigger!!!!   content!!!!   position!!!!   width!!    ;5 !!       C            3                                      0  0                  T  =    : W   QT  =   :    QT  =   : W  QV   5      QV     
[         
[    V  5   5   D   Q[   [   =	   ]
   : ]      ]	    QIɘȘɘɘɘȘϘИ:ʘȘUʘ      web.core   website.utils   website.newMenu   _t   include   _   extend   prototype   actions#   _createNewChannel   new_channel!!      require	   core   wUtils   WebsiteNewMenu   _t      +H!!            !!            !!       !!   new_channel!!    !!        #   _createNewChannelC  [         $                         	             ; + ž +                  W   QV      Q      
[      =   : ]     =   : ]   :    
   :  Yʘ
ј˘Ș˘ȘϘB      prompt   New Channel   window_title	   Name   input	   then!!   	   self   .this        +H!!       !!   window_title!!!!   input!!    !!       '   _createNewChannel/<b 4 ( , (                 B  % ܿ %                 B   "  "              5 55;5!!       !!   actions!!!!#   _createNewChannel!!    ;5!!       C                                                  $  $                  T  =    : W   QT  =   : W  QV   5   W  QT  =   : W  QT  =   : 5      QT  =   : W  QV   5      QV     
[
   =	   ]
   V  5   5      
Z   =   `    =   `   : ]         
[    V  5   5   [   =   ]   : ]         
[   V  5   5   [   =   ]   =   ]   : ]      ]      ]      ]      ]      ]   	   ]   :    QV     
[         
[   V  5   5   D   Q[   [   =   ]   : ]      ]    QGɘȘɘȘΘɘȘɘΘ>ɘȘϘИ#ʘ(ژ9ʘ<ʘȘ  ,ʘȘN:ʘʘȘpʘ ʠ ʘ  ʘ  ʘ ʨ  Θ [ɠ 	И:ʘȘ`ʘ D    web.core   web.Dialog	   qweb   website.newMenu=   website_slides.channel_tag.add   TagCourseDialog   website.utils   _t   extend9   website.slide.channel.create   template   prototype   xmlDependencies   concats   /website_slides/static/src/xml/website_slides_channel.xml{   /website_slides/static/src/xml/website_slides_channel_tag.xml   _   events   _onChangeTag)   change input#tag_ids   custom_events   _onTagRefresh   tag_refresh   _onTagRemoveNew   tag_remove_new	   init   start%   _onClickFormSubmit   include   actions-   _createNewSlideChannel#   new_slide_channel!!	      require	   core   Dialog	   QWeb   WebsiteNewMenu   TagCourseDialog   wUtils   _t'   ChannelCreateDialog      +H!!            !!       !!)   change input#tag_ids!!    !!            !!       !!   tag_refresh!!!!   tag_remove_new!!    !!        	   initC          ;                                           )     
       W   Q       
T D   Q[    [      =   : ]   =   ]   Z   [      =   : ]   =   ]	   V   5
      
V   : ]   `    [      =   : ]   C]   `   ]   : U QV      
T  T  Q : ˘Șʘ	˘ȘʘԘ͘$˘ȘИS  ՘    _   defaults   New Course   title   medium	   size   Create	   text   btn-primary   classes%   _onClickFormSubmit	   bind   click   Discard   close   buttons   _super!!      parent   options   .this       +H!!            !!       !!	   text!!!!   classes!!!!   click!!    !!       !!	   text!!!!   close!!    !!       !!   title!!!!	   size!!!!   buttons!!    ;       5 !!          startC  B                                                ~  ~                  	W   QW  QV     QV  5       
V  V   O    
    : ̘ 2ʘ
ؘϘ"     _super   apply	   then!!   	   self   arguments   .this        +H!!           start/<b   {  {    r           B                  5   B  b  b    .   R       	   term    B o  g               5 5   B u ) m )      B          query 	   that 	   tags    B                  55   B 8 w 0 w    b  R          query 	   that   B  C  C             5 55;5!!       %   _onClickFormSubmitC       
   $                                      d  d                W  QV      
=   : W   QV      
=   : W  QV  >75    B   V     
=    QV      
=   :    
=    Q   V   	   
  Q晞 ИȘ&ИȘԘ!ߘʘИ    $/   #slide_channel_add_form   #title   value   addClass   border-danger   #title-required   removeClass   d-none   submit!!      ev   $form   $title   .this       +H;2       5 !!          _onChangeTagC N                                              z , r ,                  W  QV     Q        T  5   :    
=   : W   QV      
     Q ʘҘϘȘԘq    $   currentTarget   select2	   data   forEach!!      ev	   self	   tags   .this      +H!!          _onChangeTag/<b  )  )              5;5!!          _onTagRefreshC {                                               C < ; <                          =   : W   QV      
=   : W  QV     
     QV      
=   V   QV      
=   : 5   B0   Q vϘ	ȘИȘԘeؘߘ3    $   #tag_ids   select2	   data   forEach	   opts   selection_data!!      ev   $tag_ids	   tags      +H!!           _onTagRefresh/<b                  5 ;5!!          _onTagRemoveNewC  e                                   
             U  M                           =   :    
=   : W   QV      
    : W   Q        =   :    
=   V    Q ϘϘȘИȘ3    $   #tag_ids   select2	   data   filter!!   	   tags         +H!!        +   _onTagRemoveNew/tags<b                 5;5!!    
   !!   template!!!!   xmlDependencies!!!!   events!!!!   custom_events!!!!	   init!!!!   start!!!!%   _onClickFormSubmit!!!!   _onChangeTag!!!!   _onTagRefresh!!!!   _onTagRemoveNew!!    !!            !!            !!       !!#   new_slide_channel!!    !!       -   _createNewSlideChannelC  -                                               ~  v                   W  QV     Q    A    ,  R W   QV    ʘϘȘ|    Promise!!   	   self   def   .this        +H!!       7   _createNewSlideChannel/def<b                 5;5!!       !!   actions!!!!-   _createNewSlideChannel!!    ;5 ;"-լ/      `!-`!-BUa   H    :http://hr.deerom.com/web/content/591-b29273b/1/website.assets_editor.js necko:classified 1 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Server: nginx/1.18.0 (Ubuntu)
Date: Wed, 03 Feb 2021 10:36:09 GMT
Content-Type: application/javascript
Content-Length: 118316
X-Content-Type-Options: nosniff
ETag: d551d0844e752215e0a8740b8925784211ca1a2a
Cache-Control: max-age=31536000
 original-response-headers Server: nginx/1.18.0 (Ubuntu)
Date: Wed, 03 Feb 2021 10:36:09 GMT
Content-Type: application/javascript
Content-Length: 118316
Connection: keep-alive
X-Content-Type-Options: nosniff
ETag: d551d0844e752215e0a8740b8925784211ca1a2a
Cache-Control: max-age=31536000
Set-Cookie: session_id=e3bcac1b45e33606ae06175f0b91fc65add6d2a6; Expires=Tue, 04-May-2021 10:36:09 GMT; Max-Age=7776000; HttpOnly; Path=/
 uncompressed-len 0 net-response-time-onstart 137 net-response-time-onstop 366 alt-data 1;118316,javascript/moz-bytecode-20190327091201 alt-data-from-child 1  P: